(window.webpackJsonp=window.webpackJsonp||[]).push([[46],{"/esn":function(e,t,i){"use strict";i.d(t,"a",(function(){return o}));var s=i("J7mc"),n=i("ONOH"),a=i("fXoL");let o=(()=>{class e{constructor(e,t){this.dataService=e,this.configService=t}getResponseManagementSummaryByWorkflowStep(e,t,i=""){return this.dataService.get("GetResponseManagementSummaryByWorkflowStep?WorkflowStepOBID='"+e+"'&CreateTQMethodUID='"+t+"'&ColumnSetUID='"+i+"'",this.configService.selectedCreateConfig)}getResponseManagementSummaryByObjectRevision(e,t,i=""){return this.dataService.get("GetResponseManagementSummaryByObjectRevision?ObjectRevisionOBID='"+e+"'&CreateTQMethodUID='"+t+"'&ColumnSetUID='"+i+"'",this.configService.selectedCreateConfig)}getResponseManagementDetailsByObjectRevision(e,t,i,s,n,a,o){return this.dataService.post("GetResponseManagementDetailsByObjectRevision",JSON.stringify({ObjectRevisionOBID:e,ColumnSetUID:t,LaunchMarkupMethodUID:i,ManageRevisionMarkupLayersMethodUID:s,ManageResponseMarkupLayersMethodUID:n,ManageReviewMarkupLayersMethodUID:a,ValidateMandatoryProperties:o}),this.configService.selectedCreateConfig)}getResponseManagementDetailsByObjectRevisionForResponse(e,t,i,s,n,a,o,r,c,d,h,l,p){return this.dataService.post("GetResponseManagementDetailsByObjectRevisionForResponse",JSON.stringify({ObjectRevisionOBID:e,ColumnSetUID:t,LaunchMarkupMethodUID:i,ManageRevisionMarkupLayersMethodUID:s,ManageResponseMarkupLayersMethodUID:n,DefaultResponseClassification:a,DefaultResponseRelationship:o,ManageObservationRelatedItemsMethodUID:r,ManageReviewMarkupLayersMethodUID:c,ViewItemIn3DMethodUID:d,ViewItemIn2DMethodUID:h,CreateResponse:l,CreateReview:p}),this.configService.selectedCreateConfig)}getResponseManagementDetailsByObjectRevisionForConsolidate(e,t,i,s,n,a,o,r){return this.dataService.post("GetResponseManagementDetailsByObjectRevisionForConsolidate",JSON.stringify({ObjectRevisionOBID:e,ColumnSetUID:t,LaunchMarkupMethodUID:i,ManageRevisionMarkupLayersMethodUID:s,ManageResponseMarkupLayersMethodUID:n,DefaultResponseClassification:a,DefaultResponseRelationship:o,ManageObservationRelatedItemsMethodUID:r}),this.configService.selectedCreateConfig)}signOffStepAndAdvanceUserResponse(e,t,i,s){return this.dataService.post("CompleteCommunicationManagementResponseStep",JSON.stringify({WorkflowStepOBID:e,IsConsolidator:t,RevisionProperties:i,ResponseProperties:s}),this.configService.selectedCreateConfig)}waiveStepAndAdvanceUserResponse(e){return this.dataService.post("RejectCommunicationManagementResponseStep",JSON.stringify({WorkflowStepOBID:e,ResponseStatus:"e1SDAObsStatusWaived"}),this.configService.selectedCreateConfig)}rejectStepAndAdvanceUserResponse(e,t,i,s,n,a,o){return o?this.dataService.post("RejectChangeManagementStep",JSON.stringify({WorkflowStepOBID:e,ResponseStatus:"e1SDAObsStatusRejected",RejectReason:t,MessageToNextStep:i,RevisionProperties:n}),this.configService.selectedCreateConfig):this.dataService.post("RejectCommunicationManagementResponseStep",JSON.stringify({WorkflowStepOBID:e,ResponseStatus:"e1SDAObsStatusRejected",RejectReason:t,MessageToNextStep:i,IsConsolidator:s,RevisionProperties:n,ResponseProperties:a}),this.configService.selectedCreateConfig)}getSupportingInformationSkeletonForObject(e){return this.dataService.post("GetSupportingInformationSkeletonForObject",JSON.stringify({ObjectOBID:e}),this.configService.selectedCreateConfig)}manageResponseSupportingInformationOnConsolidatorResponse(e,t,i){return this.dataService.post("ManageResponseSupportingInformationOnConsolidatorResponse",JSON.stringify({ConsolidatorResponseOBID:e,ResponseOBID:t,IsToConsolidate:i}),this.configService.selectedCreateConfig)}}return e.\u0275fac=function(t){return new(t||e)(a.dc(s.a),a.dc(n.a))},e.\u0275prov=a.Ob({token:e,factory:e.\u0275fac}),e})()},"20dk":function(e,t,i){"use strict";i.d(t,"a",(function(){return s}));class s{constructor(e,t=!0,i=""){this.objectsToRefresh=e,this.refreshResultsGrid=t,this.origin=i}}},"2wkq":function(e,t,i){"use strict";i.d(t,"a",(function(){return s}));class s{constructor(e=[],t){this.menuOptionAPIs=e,this.menuOptionURL=t}}},"3UNK":function(e,t,i){"use strict";i.d(t,"a",(function(){return h}));var s=i("fXoL"),n=i("ofXK"),a=i("dLJk");function o(e,t){if(1&e&&(s.Yb(0,"div",4),s.Tb(1,"i",10),s.Yb(2,"p",6),s.Uc(3),s.Xb(),s.Xb()),2&e){const e=s.lc(2);s.Eb(3),s.Vc(e.rejectDetails.RejectUser)}}function r(e,t){if(1&e&&(s.Yb(0,"p",11),s.Uc(1),s.Xb()),2&e){const e=s.lc(2);s.Eb(1),s.Wc(" ",e.rejectDetails.footer," ")}}function c(e,t){if(1&e&&s.Tb(0,"sda-reject-summary",12),2&e){const e=s.lc(2);s.sc("rejectDetails",e.rejectDetails.SubRejectDetails)("styleClass","rejected--disputed")}}function d(e,t){if(1&e&&(s.Yb(0,"div",1),s.Yb(1,"span",2),s.Uc(2),s.Xb(),s.Sc(3,o,4,1,"div",3),s.Yb(4,"div",4),s.Tb(5,"i",5),s.Yb(6,"p",6),s.Uc(7),s.mc(8,"sdaConvertToLocalDate"),s.Xb(),s.Xb(),s.Yb(9,"p",7),s.Uc(10),s.Xb(),s.Sc(11,r,2,1,"p",8),s.Sc(12,c,1,2,"sda-reject-summary",9),s.Xb()),2&e){const e=s.lc();s.tc("ngClass",e.styleClass),s.Eb(2),s.Vc(e.rejectDetails.header),s.Eb(1),s.sc("ngIf",e.rejectDetails.RejectUser),s.Eb(4),s.Vc(s.nc(8,7,e.rejectDetails.RejectDate)),s.Eb(3),s.Vc(e.rejectDetails.RejectReason),s.Eb(1),s.sc("ngIf",e.rejectDetails.footer),s.Eb(1),s.sc("ngIf",e.rejectDetails.SubRejectDetails)}}let h=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=s.Mb({type:e,selectors:[["sda-reject-summary"]],inputs:{rejectDetails:"rejectDetails",styleClass:"styleClass"},decls:1,vars:1,consts:[["class","rejected",3,"ngClass",4,"ngIf"],[1,"rejected",3,"ngClass"],[1,"rejected__status"],["class","rejected-info",4,"ngIf"],[1,"rejected-info"],["aria-hidden","true",1,"fa","fa-fw","fa-calendar-times-o","rejected-info__icon"],[1,"rejected-info__data"],[1,"rejected__reason"],["class","rejected__reason rejected__reason--important",4,"ngIf"],[3,"rejectDetails","styleClass",4,"ngIf"],["aria-hidden","true",1,"fa","fa-fw","fa-user","rejected-info__icon"],[1,"rejected__reason","rejected__reason--important"],[3,"rejectDetails","styleClass"]],template:function(e,t){1&e&&s.Sc(0,d,13,9,"div",0),2&e&&s.sc("ngIf",t.rejectDetails)},directives:[n.t,n.q,e],pipes:[a.a],styles:[".rejected__reason[_ngcontent-%COMP%]{overflow-wrap:break-word;word-wrap:break-word;word-break:break-word}.rejected[_ngcontent-%COMP%], [_nghost-%COMP%]{display:flex;flex:1}.rejected[_ngcontent-%COMP%]{flex-wrap:wrap;align-items:flex-start;padding-bottom:10px;background-color:#fbd5da;border-top:2px solid #d7142c;color:#1f2429}.rejected--disputed[_ngcontent-%COMP%]{margin:20px 25px 0;border-color:#f27b25}.rejected--disputed[_ngcontent-%COMP%]   .rejected__status[_ngcontent-%COMP%]{background-color:#f27b25}.rejected--disputed[_ngcontent-%COMP%]   .rejected__reason[_ngcontent-%COMP%]{color:#000}.rejected__status[_ngcontent-%COMP%]{padding:8px 15px;background-color:#d7142c;border-bottom-right-radius:2px;font-size:16px;line-height:1;color:#fff;font-weight:500;-webkit-user-select:none;-ms-user-select:none;user-select:none}.rejected__reason[_ngcontent-%COMP%]{flex:1 0 100%;padding:10px 10px 0;font-size:14px;color:#6e0a17;white-space:pre-line}.rejected__reason--important[_ngcontent-%COMP%]{font-weight:500}.rejected-info[_ngcontent-%COMP%]{display:flex;padding:8px;font-size:15px;line-height:1.2}.rejected-info__icon[_ngcontent-%COMP%]{margin-right:5px;font-size:17px}"]}),e})()},"9eFW":function(e,t,i){"use strict";i.d(t,"a",(function(){return E}));var s=i("XNiG"),n=i("EY2u"),a=i("lJxs"),o=i("JIr8"),r=i("IzEk"),c=i("LUpO"),d=i("C4gn"),h=i("c+03"),l=i("DJR3"),p=i("hqbt"),u=i("41Lq"),g=i("biIz"),v=i("Z2F1"),C=i("/esn"),R=i("fXoL");let E=(()=>{class e{constructor(e,t,i,n,a,o,r,c,d){this.loadingOverlayService=e,this.dataService=t,this.featureSetNavigationService=i,this.notificationService=n,this.exceptionService=a,this.todoListService=o,this.modeService=r,this.securityService=c,this.dateFormatService=d,this.exceptionCaught=new s.a}signOffStepAndAdvanceUserResponse(e,t,i,s=!0){this.loadingOverlayService.showLoadingOverlay();const r=this.modeService.setRevisionCompleteProperties(e.mode,this.securityService.getUserName().toUpperCase(),this.dateFormatService.convertToSPFDateFormat(new Date(Date.now()).toISOString())),c=this.modeService.setResponseCompleteProperties(e.mode,this.securityService.getUserName().toUpperCase(),this.dateFormatService.convertToSPFDateFormat(new Date(Date.now()).toISOString()));return this.dataService.signOffStepAndAdvanceUserResponse(t,e.isConsolidateOrConsolidateResponses,r,c).pipe(Object(a.a)(()=>{this.loadingOverlayService.hideLoadingOverlay(),this.notificationService.success(i),s&&this.featureSetNavigationService.navigateBack()}),Object(o.a)(e=>(this.exceptionCaught.next(!0),this.loadingOverlayService.hideLoadingOverlay(),this.exceptionService.handleException(e),n.a)))}signOffStep(e,t,i){this.loadingOverlayService.showLoadingOverlay(),this.todoListService.signOffStep([e],"",i).pipe(Object(r.a)(1)).subscribe(()=>{this.loadingOverlayService.hideLoadingOverlay(),this.notificationService.success(t),this.featureSetNavigationService.navigateBack()},e=>{this.loadingOverlayService.hideLoadingOverlay(),this.exceptionService.handleException(e),this.exceptionCaught.next(!0)})}rejectResponse(e,t,i,s,r){this.loadingOverlayService.showLoadingOverlay();const c=this.modeService.setRevisionRejectProperties(e,this.securityService.getUserName().toUpperCase(),this.dateFormatService.convertToSPFDateFormat(new Date(Date.now()).toISOString()),s),d=this.modeService.setResponseRejectProperties(e.mode,this.securityService.getUserName().toUpperCase(),this.dateFormatService.convertToSPFDateFormat(new Date(Date.now()).toISOString()),s);return this.dataService.rejectStepAndAdvanceUserResponse(t,s,r,e.isConsolidateOrConsolidateResponses,c,d,e.header.showMoCReject).pipe(Object(a.a)(()=>{this.loadingOverlayService.hideLoadingOverlay(),this.notificationService.success(i)}),Object(o.a)(e=>(this.loadingOverlayService.hideLoadingOverlay(),this.exceptionService.handleException(e),n.a)))}waiveResponse(e,t){this.dataService.waiveStepAndAdvanceUserResponse(e).subscribe(()=>{this.loadingOverlayService.hideLoadingOverlay(),this.notificationService.success(t),this.featureSetNavigationService.navigateBack()},e=>{this.loadingOverlayService.hideLoadingOverlay(),this.exceptionService.handleException(e)})}}return e.\u0275fac=function(t){return new(t||e)(R.dc(h.a),R.dc(C.a),R.dc(d.a),R.dc(u.a),R.dc(c.a),R.dc(g.a),R.dc(v.a),R.dc(p.a),R.dc(l.a))},e.\u0275prov=R.Ob({token:e,factory:e.\u0275fac}),e})()},C3Sv:function(e,t,i){"use strict";i.d(t,"a",(function(){return s}));var s=function(e){return e[e.Prepare=0]="Prepare",e[e.Respond=1]="Respond",e[e.Consolidate=2]="Consolidate",e[e.Compliance=3]="Compliance",e[e.ResponseCompliance=4]="ResponseCompliance",e[e.ReceiveResponse=5]="ReceiveResponse",e[e.ReceiveResponseReject=6]="ReceiveResponseReject",e[e.InitialResponse=7]="InitialResponse",e[e.ViewOnly=8]="ViewOnly",e[e.Implement=9]="Implement",e[e.Review=10]="Review",e[e.InternalReview=11]="InternalReview",e[e.InternalApproval=12]="InternalApproval",e[e.InternalReviewRejection=13]="InternalReviewRejection",e[e.PrepareWorkpackage=14]="PrepareWorkpackage",e[e.PrepareMoC=15]="PrepareMoC",e[e.PrepareMoCWithCompleted=16]="PrepareMoCWithCompleted",e[e.PrepareMoCWithWarning=17]="PrepareMoCWithWarning",e[e.PrepareMoCWithAction=18]="PrepareMoCWithAction",e[e.PrepareMoCWithCompletedAction=19]="PrepareMoCWithCompletedAction",e[e.PrepareMoCWithActionDocWarning=20]="PrepareMoCWithActionDocWarning",e[e.RespondReject=21]="RespondReject",e[e.ReviewRejection=22]="ReviewRejection",e[e.ResolveConflicts=23]="ResolveConflicts",e[e.ConsolidateResponses=24]="ConsolidateResponses",e[e.ReviewWorkpackage=25]="ReviewWorkpackage",e[e.ResolveConflictsMOC=26]="ResolveConflictsMOC",e[e.ExtendMOC=27]="ExtendMOC",e[e.ApproveExtendMOC=28]="ApproveExtendMOC",e[e.PrepareMoCWithAcceptReject=29]="PrepareMoCWithAcceptReject",e[e.PrepareCAWithAcceptReject=30]="PrepareCAWithAcceptReject",e[e.EvaluateMoC=31]="EvaluateMoC",e[e.EvaluateMoCWithWarning=32]="EvaluateMoCWithWarning",e[e.PrepareMoCWithFiles=33]="PrepareMoCWithFiles",e[e.ReviewHandover=34]="ReviewHandover",e[e.ReworkHandover=35]="ReworkHandover",e[e.ViewHandover=36]="ViewHandover",e[e.ReviewSchemaChangeRequest=37]="ReviewSchemaChangeRequest",e[e.PrepareSchemaChangeRequest=38]="PrepareSchemaChangeRequest",e}({})},C5TI:function(e,t,i){"use strict";i.d(t,"a",(function(){return p}));var s=i("ofXK"),n=i("3Pt+"),a=i("dPl2"),o=i("K9v4"),r=i("Wbmx"),c=i("thHT"),d=i("inpI"),h=i("MX5F"),l=i("fXoL");let p=(()=>{class e{}return e.\u0275mod=l.Qb({type:e}),e.\u0275inj=l.Pb({factory:function(t){return new(t||e)},imports:[[s.c,a.c,o.a,n.j,r.a,d.a,h.a,c.a]]}),e})()},CRLB:function(e,t,i){"use strict";i.d(t,"a",(function(){return d}));var s=i("ofXK"),n=i("NFeN"),a=i("83Gb"),o=i("vFAW"),r=i("fXoL");let c=(()=>{class e{}return e.\u0275mod=r.Qb({type:e}),e.\u0275inj=r.Pb({factory:function(t){return new(t||e)},imports:[[s.c,o.a,a.a,n.b]]}),e})(),d=(()=>{class e{}return e.\u0275mod=r.Qb({type:e}),e.\u0275inj=r.Pb({factory:function(t){return new(t||e)},imports:[[s.c,c]]}),e})()},IsVC:function(e,t,i){"use strict";i.d(t,"d",(function(){return s})),i.d(t,"h",(function(){return n})),i.d(t,"r",(function(){return a})),i.d(t,"p",(function(){return o})),i.d(t,"o",(function(){return r})),i.d(t,"b",(function(){return c})),i.d(t,"a",(function(){return d})),i.d(t,"c",(function(){return h})),i.d(t,"e",(function(){return l})),i.d(t,"i",(function(){return p})),i.d(t,"k",(function(){return u})),i.d(t,"f",(function(){return g})),i.d(t,"n",(function(){return v})),i.d(t,"m",(function(){return C})),i.d(t,"j",(function(){return R})),i.d(t,"l",(function(){return E})),i.d(t,"g",(function(){return S})),i.d(t,"q",(function(){return M})),i.d(t,"s",(function(){return f})),i.d(t,"t",(function(){return O}));const s="920602",n="927830",a="899595",o="909862",r="909867",c="928384",d="938799",h="909866",l="905384",p="955371",u="955364",g="995219",v="1075193",C="909957",R="1016009",E="1082261",S="955370",M="1193820",f="1193821",O="1194089"},Ojuo:function(e,t,i){"use strict";i.d(t,"a",(function(){return C}));var s=i("LRne"),n=i("eIep"),a=i("vkgz"),o=i("lJxs"),r=i("WjcW"),c=i("qSfU"),d=i("wN6G"),h=i("Z9D8"),l=i("J7mc"),p=i("Ejbi"),u=i("41Lq"),g=i("ONOH"),v=i("fXoL");let C=(()=>{class e{constructor(e,t,i,s,n){this.notificationService=e,this.sdaTranslateService=t,this.crudService=i,this.configService=s,this.odataService=n}save(e,t,i){if(e){const s=new r.a(void 0);return s.properties.push(new c.a("SDAObservationDetails",e.Details),new c.a("Description",e.Title),new c.a("SDAObservationState",e.Status)),this.crudService.update(e.OBID,s).pipe(Object(n.a)(()=>this.odataService.get("Objects('"+e.OBID+"')/?$select=LastUpdatedDate",this.configService.selectedCreateConfig,!0)),Object(a.a)(s=>{if(!s||!s.LastUpdatedDate)throw new h.a(void 0,this.sdaTranslateService.getFormatted("RESPONSE_MANAGEMENT_OBSERVATION_NOT_SAVED_MESSAGE","Failed to save {0}",[i]));e.ModifiedDate=s.LastUpdatedDate,e.titleValue=e.Title?e.Title.substring(0):void 0,e.detailsValue=e.Details?e.Details.substring(0):void 0,e.isInEdit=!1,this.notificationService.success("e1SDAObsStatusCompleted"===e.Status?this.sdaTranslateService.getFormatted("RESPONSE_MANAGEMENT_OBSERVATION_COMPLETED_TOAST","{0} will not be sent",[t]):this.sdaTranslateService.getFormatted("RESPONSE_MANAGEMENT_OBSERVATION_SAVED_MESSAGE","{0} saved successfully",[t]))}),Object(o.a)(()=>!0))}return Object(s.a)(!1)}}return e.\u0275fac=function(t){return new(t||e)(v.dc(u.a),v.dc(p.a),v.dc(d.a),v.dc(g.a),v.dc(l.a))},e.\u0275prov=v.Ob({token:e,factory:e.\u0275fac}),e})()},"QF+H":function(e,t,i){"use strict";i.d(t,"a",(function(){return s}));class s{}},YSVQ:function(e,t,i){"use strict";i.d(t,"a",(function(){return r}));var s=i("ofXK"),n=i("GDd0"),a=i("CRLB"),o=i("fXoL");let r=(()=>{class e{}return e.\u0275mod=o.Qb({type:e}),e.\u0275inj=o.Pb({factory:function(t){return new(t||e)},imports:[[s.c,a.a,n.a]]}),e})()},Z2F1:function(e,t,i){"use strict";i.d(t,"a",(function(){return l}));var s=i("oe3R"),n=i("Ejbi"),a=i("JrsU"),o=i("IsVC"),r=i("C3Sv"),c=i("jZ6j"),d=i("/esn"),h=i("fXoL");let l=(()=>{class e{constructor(e,t){this.sdaTranslateService=e,this.responseManagementDataService=t,this.modesWithConfigurations={},this.setUpConfigurationForModes()}getConfigurationForModeFromString(e){let t=r.a.ViewOnly;return e&&e in r.a&&(t=r.a[e]),this.getConfigurationForMode(t)}getConfigurationForMode(e){const t=new c.a(e);return this.modesWithConfigurations[e]&&this.modesWithConfigurations[e].call(void 0,t),this.setMoCAttachFileProperties(e,t),t}setMoCAttachFileProperties(e,t){e!==r.a.PrepareMoCWithFiles&&e!==r.a.EvaluateMoC&&e!==r.a.EvaluateMoCWithWarning||(t.header.hideManageFiles=!1,t.canEditRevision=!0,t.header.hideEdit=!0)}validateMandatoryProperties(e){const t=new Array;switch(e){case r.a.PrepareMoCWithWarning:case r.a.EvaluateMoCWithWarning:case r.a.PrepareMoCWithAcceptReject:t.push(new a.a("Project","+SDAChangeRequestProject"));break;case r.a.PrepareCAWithAcceptReject:t.push(new a.a("Project","+SDAChangeActionProject")),t.push(new a.a("Primary Work Area","+SDAChangeActionPrimaryWorkArea"))}return t}setRevisionCompleteProperties(e,t,i){const s=new Array,n=[r.a.RespondReject,r.a.InitialResponse,r.a.ConsolidateResponses,r.a.Consolidate],o=[r.a.PrepareMoC,r.a.PrepareMoCWithAction,r.a.PrepareMoCWithWarning,r.a.PrepareMoCWithCompleted,r.a.PrepareMoCWithCompletedAction,r.a.PrepareMoCWithActionDocWarning,r.a.ExtendMOC,r.a.EvaluateMoC,r.a.PrepareMoCWithFiles,r.a.EvaluateMoCWithWarning,r.a.PrepareSchemaChangeRequest];return e===r.a.Prepare?(s.push(new a.a("SCLBProjComsInitiatedBy",t)),s.push(new a.a("SCLBProjComsInitiatedDate",i))):n.includes(e)?(s.push(new a.a("SCLBProjComsRespondedUser",t)),s.push(new a.a("SCLBProjComsRespondedDate",i))):e===r.a.Compliance?(s.push(new a.a("SCLBProjComsIntComplianceRejectReason","")),s.push(new a.a("SCLBProjComsIntComplianceRejectedByUser","")),s.push(new a.a("SCLBProjComsIntComplianceRejectDate",""))):o.includes(e)&&(s.push(new a.a("SDAProjComsRejectReason","")),s.push(new a.a("SDAProjComsRejectedByUser","")),s.push(new a.a("SDAProjComsRejectDate",""))),s}setRevisionRejectProperties(e,t,i,s){const n=new Array,o=[r.a.RespondReject,r.a.InitialResponse,r.a.PrepareMoC,r.a.PrepareMoCWithAction,r.a.PrepareMoCWithWarning,r.a.ApproveExtendMOC,r.a.EvaluateMoC,r.a.EvaluateMoCWithWarning,r.a.ReviewHandover,r.a.ReviewSchemaChangeRequest];return e&&e.mode&&(e.mode===r.a.Compliance?(n.push(new a.a("SCLBProjComsIntComplianceRejectReason",s)),n.push(new a.a("SCLBProjComsIntComplianceRejectedByUser",t)),n.push(new a.a("SCLBProjComsIntComplianceRejectDate",i))):o.includes(e.mode)&&(n.push(new a.a("SDAProjComsRejectReason",s)),n.push(new a.a("SDAProjComsRejectedByUser",t)),n.push(new a.a("SDAProjComsRejectDate",i)),e.mode!==r.a.ReviewHandover||e.header.showReworkButton||n.push(new a.a("SDxHandoverRequestStatus","e1SDAHandoverRequestRejected")))),n}setResponseCompleteProperties(e,t,i){const s=new Array;switch(e){case r.a.ResponseCompliance:s.push(new a.a("SCLBProjComsExtComplianceResponseRejectReason","")),s.push(new a.a("SCLBProjComsExtComplianceResponseRejectedByUser","")),s.push(new a.a("SCLBProjComsExtComplianceResponseRejectDate",""))}return s}setResponseRejectProperties(e,t,i,s){const n=new Array;switch(e){case r.a.ResponseCompliance:n.push(new a.a("SCLBProjComsExtComplianceResponseRejectReason",s)),n.push(new a.a("SCLBProjComsExtComplianceResponseRejectedByUser",t)),n.push(new a.a("SCLBProjComsExtComplianceResponseRejectDate",i))}return n}setRejectModalTitle(e,t){let i,s;return[r.a.PrepareMoC,r.a.PrepareMoCWithAction,r.a.PrepareMoCWithWarning,r.a.ApproveExtendMOC,r.a.EvaluateMoC,r.a.EvaluateMoCWithWarning].includes(e)?(i=this.sdaTranslateService.get("RESPONSE_MANAGEMENT_MOC_REWORK_HEAD","Rework Change Request"),s=this.sdaTranslateService.get("REJECT_CHANGE","Reject Change"),t.match(s)&&(i=this.sdaTranslateService.get("RESPONSE_MANAGEMENT_MOC_REJECT_HEAD","Reject Change Request"))):e===r.a.Compliance?i=this.sdaTranslateService.get("RESPONSE_MANAGEMENT_REJECT_COMPLIANCE_REVIEW","Reject compliance review"):e===r.a.ResponseCompliance?i=this.sdaTranslateService.get("RESPONSE_MANAGEMENT_REJECT_COMPLIANCE_RESPONSE_REVIEW","Reject compliance response review"):e===r.a.ReceiveResponseReject?i=this.sdaTranslateService.get("RESPONSE_MANAGEMENT_REJECT_REVIEW_RESPONSE","Reject review response"):e===r.a.ReviewHandover?(i=this.sdaTranslateService.get("REJECT_HANDOVER_REQUEST","Reject Handover Request"),s=this.sdaTranslateService.get("REWORK","Rework"),t.match(s)&&(i=this.sdaTranslateService.get("REWORK_HANDOVER_REQUEST","Rework Handover Request"))):e===r.a.ReviewSchemaChangeRequest&&(i=this.sdaTranslateService.get("RESPONSE_MANAGEMENT_REVIEW_REWORK_MODAL_TITLE","Rework Common Schema Change Request"),s=this.sdaTranslateService.get("REJECT_CHANGE","Reject Change"),t.match(s)&&(i=this.sdaTranslateService.get("RESPONSE_MANAGEMENT_REVIEW_REJECT_MODAL_TITLE","Reject Common Schema Change Request"))),i}setRejectModalAlert(e,t){let i,s;switch(e){case r.a.ReviewSchemaChangeRequest:s=this.sdaTranslateService.get("REJECT_CHANGE","Reject Change"),t&&t.match(s)&&(i=this.sdaTranslateService.get("RESPONSE_MANAGEMENT_REVIEW_REJECT_MODAL_ALERT","Reject action will delete all the new schema objects related to the change request"))}return i}setAcceptModalTitle(e){let t;switch(e){case r.a.ExtendMOC:t=this.sdaTranslateService.get("RESPONSE_MANAGEMENT_EXTENSION_DETAILS","Extension details");break;case r.a.ReviewSchemaChangeRequest:t=this.sdaTranslateService.get("APPROVE","Approve");break;case r.a.PrepareSchemaChangeRequest:t=this.sdaTranslateService.get("COMPLETED","Completed")}return t}setAcceptModalField(e){let t="";switch(e){case r.a.ExtendMOC:t=this.sdaTranslateService.get("RESPONSE_MANAGEMENT_EXTENSION_REASON","Reason for Extension");break;case r.a.ReviewSchemaChangeRequest:t=this.sdaTranslateService.get("STEP_REJECT_STEP_TEXT","Message to next step:");break;case r.a.PrepareSchemaChangeRequest:t=this.sdaTranslateService.get("STEP_ACCEPT_NEXT_STEP_TEXT","Message to next step:")}return t}isRejectModal(e,t=!1){let i=!0;switch(e){case r.a.ExtendMOC:i=!1;break;case r.a.ReviewSchemaChangeRequest:i=t;break;case r.a.PrepareSchemaChangeRequest:i=!1}return i}getResponderDetails(e,t,i){return this.responderIndicationMessage=void 0,e===r.a.InitialResponse&&(0===t.length&&null===i?this.responderIndicationMessage=this.sdaTranslateService.get("RESPONDERS_AND_CONSOLIDATOR_ARE_NOT_SET","Responders and Consolidator are not set"):null===i?this.responderIndicationMessage=this.sdaTranslateService.get("CONSOLIDATOR_IS_NOT_SET","Consolidator is not set"):0===t.length?this.responderIndicationMessage=this.sdaTranslateService.get("RESPONDERS_ARE_NOT_SET","Responders are not set"):null===i?this.responderIndicationMessage=this.sdaTranslateService.get("CONSOLIDATOR_IS_NOT_SET","Consolidator is not set"):0===t.length&&(this.responderIndicationMessage=this.sdaTranslateService.get("RESPONDERS_ARE_NOT_SET","Responders are not set"))),this.responderIndicationMessage}checkForActionOnDocs(e,t,i){let s;return e===r.a.PrepareMoCWithActionDocWarning&&t&&(s=this.sdaTranslateService.get("RESPONSE_MANAGEMENT_REVISION_NO_ACTION_WARNING","Action has not been set to one or more documents related to this change request"),i&&(s=this.sdaTranslateService.get("RESPONSE_MANAGEMENT_REVISION_NO_ACTION_CONTRACT_WARNING","Action and/or contract has not been set to one or more documents related to this change request"))),s}getMarkupContextOBID(e,t){let i;return e===r.a.Prepare||e===r.a.InternalReview||this.isRevisionOBIDRequired(e)?i=t.Revision.OBID:e!==r.a.InitialResponse&&e!==r.a.Consolidate&&e!==r.a.ConsolidateResponses&&e!==r.a.Respond&&e!==r.a.RespondReject||(i=t.Responses.find(e=>!0===e.initiatedUser.IsCurrentUser).OBID),i}isRevisionOBIDRequired(e){return[r.a.InternalApproval,r.a.PrepareWorkpackage,r.a.ReviewWorkpackage,r.a.PrepareMoC,r.a.PrepareMoCWithWarning,r.a.PrepareMoCWithCompleted,r.a.PrepareMoCWithActionDocWarning,r.a.PrepareMoCWithAction,r.a.PrepareMoCWithCompletedAction,r.a.ResolveConflictsMOC,r.a.EvaluateMoCWithWarning,r.a.EvaluateMoC,r.a.PrepareMoCWithFiles].includes(e)}getObjectOBIDForRenditionGeneration(e,t){return this.getMarkupContextOBID(e,t)}checkForLaunchingMarkupViewOnlyMethod(e,t,i){let s;switch(e){case r.a.Respond:case r.a.Consolidate:case r.a.ConsolidateResponses:case r.a.InitialResponse:case r.a.RespondReject:s=t&&!i;break;default:s=!1}return s}getAPIRequestForMode(e,t,i,s,n,a,o,c,d,h,l,p){let u;switch(e){case r.a.Respond:case r.a.RespondReject:case r.a.Implement:case r.a.Review:case r.a.ReviewWorkpackage:case r.a.ReviewRejection:case r.a.InternalReview:case r.a.InternalApproval:u=this.responseManagementDataService.getResponseManagementDetailsByObjectRevisionForResponse(t,i,s,n,a,o,c,d,h,l,p,e!==r.a.Review&&e!==r.a.ReviewRejection&&e!==r.a.ReviewWorkpackage&&e!==r.a.InternalReview&&e!==r.a.InternalApproval,e===r.a.Review||e===r.a.ReviewRejection||e===r.a.ReviewWorkpackage||e===r.a.InternalReview||e===r.a.InternalApproval);break;case r.a.InitialResponse:case r.a.ConsolidateResponses:case r.a.Consolidate:u=this.responseManagementDataService.getResponseManagementDetailsByObjectRevisionForConsolidate(t,i,s,n,a,o,c,d);break;default:u=this.responseManagementDataService.getResponseManagementDetailsByObjectRevision(t,i,s,n,a,h,this.validateMandatoryProperties(e))}return u}isConsolidateResponse(e){let t=!1;return e===r.a.ResponseCompliance&&(t=!0),t}setUpConfigurationForModes(){this.modesWithConfigurations[r.a.Respond]=e=>this.getConfigurationForRespondMode(e),this.modesWithConfigurations[r.a.Review]=e=>this.getConfigurationForReviewMode(e),this.modesWithConfigurations[r.a.InternalReview]=e=>this.getConfigurationForInternalReviewMode(e),this.modesWithConfigurations[r.a.InternalApproval]=e=>this.getConfigurationForInternalApprovalMode(e),this.modesWithConfigurations[r.a.InternalReviewRejection]=e=>this.getConfigurationForInternalReviewRejectionMode(e),this.modesWithConfigurations[r.a.Prepare]=e=>this.getConfigurationForPrepareMode(e),this.modesWithConfigurations[r.a.Compliance]=e=>this.getConfigurationForComplianceMode(e),this.modesWithConfigurations[r.a.ResponseCompliance]=e=>this.getConfigurationForResponseComplianceMode(e),this.modesWithConfigurations[r.a.InitialResponse]=e=>this.getConfigurationForInitialResponseMode(e),this.modesWithConfigurations[r.a.Consolidate]=e=>this.getConfigurationForConsolidateMode(e),this.modesWithConfigurations[r.a.Implement]=e=>this.getConfigurationForImplementMode(e),this.modesWithConfigurations[r.a.ReviewWorkpackage]=e=>this.getConfigurationForWorkpackReviewMode(e),this.modesWithConfigurations[r.a.PrepareWorkpackage]=e=>this.getConfigurationForWorkpackageMode(e),this.modesWithConfigurations[r.a.PrepareMoCWithWarning]=e=>this.getConfigurationForMoCMode(e,!1,!0,!0,!1),this.modesWithConfigurations[r.a.PrepareMoC]=e=>this.getConfigurationForMoCMode(e,!1,!0,!0,!1),this.modesWithConfigurations[r.a.EvaluateMoC]=e=>this.getConfigurationForMoCMode(e,!1,!0,!0,!1),this.modesWithConfigurations[r.a.EvaluateMoCWithWarning]=e=>this.getConfigurationForMoCMode(e,!1,!0,!0,!1),this.modesWithConfigurations[r.a.PrepareMoCWithCompleted]=e=>this.getConfigurationForMoCModeWithCompleted(e,!1,!1),this.modesWithConfigurations[r.a.PrepareMoCWithActionDocWarning]=e=>this.getConfigurationForMoCMode(e,!0,!1,!1,!1),this.modesWithConfigurations[r.a.PrepareMoCWithAction]=e=>this.getConfigurationForMoCMode(e,!0,!0,!0,!1),this.modesWithConfigurations[r.a.PrepareMoCWithCompletedAction]=e=>this.getConfigurationForMoCModeWithCompleted(e,!0,!1),this.modesWithConfigurations[r.a.ExtendMOC]=e=>this.getConfigurationForMoCMode(e,!1,!0,!1,!1),this.modesWithConfigurations[r.a.ApproveExtendMOC]=e=>this.getConfigurationForMoCMode(e,!1,!0,!1,!1),this.modesWithConfigurations[r.a.PrepareMoCWithAcceptReject]=e=>this.getConfigurationForMoCMode(e,!1,!0,!1,!0),this.modesWithConfigurations[r.a.PrepareCAWithAcceptReject]=e=>this.getConfigurationForMoCMode(e,!1,!0,!1,!0),this.modesWithConfigurations[r.a.RespondReject]=e=>this.getConfigurationForRespondRejectMode(e),this.modesWithConfigurations[r.a.ReceiveResponseReject]=e=>this.getConfigurationForReceiveResponseRejectMode(e),this.modesWithConfigurations[r.a.ReceiveResponse]=e=>this.getConfigurationForReceiveResponseMode(e),this.modesWithConfigurations[r.a.ReviewRejection]=e=>this.getConfigurationForReviewRejectionMode(e),this.modesWithConfigurations[r.a.ResolveConflicts]=e=>this.getConfigurationForConflictResolutionMode(e,!0),this.modesWithConfigurations[r.a.ResolveConflictsMOC]=e=>this.getConfigurationForConflictResolutionMode(e,!1),this.modesWithConfigurations[r.a.ConsolidateResponses]=e=>this.getConfigurationForConsolidateResponsesMode(e),this.modesWithConfigurations[r.a.PrepareMoCWithFiles]=e=>this.getConfigurationForMoCModeWithCompleted(e,!1,!0),this.modesWithConfigurations[r.a.ReviewHandover]=e=>this.getConfigurationForReviewHandoverMode(e),this.modesWithConfigurations[r.a.ReworkHandover]=e=>this.getConfigurationForReworkHandoverMode(e),this.modesWithConfigurations[r.a.ViewHandover]=e=>this.getConfigurationForViewHandoverMode(e),this.modesWithConfigurations[r.a.PrepareSchemaChangeRequest]=e=>this.getConfigurationForPrepareSchemaChangeRequest(e),this.modesWithConfigurations[r.a.ReviewSchemaChangeRequest]=e=>this.getConfigurationForReviewSIOChangeRequest(e)}getConfigurationForImplementMode(e){e.observationType=this.sdaTranslateService.get("RESPONSE_MANAGEMENT_BODY_RESPONSE","Response"),e.observationType2=this.sdaTranslateService.get("RESPONSE_MANAGEMENT_BODY_RESPONSE2","response"),e.header.updateObservationStatusOnComplete=!0,e.enableSupportingInformationContextMenu=!0,e.canEditMyResponse=!0,e.header.showRejectButton=!0,this.setNotificationMessages(e),this.setButtonText(e),this.setGenericProperties(e)}getConfigurationForWorkpackReviewMode(e){e.observationType=this.sdaTranslateService.get("RESPONSE_MANAGEMENT_BODY_REVIEW","Review"),e.observationType2=this.sdaTranslateService.get("RESPONSE_MANAGEMENT_BODY_REVIEW2","review"),e.canEditMyReview=!0,e.header.showRejectButton=!0,e.header.showRevisions=!1,e.header.showCompleteButton=!0,e.header.hideManageFiles=!0,e.header.hideEdit=!0,this.setNotificationMessages(e),this.setButtonText(e),this.setGenericProperties(e)}getConfigurationForConsolidateResponsesMode(e){this.getConfigurationForConsolidateMode(e),e.canSuppressObservationItems=!1,e.canConsolidateObservationItems=!0,e.header.updateObservationStatusOnComplete=!0,e.helpID=o.g}getConfigurationForConsolidateMode(e){e.observationType=this.sdaTranslateService.get("RESPONSE_MANAGEMENT_BODY_RESPONSE","Response"),e.observationType2=this.sdaTranslateService.get("RESPONSE_MANAGEMENT_BODY_RESPONSE2","response"),e.canEditAnyObservationItem=!0,e.canShowConsolidatorBadge=!0,e.canSuppressObservationItems=!0,e.isConsolidateOrConsolidateResponses=!0,this.setNotificationMessages(e),this.setButtonText(e),this.setGenericProperties(e),e.warningMessages.onComplete=this.sdaTranslateService.getFormatted("RESPONSE_MANAGEMENT_CONSOLIDATOR_EMPTY_OBSERVATION_COMPLETE_MESSAGE","{0} details must be entered before the {1} can be completed.",[e.observationType,e.observationType2])}getConfigurationForInitialResponseMode(e){e.observationType=this.sdaTranslateService.get("RESPONSE_MANAGEMENT_BODY_RESPONSE","Response"),e.observationType2=this.sdaTranslateService.get("RESPONSE_MANAGEMENT_BODY_RESPONSE2","response"),e.header.showCompleteButton=!0,e.header.showRejectButton=!0,e.canEditMyResponse=!0,e.helpID=o.i,this.setNotificationMessages(e),this.setButtonText(e),this.setGenericProperties(e)}getConfigurationForPrepareMode(e){e.header.showCompleteButton=!0,e.canEditRevision=!0,e.header.updateObservationStatusOnComplete=!0,e.validateOnNavigateAway=!0,e.helpID=o.k,this.setNotificationMessages(e),this.setButtonText(e)}getConfigurationForConflictResolutionMode(e,t){e.header.showCompleteButton=!0,e.canEditRevision=!0,e.enableSupportingInformationContextMenu=!0,e.header.showRevisions=t,e.header.hideManageFiles=!0,e.header.hideEdit=!0,this.setNotificationMessages(e),this.setButtonText(e),this.applyResponseModeContextMenuFilters(e,r.a.ResolveConflicts)}getConfigurationForReviewSIOChangeRequest(e){e.observationType=this.sdaTranslateService.get("RESPONSE_MANAGEMENT_FOR_MOC_WORKFLOW","Workflow step"),e.header.showRejectButton=!0,e.header.showMoCRejectChangeButton=!0,e.header.showRevisions=!1,e.header.showCompleteButton=!0,this.setNotificationMessages(e),this.setButtonText(e)}getConfigurationForComplianceMode(e){e.header.showCompleteButton=!0,e.header.showRejectButton=!0,e.canEditRevision=!1,e.header.updateObservationStatusOnComplete=!0,e.helpID=o.f,this.setNotificationMessages(e),this.setButtonText(e)}getConfigurationForResponseComplianceMode(e){e.header.showCompleteButton=!0,e.header.showRejectButton=!0,e.canEditRevision=!1,e.header.updateObservationStatusOnComplete=!0,e.canManageResponseMarkupLayers=!0,e.helpID=o.n,this.setNotificationMessages(e),this.setButtonText(e)}getConfigurationForRespondMode(e){e.observationType=this.sdaTranslateService.get("RESPONSE_MANAGEMENT_BODY_RESPONSE","Response"),e.observationType2=this.sdaTranslateService.get("RESPONSE_MANAGEMENT_BODY_RESPONSE2","response"),e.header.showWaiveButton=!0,e.canEditMyResponse=!0,e.helpID=o.m,this.setNotificationMessages(e),this.setButtonText(e),this.setGenericProperties(e)}getConfigurationForRespondRejectMode(e){e.observationType=this.sdaTranslateService.get("RESPONSE_MANAGEMENT_BODY_RESPONSE","Response"),e.observationType2=this.sdaTranslateService.get("RESPONSE_MANAGEMENT_BODY_RESPONSE2","response"),e.header.showRejectButton=!0,e.canEditMyResponse=!0,e.helpID=o.m,this.setNotificationMessages(e),this.setButtonText(e),this.setGenericProperties(e)}getConfigurationForReviewMode(e){e.observationType=this.sdaTranslateService.get("RESPONSE_MANAGEMENT_BODY_REVIEW","Review"),e.observationType2=this.sdaTranslateService.get("RESPONSE_MANAGEMENT_BODY_REVIEW2","review"),e.header.showRejectButton=!0,e.canEditMyReview=!0,this.setNotificationMessages(e),this.setButtonText(e),this.setGenericProperties(e)}getConfigurationForInternalReviewMode(e){e.observationType=this.sdaTranslateService.get("RESPONSE_MANAGEMENT_BODY_REVIEW","Review"),e.observationType2=this.sdaTranslateService.get("RESPONSE_MANAGEMENT_BODY_REVIEW2","review"),e.header.showWaiveButton=!0,e.canEditMyReview=!0,e.helpID=o.j,this.setNotificationMessages(e),this.setButtonText(e),this.setGenericProperties(e)}getConfigurationForInternalApprovalMode(e){e.observationType=this.sdaTranslateService.get("RESPONSE_MANAGEMENT_BODY_REVIEW","Review"),e.observationType2=this.sdaTranslateService.get("RESPONSE_MANAGEMENT_BODY_REVIEW2","review"),e.header.showRejectButton=!0,e.canEditMyReview=!0,e.canSuppressInternalReviews=!0,e.helpID=o.j,this.setNotificationMessages(e),this.setButtonText(e),this.setGenericProperties(e)}getConfigurationForReviewRejectionMode(e){e.observationType=this.sdaTranslateService.get("RESPONSE_MANAGEMENT_BODY_REVIEW","Review"),e.observationType2=this.sdaTranslateService.get("RESPONSE_MANAGEMENT_BODY_REVIEW2","review"),e.header.showRejectButton=!0,e.canEditMyReview=!0,e.validateOnNavigateAway=!0,e.header.showCompleteButton=!0,e.header.updateObservationStatusOnComplete=!0,e.warningMessages.onComplete=this.sdaTranslateService.getFormatted("RESPONSE_MANAGEMENT_REVIEW_REJECTION_EMPTY_OBSERVATION_COMPLETE_MESSAGE","{0} details must be entered before the action can be reissued.",[e.observationType]),e.warningMessages.onReject=this.sdaTranslateService.getFormatted("RESPONSE_MANAGEMENT_REVIEW_REJECTION_EMPTY_OBSERVATION_REJECT_MESSAGE","{0} details must be entered before the action can be closed.",[e.observationType]),this.setNotificationMessages(e),this.setButtonText(e)}getConfigurationForPrepareSchemaChangeRequest(e){e.observationType=this.sdaTranslateService.get("RESPONSE_MANAGEMENT_FOR_MOC_WORKFLOW","Workflow step"),e.header.showRejectButton=!1,e.header.showRevisions=!1,e.header.showCompleteButton=!0,e.header.updateObservationStatusOnComplete=!0,this.setNotificationMessages(e),this.setButtonText(e)}getConfigurationForWorkpackageMode(e){e.header.showRevisions=!1,e.header.showCompleteButton=!0,e.canEditRevision=!0,e.header.hideManageFiles=!1,e.header.hideEdit=!0,this.setNotificationMessages(e),this.setButtonText(e)}getConfigurationForMoCMode(e,t,i,s,n){e.observationType=this.sdaTranslateService.get("RESPONSE_MANAGEMENT_FOR_MOC_WORKFLOW","Workflow step"),e.header.showRevisions=!0,e.header.updateObservationStatusOnComplete=!0,e.header.showCompleteButton=!0,e.enableSupportingInformationContextMenu=t,e.header.showRejectButton=i,e.header.showMoCRejectChangeButton=s,e.header.hideManageFiles=!0,e.header.hideEdit=!0,e.header.showPropertyWarning=!0,e.header.showSaveAsDraft=n,this.setNotificationMessages(e),this.setButtonText(e),t&&this.applyResponseModeContextMenuFilters(e,e.mode)}getConfigurationForReviewHandoverMode(e){e.observationType=this.sdaTranslateService.get("RESPONSE_MANAGEMENT_FOR_MOC_WORKFLOW","Workflow step"),e.header.showRevisions=!0,e.header.updateObservationStatusOnComplete=!0,e.header.showCompleteButton=!0,e.header.showRejectButton=!0,e.header.showReworkButton=!0,e.helpID=o.q,this.setNotificationMessages(e),this.setButtonText(e)}getConfigurationForViewHandoverMode(e){e.header.showRevisions=!0,this.setNotificationMessages(e),e.helpID=o.t,this.setButtonText(e)}getConfigurationForReworkHandoverMode(e){e.header.showRevisions=!0,e.header.showCompleteButton=!0,e.helpID=o.s,this.setNotificationMessages(e),this.setButtonText(e)}applyResponseModeContextMenuFilters(e,t){switch(t){case r.a.PrepareMoCWithActionDocWarning:e.contextMenuItemFilters=[{RelDefUID:"SDAChangeRequestDocVersions_12",MenuFilters:[new s.a("CreateObjectFromSelectedObjects",[new a.a("apiParam11","PCC_Document_Change_Action")]),new s.a("CreateClassObjAndRel",[],void 0,!0)]}];break;case r.a.PrepareMoCWithAction:case r.a.ResolveConflicts:e.contextMenuItemFilters=[{RelDefUID:"SDAChangeRequestDocVersions_12",MenuFilters:[new s.a("CreateObjectFromSelectedObjects",[new a.a("apiParam11","PCC_Document_Change_Action")]),new s.a("CreateClassObjAndRel",[new a.a("apiParam3","PCC_Outgoing_Action")])]}]}}getConfigurationForMoCModeWithCompleted(e,t,i){e.observationType=this.sdaTranslateService.get("RESPONSE_MANAGEMENT_FOR_MOC_WORKFLOW","Workflow step"),e.header.showRevisions=!0,e.header.updateObservationStatusOnComplete=!0,e.header.showCompleteButton=!0,e.header.showSaveAsDraft=i,e.header.showRejectButton=!1,e.header.hideEdit=!0,e.header.hideManageFiles=!0,e.enableSupportingInformationContextMenu=t,this.setNotificationMessages(e),this.setButtonText(e)}getConfigurationForReceiveResponseRejectMode(e){e.observationType=this.sdaTranslateService.get("RESPONSE_MANAGEMENT_BODY_RESPONSE","Response"),e.observationType2=this.sdaTranslateService.get("RESPONSE_MANAGEMENT_BODY_RESPONSE2","response"),e.header.showRejectButton=!0,e.header.showCompleteButton=!0,e.helpID=o.l,this.setNotificationMessages(e),this.setButtonText(e)}getConfigurationForInternalReviewRejectionMode(e){e.observationType=this.sdaTranslateService.get("RESPONSE_MANAGEMENT_BODY_REVIEW","Review"),e.observationType2=this.sdaTranslateService.get("RESPONSE_MANAGEMENT_BODY_REVIEW2","review"),e.header.showRejectButton=!0,e.header.showCompleteButton=!0,e.helpID=o.j,this.setNotificationMessages(e),this.setButtonText(e)}getConfigurationForReceiveResponseMode(e){e.observationType=this.sdaTranslateService.get("RESPONSE_MANAGEMENT_BODY_RESPONSE","Response"),e.observationType2=this.sdaTranslateService.get("RESPONSE_MANAGEMENT_BODY_RESPONSE2","response"),e.header.showCompleteButton=!0,this.setNotificationMessages(e),this.setButtonText(e)}setNotificationMessages(e){e.notificationMessages.onWaive=this.getWaiveMessage(e.mode,e.observationType),e.notificationMessages.onComplete=this.getCompletionMessage(e.mode,e.observationType),e.notificationMessages.onReject=this.getRejectionMessage(e.mode,e.observationType),e.notificationMessages.onRejectChange=this.getRejectChangeMessage(e.mode,e.observationType),e.notificationMessages.onRework=this.sdaTranslateService.getFormatted("RESPONSE_MANAGEMENT_OBSERVATION_REWORK_MESSAGE","{0} sent back to rework",[e.observationType])}getWaiveMessage(e,t){let i;return i=this.sdaTranslateService.getFormatted("RESPONSE_MANAGEMENT_OBSERVATION_WAIVED_MESSAGE","{0} waived",[t]),i}getCompletionMessage(e,t){let i;switch(e){case r.a.ReworkHandover:i=this.sdaTranslateService.get("HANDOVER_REQUEST_REWORK_COMPLETED","sent back to review");break;case r.a.Prepare:i=this.sdaTranslateService.get("RESPONSE_MANAGEMENT_PREP_STEP_COMPLETED_MESSAGE","Preparation completed");break;case r.a.Compliance:i=this.sdaTranslateService.get("RESPONSE_MANAGEMENT_COMPLIANCE_STEP_COMPLETED_MESSAGE","Compliance review completed");break;case r.a.ResponseCompliance:i=this.sdaTranslateService.get("RESPONSE_MANAGEMENT_COMPLIANCE_RESPONSE_STEP_COMPLETED_MESSAGE","Compliance review response completed");break;case r.a.ReceiveResponse:case r.a.ReceiveResponseReject:i=this.sdaTranslateService.get("RESPONSE_MANAGEMENT_REVIEW_RESPONSE_STEP_COMPLETED_MESSAGE","Review responses completed");break;case r.a.ReviewRejection:case r.a.InternalReviewRejection:i=this.sdaTranslateService.get("RESPONSE_MANAGEMENT_REVIEW_REJECTION_STEP_COMPLETED_MESSAGE","Action reissued to originator");break;case r.a.ResolveConflicts:i=this.sdaTranslateService.get("RESPONSE_MANAGEMENT_RESOLVE_CONFLICTS_STEP_COMPLETED_MESSAGE","Conflict resolution completed");break;default:i=this.sdaTranslateService.getFormatted("RESPONSE_MANAGEMENT_OBSERVATION_COMPLETED_MESSAGE","{0} completed",[t])}return i}getRejectionMessage(e,t){let i;switch(e){case r.a.Compliance:i=this.sdaTranslateService.get("RESPONSE_MANAGEMENT_COMPLIANCE_STEP_REJECTED_MESSAGE","Compliance review rejected");break;case r.a.ReceiveResponseReject:i=this.sdaTranslateService.get("RESPONSE_MANAGEMENT_REVIEW_RESPONSE_STEP_REJECTED_MESSAGE","Review responses rejected");break;case r.a.ReviewRejection:case r.a.InternalReviewRejection:i=this.sdaTranslateService.get("RESPONSE_MANAGEMENT_REVIEW_REJECTION_STEP_REJECTED_MESSAGE","Action closed");break;case r.a.ResponseCompliance:i=this.sdaTranslateService.get("RESPONSE_MANAGEMENT_COMPLIANCE_RESPONSE_STEP_REJECTED_MESSAGE","Compliance review response rejected");break;case r.a.PrepareMoC:case r.a.PrepareMoCWithWarning:case r.a.PrepareMoCWithAction:case r.a.ApproveExtendMOC:case r.a.EvaluateMoC:case r.a.EvaluateMoCWithWarning:case r.a.ReviewSchemaChangeRequest:i=this.sdaTranslateService.getFormatted("RESPONSE_MANAGEMENT_OBSERVATION_REWORK_MESSAGE","{0} sent back to rework",[t]);break;case r.a.ExtendMOC:i=this.sdaTranslateService.getFormatted("RESPONSE_MANAGEMENT_OBSERVATION_CLOSE_MESSAGE","{0} closed",[t]);break;default:i=this.sdaTranslateService.getFormatted("RESPONSE_MANAGEMENT_OBSERVATION_REJECTED_MESSAGE","{0} rejected",[t])}return i}getRejectChangeMessage(e,t){let i;switch(e){case r.a.PrepareMoC:case r.a.PrepareMoCWithWarning:case r.a.PrepareMoCWithAction:case r.a.EvaluateMoCWithWarning:case r.a.EvaluateMoC:case r.a.ReviewSchemaChangeRequest:i=this.sdaTranslateService.getFormatted("RESPONSE_MANAGEMENT_OBSERVATION_REJECT_CHANGE_MESSAGE","{0} rejected",[t]);break;default:i=this.sdaTranslateService.getFormatted("RESPONSE_MANAGEMENT_OBSERVATION_REJECT_CHANGE_MESSAGE","{0} rejected",[t])}return i}setButtonText(e){e.buttonText.onWaive=this.sdaTranslateService.get("WAIVE","Waive"),e.buttonText.onComplete=this.getCompletionButtonText(e.mode),e.buttonText.onReject=this.getRejectionButtonText(e.mode),e.buttonText.onRework=this.sdaTranslateService.get("REWORK","Rework"),e.buttonText.onRejectChange=this.getonMoCRejectButtonText(e.mode),e.buttonText.onSaveAsDraft=this.getSaveAsDraftButtonText(e.mode)}getonMoCRejectButtonText(e){let t;switch(e){case r.a.PrepareMoC:case r.a.PrepareMoCWithAction:case r.a.PrepareMoCWithWarning:case r.a.EvaluateMoCWithWarning:case r.a.EvaluateMoC:case r.a.ReviewSchemaChangeRequest:t=this.sdaTranslateService.get("REJECT_CHANGE","Reject Change");break;default:t=this.sdaTranslateService.get("REWORK","Rework")}return t}getCompletionButtonText(e){let t;switch(e){case r.a.ReviewRejection:case r.a.InternalReviewRejection:t=this.sdaTranslateService.get("REISSUE","Reissue");break;case r.a.ReviewHandover:case r.a.PrepareMoC:case r.a.PrepareMoCWithAction:case r.a.PrepareMoCWithWarning:case r.a.ReviewWorkpackage:case r.a.InternalApproval:case r.a.ApproveExtendMOC:case r.a.EvaluateMoC:case r.a.EvaluateMoCWithWarning:case r.a.ReviewSchemaChangeRequest:t=this.sdaTranslateService.get("APPROVE","Approve");break;case r.a.ExtendMOC:t=this.sdaTranslateService.get("EXTEND","Extend");break;default:t=this.sdaTranslateService.get("COMPLETE","Complete")}return t}getSaveAsDraftButtonText(e){let t;switch(e){case r.a.PrepareMoCWithFiles:case r.a.PrepareMoCWithAcceptReject:case r.a.PrepareCAWithAcceptReject:t=this.sdaTranslateService.get("SAVE_AS_DRAFT","Save As Draft")}return t}getRejectionButtonText(e){let t;switch(e){case r.a.ReviewRejection:case r.a.ExtendMOC:case r.a.InternalReviewRejection:t=this.sdaTranslateService.get("CLOSE","Close");break;case r.a.PrepareMoC:case r.a.PrepareMoCWithAction:case r.a.PrepareMoCWithWarning:case r.a.ApproveExtendMOC:case r.a.EvaluateMoCWithWarning:case r.a.EvaluateMoC:case r.a.ReviewSchemaChangeRequest:t=this.sdaTranslateService.get("REWORK","Rework");break;default:t=this.sdaTranslateService.get("REJECT","Reject")}return t}setGenericProperties(e){e.validateOnNavigateAway=!0,e.header.showCompleteButton=!0,e.header.updateObservationStatusOnComplete=!0,e.warningMessages.onComplete=this.sdaTranslateService.getFormatted("RESPONSE_MANAGEMENT_RESPONDER_EMPTY_OBSERVATION_COMPLETE_MESSAGE","{0} details must be entered before the {1} can be completed.",[e.observationType,e.observationType2]),e.warningMessages.onWaive=this.sdaTranslateService.getFormatted("RESPONSE_MANAGEMENT_EMPTY_OBSERVATION_WAIVE_MESSAGE","{0} details must be entered before the {1} can be waived.",[e.observationType,e.observationType2]),e.warningMessages.onReject=this.sdaTranslateService.getFormatted("RESPONSE_MANAGEMENT_EMPTY_OBSERVATION_REJECT_MESSAGE","{0} details must be entered before the {1} can be rejected.",[e.observationType,e.observationType2])}}return e.\u0275fac=function(t){return new(t||e)(h.dc(n.a),h.dc(d.a))},e.\u0275prov=h.Ob({token:e,factory:e.\u0275fac}),e})()},daOA:function(e,t,i){"use strict";i.d(t,"a",(function(){return b}));var s=i("ofXK"),n=i("3Pt+"),a=i("NFeN"),o=i("wZkO"),r=i("7LiV"),c=i("7CaW"),d=i("BMkO"),h=i("l3mi"),l=i("vZO+"),p=i("K9v4"),u=i("YSVQ"),g=i("txXS"),v=i("GDd0"),C=i("VG3f"),R=i("C5TI"),E=i("Z2F1"),S=i("Ojuo"),M=i("/esn"),f=i("dp0o"),O=i("9eFW"),_=i("fXoL");let b=(()=>{class e{}return e.\u0275mod=_.Qb({type:e}),e.\u0275inj=_.Pb({factory:function(t){return new(t||e)},providers:[M.a,S.a,O.a,f.a,E.a],imports:[[h.a,o.e,s.c,r.b,c.a,v.a,l.a,p.a,v.a,g.a,u.a,R.a,C.a,n.j,a.b,d.a]]}),e})()},dp0o:function(e,t,i){"use strict";i.d(t,"a",(function(){return R}));var s=i("XNiG"),n=i("LRne"),a=i("eIep"),o=i("vkgz"),r=i("lJxs"),c=i("WjcW"),d=i("qSfU"),h=i("wN6G"),l=i("Z9D8"),p=i("J7mc"),u=i("Ejbi"),g=i("41Lq"),v=i("ONOH"),C=i("fXoL");let R=(()=>{class e{constructor(e,t,i,n,a){this.notificationService=e,this.sdaTranslateService=t,this.crudService=i,this.configService=n,this.odataService=a,this.revisionUpdatedChange=new s.a}saveRevision(e,t=!1){if(e){const i=new c.a(void 0);return i.properties.push(new d.a("SDAProjComsDetails",e.Details),new d.a("Description",e.Title)),this.crudService.update(e.OBID,i).pipe(Object(a.a)(()=>this.odataService.get("Objects('"+e.OBID+"')/?$select=LastUpdatedDate",this.configService.selectedCreateConfig,!0)),Object(o.a)(i=>{if(!i||!i.LastUpdatedDate)throw new l.a(void 0,this.sdaTranslateService.get("RESPONSE_MANAGEMENT_REVISION_NOT_SAVED_MESSAGE","Failed to save revision"));e.titleValue=e.Title?e.Title.substring(0):void 0,e.detailsValue=e.Details?e.Details.substring(0):void 0,e.isInEdit=!1,t||this.revisionUpdatedChange.next(!0),this.notificationService.success(this.sdaTranslateService.get("RESPONSE_MANAGEMENT_REVISION_SAVED_SUCCESS_MESSAGE","Saved successfully"))}),Object(r.a)(()=>!0))}return Object(n.a)(!1)}getRejectComment(e,t,i){return this.odataService.get(`Objects?$filter=contains(Interfaces, 'ISDAObservationItem') and CreationUser eq '${i}'\n\t\t and SDAObservationState eq 'e1SDAObsStatusDraft' and (SCLBProjComsResponses_21/any(x0: x0/OBID eq '${e}')\n\t\t  or SCLBProjComsReviews_21/any(x0: x0/OBID eq '${e}'))&$select=SDAObservationDetails`,t).pipe(Object(r.a)(e=>e.map(e=>e.SDAObservationDetails)))}getObidsWithNoAccessConditionResult(e,t,i){return this.odataService.post("User/Intergraph.SPF.Server.API.Model.GetShortcutConditionResult",JSON.stringify({MethodObid:e.OBID,ObjectObidAndDomains:t}),i,void 0,"",void 0,!0)}}return e.\u0275fac=function(t){return new(t||e)(C.dc(g.a),C.dc(u.a),C.dc(h.a),C.dc(v.a),C.dc(p.a))},e.\u0275prov=C.Ob({token:e,factory:e.\u0275fac}),e})()},iAId:function(e,t,i){"use strict";i.d(t,"a",(function(){return n}));var s=i("+eYH");class n extends s.a{constructor(e,t,i,s){super(e,t,i),this.obid=e,this.name=t,this.config=i,this.isLatest=s}}},jZ6j:function(e,t,i){"use strict";i.d(t,"a",(function(){return o}));var s=i("C3Sv");class n{constructor(){this.showWaiveButton=!1,this.showRejectButton=!1,this.showCompleteButton=!1,this.showReworkButton=!1,this.updateObservationStatusOnComplete=!1,this.showRevisions=!0,this.showMoCReject=!1,this.showMoCRejectChangeButton=!1,this.hideManageFiles=!1,this.hideEdit=!1,this.showSaveAsDraft=!1,this.showPropertyWarning=!1}}class a{constructor(){this.onWaive="",this.onComplete="",this.onReject="",this.onRejectChange="",this.onSaveAsDraft="",this.onRework=""}}class o{constructor(e=s.a.ViewOnly){this.mode=e,this.header=new n,this.warningMessages=new a,this.notificationMessages=new a,this.buttonText=new a,this.observationType="",this.observationType2="",this.validateOnNavigateAway=!1,this.canConsolidateObservationItems=!1,this.isConsolidateOrConsolidateResponses=!1,this.canManageResponseMarkupLayers=!1,this.canSuppressInternalReviews=!1}get isViewOnly(){return this.mode===s.a.ViewOnly}}},k1qZ:function(e,t,i){"use strict";i.d(t,"a",(function(){return R}));var s=i("fXoL"),n=i("IzEk"),a=i("Z9D8"),o=i("LUpO"),r=i("PEjJ"),c=i("F8JD"),d=i("z0XX"),h=i("Ejbi"),l=i("+eYH"),p=i("nPcE"),u=(i("jZ6j"),i("dp0o")),g=i("ofXK");function v(e,t){if(1&e){const e=s.Zb();s.Yb(0,"li",5),s.hc("click",(function(){s.Kc(e);const i=t.$implicit;return s.lc(2).launchInModal(i.key)})),s.Uc(1),s.Xb()}if(2&e){const e=t.$implicit;s.Eb(1),s.Vc(e.value)}}function C(e,t){if(1&e&&(s.Yb(0,"div",1),s.Yb(1,"div",2),s.Yb(2,"h3",3),s.Uc(3),s.Xb(),s.Yb(4,"ul"),s.Sc(5,v,2,1,"li",4),s.Xb(),s.Xb(),s.Xb()),2&e){const e=s.lc();s.Eb(3),s.Wc("",e.ACTIONS_MENU_TITLE," "),s.Eb(2),s.sc("ngForOf",e.leftPanelMethodObjCollection)}}let R=(()=>{class e{constructor(e,t,i,n,a,o){this.revisionService=e,this.methodService=t,this.relatedItemService=i,this.exceptionService=n,this.dataRefreshService=a,this.sdaTranslateService=o,this.onManageRelatedFiles=new s.o,this.leftPanelMethodObjCollection=[],this.ACTIONS_MENU_TITLE=this.sdaTranslateService.get("ACTIONS_MENU_TITLE","Actions"),this.ACTIONS_MENU_SHOW_CONDITIONS_ERROR=this.sdaTranslateService.get("ACTIONS_MENU_SHOW_CONDITIONS_ERROR","An error occurred evaluating shortcut availability"),this.RESPONSE_MANAGEMENT_MANAGE_RELATED_FILES=this.sdaTranslateService.get("RESPONSE_MANAGEMENT_MANAGE_RELATED_FILES_TOOLTIP","Manage related files"),this.methods=[],this.refreshDataSubscription=this.dataRefreshService.refreshData$.subscribe(e=>{e&&e.objectsToRefresh&&1===e.objectsToRefresh.length&&this.manageMethodsInSidePanel()})}ngOnChanges(){this.manageMethodsInSidePanel()}ngOnDestroy(){this.refreshDataSubscription&&this.refreshDataSubscription.unsubscribe(),this.workflowExceptionSubscription&&this.workflowExceptionSubscription.unsubscribe()}manageMethodsInSidePanel(){let e;this.methods=[],this.leftPanelMethodObjCollection=[],this.viewImpactAnalysisMethodUID&&(e=this.viewImpactAnalysisMethodUID.split(",")),this.methods.push(this.updateCommunicationMethodUID,this.manageRevisionMarkupLayersMethodUID,this.manageRevisionRelatedItemsMethodUID,this.identifyRespondersMethodUID,this.conflictResolutionMethodUID),e&&e.forEach(e=>{this.methods.push(e)}),this.methods&&(this.getAllMethods().pipe(Object(n.a)(1)).subscribe(e=>{e.forEach(e=>{this.leftPanelMethodObjCollection.map(e=>e.key).includes(e.UID)||this.leftPanelMethodObjCollection.push(new p.a(e.UID,e.SPFGUIDisplayAs))}),this.apiConfig&&!this.apiConfig.header.hideManageFiles&&this.apiConfig.canEditRevision&&this.leftPanelMethodObjCollection.push(new p.a(void 0,this.RESPONSE_MANAGEMENT_MANAGE_RELATED_FILES))}),this.viewItemIn2DMethodUID&&this.viewItemIn2DMethodUID.length>0&&this.execute2D3DMethod(this.viewItemIn2DMethodUID),this.viewItemIn3DMethodUID&&this.viewItemIn3DMethodUID.length>0&&this.execute2D3DMethod(this.viewItemIn3DMethodUID))}launchInModal(e){e?this.methodService.getMethodByUID(e).pipe(Object(n.a)(1)).subscribe(e=>{this.relatedItemService.onExecuteMethod(e,new l.a(this.revision.OBID,e.DisplayName,this.revision.Config),[this.revision.OBID],this.parentClientAPI,this.parentMethodOBID,this.parentObjects,!0,this.data,[this.revision.Config])}):this.onManageRelatedFiles.emit()}getAllMethods(){return this.methodService.getMethodsByCriteria("UID",this.methods,this.revision.Config)}execute2D3DMethod(e){this.methodService.getMethodByUID(e).subscribe(e=>{this.revisionService.getObidsWithNoAccessConditionResult(e,[this.revision.OBID],this.revision.Config).subscribe(t=>{t&&t.length>0||this.leftPanelMethodObjCollection.push(new p.a(e.UID,e.DisplayName))},e=>{const t=new a.a(e,this.ACTIONS_MENU_SHOW_CONDITIONS_ERROR,"ResponseManagementSidepanelComponent","onEvaluateCondition");this.exceptionService.handleException(t)})},e=>{this.exceptionService.handleException(new a.a(e))})}}return e.\u0275fac=function(t){return new(t||e)(s.Sb(u.a),s.Sb(c.a),s.Sb(d.a),s.Sb(o.a),s.Sb(r.a),s.Sb(h.a))},e.\u0275cmp=s.Mb({type:e,selectors:[["sda-response-management-sidepanel-view"]],inputs:{revision:"revision",apiConfig:"apiConfig",updateCommunicationMethodUID:"updateCommunicationMethodUID",manageRevisionMarkupLayersMethodUID:"manageRevisionMarkupLayersMethodUID",manageRevisionMarkupLayersMethod:"manageRevisionMarkupLayersMethod",manageRevisionRelatedItemsMethodUID:"manageRevisionRelatedItemsMethodUID",parentMethodOBID:"parentMethodOBID",parentObjects:"parentObjects",parentClientAPI:"parentClientAPI",viewImpactAnalysisMethodUID:"viewImpactAnalysisMethodUID",conflictResolutionMethodUID:"conflictResolutionMethodUID",identifyRespondersMethodUID:"identifyRespondersMethodUID",viewItemIn3DMethodUID:"viewItemIn3DMethodUID",viewItemIn2DMethodUID:"viewItemIn2DMethodUID",data:"data"},outputs:{onManageRelatedFiles:"onManageRelatedFiles"},features:[s.Cb],decls:1,vars:1,consts:[["class","side-panel",4,"ngIf"],[1,"side-panel"],[1,"side-panel-items"],[1,"side-panel-items__header"],["class","side-panel-items__list",3,"click",4,"ngFor","ngForOf"],[1,"side-panel-items__list",3,"click"]],template:function(e,t){1&e&&s.Sc(0,C,6,2,"div",0),2&e&&s.sc("ngIf",t.leftPanelMethodObjCollection&&t.leftPanelMethodObjCollection.length>0)},directives:[g.t,g.s],styles:["[_nghost-%COMP%]   .side-panel-items__header[_ngcontent-%COMP%], [_nghost-%COMP%]   .side-panel-items__list[_ngcontent-%COMP%]{overflow:hidden;white-space:nowrap;text-overflow:ellipsis}[_nghost-%COMP%]{display:flex;flex:1;min-height:0}[_nghost-%COMP%]   .side-panel[_ngcontent-%COMP%]{display:flex;flex-direction:column;width:300px}@media screen and (max-width:59.3125em){[_nghost-%COMP%]   .side-panel[_ngcontent-%COMP%]{width:250px}}[_nghost-%COMP%]   .side-panel-items[_ngcontent-%COMP%]{display:flex;flex:1;flex-direction:column}[_nghost-%COMP%]   .side-panel-items__header[_ngcontent-%COMP%]{padding:16px;font-size:1rem;font-weight:500;border:1px solid #cad0d7;background-color:#ebedf0}[_nghost-%COMP%]   .side-panel-items__list[_ngcontent-%COMP%]{padding:16px;font-size:1rem;cursor:pointer}[_nghost-%COMP%]   .side-panel-items__list[_ngcontent-%COMP%]:hover{background-color:rgba(0,0,0,.08)}"]}),e})()},nPcE:function(e,t,i){"use strict";i.d(t,"a",(function(){return s}));class s{constructor(e,t,i,s){this.key=e,this.value=t,this.clientAPI=i,this.OBID=s}}},oe3R:function(e,t,i){"use strict";i.d(t,"a",(function(){return s}));class s{constructor(e,t,i,s=!1){this.apiName=e,this.argFilters=t,this.onExecuteDataParam=i,this.excludeAllMethods=s}}},qAkX:function(e,t,i){"use strict";t.a=function(e){var t=null==e?0:e.length;return t?e[t-1]:void 0}},qVk3:function(e,t,i){"use strict";i.d(t,"a",(function(){return n}));var s=i("xiba");class n{constructor(e,t,i=s.a.Default,n){this.revisionOBID=e,this.onSuccessCallback=t,this.state=i,this.onCancelCallback=n}}},t1Kn:function(e,t,i){"use strict";i.d(t,"a",(function(){return W}));var s=i("fXoL"),n=i("qIrS"),a=i("QkNQ"),o=i("Ejbi"),r=(i("4JBC"),i("ofXK")),c=i("NFeN"),d=i("+rOU"),h=i("4CIq"),l=i("rDax"),p=i("3Pt+"),u=i("lUp+"),g=i("dLJk"),v=i("F8dI");const C=["template"],R=["origin"];function E(e,t){if(1&e&&(s.Yb(0,"div",3),s.Yb(1,"span",4),s.Uc(2),s.Xb(),s.Yb(3,"span",5),s.Tb(4,"mat-icon",6),s.Uc(5),s.Xb(),s.Yb(6,"span",5),s.Tb(7,"mat-icon",7),s.Uc(8),s.mc(9,"sdaConvertToLocalDate"),s.Xb(),s.Yb(10,"div",8),s.Uc(11),s.Xb(),s.Xb()),2&e){const e=s.lc();s.Eb(2),s.Vc(e.REJECTED),s.Eb(3),s.Wc(" ",e.rejectUser," "),s.Eb(3),s.Wc(" ",s.nc(9,4,e.rejectDate)," "),s.Eb(3),s.Vc(e.rejectReason)}}function S(e,t){if(1&e&&(s.Yb(0,"div"),s.Uc(1),s.Xb()),2&e){const e=t.$implicit;s.Eb(1),s.Vc(e)}}function M(e,t){if(1&e&&(s.Yb(0,"div",8),s.Sc(1,S,2,1,"div",11),s.Xb()),2&e){const e=s.lc(2);s.Eb(1),s.sc("ngForOf",e.bannerContent)}}function f(e,t){if(1&e&&(s.Yb(0,"div",9),s.Yb(1,"span",4),s.Uc(2),s.Xb(),s.Sc(3,M,2,1,"div",10),s.Xb()),2&e){const e=s.lc();s.Ib("card-status--warn",2===e.bannerType)("card-status--info",0===e.bannerType),s.Eb(2),s.Vc(e.bannerTitle),s.Eb(1),s.sc("ngIf",(null==e.bannerContent?null:e.bannerContent.length)>0)}}function O(e,t){if(1&e&&(s.Yb(0,"span",27),s.Uc(1),s.Xb()),2&e){const e=s.lc(3);s.Eb(1),s.Wc(" ",e.YOU," ")}}function _(e,t){if(1&e&&(s.Yb(0,"div",22),s.Tb(1,"mat-icon",28),s.Yb(2,"p",24),s.Uc(3),s.mc(4,"sdaConvertToLocalDateTime"),s.Xb(),s.Xb()),2&e){const e=s.lc(3);s.Eb(3),s.Vc(s.nc(4,1,e.creationDate))}}function b(e,t){if(1&e&&(s.Yb(0,"div",22),s.Tb(1,"mat-icon",29),s.Yb(2,"p",30),s.Uc(3),s.Xb(),s.Xb()),2&e){const e=s.lc(3);s.Eb(2),s.sc("title",e.MARKUPS_IDENTIFIED_TOOLTIP),s.Eb(1),s.Wc(" ",e.MARKUPS_IDENTIFIED," ")}}function m(e,t){if(1&e&&(s.Yb(0,"section",21),s.Yb(1,"div",22),s.Tb(2,"mat-icon",23),s.Yb(3,"p",24),s.Uc(4),s.Sc(5,O,2,1,"span",25),s.Xb(),s.Xb(),s.Sc(6,_,5,3,"div",26),s.Sc(7,b,4,2,"div",26),s.Xb()),2&e){const e=s.lc(2);s.Eb(4),s.Wc(" ",e.user.DisplayName," "),s.Eb(1),s.sc("ngIf",e.user.IsCurrentUser),s.Eb(1),s.sc("ngIf",e.creationDate),s.Eb(1),s.sc("ngIf",e.markupsIdentified)}}function w(e,t){if(1&e){const e=s.Zb();s.Yb(0,"sda-button-plain",35,36),s.hc("click",(function(){return s.Kc(e),s.lc(3).showOverlay()})),s.Xb()}if(2&e){const e=s.lc(3);s.sc("isCompact",!0)("matSvgIcon",e.buttonIcon)}}function I(e,t){if(1&e&&(s.Yb(0,"div",37),s.Uc(1),s.Xb()),2&e){const e=s.lc(3);s.Eb(1),s.Wc(" ",e.badge," ")}}function T(e,t){if(1&e){const e=s.Zb();s.Yb(0,"h3",31),s.Yb(1,"a",32),s.hc("click",(function(){return s.Kc(e),s.lc(2).descriptionClicked.emit()})),s.Uc(2),s.Xb(),s.Sc(3,w,2,2,"sda-button-plain",33),s.Sc(4,I,2,1,"div",34),s.Xb()}if(2&e){const e=s.lc(2);s.Eb(2),s.Wc(" ",e.description," "),s.Eb(1),s.sc("ngIf",e.additionalInformation.length),s.Eb(1),s.sc("ngIf",e.badge)}}function P(e,t){if(1&e&&(s.Yb(0,"li",41),s.Yb(1,"h4",42),s.Uc(2),s.Xb(),s.Yb(3,"p",43),s.Uc(4),s.Xb(),s.Xb()),2&e){const e=t.$implicit;s.Eb(2),s.Vc(e.key),s.Eb(1),s.sc("title",e.value),s.Eb(1),s.Vc(e.value)}}function A(e,t){if(1&e&&(s.Yb(0,"ul",39),s.Sc(1,P,5,3,"li",40),s.Xb()),2&e){const e=s.lc(3);s.Eb(1),s.sc("ngForOf",e.additionalInformation)}}function N(e,t){if(1&e&&s.Sc(0,A,2,1,"ul",38),2&e){const e=s.lc(2);s.sc("ngIf",e.additionalInformation.length)}}function D(e,t){if(1&e&&(s.Yb(0,"h4",44),s.Uc(1),s.Xb()),2&e){const e=s.lc(2);s.Eb(1),s.Wc(" ",e.header," ")}}function j(e,t){if(1&e){const e=s.Zb();s.Yb(0,"input",45,46),s.hc("ngModelChange",(function(t){return s.Kc(e),s.lc(2).header=t})),s.Xb()}if(2&e){const e=s.lc(2);s.sc("ngModel",e.header)}}function y(e,t){if(1&e&&s.Tb(0,"sda-power-bar-view",47),2&e){const e=s.lc(2);s.sc("isCompact",!0)("background",e.powerBarBackgroundStyle)("disableOverflow",!0)("rightControls",e.powerBarRHSControls)("isOverflowHidden",e.powerBarOverflowIsHidden)("overflowControls",e.powerBarOverflowControls)("overflowCloseOnAllClicks",e.powerBarOverflowCloseOnAllClicks)}}function B(e,t){if(1&e&&(s.Yb(0,"header",12),s.Yb(1,"div",13),s.Sc(2,m,8,4,"section",14),s.Sc(3,T,5,3,"h3",15),s.Sc(4,N,1,1,"ng-template",16,17,s.Tc),s.Sc(6,D,2,1,"h4",18),s.Sc(7,j,2,1,"input",19),s.Xb(),s.Sc(8,y,1,7,"sda-power-bar-view",20),s.Xb()),2&e){const e=s.lc();s.Ib("card-header--edit",e.headerIsEditable),s.Eb(2),s.sc("ngIf",e.user&&!e.headerIsEditable),s.Eb(1),s.sc("ngIf",e.description&&!e.headerIsEditable),s.Eb(3),s.sc("ngIf",!e.headerIsEditable),s.Eb(1),s.sc("ngIf",e.headerIsEditable),s.Eb(1),s.sc("ngIf",(null==e.powerBarOverflowControls?null:e.powerBarOverflowControls.length)>0)}}let W=(()=>{class e{constructor(e,t){this.sdaTranslateService=e,this.overlayFactory=t,this.headerChange=new s.o,this.descriptionClicked=new s.o,this.powerBarOverflowControls=[],this.powerBarRHSControls=[],this.powerBarBackgroundStyle=a.a.Transparent,this.additionalInformation=[],this.buttonIconDefault="caret-down",this.buttonIActive="close",this.buttonIcon=this.buttonIconDefault,this.powerBarOverflowCloseOnAllClicks=!1,this.YOU=this.sdaTranslateService.get("YOU","You"),this.REJECTED=this.sdaTranslateService.get("REJECTED","Rejected"),this.UNDO=this.sdaTranslateService.get("UNDO","undo"),this.DISCIPLINES=this.sdaTranslateService.get("DISCIPLINES","Disciplines"),this.MARKUPS_IDENTIFIED=this.sdaTranslateService.get("REVIEW_ACTION_MARKUPS_IDENTIFIED","MARKUPS IDENTIFIED"),this.MARKUPS_IDENTIFIED_TOOLTIP=this.sdaTranslateService.get("REVIEW_ACTION_MARKUPS_IDENTIFIED_TOOLTIP","Markups to be transmitted have been selected."),this.headerValue=""}get header(){return this.headerValue}set header(e){this.headerValue=e,this.headerChange.emit(this.headerValue)}showOverlay(){this.overlayRef=this.overlayFactory.createConnectedToOverlay(this.origin,300,300),this.overlaySubscription=this.overlayRef.backdropClick().subscribe(()=>{this.closeOverlay(),this.buttonIcon=this.buttonIconDefault}),this.overlayRef.attach(this.template),this.buttonIcon=this.buttonIActive}ngOnDestroy(){this.closeOverlay()}closeOverlay(){this.overlaySubscription&&this.overlaySubscription.unsubscribe(),this.overlayRef&&(this.overlayRef.detach(),this.overlayRef.dispose())}}return e.\u0275fac=function(t){return new(t||e)(s.Sb(o.a),s.Sb(n.a))},e.\u0275cmp=s.Mb({type:e,selectors:[["sda-card-template-user-info-view"]],viewQuery:function(e,t){var i;1&e&&(s.bd(C,!0),s.bd(R,!0)),2&e&&(s.Gc(i=s.ic())&&(t.template=i.first),s.Gc(i=s.ic())&&(t.origin=i.first))},inputs:{headerIsEditable:"headerIsEditable",powerBarOverflowIsHidden:"powerBarOverflowIsHidden",markupsIdentified:"markupsIdentified",rejectReason:"rejectReason",rejectUser:"rejectUser",rejectDate:"rejectDate",icon:"icon",powerBarOverflowControls:"powerBarOverflowControls",powerBarRHSControls:"powerBarRHSControls",powerBarBackgroundStyle:"powerBarBackgroundStyle",additionalInformation:"additionalInformation",user:"user",creationDate:"creationDate",bannerTitle:"bannerTitle",bannerContent:"bannerContent",bannerType:"bannerType",badge:"badge",description:"description",buttonIconDefault:"buttonIconDefault",buttonIActive:"buttonIActive",buttonIcon:"buttonIcon",powerBarOverflowCloseOnAllClicks:"powerBarOverflowCloseOnAllClicks",header:"header"},outputs:{headerChange:"headerChange",descriptionClicked:"descriptionClicked"},decls:3,vars:3,consts:[["class","card-status card-status--rejected",4,"ngIf"],["class","card-status",3,"card-status--warn","card-status--info",4,"ngIf"],["class","card-header",3,"card-header--edit",4,"ngIf"],[1,"card-status","card-status--rejected"],[1,"card-status__state"],[1,"card-status__info"],["svgIcon","user",1,"card-status__icon"],["svgIcon","time-outlined",1,"card-status__icon"],[1,"card-status__reason"],[1,"card-status"],["class","card-status__reason",4,"ngIf"],[4,"ngFor","ngForOf"],[1,"card-header"],[1,"card-header__content"],["class","card-user",4,"ngIf"],["class","card-header__desc",4,"ngIf"],["cdk-portal",""],["template","cdkPortal"],["class","card-header__title",4,"ngIf"],["type","text","class","card-header__edit",3,"ngModel","ngModelChange",4,"ngIf"],["class","card-header__actions",3,"isCompact","background","disableOverflow","rightControls","isOverflowHidden","overflowControls","overflowCloseOnAllClicks",4,"ngIf"],[1,"card-user"],[1,"card-info"],["svgIcon","user",1,"card-info__icon"],[1,"card-info__data"],["class","card-info__you",4,"ngIf"],["class","card-info",4,"ngIf"],[1,"card-info__you"],["svgIcon","time-outlined",1,"card-info__icon"],["svgIcon","thumbnail",1,"card-info__icon"],[1,"card-info__data","card-info__data--tooltip",3,"title"],[1,"card-header__desc"],[1,"card-header__link",3,"click"],["cdkOverlayOrigin","","class","card-header__button",3,"isCompact","matSvgIcon","click",4,"ngIf"],["class","card-badge",4,"ngIf"],["cdkOverlayOrigin","",1,"card-header__button",3,"isCompact","matSvgIcon","click"],["origin","cdkOverlayOrigin"],[1,"card-badge"],["class","card-extras",4,"ngIf"],[1,"card-extras"],["class","card-set",4,"ngFor","ngForOf"],[1,"card-set"],[1,"card-set__label"],[1,"card-set__data",3,"title"],[1,"card-header__title"],["type","text",1,"card-header__edit",3,"ngModel","ngModelChange"],["headerValue","ngModel"],[1,"card-header__actions",3,"isCompact","background","disableOverflow","rightControls","isOverflowHidden","overflowControls","overflowCloseOnAllClicks"]],template:function(e,t){1&e&&(s.Sc(0,E,12,6,"div",0),s.Sc(1,f,4,6,"div",1),s.Sc(2,B,9,7,"header",2)),2&e&&(s.sc("ngIf",t.rejectReason),s.Eb(1),s.sc("ngIf",t.bannerTitle),s.Eb(1),s.sc("ngIf",t.header||t.headerIsEditable||(null==t.powerBarOverflowControls?null:t.powerBarOverflowControls.length)>0||t.description))},directives:[r.t,c.a,r.s,d.i,h.a,l.b,p.c,p.p,p.s,u.a],pipes:[g.a,v.a],styles:['.card-header__title[_ngcontent-%COMP%], .card-set[_ngcontent-%COMP%], .card-status__reason[_ngcontent-%COMP%]{overflow-wrap:break-word;word-wrap:break-word;word-break:break-word}.card-header__link[_ngcontent-%COMP%]{overflow:hidden;white-space:nowrap;text-overflow:ellipsis}.card-status[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;align-items:flex-start;margin-bottom:8px;background-color:#ebedf0;border-top:1px solid #697a8b;color:#1f2429}.card-status--rejected[_ngcontent-%COMP%]{background-color:#fbd5da;border-color:#d7142c}.card-status--rejected[_ngcontent-%COMP%]   .card-status__state[_ngcontent-%COMP%]{background-color:#d7142c}.card-status--rejected[_ngcontent-%COMP%]   .card-status__reason[_ngcontent-%COMP%]{color:#6e0a17}.card-status--warn[_ngcontent-%COMP%]{border-top-color:#d1a00c}.card-status--warn[_ngcontent-%COMP%]   .card-status__state[_ngcontent-%COMP%]{background-color:#d1a00c}.card-status--info[_ngcontent-%COMP%]   .card-status__state[_ngcontent-%COMP%]{background-color:#347594}.card-status__state[_ngcontent-%COMP%]{display:inline-block;margin-right:8px;padding:6px 15px;background-color:#8997a5;border-bottom-right-radius:2px;font-size:15px;color:#fff}.card-status__info[_ngcontent-%COMP%]{display:flex;align-items:center;padding:8px;font-size:12px}.card-status__icon[_ngcontent-%COMP%]{width:16px;height:16px;margin-right:5px}.card-status__reason[_ngcontent-%COMP%]{flex-basis:100%;padding:10px;font-size:14px}.card-user[_ngcontent-%COMP%]{flex-shrink:0;align-items:center;color:#a9b4be}.card-header[_ngcontent-%COMP%], .card-user[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap}.card-header[_ngcontent-%COMP%]{padding-bottom:10px}.card-header[_ngcontent-%COMP%]:not(.card-header--edit){border-bottom:1px solid #cad0d7}.card-header__actions[_ngcontent-%COMP%]{margin-left:5px}.card-header__actions[_ngcontent-%COMP%]     .power-bar{align-items:flex-start}.card-header__content[_ngcontent-%COMP%]{flex:1;min-width:0}.card-header__edit[_ngcontent-%COMP%], .card-header__title[_ngcontent-%COMP%]{font-weight:500;font-size:14px}.card-header__edit[_ngcontent-%COMP%]{flex:1;width:100%;min-width:110px!important;height:30px;line-height:1;-webkit-appearance:none;appearance:none}.card-header__edit[_ngcontent-%COMP%]:hover{border-color:#a9b4be}.card-header__edit[_ngcontent-%COMP%]:focus{border-color:#02adff}.card-header__edit[disabled][_ngcontent-%COMP%]{background-color:#fff;border-color:#fff}.card-header__desc[_ngcontent-%COMP%]{display:flex;align-items:center;font-weight:500;font-size:14px;height:30px}.card-header__link[_ngcontent-%COMP%]{cursor:pointer}.card-header__button[_ngcontent-%COMP%]{margin-left:5px}.card-header__button[_ngcontent-%COMP%]     .button__mat-icon{width:18px;height:18px}.card-info[_ngcontent-%COMP%]{display:flex;align-items:center;margin-bottom:4px;font-size:11px;font-weight:500}.card-info[_ngcontent-%COMP%]:not(:last-of-type){margin-right:10px}.card-info__icon[_ngcontent-%COMP%]{width:14px;height:14px;margin-right:5px}.card-info__data[_ngcontent-%COMP%]{color:#a9b4be}.card-info__you[_ngcontent-%COMP%]{font-style:italic}.card-info__you[_ngcontent-%COMP%]:before{content:" - "}.card-extras[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;color:#1f2429}.card-set[_ngcontent-%COMP%]{flex:1 1 35%;max-width:50%;min-height:40px;padding:10px;background-color:#ebedf0;border-radius:4px}.card-set[_ngcontent-%COMP%]:not(:nth-of-type(-n+2)){margin-top:5px}.card-set[_ngcontent-%COMP%]:nth-of-type(2n){margin-left:5px}.card-set__label[_ngcontent-%COMP%]{font-size:14px;line-height:1;font-weight:500}.card-set__data[_ngcontent-%COMP%]{font-size:12px;line-height:1.2}.card-badge[_ngcontent-%COMP%]{margin-left:8px;padding:4px 6px;background-color:#559d39;border-radius:3px;font-size:9px;font-weight:500;line-height:1.4;color:#fff;text-transform:uppercase;-webkit-user-select:none;-ms-user-select:none;user-select:none}']}),e})()},wSVK:function(e,t,i){"use strict";i.d(t,"a",(function(){return f}));var s=i("fXoL"),n=i("qAkX"),a=i("IzEk"),o=i("m8I0"),r=i("I2fW"),c=i("ofos"),d=i("xsv4"),h=i("ti2P"),l=i("g++2"),p=i("/oMx"),u=i("tNpk"),g=i("lUp+"),v=i("Ejbi"),C=i("+eYH"),R=i("xiba"),E=(i("jZ6j"),i("qVk3")),S=i("iAId");const M=["powerBar"];let f=(()=>{class e{constructor(e,t){this.sdaTranslateService=e,this.objectIconService=t,this.onSelectedRevisionChanged=new s.o,this.rightPowerBarControls=[],this.leftPowerBarControls=[],this.showModal=!1,this.messageToNextStep="",this.MODALFIELD=this.sdaTranslateService.get("RESPONSE_MANAGEMENT_REJECT_MODAL_FIELD","Reason for rejection / message"),this.RESPONSE_MANAGEMENT_REJECT_MODAL_TOOLTIP=this.sdaTranslateService.get("RESPONSE_MANAGEMENT_REJECT_MODAL_TOOLTIP","At least 5 characters should be entered")}ngOnInit(){this.initialiseLeftPowerBar()}ngOnChanges(e){var t,i,s,a,o,r,c;if(!this.selectedRevision){const e=this.revisionSummary.Revisions.filter(e=>e.IsLatest);this.latestRevisionOBID=e&&e.length>0?Object(n.a)(e).OBID:Object(n.a)(this.revisionSummary.Revisions).OBID,this.apiConfig.isViewOnly&&(this.selectedRevision=new S.a(null===(t=this.parentObjects[0])||void 0===t?void 0:t.obid,null===(i=this.parentObjects[0])||void 0===i?void 0:i.name,null===(s=this.parentObjects[0])||void 0===s?void 0:s.config,!0));const a=new E.a(this.latestRevisionOBID,()=>{this.onRevisionChangedSuccessfully(this.latestRevisionOBID)},void 0);this.onSelectedRevisionChanged.emit(a)}this.revisionDropDownCntrl&&(null===(o=null===(a=this.revisionDropDownCntrl)||void 0===a?void 0:a.display)||void 0===o?void 0:o.selectedItemOBID)===(null===(c=null===(r=e.selectedRevision)||void 0===r?void 0:r.previousValue)||void 0===c?void 0:c.obid)&&this.initialiseRightPowerBar(),e.workflowStepOBID&&this.initialiseRightPowerBar()}getRevisionHeader(e,t){let i="";return i=t?e?e+" ("+this.sdaTranslateService.get("RESPONSE_MANAGEMENT_BODY_LATEST","LATEST")+")":this.sdaTranslateService.get("RESPONSE_MANAGEMENT_BODY_LATEST","LATEST"):e||this.sdaTranslateService.get("RESPONSE_MANAGEMENT_BODY_INITIAL","INITIAL"),i}initialiseLeftPowerBar(){this.leftPowerBarControls=[],this.latestRevisionOBID=Object(n.a)(this.revisionSummary.Revisions).OBID,this.setObjectIcon(this.latestRevisionOBID)}setObjectIcon(e){this.objectIconService.getIconNames([e]).pipe(Object(a.a)(1)).subscribe(e=>{let t;this.objectIcon=e[0].IconName,this.name=this.revisionSummary.Revisions[0].Name,t=new u.a(this.name,"",c.a.Icon,`content/images/object-types/${this.objectIcon}.svg`),this.leftPowerBarControls.push(t)})}initialiseRightPowerBar(){this.rightPowerBarControls=[];const e={items:this.revisionSummary.Revisions.map(e=>new C.a(e.OBID,e.DisplayName,e.Config,this.getRevisionHeader(e.DisplayName,e.IsLatest))),selectedItemOBID:this.selectedRevision?this.selectedRevision.obid:this.latestRevisionOBID};this.revisionDropDownCntrl=new l.a(e,(e,t)=>{const i=this.getCurrentRevisionIndex(),s=new E.a(e,()=>{this.updateInvalidPagerStatesAndCounter(i),this.onRevisionChangedSuccessfully(e)},R.a.Default,()=>{this.revisionDropDownCntrl.display.selectedItemOBID=t});this.onSelectedRevisionChanged.emit(s)}),this.revisionDropDownCntrl.hidden=!this.apiConfig.header.showRevisions,this.revisionDropDownCntrl.isDisabled=1===this.revisionSummary.Revisions.length,this.rightPowerBarControls.push(this.revisionDropDownCntrl);const t=this.getCurrentRevisionIndex();this.previousRevisionCntrl=new h.a(()=>{this.setRevision(-1)},"","fa-chevron-left power-bar-button__icon",void 0,o.a.Default,0===t),this.previousRevisionCntrl.MIN_DISPLAY=d.a.Large,this.rightPowerBarControls.push(this.previousRevisionCntrl),this.previousRevisionCntrl.hidden=!this.apiConfig.header.showRevisions,this.revisionDisplayCntrl=new p.a(t+1+"/"+this.revisionSummary.Revisions.length),this.revisionDisplayCntrl.MIN_DISPLAY=d.a.Large,this.rightPowerBarControls.push(this.revisionDisplayCntrl),this.revisionDisplayCntrl.hidden=!this.apiConfig.header.showRevisions,this.nextRevisionCntrl=new h.a(()=>{this.setRevision(1)},"","fa-chevron-right power-bar-button__icon",void 0,o.a.Default,this.revisionSummary.Revisions.length===t+1),this.nextRevisionCntrl.MIN_DISPLAY=d.a.Large,this.rightPowerBarControls.push(this.nextRevisionCntrl),this.nextRevisionCntrl.hidden=!this.apiConfig.header.showRevisions}updateInvalidPagerStatesAndCounter(e){this.previousRevisionCntrl.isDisabled=0===e,this.nextRevisionCntrl.isDisabled=this.revisionSummary.Revisions.length===e+1,this.revisionDisplayCntrl.displayName=e+1+"/"+this.revisionSummary.Revisions.length,this.createTQButtonCntrl&&(this.createTQButtonCntrl.isDisabled=this.revisionSummary.Revisions.length!==e+1)}getCurrentRevisionIndex(){const e=this.revisionDropDownCntrl.display.selectedItemOBID;return this.revisionDropDownCntrl.display.items.map(e=>e.obid).indexOf(e)}setRevision(e){setTimeout(()=>{const t=this.getCurrentRevisionIndex(),i=this.revisionDropDownCntrl.display.items[t+e].obid,s=new E.a(i,()=>{this.onRevisionChangedSuccessfully(i)});this.onSelectedRevisionChanged.emit(s)})}onRevisionChangedSuccessfully(e){this.revisionDropDownCntrl.display.selectedItemOBID=e;const t=this.revisionDropDownCntrl.display.items.map(e=>e.obid).indexOf(e);this.updateInvalidPagerStatesAndCounter(t)}}return e.\u0275fac=function(t){return new(t||e)(s.Sb(v.a),s.Sb(r.a))},e.\u0275cmp=s.Mb({type:e,selectors:[["sda-revisable-header"]],viewQuery:function(e,t){var i;1&e&&s.Qc(M,!0),2&e&&s.Gc(i=s.ic())&&(t.powerBar=i.first)},inputs:{revisionSummary:"revisionSummary",apiConfig:"apiConfig",selectedRevision:"selectedRevision",parentMethodOBID:"parentMethodOBID",parentClientAPI:"parentClientAPI",workflowStepOBID:"workflowStepOBID",parentObjects:"parentObjects",updateRevisionMethodUID:"updateRevisionMethodUID"},outputs:{onSelectedRevisionChanged:"onSelectedRevisionChanged"},features:[s.Cb],decls:2,vars:2,consts:[[1,"header-powerbar",3,"leftControls","rightControls"],["powerBar",""]],template:function(e,t){1&e&&s.Tb(0,"sda-power-bar-view",0,1),2&e&&s.sc("leftControls",t.leftPowerBarControls)("rightControls",t.rightPowerBarControls)},directives:[g.a],styles:[".header-powerbar[_ngcontent-%COMP%]     .power-bar{background:none;height:64px}.header-powerbar[_ngcontent-%COMP%]     .power-bar-label{font-size:1rem}"]}),e})()},xiba:function(e,t,i){"use strict";i.d(t,"a",(function(){return s}));var s=function(e){return e[e.Default=0]="Default",e[e.Complete=1]="Complete",e[e.Waive=2]="Waive",e[e.Reject=3]="Reject",e}({})}}]);