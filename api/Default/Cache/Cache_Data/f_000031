(window.webpackJsonp=window.webpackJsonp||[]).push([[85],{NuPR:function(e,t,i){"use strict";i.d(t,"a",(function(){return d}));var s=i("ofXK"),a=i("Tfoa"),o=i("ZxfA"),r=i("T6+9"),n=i("oiMZ"),c=i("inpI"),l=i("F+hv"),p=i("0Ndu"),h=i("fXoL");let d=(()=>{class e{}return e.\u0275mod=h.Qb({type:e}),e.\u0275inj=h.Pb({factory:function(t){return new(t||e)},imports:[[s.c,l.a,p.a,r.a,n.a,c.a,a.a,o.a]]}),e})()},OgC1:function(e,t,i){"use strict";i.r(t),i.d(t,"CreateObjectFromSelectedObjectsRoutingModule",(function(){return B}));var s=i("ofXK"),a=i("NuPR"),o=i("mU7h"),r=i("fXoL");let n=(()=>{class e{}return e.\u0275mod=r.Qb({type:e}),e.\u0275inj=r.Pb({factory:function(t){return new(t||e)},imports:[[s.c,o.a,a.a]]}),e})();var c=i("yFeZ"),l=i("tyNb"),p=i("quZr"),h=i("dEpe"),d=i("IzEk"),b=i("k/hs"),u=i("bEl2"),f=i("Z9D8"),m=i("LUpO"),S=i("C4gn"),g=i("xc+7"),O=i("wpY2"),j=i("iwlc"),C=i("J7mc"),v=i("Ejbi"),T=i("NEWU"),w=i("yzqN");class R{constructor(e,t,i=[]){this.classifiedObject=e,this.objectObidsToRelate=t,this.mappingProperties=i,this.objectsToRelate=[]}}class E{constructor(e,t,i){this.OBIDS=e,this.targetProperty=t,this.targetValue=i}}var M=i("nGkS"),P=i("xiNR"),I=i("CG+f"),F=i("S2CU");function A(e,t){if(1&e){const e=r.Zb();r.Yb(0,"sda-create-feature-obj-view",3),r.hc("emitWizardCompleted",(function(t){return r.Kc(e),r.lc(2).showNextForm(t)})),r.Xb()}if(2&e){const e=r.lc().$implicit,t=r.lc();r.sc("multiObjectCreate",t.objectsRemaining)("objectsToRelate",e.objectsToRelate)("mappingProperties",e.mappingProperties)}}function _(e,t){if(1&e){const e=r.Zb();r.Yb(0,"sda-create-class-obj-feature-view",4),r.hc("emitWizardCompleted",(function(t){return r.Kc(e),r.lc(2).showNextForm(t)})),r.Xb()}if(2&e){const e=r.lc().$implicit,t=r.lc();r.sc("multiObjectCreate",t.objectsRemaining)("objectsToRelate",e.objectsToRelate)("mappingProperties",e.mappingProperties)("showApply",!0)}}function y(e,t){if(1&e&&(r.Wb(0),r.Sc(1,A,1,3,"sda-create-feature-obj-view",1),r.Sc(2,_,1,4,"sda-create-class-obj-feature-view",2),r.Vb()),2&e){const e=t.$implicit,i=r.lc();r.Eb(1),r.sc("ngIf",e.showFormForSet&&!i.classifiedObject),r.Eb(1),r.sc("ngIf",e.showFormForSet&&i.classifiedObject)}}let N=(()=>{class e extends F.a{constructor(e,t,i,s){super(e,t,i,s),this.featureSetService=e,this.featureSetNavigationService=t,this.sdaTranslateService=i,this.saveChangesDialogService=s,this.objectSets=[],this.classifiedObject=!1,this.objectsRemaining=!1}ngOnChanges(e){e.objectSets&&this.objectSets.length>1&&(this.objectsRemaining=!0)}stepChange(e){}showNextForm(e){e&&(this.objectSets.length>=1&&this.objectSets.shift(),this.objectsRemaining=!(this.objectSets.length<=1),0!==this.objectSets.length?(this.objectSets[0].showFormForSet=!0,this.emitWizardCompleted.emit(!1)):(this.wizardComplete=!0,this.emitWizardCompleted.emit(!0)))}}return e.\u0275fac=function(t){return new(t||e)(r.Sb(g.a),r.Sb(S.a),r.Sb(v.a),r.Sb(O.a))},e.\u0275cmp=r.Mb({type:e,selectors:[["sda-create-multi-obj"]],inputs:{objectSets:"objectSets",classifiedObject:"classifiedObject"},features:[r.Bb,r.Cb],decls:1,vars:1,consts:[[4,"ngFor","ngForOf"],["class","multi-wizard",3,"multiObjectCreate","objectsToRelate","mappingProperties","emitWizardCompleted",4,"ngIf"],["class","multi-wizard",3,"multiObjectCreate","objectsToRelate","mappingProperties","showApply","emitWizardCompleted",4,"ngIf"],[1,"multi-wizard",3,"multiObjectCreate","objectsToRelate","mappingProperties","emitWizardCompleted"],[1,"multi-wizard",3,"multiObjectCreate","objectsToRelate","mappingProperties","showApply","emitWizardCompleted"]],template:function(e,t){1&e&&r.Sc(0,y,3,2,"ng-container",0),2&e&&r.sc("ngForOf",t.objectSets)},directives:[s.s,s.t,M.a,P.a],styles:["[_nghost-%COMP%]{overflow:hidden}[_nghost-%COMP%], [_nghost-%COMP%]   .form-wrapper[_ngcontent-%COMP%]{display:flex;width:100%;height:100%}[_nghost-%COMP%]   .form-wrapper[_ngcontent-%COMP%]{flex-direction:column;align-items:center;background-color:#cad0d7}[_nghost-%COMP%]   sda-loading-indicator[_ngcontent-%COMP%]{flex:1}[_nghost-%COMP%]     sda-tabbed-grid{position:relative;padding:7px}"]}),e})();function z(e,t){if(1&e){const e=r.Zb();r.Yb(0,"sda-create-feature-obj-view",3),r.hc("emitWizardCompleted",(function(t){return r.Kc(e),r.lc().setChildWizardCompleted(t)})),r.Xb()}if(2&e){const e=r.lc();r.sc("objectsToRelate",e.objectsToRelate)}}function D(e,t){if(1&e){const e=r.Zb();r.Yb(0,"sda-create-class-obj-feature-view",4),r.hc("emitWizardCompleted",(function(t){return r.Kc(e),r.lc().setChildWizardCompleted(t)})),r.Xb()}if(2&e){const e=r.lc();r.sc("objectsToRelate",e.objectsToRelate)("showApply",!0)}}function x(e,t){if(1&e){const e=r.Zb();r.Yb(0,"sda-create-wizard-class-obj-feature-view",3),r.hc("emitWizardCompleted",(function(t){return r.Kc(e),r.lc().setChildWizardCompleted(t)})),r.Xb()}if(2&e){const e=r.lc();r.sc("objectsToRelate",e.objectsToRelate)}}function U(e,t){if(1&e){const e=r.Zb();r.Yb(0,"sda-create-multi-obj",5),r.hc("emitWizardCompleted",(function(t){return r.Kc(e),r.lc().isMultiWizardComplete(t)})),r.Xb()}if(2&e){const e=r.lc();r.sc("classifiedObject",e.classObj)("objectSets",e.setsForMultiObj)}}const W=[{path:"",component:(()=>{class e extends u.a{constructor(e,t,i,s,a,o,r,n){super(e,t,i,a,s,r),this.route=e,this.exceptionService=t,this.sdaTranslateService=i,this.featureSetService=s,this.saveChangesDialogService=a,this.helpService=o,this.featureSetNavigationService=r,this.dataService=n,this.multiObjectCreation=!1,this.MULTI_OBJECT_CREATION_DISABLED=this.sdaTranslateService.get("MULTI_OBJECT_CREATION_DISABLED","Multiple object creation is not enabled"),this.helpService.setHandlers(w.i)}ngOnInit(){this.route.paramMap.subscribe(e=>{this.classObj=!!e.get(T.c),this.containsMappingProperties=!!(e.get(T.n)||e.get(T.o)||e.get(T.p)),this.containsMappingRels=!!e.get(T.j),this.multiObjectCreation=!!e.has(T.b)&&JSON.parse(e.get(T.b).toLowerCase()),this.clientAPI="CreateObjectFromSelectedObjects",this.relDefTORelatedParamKey=T.k,this.createFromMultipleObjects=!0;const t=JSON.parse(e.get(T.u));this.containsMappingProperties||this.containsMappingRels?this.dataService.post("GetObjectsWithMappedPropertiesAndRelations",JSON.stringify({ObjectOBIDs:t,MethodOBID:e.get(T.y)})).pipe(Object(d.a)(1)).subscribe(t=>{t.ValidationMessage?this.handleValidationMessage(t.ValidationMessage):(this.createMappedProperties(t.ObjectMappings),t.RelMappings&&t.RelMappings.length&&this.createMappedRelations(t.RelMappings),this.initializeComponent(),this.checkForSecondaryRelationship(e))}):(this.initializeComponent(),this.checkForSecondaryRelationship(e))})}stepChange(e){}isMultiWizardComplete(e){this.wizardComplete=e}checkForSecondaryRelationship(e){if(e.has(T.v)){const t=JSON.parse(e.get(T.v));if(t.relDefTOSecondaryObjParamKey&&t.ObjectOBID){const e=t.relDefTOSecondaryObjParamKey.endsWith("_12"),i=t.relDefTOSecondaryObjParamKey.substring(0,t.relDefTOSecondaryObjParamKey.length-3);this.setsForMultiObj.length>0?this.setsForMultiObj.forEach(s=>{s.objectsToRelate.push(new b.a(i,e,[t.ObjectOBID]))}):this.objectsToRelate.push(new b.a(i,e,[t.ObjectOBID]))}}}createMappedProperties(e){if(e&&e.length){const t=this.createMappingPropertiesCollection(e);this.setsForMultiObj=this.createObjectSetsForMultiObject(t),this.setsForMultiObj.length&&(this.setsForMultiObj[0].showFormForSet=!0)}else this.containsMappingProperties=!1}handleValidationMessage(e){this.wizardComplete=!0,this.featureSetNavigationService.navigateBack(),this.exceptionService.handleException(new f.a(e,void 0,"create-object-from-selected-objects.component","createObjectSetsForMultiObject"))}createMappedRelations(e){e.forEach(e=>{const t="12"===e.Direction;this.setsForMultiObj.length>0?this.setsForMultiObj.forEach(i=>{i.objectsToRelate.push(new b.a(e.RelDefUID,t,e.ObidsToBeRelated))}):this.objectsToRelate.push(new b.a(e.RelDefUID,t,e.ObidsToBeRelated))})}createObjectSetsForMultiObject(e=[]){const t=[];return e.forEach(e=>{const i=t.filter(t=>this.obidsMatch(t.objectObidsToRelate,e.OBIDS));i.length>0?i.forEach(t=>{t.mappingProperties.push(e)}):t.push(new R(this.classObj,e.OBIDS,[e]))}),t.length>1&&!this.multiObjectCreation&&(this.wizardComplete=!0,this.featureSetNavigationService.navigateBack(),this.exceptionService.handleException(new f.a(this.MULTI_OBJECT_CREATION_DISABLED,void 0,"create-object-from-selected-objects.component","createObjectSetsForMultiObject"))),t}createMappingPropertiesCollection(e){const t=[];return e.forEach(e=>{if(0===t.length)t.push(new E([e.ObjectToBeMapped],e.TargetProperty,e.TargetValue));else{const i=t.filter(t=>t.targetProperty===e.TargetProperty&&t.targetValue===e.TargetValue);i&&i.length>0?i.forEach(t=>{t.OBIDS.some(t=>t===e.ObjectToBeMapped)||t.OBIDS.push(e.ObjectToBeMapped)}):t.push(new E([e.ObjectToBeMapped],e.TargetProperty,e.TargetValue))}}),t}obidsMatch(e,t){if(e===t)return!0;if(null===e||null===t)return!1;if(e.length!=e.length)return!1;e.sort(),t.sort();for(let i=0;i<e.length;++i)if(e[i]!==t[i])return!1;return!0}}return e.\u0275fac=function(t){return new(t||e)(r.Sb(l.a),r.Sb(m.a),r.Sb(v.a),r.Sb(g.a),r.Sb(O.a),r.Sb(j.a),r.Sb(S.a),r.Sb(C.a))},e.\u0275cmp=r.Mb({type:e,selectors:[["sda-create-from-selected-objects-view"]],features:[r.Bb],decls:4,vars:4,consts:[[3,"objectsToRelate","emitWizardCompleted",4,"ngIf"],[3,"objectsToRelate","showApply","emitWizardCompleted",4,"ngIf"],[3,"classifiedObject","objectSets","emitWizardCompleted",4,"ngIf"],[3,"objectsToRelate","emitWizardCompleted"],[3,"objectsToRelate","showApply","emitWizardCompleted"],[3,"classifiedObject","objectSets","emitWizardCompleted"]],template:function(e,t){1&e&&(r.Sc(0,z,1,1,"sda-create-feature-obj-view",0),r.Sc(1,D,1,2,"sda-create-class-obj-feature-view",1),r.Sc(2,x,1,1,"sda-create-wizard-class-obj-feature-view",0),r.Sc(3,U,1,2,"sda-create-multi-obj",2)),2&e&&(r.sc("ngIf",!t.classObj&&!t.containsMappingProperties),r.Eb(1),r.sc("ngIf",t.classObj&&!t.containsMappingProperties&&!t.showPropertySetter),r.Eb(1),r.sc("ngIf",t.classObj&&!t.containsMappingProperties&&t.showPropertySetter),r.Eb(1),r.sc("ngIf",t.containsMappingProperties))},directives:[s.t,M.a,P.a,I.a,N],styles:["[_nghost-%COMP%]{overflow:hidden}[_nghost-%COMP%], [_nghost-%COMP%]   .form-wrapper[_ngcontent-%COMP%]{display:flex;width:100%;height:100%}[_nghost-%COMP%]   .form-wrapper[_ngcontent-%COMP%]{flex-direction:column;align-items:center;background-color:#cad0d7}[_nghost-%COMP%]   sda-loading-indicator[_ngcontent-%COMP%]{flex:1}[_nghost-%COMP%]     sda-tabbed-grid{position:relative;padding:7px}"]}),e})(),canActivate:[h.a],canDeactivate:[p.a]}];let L=(()=>{class e{}return e.\u0275mod=r.Qb({type:e}),e.\u0275inj=r.Pb({factory:function(t){return new(t||e)},providers:[h.a],imports:[[l.k.forChild(W)],l.k]}),e})(),B=(()=>{class e{}return e.\u0275mod=r.Qb({type:e}),e.\u0275inj=r.Pb({factory:function(t){return new(t||e)},imports:[[s.c,o.a,a.a,L,n,c.CreateWizardClassObjRoutingModule]]}),e})()},bEl2:function(e,t,i){"use strict";i.d(t,"a",(function(){return S}));var s=i("Z9D8"),a=i("LUpO"),o=i("C4gn"),r=i("xc+7"),n=i("wpY2"),c=i("Ejbi"),l=i("NEWU"),p=i("8NKS"),h=i("WjcW"),d=i("qSfU"),b=i("k/hs"),u=i("S2CU"),f=i("fXoL"),m=i("tyNb");let S=(()=>{class e extends u.a{constructor(e,t,i,s,a,o){super(a,o,i,s),this.route=e,this.exceptionService=t,this.sdaTranslateService=i,this.saveChangesDialogService=s,this.featureSetService=a,this.featureSetNavigationService=o,this.CLIENT_API_CALLED_IS_INCORRECT=this.sdaTranslateService.get("CLIENT_API_CALLED_IS_INCORRECT","The method called do not match the client api being used"),this.RELDEF_PARAM_NOT_FOUND_ERROR=this.sdaTranslateService.get("RELDEF_PARAM_NOT_FOUND_ERROR","RelDef to related object not found on the method"),this.objectsToRelate=[],this.setsForMultiObj=[],this.showPropertySetter=!1}ngOnDestroy(){this.paramsSubscription&&(this.paramsSubscription.unsubscribe(),this.paramsSubscription=void 0)}setChildWizardCompleted(e){this.wizardComplete=e}initializeComponent(){this.paramsSubscription=this.route.paramMap.subscribe(e=>{this.clientAPIParamValue=e.get(l.s);let t=[];if(this.clientAPIParamValue===this.clientAPI){this.createFromMultipleObjects?t=JSON.parse(e.get(l.u)):t.push(JSON.parse(e.get(l.u))[0]);const i=e.get(this.relDefTORelatedParamKey);i?this.createAndRelateRequiredObjects(i,t):this.exceptionService.handleException(new s.a(this.RELDEF_PARAM_NOT_FOUND_ERROR,void 0,"base-wizard-create-with-rels.component","initializeComponent"))}else this.exceptionService.handleException(new s.a(new Error(this.CLIENT_API_CALLED_IS_INCORRECT),this.CLIENT_API_CALLED_IS_INCORRECT,"base-wizard-create-with-rels.component","initializeComponent"));"CreateObjectFromSelectedObjects"===this.clientAPIParamValue&&e.get(l.d)&&(this.showPropertySetter=!0)})}createAndRelateRequiredObjects(e,t=[]){let i,s="",a="",o="";const r=e.split(",");if(3===r.length){o=r[0];const e=o.split("/");let n;e.length>1?(o=e[0],n=e[1]):o=r[0],s=r[1],a=r[2],this.setsForMultiObj&&this.setsForMultiObj.length>0?this.setsForMultiObj.forEach(e=>{i=new h.a(s),n&&this.createNewObjectWithProperties(i,n),i.relationships.push(new b.a(a,!0,e.objectObidsToRelate)),e.objectsToRelate.push(new b.a(o,!0,[],[i]))}):(i=new h.a(s),n&&this.createNewObjectWithProperties(i,n),i.relationships.push(new b.a(a,!0,t)),this.objectsToRelate.push(new b.a(o,!0,[],[i])))}else{let i=!0,s=e;"-"===e.substring(0,1)||"+"===e.substring(0,1)?(s=e.substring(1),i="-"===e.substring(0,1)):this.createFromMultipleObjects&&(i=!0),this.setsForMultiObj&&this.setsForMultiObj.length>0?this.setsForMultiObj.forEach(e=>{e.objectsToRelate.push(new b.a(s,i,e.objectObidsToRelate))}):this.objectsToRelate.push(new b.a(s,i,t))}}createNewObjectWithProperties(e,t){const i=t.split("~");if(3===i.length){const t=i[1],s=i[2];e.interfaces.push(new p.a(i[0])),e.properties.push(new d.a(t,s))}}}return e.\u0275fac=function(t){return new(t||e)(f.Sb(m.a),f.Sb(a.a),f.Sb(c.a),f.Sb(n.a),f.Sb(r.a),f.Sb(o.a))},e.\u0275dir=f.Nb({type:e,features:[f.Bb]}),e})()},mU7h:function(e,t,i){"use strict";i.d(t,"a",(function(){return p}));var s=i("ofXK"),a=i("Tfoa"),o=i("ZxfA"),r=i("oiMZ"),n=i("inpI"),c=i("0Ndu"),l=i("fXoL");let p=(()=>{class e{}return e.\u0275mod=l.Qb({type:e}),e.\u0275inj=l.Pb({factory:function(t){return new(t||e)},imports:[[s.c,c.a,r.a,n.a,a.a,o.a]]}),e})()},nGkS:function(e,t,i){"use strict";i.d(t,"a",(function(){return W}));var s=i("YwUS"),a=i("PqRi"),o=i("11V9"),r=i("UVhF"),n=i("czI3"),c=i("LUpO"),l=i("C4gn"),p=i("xc+7"),h=i("z+VC"),d=i("ME6W"),b=i("osZK"),u=i("c+03"),f=i("jNCI"),m=i("Qi+w"),S=i("wpY2"),g=i("HLw3"),O=i("iwlc"),j=i("J7mc"),C=i("z0XX"),v=i("Ejbi"),T=i("NEWU"),w=i("41Lq"),R=i("yzqN"),E=i("biIz"),M=i("fXoL"),P=i("tyNb"),I=i("ofXK"),F=i("pEK1"),A=i("ouxa"),_=i("YgEk"),y=i("/Pv7"),N=i("+qkj");const z=["sdafileupload"];function D(e,t){if(1&e){const e=M.Zb();M.Yb(0,"uxt-wizard-step",6),M.Yb(1,"sda-file-upload",10,11),M.hc("filesUploaded",(function(t){return M.Kc(e),M.lc(2).fileUploadAndAttachStep.filesUploaded(t)}))("filesPendingForUpload",(function(t){return M.Kc(e),M.lc(2).fileUploadAndAttachStep.filesPendingForUpload(t)})),M.Xb(),M.Xb()}if(2&e){const e=M.lc(2);M.sc("stepId",e.fileUploadAndAttachStep.name),M.Eb(1),M.sc("uploadMode",e.fileUploadAndAttachStep.mode)("singleUpload",e.fileUploadAndAttachStep.singleUpload)}}function x(e,t){if(1&e&&M.Tb(0,"sda-related-items-section",12),2&e){const e=M.lc(2);M.sc("tabs",e.relatedItemTabs)}}function U(e,t){if(1&e){const e=M.Zb();M.Yb(0,"div",1),M.Yb(1,"uxt-wizard",2,3),M.hc("finish",(function(){return M.Kc(e),M.lc().createObjectAndFinish()}))("apply",(function(){return M.Kc(e),M.lc().createObjectAndApply()}))("cancel",(function(){return M.Kc(e),M.lc().cancelWizard()}))("stepChange",(function(t){return M.Kc(e),M.lc().stepChange(t)})),M.Yb(3,"uxt-wizard-step",4),M.Yb(4,"sda-form-step-view",5),M.hc("formInitializedEvent",(function(){return M.Kc(e),M.lc().populateFormWithMappings()}))("onGridTabsChanged",(function(t){return M.Kc(e),M.lc().onGridTabsChanged(t)}))("clearObjectsToRelate",(function(t){return M.Kc(e),M.lc().clearObjectsToRelate(t)})),M.Xb(),M.Xb(),M.Yb(5,"uxt-wizard-step",6),M.Tb(6,"sda-ens-preview",7),M.Xb(),M.Sc(7,D,3,3,"uxt-wizard-step",8),M.Sc(8,x,1,1,"sda-related-items-section",9),M.Xb(),M.Xb()}if(2&e){const e=M.lc();M.Eb(1),M.sc("finishText",e.FINISH_TEXT)("applyText",e.APPLY_TEXT)("cancelText",e.CANCEL_TEXT)("stepTranslation",e.STEP_TEXT)("ofTranslation",e.OF_TEXT)("isCancelVisible",e.isCancelVisible)("isApplyVisible",e.applyAllowed)("isApplyEnabled",e.isNextEnabled)("isFinishEnabled",e.isNextEnabled)("isNextEnabled",e.isNextEnabled)("step",e.stepName),M.Eb(2),M.sc("stepId",e.formStep.name)("isMandatory",!0),M.Eb(1),M.sc("classDefUID",e.classDefUID)("formStep",e.formStep),M.Eb(1),M.sc("stepId",e.ensPreviewStep.name),M.Eb(1),M.sc("ensForm",e.ensForm)("ensPreviewStep",e.ensPreviewStep),M.Eb(1),M.sc("ngIf",e.fileUploadAndAttachStep.showStep),M.Eb(1),M.sc("ngIf",e.stepName===e.formStep.name&&e.relatedItemTabs.length>0)}}let W=(()=>{class e extends n.a{constructor(e,t,i,s,a,o,r,n,c,l,p,h,d,b,u,f,m,S,g,O,j,C,v){super(e,a,t,b,i,r,n,s,l,p,h,o,c,d,u,m,S,g,O,j,C,v),this.route=e,this.featureSetService=t,this.formService=i,this.applicationSettingsService=s,this.router=a,this.notificationService=o,this.exceptionService=r,this.loadingOverlayService=n,this.modalService=c,this.formValidationService=l,this.batchRequestFactory=p,this.dataService=h,this.pinsMenuService=d,this.sdaTranslateService=b,this.elementRef=u,this.helpService=f,this.saveChangesDialogService=m,this.featureSetNavigationService=S,this.todoListService=g,this.fileUploaderService=O,this.referenceFileHandlingService=j,this.ensItemService=C,this.relatedItemService=v,this.CREATE_OBJ_CREATE_FORM_ERROR=this.sdaTranslateService.get("CREATE_OBJ_CREATE_FORM_ERROR","An error occurred getting create form"),this.LOADING_FORM_PLEASE_WAIT=this.sdaTranslateService.get("LOADING_FORM_PLEASE_WAIT","Loading form, please wait..."),this.CREATE=this.sdaTranslateService.get("CREATE","Create"),this.isCancelVisible=!0,this.helpService.setHandlers(R.j)}ngOnInit(){this.route.params.subscribe(e=>{this.classDefUID=e[T.a],this.classDefUID&&(this.stepName=this.formStep.name)}),this.initializeComponent()}onAddCreateObjectFromFormToChangeset(e){return this.formService.addCreateObjectFromFormToChangeset(e,this.formStep.form,void 0,this.crudOptionalItemsToInclude)}onCreateObjectFromForm(){return this.formService.createObjectFromForm(this.formStep.form,void 0,this.crudOptionalItemsToInclude,this.formStep.additionalRelDisplayItems,this.ensPreviewStep.ensNames)}onCreateObject(){this.objectsToRelate&&this.objectsToRelate.length>0&&this.objectsToRelate.forEach(e=>this.crudOptionalItemsToInclude.relationships.push(e))}onValidateForm(){return this.formValidationService.isFormValid(this.formStep.form,this.formStep.additionalRelDisplayItems)}stepChange(e){this.validateCurrentStep()&&(this.beforeStepChange(e),this.stepName=e),this.updateStepValidity()}updateStepValidity(){this.isNextEnabled=this.isStepValid()}isStepValid(){let e=!0;return this.stepName===this.fileUploadAndAttachStep.name&&(e=this.fileUploadAndAttachStep.isValid),e}clearUploadedFiles(){this.fileUploadComponent.removeAllFromQueue()}onBeforeSetPropertyAndCreateObject(){}onBeforeCreateAndApply(){}onBeforeCreateAndFinish(){}onBeforeNextStep(){}validateCurrentStep(){let e=!0;if(this.stepName===this.formStep.name){const t=this.validateForm();t.length&&(e=!1,this.modalService.multiMessageAlert(t))}return e}beforeStepChange(e){e===this.formStep.name?(this.ensForm=void 0,this.ensPreviewStep.ensNames=[],this.formStep.form&&this.formStep.form.ENSConfigured&&this.ensItemService.unlockENSNames()):e===this.ensPreviewStep.name&&this.formStep.form&&(this.ensForm=this.formStep.form)}}return e.\u0275fac=function(t){return new(t||e)(M.Sb(P.a),M.Sb(p.a),M.Sb(r.a),M.Sb(s.a),M.Sb(P.g),M.Sb(w.a),M.Sb(c.a),M.Sb(u.a),M.Sb(f.a),M.Sb(o.a),M.Sb(g.a),M.Sb(j.a),M.Sb(m.a),M.Sb(v.a),M.Sb(M.l),M.Sb(O.a),M.Sb(S.a),M.Sb(l.a),M.Sb(E.a),M.Sb(b.a),M.Sb(h.a),M.Sb(a.a),M.Sb(C.a))},e.\u0275cmp=M.Mb({type:e,selectors:[["sda-create-feature-obj-view"]],viewQuery:function(e,t){var i;1&e&&M.bd(z,!0),2&e&&M.Gc(i=M.ic())&&(t.fileUploadComponent=i.first)},inputs:{isCancelVisible:"isCancelVisible"},features:[M.Bb],decls:1,vars:1,consts:[["class","form-wrapper",4,"ngIf"],[1,"form-wrapper"],[1,"sd-wizard-basics-wizard",3,"finishText","applyText","cancelText","stepTranslation","ofTranslation","isCancelVisible","isApplyVisible","isApplyEnabled","isFinishEnabled","isNextEnabled","step","finish","apply","cancel","stepChange"],["uxtWizard",""],[3,"stepId","isMandatory"],[3,"classDefUID","formStep","formInitializedEvent","onGridTabsChanged","clearObjectsToRelate"],[3,"stepId"],[3,"ensForm","ensPreviewStep"],[3,"stepId",4,"ngIf"],["class","uxt-wizard-bottom-content",3,"tabs",4,"ngIf"],[3,"uploadMode","singleUpload","filesUploaded","filesPendingForUpload"],["sdafileupload",""],[1,"uxt-wizard-bottom-content",3,"tabs"]],template:function(e,t){1&e&&M.Sc(0,U,9,20,"div",0),2&e&&M.sc("ngIf",!t.createdObject||t.showApply)},directives:[I.t,F.a,A.a,_.a,y.a,d.a,N.a],styles:["[_nghost-%COMP%]{overflow:hidden}[_nghost-%COMP%], [_nghost-%COMP%]   .form-wrapper[_ngcontent-%COMP%]{display:flex;width:100%;height:100%}[_nghost-%COMP%]   .form-wrapper[_ngcontent-%COMP%]{flex-direction:column;align-items:center;background-color:#cad0d7}[_nghost-%COMP%]   sda-loading-indicator[_ngcontent-%COMP%]{flex:1}[_nghost-%COMP%]     sda-tabbed-grid{position:relative;padding:7px}"]}),e})()}}]);