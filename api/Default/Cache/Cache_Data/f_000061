(window.webpackJsonp=window.webpackJsonp||[]).push([[181],{"7CaW":function(t,e,s){"use strict";s.d(e,"a",(function(){return o}));var n=s("fXoL"),i=s("ofXK"),a=s("7zfz");s("R0Ic");let o=(()=>{let t=class{};return t.\u0275mod=n.Qb({type:t}),t.\u0275inj=n.Pb({factory:function(e){return new(e||t)},imports:[[i.c],a.e]}),t})()},HkXY:function(t,e,s){"use strict";s.r(e),s.d(e,"ROUTES",(function(){return Et})),s.d(e,"DiagnosticsRoutingModule",(function(){return Rt}));var n=s("ofXK"),i=s("3Pt+"),a=s("tyNb"),o=s("fXoL"),r=s("R0Ic"),c=s("7zfz");function l(t,e){1&t&&o.Ub(0)}function h(t,e){if(1&t){const t=o.Zb();o.Wb(0),o.Yb(1,"a",6),o.hc("click",(function(e){return o.Kc(t),o.lc().toggle(e)}))("keydown.enter",(function(e){return o.Kc(t),o.lc().toggle(e)})),o.Sc(2,l,1,0,"ng-container",7),o.Xb(),o.Vb()}if(2&t){const t=o.lc(),e=o.Hc(4);o.Eb(1),o.Fb("aria-controls",t.id+"-content")("aria-expanded",!t.collapsed),o.Eb(1),o.sc("ngTemplateOutlet",e)}}const d=function(t,e){return{"pi-minus":t,"pi-plus":e}};function u(t,e){if(1&t&&o.Tb(0,"span",10),2&t){const t=o.lc(2);o.sc("ngClass",o.yc(1,d,!t.collapsed,t.collapsed))}}function g(t,e){if(1&t&&(o.Sc(0,u,1,4,"span",8),o.Yb(1,"span",9),o.Uc(2),o.Xb(),o.qc(3,1)),2&t){const t=o.lc();o.sc("ngIf",t.toggleable),o.Eb(2),o.Vc(t.legend)}}const p=["*",[["p-header"]]],b=function(t){return{"ui-fieldset ui-widget ui-widget-content ui-corner-all":!0,"ui-fieldset-toggleable":t}},f=function(t){return{transitionParams:t,height:"0"}},_=function(t){return{value:"hidden",params:t}},m=function(t){return{transitionParams:t,height:"*"}},C=function(t){return{value:"visible",params:t}},v=function(t){return{"ui-fieldset-content-wrapper-overflown":t}},w=["*","p-header"];let O=0,T=(()=>{let t=class{constructor(t){this.el=t,this.collapsed=!1,this.collapsedChange=new o.o,this.onBeforeToggle=new o.o,this.onAfterToggle=new o.o,this.transitionOptions="400ms cubic-bezier(0.86, 0, 0.07, 1)",this.id="ui-fieldset-"+O++}toggle(t){if(this.animating)return!1;this.animating=!0,this.onBeforeToggle.emit({originalEvent:t,collapsed:this.collapsed}),this.collapsed?this.expand(t):this.collapse(t),this.onAfterToggle.emit({originalEvent:t,collapsed:this.collapsed}),t.preventDefault()}expand(t){this.collapsed=!1,this.collapsedChange.emit(this.collapsed)}collapse(t){this.collapsed=!0,this.collapsedChange.emit(this.collapsed)}getBlockableElement(){return this.el.nativeElement.children[0]}onToggleDone(t){this.animating=!1}};return t.\u0275fac=function(e){return new(e||t)(o.Sb(o.l))},t.\u0275cmp=o.Mb({type:t,selectors:[["p-fieldset"]],inputs:{collapsed:"collapsed",transitionOptions:"transitionOptions",legend:"legend",toggleable:"toggleable",style:"style",styleClass:"styleClass"},outputs:{collapsedChange:"collapsedChange",onBeforeToggle:"onBeforeToggle",onAfterToggle:"onAfterToggle"},ngContentSelectors:w,decls:8,vars:24,consts:[[3,"ngClass","ngStyle"],[1,"ui-fieldset-legend","ui-corner-all","ui-state-default","ui-unselectable-text"],[4,"ngIf","ngIfElse"],["legendContent",""],["role","region",1,"ui-fieldset-content-wrapper",3,"ngClass"],[1,"ui-fieldset-content"],["tabindex","0",3,"click","keydown.enter"],[4,"ngTemplateOutlet"],["class","ui-fieldset-toggler pi",3,"ngClass",4,"ngIf"],[1,"ui-fieldset-legend-text"],[1,"ui-fieldset-toggler","pi",3,"ngClass"]],template:function(t,e){if(1&t&&(o.rc(p),o.Yb(0,"fieldset",0),o.Yb(1,"legend",1),o.Sc(2,h,3,3,"ng-container",2),o.Sc(3,g,4,2,"ng-template",null,3,o.Tc),o.Xb(),o.Yb(5,"div",4),o.hc("@fieldsetContent.done",(function(t){return e.onToggleDone(t)})),o.Yb(6,"div",5),o.qc(7),o.Xb(),o.Xb(),o.Xb()),2&t){const t=o.Hc(4);o.Gb(e.styleClass),o.sc("ngClass",o.xc(12,b,e.toggleable))("ngStyle",e.style),o.Fb("id",e.id),o.Eb(2),o.sc("ngIf",e.toggleable)("ngIfElse",t),o.Eb(3),o.sc("@fieldsetContent",e.collapsed?o.xc(16,_,o.xc(14,f,e.transitionOptions)):o.xc(20,C,o.xc(18,m,e.animating?e.transitionOptions:"0ms")))("ngClass",o.xc(22,v,e.collapsed||e.animating)),o.Fb("id",e.id+"-content")("aria-labelledby",e.id)("aria-hidden",e.collapsed)}},directives:[n.q,n.w,n.t,n.A],encapsulation:2,data:{animation:[Object(r.o)("fieldsetContent",[Object(r.l)("hidden",Object(r.m)({height:"0"})),Object(r.l)("void",Object(r.m)({height:"{{height}}"}),{params:{height:"0"}}),Object(r.l)("visible",Object(r.m)({height:"*"})),Object(r.n)("visible => hidden",Object(r.e)("{{transitionParams}}")),Object(r.n)("hidden => visible",Object(r.e)("{{transitionParams}}")),Object(r.n)("void => visible",Object(r.e)("{{transitionParams}}"))])]}}),t})(),S=(()=>{let t=class{};return t.\u0275mod=o.Qb({type:t}),t.\u0275inj=o.Pb({factory:function(e){return new(e||t)},imports:[[n.c],c.e]}),t})();var x=s("7CaW"),P=s("F+hv"),y=s("FhAo"),I=s("Ejbi"),M=s("IzEk"),E=function(t){return t[t.Manual=0]="Manual",t[t.Odata=1]="Odata",t[t.Authorization=2]="Authorization",t[t.ClientServices=3]="ClientServices",t}({});class R{constructor(t,e,s){this.name=t,this.testNames=e,this.testGroup=s,this.tests=[],this.allTestsInGroupRun=!1}}var k=function(t){return t[t.Basic=0]="Basic",t[t.Advanced=1]="Advanced",t}({}),N=function(t){return t[t.Complete=0]="Complete",t[t.Idle=1]="Idle",t[t.Running=2]="Running",t}({});class A{constructor(t,e,s,n){this.name=t,this.url=e,this.expectedCode=s,this.type=n,this.testRunOnEndpoint=!1}}class Y{constructor(){this.warnings=[]}runTestIncHttps(){const t=new A(this.testName,this.url,this.expectedCode,this.type);this.healthService.checkEndpoint(t).subscribe(t=>{this.testResult=t,this.checkResultWarnings(t)},e=>{if(!e.hasOwnProperty("status")&&!e.hasOwnProperty("statusCode")||0!==e.status&&0!==e.statusCode)this.testResult=e;else if(!this.url.includes("https")||0!==e.status&&0!==e.statusCode)this.testResult=e;else{const e="A Https url has been detected. Https specific tests have been run.";this.warnings.includes(e)||this.warnings.push(e),this.healthService.httpsChecks(t).subscribe(t=>{this.testResult=t,this.checkResultWarnings(t)},t=>{this.testResult=t,this.checkResultWarnings(t)})}})}runTestExcHttps(){const t=new A(this.testName,this.url,this.expectedCode,this.type);this.healthService.checkEndpoint(t).subscribe(t=>{this.testResult=t,this.checkResultWarnings(t)})}resetTest(){this.testResult=void 0,this.runState=N.Idle}domainCheck(){if(this.url){const t=this.healthService.domainChecks(this.url);t&&!this.warnings.includes(t)&&this.warnings.push(t)}}checkResultWarnings(t){t.hasOwnProperty("warnings")&&t.warnings&&t.warnings.length>0&&t.warnings.forEach(t=>{this.warnings.push(t)})}}class X extends Y{constructor(t){super(),this.appNameService=t,this.testName="Authorization Server",this.type=E.Authorization,this.url=".well-known/openid-configuration",this.expectedCode=200,this.belongsToGroup=k.Basic,this.runState=N.Idle,this.description="This test will call the Authentication Server and check it is functioning correctly.\n\t\t\t\t\t\t\t\t\tThe OAuth URL will be collected from the settings.js file located in the "+this.appNameService.applicationNameOverrides.APPLICATION_SHORT_NAME+" Web Client site\n                                    (and configured with Server Manager). This URL will be used to make a request and analyse the returned code.",this.additionalInfoText="Run the test using the run button located to the right.\n                                            No additional setup is required for this test.",this.warnings=[]}runTest(){this.warnings.push("Please ensure you have correctly set up your application in the Authorization Server."),super.domainCheck(),super.runTestIncHttps()}}class U{constructor(t){this.warnings=[],this.endpoint=t,this.testRun=t.testRunOnEndpoint}}class G extends Y{constructor(t){super(),this.appNameService=t,this.testName="CORS Access Checks",this.type=E.Odata,this.url="$metadata",this.expectedCode=401,this.belongsToGroup=k.Advanced,this.runState=N.Idle,this.description="This test is relevant if your "+this.appNameService.applicationNameOverrides.APPLICATION_SHORT_NAME+" Web Client is installed on different hardware to the SPF Application Server.\n                                    In that scenario, this test will ensure CORS is enabled on the server you are trying to access.\n                                    It will check the response headers to a server call, and ensure they are set correctly.",this.additionalInfoText="For this test to be successful, the Access-Control-Allow-Origin header must be exposed.\n                                            This header is required to check CORS functionality is working correctly.\n                                            To expose this header, you must add it to the web.config file CORS section in the Application Server site.\n                                            You must also set the Allowed Credentials flag to true, as per the example below:",this.additionalInfoCodeSnippet='<cors\n          allowedOrigins="*"\n          allowedMethods="*"\n          allowedHeaders="*"\n          exposedHeaders="Access-Control-Allow-Origin"\n          allowCredentials="true"\n          preflightMaxAge="600"\n    />',this.warnings=[]}runTest(){if(this.url.replace(/(^\w+:|^)\/\//,"").split("/"[0])[0]===window.location.host){const t=new A(this.testName,this.url,this.expectedCode),e=new U(t);e.healthy=!0,e.endpoint.endpointSpecificMessage="You are running a CORS test,\n                                                     it has been detected that your domain is the same as the server domain you are testing against.\n                                                     The CORS test is not required with your current setup. ",this.testResult=e}else super.runTestExcHttps(),super.domainCheck()}}class H extends Y{constructor(t){super(),this.appNameService=t,this.testName="SDA Services",this.type=E.ClientServices,this.url="images",this.expectedCode=200,this.belongsToGroup=k.Basic,this.runState=N.Idle,this.description="This test will call the SDA Services and check it is functioning correctly.\n\t\t\t\t\t\t\t\t\tThe Client Services URL will be collected from the settings.js file located in the "+this.appNameService.applicationNameOverrides.APPLICATION_SHORT_NAME+" Web Client site\n                                    (and configured with Server Manager).\n                                    This URL will be used to make a request and analyse the returned code.",this.exampleText="",this.additionalInfoText="Run the test using the run button located to the right.\n                                            No additional setup is required for this test.",this.warnings=[]}runTest(){super.runTestIncHttps(),super.domainCheck()}}class W extends Y{constructor(t){super(),this.appNameService=t,this.testName="SPF Services",this.type=E.Odata,this.url="$metadata",this.expectedCode=401,this.belongsToGroup=k.Basic,this.runState=N.Idle,this.description="This test will call the SPF Services and check they are functioning correctly.\n                                    The OData URL will be collected from the settings.js file located in the "+this.appNameService.applicationNameOverrides.APPLICATION_SHORT_NAME+" Web Client site\n                                    (and configured with Server Manager).\n                                    This URL will be used to make a request and analyse the returned code.",this.additionalInfoText="Run the test using the run button located to the right.\n                                            No additional setup is required for this test.",this.warnings=[]}runTest(){super.runTestIncHttps(),super.domainCheck()}}let j=(()=>{class t{constructor(t){this.tests=[],this.tests.push(new W(t),new X(t),new H(t),new G(t))}getAllTests(){return this.tests}assignTestGroups(){let t=[];const e=new R("Basic Tests",[],k.Basic),s=new R("Advanced Tests",[],k.Advanced);return this.tests.forEach(t=>{switch(t.belongsToGroup){case k.Basic:e.testNames.push(t.testName);break;case k.Advanced:s.testNames.push(t.testName);break;default:throw"Your test group is not defined. Please define your test group."}}),t=[e,s],t}}return t.\u0275fac=function(e){return new(e||t)(o.dc(y.a))},t.\u0275prov=o.Ob({token:t,factory:t.\u0275fac}),t})();var D=s("lJxs"),L=s("tk/3");let z=(()=>{class t{constructor(t){this.http=t}getOAuthIssuerUrlFromDescription(t){return this.http.get(t).pipe(Object(D.a)(t=>t.TokenIssuerUri))}}return t.\u0275fac=function(e){return new(e||t)(o.dc(L.a))},t.\u0275prov=o.Ob({token:t,factory:t.\u0275fac}),t})();var B=s("TLn4");function F(t,e){1&t&&o.Tb(0,"i",9)}function V(t,e){1&t&&o.Tb(0,"i",10)}function q(t,e){1&t&&(o.Yb(0,"span",11),o.Tb(1,"sda-loading-indicator",12),o.Xb()),2&t&&(o.Eb(1),o.sc("size",25))}function K(t,e){if(1&t&&(o.Yb(0,"div",13),o.Tb(1,"i",14),o.Uc(2),o.Xb()),2&t){const t=o.lc();o.Eb(2),o.Wc(" ",t.testWarningStatus," ")}}let Z=(()=>{class t{constructor(){this.testWarningStatus="There are warnings associated with the executed tests,\n                                        you can view these warnings under their respective tests below.",this.runTestsButtonText="Run All Basic Tests",this.groupToTest=new o.o}setGroupToTest(t){this.groupToTest.emit(t)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=o.Mb({type:t,selectors:[["sda-diagnostics-systeminfo"]],inputs:{loginStatus:"loginStatus",testStatus:"testStatus",loading:"loading",testsPassed:"testsPassed",testsWarnings:"testsWarnings"},outputs:{groupToTest:"groupToTest"},decls:12,vars:9,consts:[["legend","Test Information",3,"toggleable"],[1,"diags__status"],["class","diags__icon fa fa-check diags--good","aria-hidden","true",4,"ngIf"],["class","diags__icon fa fa-exclamation-circle diags--bad","aria-hidden","true",4,"ngIf"],["class","diags__icon",4,"ngIf"],[1,"diags__status__result"],["class","diags__status__warnings",4,"ngIf"],[1,"diags__status__buttons"],[1,"sda-button","sda-button",3,"disabled","click"],["aria-hidden","true",1,"diags__icon","fa","fa-check","diags--good"],["aria-hidden","true",1,"diags__icon","fa","fa-exclamation-circle","diags--bad"],[1,"diags__icon"],[3,"size"],[1,"diags__status__warnings"],["aria-hidden","true",1,"fa","fa-exclamation-circle","diags--info"]],template:function(t,e){1&t&&(o.Yb(0,"p-fieldset",0),o.Yb(1,"h2",1),o.Sc(2,F,1,0,"i",2),o.Sc(3,V,1,0,"i",3),o.Sc(4,q,2,1,"span",4),o.Uc(5),o.Xb(),o.Yb(6,"div",5),o.Uc(7),o.Xb(),o.Sc(8,K,3,1,"div",6),o.Yb(9,"div",7),o.Yb(10,"button",8),o.hc("click",(function(){return e.setGroupToTest("Basic Tests")})),o.Uc(11),o.Xb(),o.Xb(),o.Xb()),2&t&&(o.sc("toggleable",!0),o.Eb(2),o.sc("ngIf",!e.loading&&!0===e.testsPassed),o.Eb(1),o.sc("ngIf",!e.loading&&!1===e.testsPassed),o.Eb(1),o.sc("ngIf",e.loading),o.Eb(1),o.Wc(" ",e.testStatus," "),o.Eb(2),o.Vc(e.loginStatus),o.Eb(1),o.sc("ngIf",e.testsWarnings&&!e.testsPassed&&void 0!==e.testsPassed),o.Eb(2),o.sc("disabled",void 0!==e.testsPassed),o.Eb(1),o.Vc(e.runTestsButtonText))},directives:[T,n.t,B.a],styles:[".diags--good[_ngcontent-%COMP%]{color:#559d39}.diags--bad[_ngcontent-%COMP%]{color:#a30f21}.diags--info[_ngcontent-%COMP%]{color:#f2bf25}.diags__systeminfo[_ngcontent-%COMP%]{display:flex;flex-direction:column;padding:10px}.diags__status[_ngcontent-%COMP%]{position:relative;margin:20px 10px}@media screen and (max-width:33.0625em){.diags__status[_ngcontent-%COMP%]{font-size:1.25rem}}@media screen and (min-width:33.125em) and (max-width:59.3125em){.diags__status[_ngcontent-%COMP%]{font-size:1.5rem}}@media screen and (min-width:59.375em){.diags__status[_ngcontent-%COMP%]{font-size:1.75rem}}.diags__status__result[_ngcontent-%COMP%]{margin:0 10px 20px}@media screen and (max-width:33.0625em){.diags__status__result[_ngcontent-%COMP%]{font-size:1rem}}@media screen and (min-width:33.125em) and (max-width:59.3125em){.diags__status__result[_ngcontent-%COMP%]{font-size:1.25rem}}@media screen and (min-width:59.375em){.diags__status__result[_ngcontent-%COMP%]{font-size:1.5rem}}.diags__status__warnings[_ngcontent-%COMP%]{margin-bottom:20px;padding:10px;background:#fcefc7;border:1px solid #d1a00c;border-radius:3px}.diags__status__buttons[_ngcontent-%COMP%]{margin-bottom:10px}"]}),t})();var $=s("LRne"),J=s("z6cu"),Q=s("JIr8"),tt=s("Z9D8");let et=(()=>{class t{constructor(t,e){this.http=t,this.appNameService=e,this.HEALTH_INDICATOR_CONNECTION_ERROR="An error occurred while attempting to validate this connection.",this.HEALTH_INDICATOR_ENDPOINT_UNVERIFIED="We could not verify this endpoint.\nPlease verify that the URL below is correct and ensure\nCORS is properly enabled on the server you are trying to access."}checkEndpoint(t){let e=new U(t);try{return this.http.get(t.url,{observe:"response"}).pipe(Object(D.a)(s=>(e.healthy=t.expectedCode===s.status,e.endpoint.returnedCode=s.status,e)),Object(Q.a)(s=>{const n=new tt.a(s,this.HEALTH_INDICATOR_CONNECTION_ERROR);if(void 0!==s.status){if(t.name===new G(this.appNameService).testName)return e=this.corsChecks(s,e),Object($.a)(e);if(200===s.status)return n.message=this.HEALTH_INDICATOR_ENDPOINT_UNVERIFIED,n.statusCode=s.status,e.error=n,Object(J.a)(n);if(0===s.status)return n.message=this.HEALTH_INDICATOR_ENDPOINT_UNVERIFIED,n.statusCode=s.status,e.error=n,Object(J.a)(n);if(s.status===t.expectedCode)return e.healthy=!0,e.endpoint.returnedCode=s.status,Object($.a)(e);n.message=s.message,n.statusCode=s.status}return e.error=n,Object(J.a)(n)}))}catch(s){throw s}}httpsChecks(t){const e=new U(t),s=t.url,n=s.substring(0,s.indexOf("/")),i=s.replace(/(https:\/\/)/g,"http://");return n!==window.location.protocol&&e.warnings.push("The diagnostics page is not running on the same protocol as the tested URL.\n                                        This may cause this test to fail. Please change to the correct protocol and re-run this test."),this.http.get(i,{observe:"response"}).pipe(Object(D.a)(s=>(t.expectedCode===s.status?(e.healthy=!1,e.endpoint.endpointSpecificMessage="The tested URL is configured to run using the HTTPS protocol.\n                                                                    This test has failed.\n                                                                    However, the same URL was successfully reached using the HTTP protocol.\n                                                                    This indicates that there is either an issue with the HTTPS setup on the server,\n                                                                    or the diagnostics page should be run from a HTTPS URL."):(e.healthy=!1,e.endpoint.endpointSpecificMessage="A test has been run on the URL below using the http protocol.\n                                                                        This test has failed.\n                                                                        This indicates that there is an issue with something other than https.\n                                                                        If you are using a separate SPF Application Server,\n                                                                        run the CORS test to ensure CORS is enabled on the server.",e.endpoint.returnedCode=s.status),e)),Object(Q.a)(t=>(e.healthy=!1,e.endpoint.endpointSpecificMessage="A test has been run on the URL below using the http protocol.\n                                                                        This test has failed.\n                                                                        This indicates that there is an issue with something other than https.\n                                                                        If you are using a separate SPF Application Server,\n                                                                        run the CORS test to ensure CORS is enabled on the server.",e.endpoint.returnedCode=t.status,Object($.a)(e))))}domainChecks(t){let e="";return e=this.hostDifferent(t)?"Your current domain is different to the domain used to run this test.\n                        Please refer to the url section below and verify the url is correct.":void 0,e}bravaChecks(t){let e;return!t.hasOwnProperty("status")&&!t.hasOwnProperty("statusCode")||0!==t.status&&0!==t.statusCode||(e="Browser specific security checks may have caused this test to fail.\n                        Check the browser console for any specific errors. You can also run this test in a different browser."),e}corsChecks(t,e){if(t.headers.get("Access-Control-Allow-Origin")){const s=t.headers.get("Access-Control-Allow-Origin");this.corsHeaderCheck(s)&&(e.healthy=!0,e.endpoint.returnedCode=t.status,e.endpoint.endpointSpecificMessage="CORS header returned successfully.\n                                                                    The server you are trying to connect to has CORS enabled.")}else e.healthy=!1,e.endpoint.returnedCode=t.status,e.endpoint.endpointSpecificMessage="CORS header was not returned,\n                                                                please make sure to check that CORS is set up on the remote server.\n                                                                If CORS is set up, please expose the\n                                                                Access-Control-Allow-Origin header in your web.config file.";return e}corsHeaderCheck(t){let e=!1;return t!==window.location.protocol+"//"+window.location.host&&"*"!==t||(e=!0),e}hostDifferent(t){return t.length>0&&t.replace(/(^\w+:|^)\/\//,"").split("/"[0])[0]!==window.location.host}}return t.\u0275fac=function(e){return new(e||t)(o.dc(L.a),o.dc(y.a))},t.\u0275prov=o.Ob({token:t,factory:t.\u0275fac}),t})();const st=["*"];let nt=(()=>{class t{constructor(){this.NO_CODE_FOUND="No code found"}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=o.Mb({type:t,selectors:[["sda-code-snippet"]],ngContentSelectors:st,decls:3,vars:0,consts:[[1,"snippet"],[1,"code"]],template:function(t,e){1&t&&(o.rc(),o.Yb(0,"div",0),o.Yb(1,"code",1),o.qc(2),o.Xb(),o.Xb())},styles:[".snippet[_ngcontent-%COMP%]{display:flex;padding:15px;background-color:#ebedf0;border:1px solid grey;border-radius:7px}.code[_ngcontent-%COMP%]{color:#1f2429}"]}),t})();function it(t,e){if(1&t&&(o.Yb(0,"li"),o.Uc(1),o.Xb()),2&t){const t=e.$implicit;o.Eb(1),o.Vc(t)}}let at=(()=>{class t{constructor(){this.warningsHeader="WARNINGS: "}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=o.Mb({type:t,selectors:[["sda-health-indicator-warnings"]],inputs:{testWarnings:"testWarnings"},decls:7,vars:2,consts:[[1,"health__advice__warning"],[1,"health__advice__warning__heading"],["aria-hidden","true",1,"fa","fa-exclamation-circle","health--warning"],[1,"health__advice__warning__list"],[4,"ngFor","ngForOf"]],template:function(t,e){1&t&&(o.Yb(0,"div",0),o.Yb(1,"h4",1),o.Yb(2,"span"),o.Tb(3,"i",2),o.Uc(4),o.Xb(),o.Xb(),o.Yb(5,"ul",3),o.Sc(6,it,2,1,"li",4),o.Xb(),o.Xb()),2&t&&(o.Eb(4),o.Wc(" ",e.warningsHeader," "),o.Eb(2),o.sc("ngForOf",e.testWarnings))},directives:[n.s],styles:[".health[_ngcontent-%COMP%]{position:relative}.health--good[_ngcontent-%COMP%]{color:#559d39}.health--bad[_ngcontent-%COMP%]{color:#a30f21}.health--warning[_ngcontent-%COMP%]{color:#f2bf25}.health__advice__warning[_ngcontent-%COMP%]{margin-bottom:15px;padding:10px;background:#fcefc7;border:1px solid #d1a00c;border-radius:3px}.health__advice__warning__heading[_ngcontent-%COMP%]{font-weight:500}.health__advice__warning__heading[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{margin-right:10px}.health__advice__warning__list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{padding:10px 0 0;list-style:circle inside}"]}),t})();const ot=function(t,e){return{"health--bad fa-exclamation-circle":t,"health--good fa-check":e}};function rt(t,e){if(1&t&&o.Tb(0,"i",19),2&t){const t=o.lc();o.sc("ngClass",o.yc(1,ot,!t.test.healthy,t.test.healthy))}}function ct(t,e){1&t&&o.Tb(0,"sda-loading-indicator",20),2&t&&o.sc("size",15)}function lt(t,e){if(1&t&&(o.Yb(0,"span",21),o.Uc(1),o.Xb()),2&t){const t=o.lc();o.Eb(1),o.Wc(" ",t.warningsNotify," ")}}function ht(t,e){if(1&t){const t=o.Zb();o.Yb(0,"button",22),o.hc("click",(function(){return o.Kc(t),o.lc().resetTestRun()})),o.Tb(1,"i",23),o.Xb()}if(2&t){const t=o.lc();o.tc("title",t.editButtonText),o.sc("disabled",1===t.test.runState||2===t.test.runState)}}function dt(t,e){if(1&t&&(o.Yb(0,"h4",27),o.Uc(1),o.Xb()),2&t){const t=o.lc(2);o.Eb(1),o.Wc(" ",t.testDescriptionHeader," ")}}function ut(t,e){if(1&t&&(o.Yb(0,"h4",27),o.Uc(1),o.Xb()),2&t){const t=o.lc(2);o.Eb(1),o.Wc(" ",t.exampleHeader," ")}}function gt(t,e){if(1&t&&(o.Yb(0,"h4",27),o.Uc(1),o.Xb()),2&t){const t=o.lc(2);o.Eb(1),o.Wc(" ",t.additionalInformationHeader," ")}}function pt(t,e){if(1&t&&(o.Yb(0,"sda-code-snippet"),o.Uc(1),o.Xb()),2&t){const t=o.lc(2);o.Eb(1),o.Vc(t.test.additionalInfoCodeSnippet)}}function bt(t,e){if(1&t&&(o.Yb(0,"div",24),o.Yb(1,"div",25),o.Sc(2,dt,2,1,"h4",26),o.Uc(3),o.Xb(),o.Yb(4,"div",25),o.Sc(5,ut,2,1,"h4",26),o.Uc(6),o.Xb(),o.Yb(7,"div",25),o.Sc(8,gt,2,1,"h4",26),o.Uc(9),o.Xb(),o.Yb(10,"div",25),o.Sc(11,pt,2,1,"sda-code-snippet",17),o.Xb(),o.Xb()),2&t){const t=o.lc();o.Eb(2),o.sc("ngIf",t.test.description),o.Eb(1),o.Wc(" ",t.test.description," "),o.Eb(2),o.sc("ngIf",t.test.exampleText),o.Eb(1),o.Wc(" ",t.test.exampleText," "),o.Eb(2),o.sc("ngIf",t.test.additionalInfoText),o.Eb(1),o.Wc(" ",t.test.additionalInfoText," "),o.Eb(2),o.sc("ngIf",t.test.additionalInfoCodeSnippet)}}function ft(t,e){if(1&t){const t=o.Zb();o.Yb(0,"div"),o.Yb(1,"div",28),o.Yb(2,"input",29),o.hc("ngModelChange",(function(e){return o.Kc(t),o.lc().input=e})),o.Xb(),o.Xb(),o.Xb()}if(2&t){const t=o.lc();o.Eb(2),o.tc("placeholder",t.urlPlaceholder),o.sc("ngModel",t.input)}}function _t(t,e){if(1&t&&o.Tb(0,"sda-health-indicator-warnings",38),2&t){const t=o.lc(2);o.sc("testWarnings",t.test.warnings)}}function mt(t,e){if(1&t&&(o.Yb(0,"div",39),o.Yb(1,"h4",27),o.Uc(2),o.Xb(),o.Uc(3),o.Xb()),2&t){const t=o.lc(2);o.Eb(2),o.Vc(t.errorCodeHeader),o.Eb(1),o.Wc(" ",t.healthIndicatorCode," ")}}function Ct(t,e){if(1&t&&(o.Yb(0,"div",40),o.Yb(1,"h4",27),o.Uc(2),o.Xb(),o.Uc(3),o.Xb()),2&t){const t=o.lc(2);o.Eb(2),o.Vc(t.errorMessageHeader),o.Eb(1),o.Wc(" ",t.errorMessage," ")}}function vt(t,e){if(1&t&&(o.Yb(0,"div",30),o.Sc(1,_t,1,1,"sda-health-indicator-warnings",31),o.Yb(2,"div",32),o.Yb(3,"h4",27),o.Uc(4),o.Xb(),o.Uc(5),o.Xb(),o.Sc(6,mt,4,2,"div",33),o.Sc(7,Ct,4,2,"div",34),o.Yb(8,"div",35),o.Yb(9,"h4",27),o.Uc(10),o.Xb(),o.Yb(11,"span",36),o.Uc(12),o.Xb(),o.Yb(13,"span",37),o.Uc(14),o.Xb(),o.Yb(15,"span"),o.Uc(16),o.Xb(),o.Xb(),o.Xb()),2&t){const t=o.lc();o.Eb(1),o.sc("ngIf",t.test.warnings.length>0),o.Eb(3),o.Vc(t.messageHeader),o.Eb(1),o.Wc(" ",t.message," "),o.Eb(1),o.sc("ngIf",t.healthIndicatorCode),o.Eb(1),o.sc("ngIf",t.errorMessage),o.Eb(3),o.Vc(t.urlHeader),o.Eb(2),o.Vc(t.healthIndicatorUrlDescription),o.Eb(2),o.Wc("",t.healthIndicatorUrlLabel,": "),o.Eb(2),o.Vc(t.test.url)}}function wt(t,e){if(1&t&&o.Tb(0,"sda-health-indicator-warnings",38),2&t){const t=o.lc(2);o.sc("testWarnings",t.test.warnings)}}function Ot(t,e){if(1&t&&(o.Yb(0,"div",30),o.Sc(1,wt,1,1,"sda-health-indicator-warnings",31),o.Yb(2,"div",32),o.Yb(3,"h4",27),o.Uc(4),o.Xb(),o.Uc(5),o.Xb(),o.Yb(6,"div",32),o.Yb(7,"h4",27),o.Uc(8),o.Xb(),o.Uc(9),o.Xb(),o.Yb(10,"div",35),o.Yb(11,"h4",27),o.Uc(12),o.Xb(),o.Yb(13,"span",37),o.Uc(14),o.Xb(),o.Yb(15,"span"),o.Uc(16),o.Xb(),o.Xb(),o.Xb()),2&t){const t=o.lc();o.Eb(1),o.sc("ngIf",t.test.warnings.length>0),o.Eb(3),o.Vc(t.successMessageHeader),o.Eb(1),o.Wc(" ",t.healthIndicatorSuccessMessage," "),o.Eb(3),o.Vc(t.messageHeader),o.Eb(1),o.Wc(" ",t.message," "),o.Eb(3),o.Vc(t.urlHeader),o.Eb(2),o.Wc("",t.healthIndicatorUrlLabel,": "),o.Eb(2),o.Vc(t.test.url)}}let Tt=(()=>{class t{constructor(t){this.healthService=t,this.testDescriptionHeader="Test Description",this.exampleHeader="Example",this.additionalInformationHeader="Additional Information",this.messageHeader="Message",this.errorMessageHeader="Error Message",this.errorCodeHeader="Error Code",this.urlHeader="Tests have been run on the following URLs",this.successMessageHeader="Success Message",this.healthIndicatorName="Default Name",this.message="Validating this endpoint.",this.healthIndicatorUrlDescription="Please check the URLs below for any errors.",this.healthIndicatorUrlLabel="URL",this.healthIndicatorUrl="Url could not be found...",this.healthIndicatorMessage="This connection appears to be up and running.",this.healthIndicatorSuccessMessage="This test was successful.  See below for more details.",this.healthIndicatorErrorValidatingConnection="An error occurred while validating this connection",this.urlPlaceholder="Enter URL to test here...",this.warningsNotify="There are warnings associated with this test!",this.runButtonText="Run Test",this.editButtonText="Edit URL",this.contentPopulated=!1,this.indicate=new o.o,this.groupTestComplete=new o.o}ngOnInit(){this.test.healthService=this.healthService}ngDoCheck(){if(this.shouldRunGroupTest&&(this.runTestGroup(),this.shouldRunGroupTest=!1),!1!==this.test.healthy||!1!==this.toggleComplete&&void 0!==this.toggleComplete||!1!==this.testRunToggleComplete&&void 0!==this.testRunToggleComplete||(this.toggleComplete=!0,this.testRunToggleComplete=!0),this.test.testResult&&!this.contentPopulated){const t=new A(this.test.testName,this.test.url,this.test.expectedCode,this.test.type);this.test.testResult.hasOwnProperty("statusCode")?this.populateContentOnError(this.test.testResult,t):this.populateContentOnSuccess(this.test.testResult,t),this.indicate.emit(t)}}itemToggle(){this.toggleComplete=!this.toggleComplete}runTestGroup(){this.shouldRunGroupTest&&this.testGroup&&this.testGroup.testGroup===k.Basic?(this.testGroup.tests.forEach(t=>{this.test.testName===t.testName&&(this.shouldRunGroupTest=!1,this.test.testResult||this.runTestSingle())}),this.groupTestComplete.emit(!0)):this.shouldRunGroupTest&&this.testGroup?(this.testGroup.tests.forEach(t=>{this.test.testName===t.testName&&this.input&&(this.shouldRunGroupTest=!1,this.test.testResult||this.runTestSingle())}),this.groupTestComplete.emit(!0)):this.groupTestComplete.emit(!1)}runTestSingle(){this.test.runState=N.Running,this.input&&(this.test.url=this.input),this.test.runTest()}resetTestRun(){this.test.resetTest(),this.contentPopulated=!1}populateContentOnError(t,e){this.result=t,this.test.runState=N.Complete,this.test.healthy=!1,this.message=this.result.message,this.errorMessage=this.result.statusText,this.healthIndicatorCode=this.result.statusCode,this.result.endpoint&&this.result.endpoint.endpointSpecificMessage&&(this.message=this.result.endpoint.endpointSpecificMessage),this.contentPopulated=!0,this.toggleComplete=!0,this.testRunToggleComplete=!0}populateContentOnSuccess(t,e){this.result=t,this.test.runState=N.Complete,this.test.healthy=this.result.healthy,this.healthIndicatorName=this.result.endpoint.name,this.healthIndicatorUrl=this.result.endpoint.url,this.healthIndicatorCode=this.result.endpoint.returnedCode,this.message=this.healthIndicatorMessage,this.result.endpoint&&this.result.endpoint.endpointSpecificMessage&&(this.message=this.result.endpoint.endpointSpecificMessage),this.result.endpoint.testRunOnEndpoint=!0,this.contentPopulated=!0}}return t.\u0275fac=function(e){return new(e||t)(o.Sb(et))},t.\u0275cmp=o.Mb({type:t,selectors:[["sda-health-indicator"]],inputs:{test:"test",testGroup:"testGroup",shouldRunGroupTest:"shouldRunGroupTest"},outputs:{indicate:"indicate",groupTestComplete:"groupTestComplete"},features:[o.Db([et])],decls:23,vars:29,consts:[[1,"item"],[1,"item-topbar"],[1,"item-state"],["role","icon","width","12","height","12","viewBox","0 0 1792 1792","xmlns","http://www.w3.org/2000/svg","aria-labelledby","title",1,"item-state__caret"],["d","M1152 896q0 26-19 45l-448 448q-19 19-45 19t-45-19-19-45v-896q0-26 19-45t45-19 45 19l448 448q19 19 19 45z"],[1,"item-topbar__title","health__header__name",3,"click"],[1,"health__header__icon"],["class","fa","aria-hidden","true",3,"ngClass",4,"ngIf"],[3,"size",4,"ngIf"],["class","health__header__info",4,"ngIf"],[1,"health__header__runtests-btn"],["class","health__header__runtests-btn health__header__runtests-btn__edit sda-button sda-button--blue",3,"disabled","title","click",4,"ngIf"],[1,"health__header__runtests-btn","health__header__runtests-btn__run","sda-button","sda-button--blue",3,"disabled","title","click"],["aria-hidden","true",1,"fa","fa-play"],[1,"item-section"],[1,"item-section__content"],["class","health__advice__pretest",4,"ngIf"],[4,"ngIf"],["class","health__advice",4,"ngIf"],["aria-hidden","true",1,"fa",3,"ngClass"],[3,"size"],[1,"health__header__info"],[1,"health__header__runtests-btn","health__header__runtests-btn__edit","sda-button","sda-button--blue",3,"disabled","title","click"],["aria-hidden","true",1,"fa","fa-pencil-square-o"],[1,"health__advice__pretest"],[1,"health__advice__pretest__section"],["class","health__advice__pretest__heading",4,"ngIf"],[1,"health__advice__pretest__heading"],[1,"health__manual__container"],["type","url","pattern","https?://.+",1,"health__manual__input",3,"ngModel","placeholder","ngModelChange"],[1,"health__advice"],[3,"testWarnings",4,"ngIf"],[1,"health__advice__message"],["class","health__advice__errorcode",4,"ngIf"],["class","health__advice__errormessage",4,"ngIf"],[1,"health__advice__url"],[1,"health__advice__message__header"],[1,"health__advice__title"],[3,"testWarnings"],[1,"health__advice__errorcode"],[1,"health__advice__errormessage"]],template:function(t,e){1&t&&(o.Yb(0,"div",0),o.Yb(1,"div",1),o.Yb(2,"div",2),o.kc(),o.Yb(3,"svg",3),o.Yb(4,"title"),o.Uc(5,"Caret"),o.Xb(),o.Tb(6,"path",4),o.Xb(),o.Xb(),o.jc(),o.Yb(7,"h4",5),o.hc("click",(function(){return e.itemToggle()})),o.Yb(8,"span",6),o.Sc(9,rt,1,4,"i",7),o.Sc(10,ct,1,1,"sda-loading-indicator",8),o.Xb(),o.Uc(11),o.Sc(12,lt,2,1,"span",9),o.Xb(),o.Yb(13,"div",10),o.Sc(14,ht,2,2,"button",11),o.Yb(15,"button",12),o.hc("click",(function(){return e.runTestSingle()})),o.Tb(16,"i",13),o.Xb(),o.Xb(),o.Xb(),o.Yb(17,"div",14),o.Yb(18,"div",15),o.Sc(19,bt,12,7,"div",16),o.Sc(20,ft,3,2,"div",17),o.Sc(21,vt,17,9,"div",18),o.Sc(22,Ot,17,8,"div",18),o.Xb(),o.Xb(),o.Xb()),2&t&&(o.Ib("indicator",!0)("item--inactive",!e.toggleComplete)("item--active",e.toggleComplete),o.Eb(2),o.Ib("item-state--inactive",!e.toggleComplete)("item-state--active",e.toggleComplete),o.Eb(7),o.sc("ngIf",0===e.test.runState),o.Eb(1),o.sc("ngIf",2===e.test.runState),o.Eb(1),o.Wc(" ",e.test.testName," "),o.Eb(1),o.sc("ngIf",e.test.warnings.length>0),o.Eb(2),o.sc("ngIf",0===e.test.type),o.Eb(1),o.tc("title",e.runButtonText),o.sc("disabled",!e.input&&0===e.test.type||0===e.test.runState||2===e.test.runState),o.Eb(2),o.Ib("item-section--overflown",!e.toggleComplete)("item-section--inactive",!e.toggleComplete)("item-section--active",e.toggleComplete),o.sc("@itemSection",e.toggleComplete?"visible":"hidden"),o.Fb("aria-hidden",!e.toggleComplete),o.Eb(2),o.sc("ngIf",1===e.test.runState),o.Eb(1),o.sc("ngIf",0===e.test.type&&1===e.test.runState),o.Eb(1),o.sc("ngIf",0===e.test.runState&&!e.test.healthy),o.Eb(1),o.sc("ngIf",0===e.test.runState&&e.test.healthy))},directives:[n.t,n.q,B.a,nt,i.c,i.w,i.p,i.s,at],styles:["[_nghost-%COMP%]{display:flex}.health[_ngcontent-%COMP%]{position:relative}.health--good[_ngcontent-%COMP%]{color:#559d39}.health--bad[_ngcontent-%COMP%]{color:#a30f21}.health--warning[_ngcontent-%COMP%]{color:#f2bf25}.health__header__name[_ngcontent-%COMP%]{font-weight:500;height:100%}.health__header__icon[_ngcontent-%COMP%]{margin-right:15px}.health__header__info[_ngcontent-%COMP%]{margin-left:10px;font-size:.75rem;color:#546e7a}.health__header__runtests-btn[_ngcontent-%COMP%]{display:flex;align-items:center;height:32px;padding:0 16px}.health__header__runtests-btn__edit[_ngcontent-%COMP%]{margin-right:5px}.health__manual__container[_ngcontent-%COMP%]{display:flex;padding:10px 20px}.health__manual__input[_ngcontent-%COMP%]{width:100%}.health__advice[_ngcontent-%COMP%], .health__advice__pretest[_ngcontent-%COMP%]{padding:10px 20px}.health__advice__pretest__heading[_ngcontent-%COMP%]{text-decoration:underline;font-weight:500;padding-bottom:10px}.health__advice__pretest__section[_ngcontent-%COMP%]{padding-top:10px}.health__advice__message[_ngcontent-%COMP%]{margin-bottom:15px}.health__advice__message__header[_ngcontent-%COMP%]{display:flex;align-items:center;margin-bottom:10px}.health__advice__errorcode[_ngcontent-%COMP%], .health__advice__errormessage[_ngcontent-%COMP%], .health__advice__url[_ngcontent-%COMP%]{margin-bottom:15px}"],data:{animation:[Object(r.o)("itemSection",[Object(r.l)("hidden",Object(r.m)({height:"0"})),Object(r.l)("visible",Object(r.m)({height:"*"})),Object(r.n)("visible <=> hidden",Object(r.e)("400ms cubic-bezier(0.86, 0, 0.07, 1)"))])]}}),t})();function St(t,e){if(1&t&&(o.Yb(0,"div",2),o.Yb(1,"h2",3),o.Uc(2),o.Xb(),o.Xb()),2&t){const t=o.lc();o.Eb(2),o.Vc(t.disabledMessage)}}function xt(t,e){if(1&t){const t=o.Zb();o.Yb(0,"sda-health-indicator",13),o.hc("indicate",(function(e){return o.Kc(t),o.lc(3).check(e)})),o.Xb()}if(2&t){const t=e.$implicit,s=o.lc().$implicit,n=o.lc(2);o.sc("shouldRunGroupTest",n.shouldRunGroupTest)("testGroup",s)("test",t)}}function Pt(t,e){if(1&t&&(o.Yb(0,"div",7),o.Yb(1,"header",8),o.Yb(2,"h4",9),o.Uc(3),o.Xb(),o.Xb(),o.Yb(4,"div",10),o.Yb(5,"div",11),o.Sc(6,xt,1,3,"sda-health-indicator",12),o.Xb(),o.Xb(),o.Xb()),2&t){const t=e.$implicit;o.Eb(3),o.Vc(t.name),o.Eb(1),o.Ib("item-section--active",!0),o.Eb(2),o.sc("ngForOf",t.tests)}}function yt(t,e){if(1&t){const t=o.Zb();o.Yb(0,"div",4),o.Yb(1,"sda-diagnostics-systeminfo",5),o.hc("groupToTest",(function(e){return o.Kc(t),o.lc().enableGroupTest(e)})),o.Xb(),o.Sc(2,Pt,7,4,"div",6),o.Xb()}if(2&t){const t=o.lc();o.Eb(1),o.sc("loading",t.loading)("testsPassed",t.testsPassed)("testsWarnings",t.testsWarnings)("loginStatus",t.loginStatus)("testStatus",t.testStatus),o.Eb(1),o.sc("ngForOf",t.testGroups)}}let It=(()=>{class t{constructor(t,e,s){this.cdRef=t,this.appNameService=e,this.diagnosticsService=s,this.myClass="wc-background",this.healthIndicators=[],this.loginStatus="Advanced tests can be run manually from the 'Advanced Tests' section below.",this.testStatus="Run the basic tests below",this.testsWarnings=!1,this.testGroups=[],this.tests=[],this.allBasicTestsRun=[],this.allBasicTestsRunBool=!1,this.endpoints=[],this.disabledMessage="Diagnostics have been disabled for this "+this.appNameService.applicationNameOverrides.APPLICATION_SHORT_NAME+" Web Client Site.\n                                        This may be re-enabled using the Enable Diagnostics setting in Server Manager.",this.testsService=new j(e)}ngOnInit(){this.tests=this.testsService.getAllTests(),this.testGroups=this.testsService.assignTestGroups(),this.populateTestGroups(),this.initialized=void 0===Settings.diagnosticsSettings.enableDiagnostics||!0===Settings.diagnosticsSettings.enableDiagnostics}pushUpToDateSettings(t){this.loading=!0,t&&this.populateTestGroups()}populateTestGroups(){this.tests.forEach(t=>{let e;switch(t.type){case E.Authorization:e="authorization";break;case E.ClientServices:e="clientServices";break;case E.Odata:e="odata";break;default:e="manual"}const s=Settings[e];if(s||t.type!==E.Manual||(t.url="",this.testGroups.forEach(e=>{e.testNames.includes(t.testName)&&e.tests.push(t)})),s){if(s.url){const e=s.url+("/"===s.url.substr(-1)?"":"/");t.url=e+t.url}else this.diagnosticsService.getOAuthIssuerUrlFromDescription(Settings.odata.url+"/description").pipe(Object(M.a)(1)).subscribe(e=>{const s=e+("/"===e.substr(-1)?"":"/");t.url=s+t.url});this.testGroups.forEach(e=>{e.testNames.includes(t.testName)&&e.tests.push(t)})}})}check(t){this.endpoints.push(t),this.checkWarnings(),this.endpoints.length>=this.testGroups[0].testNames.length&&this.endpoints.forEach(t=>{this.testGroups[0].testNames.includes(t.name)&&!this.allBasicTestsRun.includes(t.name)&&this.allBasicTestsRun.push(t.name)}),this.allBasicTestsRun.length===this.testGroups[0].testNames.length&&(this.checkLogin(),this.testStatus="All basic tests have completed",this.loading=!1,this.allBasicTestsRunBool=!0,this.cdRef.detectChanges())}enableGroupTest(t){this.testGroups.forEach(e=>{e.name===t&&(this.groupToTest=e,this.shouldRunGroupTest=!0)})}checkWarnings(){this.testGroups[0].tests.forEach(t=>{t.warnings.length>0&&(this.testsWarnings=!0,this.cdRef.detectChanges())})}checkLogin(){let t=!0;this.testGroups[0].tests.forEach(e=>{e.healthy||(t=!1)}),t?(this.loginStatus="All the basic tests were successfully completed.\n                                This indicates that the configured server components are accepting requests.",this.testsPassed=!0):(this.loginStatus="Configuration issues have been identified. Please check the information below.",this.testsPassed=!1)}}return t.\u0275fac=function(e){return new(e||t)(o.Sb(o.h),o.Sb(y.a),o.Sb(z))},t.\u0275cmp=o.Mb({type:t,selectors:[["sda-diagnostics"]],hostVars:2,hostBindings:function(t,e){2&t&&o.Gb(e.myClass)},features:[o.Db([z])],decls:2,vars:2,consts:[["class","diags diags--disabled",4,"ngIf"],["class","diags",4,"ngIf"],[1,"diags","diags--disabled"],[1,"diags__notice"],[1,"diags"],[3,"loading","testsPassed","testsWarnings","loginStatus","testStatus","groupToTest"],["class","item section-wrapper",4,"ngFor","ngForOf"],[1,"item","section-wrapper"],[1,"item-header"],[1,"item-header__title"],[1,"item-section"],[1,"item-section__content"],[3,"shouldRunGroupTest","testGroup","test","indicate",4,"ngFor","ngForOf"],[3,"shouldRunGroupTest","testGroup","test","indicate"]],template:function(t,e){1&t&&(o.Sc(0,St,3,1,"div",0),o.Sc(1,yt,3,6,"div",1)),2&t&&(o.sc("ngIf",!e.initialized),o.Eb(1),o.sc("ngIf",e.initialized))},directives:[n.t,Z,n.s,Tt],styles:["[_nghost-%COMP%]{overflow-x:hidden;overflow-y:scroll;display:flex;flex:1;flex-direction:column;align-items:center}[_nghost-%COMP%]     .item-header, [_nghost-%COMP%]     .item-topbar{display:flex;flex-flow:row nowrap;align-items:center;justify-content:center}[_nghost-%COMP%]     .item{display:flex;flex:1;flex-flow:column wrap;background:#fff}[_nghost-%COMP%]     .item:not(:first-child):not(:only-of-type){margin-top:15px}[_nghost-%COMP%]     .item--active .item-topbar{background-color:#efefef}[_nghost-%COMP%]     .item [class*=__title]{display:flex;flex:1;align-items:center}[_nghost-%COMP%]     .item-header{height:60px;padding-left:15px}[_nghost-%COMP%]     .item-topbar{height:50px;padding-left:10px;background-color:#f7f8f8;transition:background-color .25s ease-in-out}[_nghost-%COMP%]     .item-topbar:hover{cursor:pointer;background-color:#f3f3f3}[_nghost-%COMP%]     .item-state{margin-right:12px;-webkit-transform-origin:center;transform-origin:center;transition:-webkit-transform .25s ease-in;transition:transform .25s ease-in;transition:transform .25s ease-in,-webkit-transform .25s ease-in}[_nghost-%COMP%]     .item-state--inactive{-webkit-transform:rotate(0);transform:rotate(0)}[_nghost-%COMP%]     .item-state--active{-webkit-transform:rotate(90deg);transform:rotate(90deg)}[_nghost-%COMP%]     .item-section--overflown, [_nghost-%COMP%]     .item-section__content{overflow:hidden}.diags[_ngcontent-%COMP%]{flex:1;width:100%;max-width:1000px;padding:20px 30px;background:#fff}.diags--disabled[_ngcontent-%COMP%]{display:flex;flex:1;text-align:center;align-items:center}.diags__notice[_ngcontent-%COMP%]{display:flex;height:100%;margin:0 auto;align-items:center}.diags__topbar[_ngcontent-%COMP%]{flex-shrink:0;padding:16px 30px;border-bottom:1px solid #003a55;box-shadow:0 2px 5px rgba(0,0,0,.25);background-color:#00608f}.diags__title[_ngcontent-%COMP%]{margin:0;color:#fff}@media screen and (max-width:33.0625em){.diags__title[_ngcontent-%COMP%]{font-size:1rem}}@media screen and (min-width:33.125em){.diags__title[_ngcontent-%COMP%]{font-size:1.25em}}.diags__accordian[_ngcontent-%COMP%]{margin:20px 0 30px}@media screen and (max-width:59.3125em){.diags__item[_ngcontent-%COMP%]:not(:first-child){margin-top:15px}}@media screen and (min-width:59.375em){.diags__item[_ngcontent-%COMP%]:not(:first-child){margin-top:30px}}.diags__icon[_ngcontent-%COMP%]{position:absolute;top:4px;left:0}.diags--good[_ngcontent-%COMP%]{color:#559d39}.diags--bad[_ngcontent-%COMP%]{color:#a30f21}.diags--info[_ngcontent-%COMP%]{color:#f2bf25}.diags[_ngcontent-%COMP%]   sda-health-indicator[_ngcontent-%COMP%]:not(:first-child):not(:only-of-type){border-top:1px solid #e2e2e2}.health__header__runtests-btn__run[_ngcontent-%COMP%]{margin-left:auto}.health__header__name[_ngcontent-%COMP%]{display:flex;align-items:center;margin-left:10px}.section-wrapper[_ngcontent-%COMP%]{border:1px solid #e0e0e0;border-radius:3px}"]}),t})();function Mt(t,e){1&t&&(o.Yb(0,"div",3),o.Yb(1,"div",4),o.Tb(2,"sda-diagnostics"),o.Xb(),o.Xb())}const Et=[{path:"",component:(()=>{class t{constructor(t,e){this.sdaTranslateService=t,this.appNameService=e,this.initialized=!1,this.initialiseTranslations()}initialiseTranslations(){this.appNameService.init().subscribe(t=>{this.DIAGNOSTICS_PAGE_TITLE=this.sdaTranslateService.getFormatted("DIAGNOSTICS_PAGE_TITLE","{0} Web Client Diagnostics",[t.APPLICATION_LONG_NAME]),this.initialized=!0})}}return t.\u0275fac=function(e){return new(e||t)(o.Sb(I.a),o.Sb(y.a))},t.\u0275cmp=o.Mb({type:t,selectors:[["sda-diagnostics-host"]],decls:4,vars:2,consts:[[1,"shell-topbar"],[1,"shell-topbar__title"],["class","shell-main",4,"ngIf"],[1,"shell-main"],[1,"shell-main__content"]],template:function(t,e){1&t&&(o.Yb(0,"header",0),o.Yb(1,"h1",1),o.Uc(2),o.Xb(),o.Xb(),o.Sc(3,Mt,3,0,"div",2)),2&t&&(o.Eb(2),o.Vc(e.DIAGNOSTICS_PAGE_TITLE),o.Eb(1),o.sc("ngIf",e.initialized))},directives:[n.t,It],styles:[".shell-topbar__title[_ngcontent-%COMP%]{overflow:hidden;white-space:nowrap;text-overflow:ellipsis}[_nghost-%COMP%]{display:flex;flex:1;flex-direction:column;height:100%}.shell-topbar[_ngcontent-%COMP%]{position:relative;display:flex;justify-content:space-between;flex:0 0 auto;flex-direction:row;align-items:center;height:56px;padding:0 16px;background-color:#00608f;border-bottom:1px solid #003a55;z-index:300!important}.shell-topbar__title[_ngcontent-%COMP%]{flex:1;color:#fff;font-size:20px}.shell-topbar__content[_ngcontent-%COMP%]{display:flex;flex:0 0 100%;align-items:center;justify-content:flex-end;max-width:80%}@media screen and (max-width:47.9375em){.shell-topbar__content[_ngcontent-%COMP%]{max-width:none;justify-content:space-between}}.shell-main[_ngcontent-%COMP%], .shell-main__content[_ngcontent-%COMP%]{display:flex;flex:1;flex-direction:row;overflow:hidden}"]}),t})()}];let Rt=(()=>{class t{}return t.\u0275mod=o.Qb({type:t}),t.\u0275inj=o.Pb({factory:function(e){return new(e||t)},imports:[[n.c,i.j,x.a,S,P.a,a.k.forChild(Et)],a.k]}),t})()}}]);