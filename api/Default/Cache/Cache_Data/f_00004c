(window.webpackJsonp=window.webpackJsonp||[]).push([[97],{"7by/":function(e,t,i){"use strict";i.r(t),i.d(t,"DatabookManagementRoutingModule",(function(){return dt}));var a=i("ofXK"),s=i("3Pt+"),o=i("TU8p"),n=i("wZkO"),r=i("/RsI"),d=i("g9iH"),l=i("EVgl"),c=i("BMkO"),h=i("vZO+"),u=i("K9v4"),p=i("YKfw"),b=i("F+hv"),g=i("mQCr"),f=i("GDd0"),v=i("uJvP"),m=i("cDey"),S=i("daOA"),C=i("IsgS"),O=i("fXoL");let D=(()=>{class e{}return e.\u0275mod=O.Qb({type:e}),e.\u0275inj=O.Pb({factory:function(t){return new(t||e)},imports:[[a.c,C.a]]}),e})();var I=i("lJxs"),w=i("WjcW"),B=i("qSfU"),R=i("wN6G"),y=i("Z9D8"),T=i("LUpO"),P=i("kx0E"),_=i("J7mc"),M=i("Ejbi"),N=i("41Lq"),k=i("ONOH");class E{constructor(e,t,i){this.OBID=e,this.databookOBID=t,this.chapterOBIDs=i}}let A=(()=>{class e{constructor(e,t,i,a,s,o,n){this.dataService=e,this.exceptionService=t,this.notificationService=i,this.crudService=a,this.sdaTranslateService=s,this.configService=o,this.dataFormatService=n}getChildrenFromParent(e,t,i,a,s){return this.dataService.get("GetChildrenFromParent?ParentObjOBID='"+e+"'&ParentObjClassDef='"+t+"'&RelDef='"+i+"'&ParentColumnSetUID='"+a+"'&ChildColumnSetUID='"+s+"'").pipe(Object(I.a)(e=>e))}saveChanges(e){if(e){const t=new w.a(void 0);t.properties.push(new B.a("Description",e.description)),this.crudService.update(e.obid,t).subscribe(()=>{this.dataService.get("Objects('"+e.obid+"')/?$select=LastUpdatedDate",this.configService.selectedCreateConfig,!0).subscribe(t=>{if(!t||!t.LastUpdatedDate)throw new y.a(void 0,this.sdaTranslateService.get("DETAILS_NOT_SAVED_MESSAGE","Failed to save details"));e.description=e.description?e.description.substring(0):void 0,e.isInEdit=!1,this.notificationService.success(this.sdaTranslateService.get("RESPONSE_MANAGEMENT_REVISION_SAVED_SUCCESS_MESSAGE","Saved successfully"))})},e=>{this.exceptionService.handleException(e)})}}getHandoverRequestFromObject(e,t){return this.dataService.get(`Objects?$filter=contains(Interfaces, 'ISDxHandoverRequest') and OBID eq '${e}'&$expand=SDxHandoverRequestDatabookChapter_12($select=Name,OBID),SDxHandoverRequestDatabook_12($select=Name, OBID)`).pipe(Object(I.a)(e=>{let t="",i="",a=[];if(e[0]){let s;s=e[0],s.OBID&&(t=s.OBID),s.SDxHandoverRequestDatabook_12&&s.SDxHandoverRequestDatabook_12.OBID&&(i=s.SDxHandoverRequestDatabook_12.OBID),s.SDxHandoverRequestDatabookChapter_12&&s.SDxHandoverRequestDatabookChapter_12.length>0&&(a=s.SDxHandoverRequestDatabookChapter_12.map(e=>e.OBID))}return new E(t,i,a)}))}getFormatDisplayItem(e,t){let i="";switch(t){case"DateTimeType":i=this.dataFormatService.convertToLocalDateTimeFormat(e);break;case"YMDType":i=this.dataFormatService.convertToLocalDateFormat(e);break;default:i=e}return i}}return e.\u0275fac=function(t){return new(t||e)(O.dc(_.a),O.dc(T.a),O.dc(N.a),O.dc(R.a),O.dc(M.a),O.dc(k.a),O.dc(P.a))},e.\u0275prov=O.Ob({token:e,factory:e.\u0275fac}),e})(),x=(()=>{class e{}return e.\u0275mod=O.Qb({type:e}),e.\u0275inj=O.Pb({factory:function(t){return new(t||e)},providers:[A],imports:[[a.c,v.a,b.a,d.b,n.e,l.d,h.a,f.a,s.j,u.a,p.a,r.b,D,c.a,S.a,g.a,o.b,m.HandoverRequestApiModule]]}),e})();var j=i("tyNb"),U=i("5iMO"),L=i("quZr"),F=i("qAkX"),V=i("Cfvw"),H=i("LRne"),q=i("eIep"),X=i("IzEk"),z=i("YwUS"),Y=i("c+03"),K=i("PEjJ"),W=i("iwlc"),G=i("+eYH"),$=i("NEWU"),Q=i("C3Sv"),Z=i("iAId"),J=i("Z2F1"),ee=i("/esn"),te=i("wSVK"),ie=i("k1qZ"),ae=i("3UNK"),se=i("XIp8"),oe=i("7zfz"),ne=i("vkgz"),re=i("4B5/"),de=i("oe3R"),le=i("2wkq"),ce=i("m8I0"),he=i("6JPj"),ue=i("zewe"),pe=i("eruR"),be=i("C4gn"),ge=i("jNCI"),fe=i("QkNQ"),ve=i("9iV3"),me=i("ti2P"),Se=i("mqkv"),Ce=i("wpY2"),Oe=i("HLw3"),De=i("F8JD"),Ie=i("b/tf"),we=i("Teex"),Be=i("z0XX"),Re=i("CymU"),ye=i("JrsU"),Te=i("f9sw"),Pe=i("gBNM"),_e=i("QF+H");class Me{constructor(e,t,i,a,s){this.childOBID=e,this.parentOBID=t,this.order=i,this.oldParentOBID=a,this.name=s}}var Ne=i("dkN4"),ke=i("niUd"),Ee=i("t1Kn"),Ae=i("HXFx"),xe=i("lUp+"),je=i("emLD"),Ue=i("Jgl7");function Le(e,t){if(1&e){const e=O.Zb();O.Yb(0,"sda-card-template-user-info-view",7),O.hc("descriptionChange",(function(t){return O.Kc(e),O.lc(2).handoverName=t})),O.Xb()}if(2&e){const e=O.lc(2);O.sc("header",e.handoverDescription)("description",e.handoverName)("additionalInformation",e.handoverSummaryItems)("badge",e.handoverBadge)}}function Fe(e,t){if(1&e&&(O.Yb(0,"mat-tab-group",4),O.Yb(1,"mat-tab",5),O.Sc(2,Le,1,4,"ng-template",6),O.Xb(),O.Xb()),2&e){const e=O.lc();O.Eb(1),O.sc("label",e.HANDOVERREQUEST)}}function Ve(e,t){if(1&e&&(O.Yb(0,"div",14),O.Tb(1,"sda-object-icon",15),O.Xb()),2&e){const e=O.lc().$implicit;O.Eb(1),O.sc("imageName",null==e?null:e.icon)}}function He(e,t){if(1&e&&O.Tb(0,"div",16),2&e){const e=O.lc().$implicit;O.sc("matBadge",e.itemCount)}}function qe(e,t){if(1&e&&(O.Yb(0,"div",10),O.Sc(1,Ve,2,1,"div",11),O.Yb(2,"p",12),O.Uc(3),O.Xb(),O.Sc(4,He,1,1,"div",13),O.Xb()),2&e){const e=t.$implicit,i=O.lc(2);O.Eb(1),O.sc("ngIf",i.mode),O.Eb(1),O.Ib("chapter-list-item__label--disabled",e.partialSelected)("chapter-list-item__label--count",e.itemCount>0),O.Eb(1),O.Wc(" ",e.label," "),O.Eb(1),O.sc("ngIf",e.itemCount>0)}}function Xe(e,t){if(1&e){const e=O.Zb();O.Yb(0,"p-tree",8),O.hc("selectionChange",(function(t){return O.Kc(e),O.lc().selectedNode=t}))("onNodeExpand",(function(t){return O.Kc(e),O.lc().onloadNode(t.node)}))("onNodeCollapse",(function(t){return O.Kc(e),O.lc().onNodeCollapse(t.node)}))("onNodeSelect",(function(t){return O.Kc(e),O.lc().onNodeSelect(t.node)})),O.Sc(1,qe,5,7,"ng-template",9),O.Xb()}if(2&e){const e=O.lc();O.sc("value",e.treeStructure)("selection",e.selectedNode)}}let ze=(()=>{class e{constructor(e,t,i,a,s){this.sdaTranslateService=e,this.databookManagmentService=t,this.linkInterfaceService=i,this.loadingOverlayService=a,this.exceptionService=s,this.onDatabookTreeUpdated=new O.o,this.onNodeSelected=new O.o,this.onNodeCollapsed=new O.o,this.onNodeLoaded=new O.o,this.parentName="",this.handoverChaptersParentUIDs=[],this.handoverBadge="",this.handoverSummaryItems=[],this.updatedItems=[],this.HANDOVERREQUEST=this.sdaTranslateService.get("HANDOVER_REQUEST","HANDOVER REQUEST"),this.HANDOVER_LATEST=this.sdaTranslateService.get("RESPONSE_MANAGEMENT_BODY_LATEST","LATEST")}ngOnInit(){this.initialize()}ngOnChanges(e){e.refreshTree&&this.refreshDatabookTree(e),e.refreshSelectedNode&&this.refreshNode(e),e.selectedRevision&&e.selectedRevision.currentValue&&this.setRevisionDetails(),e.handoverRequestData&&e.handoverRequestData.currentValue&&this.getDataForMode().pipe(Object(X.a)(1)).subscribe(e=>{this.setTreeData(e)})}ngOnDestroy(){this.unSubscribeRefreshTreeSubscription(),this.unSubscribeRefreshSelectedNodeSubscription()}initialize(){this.loadingOverlayService.showLoadingOverlay(),this.mode||this.getDatabookTreeStructure(this.databookOBID).pipe(Object(X.a)(1)).subscribe(e=>{this.setTreeData(e)})}onNodeSelect(e){this.onNodeSelected.emit(e)}onNodeCollapse(e){e.expanded=!1;const t=this.treeStructure.find(e=>!0===e.expanded);this.onNodeCollapsed.emit(!!t)}onloadNode(e){if(this.loadingOverlayService.showLoadingOverlay(),this.onNodeLoaded.emit(),e&&""!==e.obid&&!e.isUpToDate){const t=e;this.getDatabookTreeStructure(t.obid).pipe(Object(X.a)(1)).subscribe(e=>{t.children=this.mergeTreeNodes(t.children,e[0].children),t.children.forEach(e=>{this.setDisableNode(e,t.partialSelected,t.selectable)}),this.onNodeLoaded.emit(t)},e=>{this.exceptionService.handleException(e),this.loadingOverlayService.hideLoadingOverlay()}),e.isUpToDate=!0}this.loadingOverlayService.hideLoadingOverlay()}mergeTreeNodes(e,t){if(e&&e.length>0)for(let i=0;i<e.length;i++){const a=e[i];t.map(e=>e.obid).includes(a.obid)||t.push(e[i])}return t}getDataForMode(){return this.linkInterfaceService.getLinkInterfacePropertiesForObject(this.handoverRequestData.OBID,"SDxHandoverRequestDatabookChapter_12",["SDxChapterTopLevelParentUID"]).pipe(Object(X.a)(1),Object(q.a)(e=>e&&e.length>0?(this.handoverChaptersParentUIDs=[],this.handoverChaptersParentUIDs.push(...e),this.getDatabookTreeStructure(this.databookOBID)):Object(H.a)([])))}getDatabookTreeStructure(e){const t=this.columnSetsForCard.split(",");return this.databookManagmentService.getChildrenFromParent(e,this.databookChapterClassDef,this.databookChapterRelDef,t[0],t[1])}setTreeData(e){e&&e.length>0&&(this.parentName=e[0].label,this.onDatabookTreeUpdated.emit(e),this.setChildCountOnParentNode(e[0].children),e[0].children.forEach(e=>{this.setDisableNode(e)})),this.loadingOverlayService.hideLoadingOverlay()}setChildCountOnParentNode(e){const t=[],i=[];if(this.handoverChaptersParentUIDs.length>0){this.setChaptersAndParentUIDsCollection(t,i);const a=[],s=[];e[0].oldParentOBID===this.databookOBID&&(t.forEach(e=>{let t=0;i.includes(e)||(t+=1),s[e]?t+=1:s[e]=!0,a.map(e=>e.key).includes(e)?a.filter(t=>{t.key===e&&(t.value=t.value+1)}):a.push(new ye.a(e,t))}),a.forEach(t=>{e.forEach(e=>{e.uid===t.key&&(e.itemCount=t.value)})}))}}setDisableNode(e,t,i){const a=[];this.handoverChaptersParentUIDs.length>0&&(this.setChaptersAndParentUIDsCollection([],a),a.includes(e.uid)?e.selectable=!0:e.itemCount>=0||t||i?(e.partialSelected=!0,e.selectable=!1):(e.selectable=!1,e.styleClass="ui-treenode-content-disabled"))}setChaptersAndParentUIDsCollection(e,t){this.handoverChaptersParentUIDs.forEach(i=>{e.push(i.propertyValue),t.push(i.otherEndUID)})}setRevisionDetails(){this.handoverSummaryItems=[],this.handoverBadge=this.selectedRevision.IsLatest?this.HANDOVER_LATEST:"",this.selectedRevision.ColumnSetProperties&&this.selectedRevision.ColumnSetProperties.forEach(e=>{"Name"===e.DisplayName?this.handoverName=e.Value:"Description"===e.DisplayName?this.handoverDescription=e.Value:this.handoverSummaryItems.push(new ye.a(e.DisplayName,this.databookManagmentService.getFormatDisplayItem(e.Value,e.ScopedById)))})}refreshDatabookTree(e){this.unSubscribeRefreshTreeSubscription(),e.refreshTree.currentValue&&(this.refreshTreeSubscription=this.refreshTree.pipe(Object(q.a)(()=>this.mode?this.getDataForMode():this.getDatabookTreeStructure(this.databookOBID))).subscribe(e=>{this.setTreeData(e)}))}refreshNode(e){this.unSubscribeRefreshSelectedNodeSubscription(),e.refreshSelectedNode.currentValue&&(this.refreshSelectedNodeSubscription=this.refreshSelectedNode.subscribe(()=>{this.onNodeSelect(this.selectedNodeValue),this.onloadNode(this.selectedNodeValue)}))}unSubscribeRefreshTreeSubscription(){this.refreshTreeSubscription&&this.refreshTreeSubscription.unsubscribe()}unSubscribeRefreshSelectedNodeSubscription(){this.refreshSelectedNodeSubscription&&this.refreshSelectedNodeSubscription.unsubscribe()}}return e.\u0275fac=function(t){return new(t||e)(O.Sb(M.a),O.Sb(A),O.Sb(je.a),O.Sb(Y.a),O.Sb(T.a))},e.\u0275cmp=O.Mb({type:e,selectors:[["sda-databook-tree"]],inputs:{mode:"mode",dataBookTitleStyle:"dataBookTitleStyle",columnSetsForCard:"columnSetsForCard",databookOBID:"databookOBID",databookChapterClassDef:"databookChapterClassDef",databookChapterRelDef:"databookChapterRelDef",treeStructure:"treeStructure",treeOriginalStructure:"treeOriginalStructure",selectedNodeValue:"selectedNodeValue",refreshSelectedNode:"refreshSelectedNode",refreshTree:"refreshTree",selectedNode:"selectedNode",selectedRevision:"selectedRevision",handoverRequestData:"handoverRequestData"},outputs:{onDatabookTreeUpdated:"onDatabookTreeUpdated",onNodeSelected:"onNodeSelected",onNodeCollapsed:"onNodeCollapsed",onNodeLoaded:"onNodeLoaded"},features:[O.Cb],decls:5,vars:6,consts:[["class","handover-tab",4,"ngIf"],[1,"databook-chapters"],[1,"databook-chapters__parent",3,"title","click"],["draggableNodes","false","droppableNodes","true","selectionMode","single","class","databook-chapters__list",3,"value","selection","selectionChange","onNodeExpand","onNodeCollapse","onNodeSelect",4,"ngIf"],[1,"handover-tab"],[3,"label"],["matTabContent",""],[3,"header","description","additionalInformation","badge","descriptionChange"],["draggableNodes","false","droppableNodes","true","selectionMode","single",1,"databook-chapters__list",3,"value","selection","selectionChange","onNodeExpand","onNodeCollapse","onNodeSelect"],["pTemplate","default"],[1,"chapter-list-item"],["class","chapter-list-item__icon",4,"ngIf"],[1,"chapter-list-item__label"],["class","chapter-list-item__badge","matBadgeOverlap","false","matBadgeSize","small",3,"matBadge",4,"ngIf"],[1,"chapter-list-item__icon"],[3,"imageName"],["matBadgeOverlap","false","matBadgeSize","small",1,"chapter-list-item__badge",3,"matBadge"]],template:function(e,t){1&e&&(O.Sc(0,Fe,3,1,"mat-tab-group",0),O.Yb(1,"div",1),O.Yb(2,"h3",2),O.hc("click",(function(e){return t.onNodeSelect(e.node)})),O.Uc(3),O.Xb(),O.Sc(4,Xe,2,2,"p-tree",3),O.Xb()),2&e&&(O.sc("ngIf",t.mode),O.Eb(2),O.Ib("databook-chapters__parent--bg-none",t.dataBookTitleStyle),O.sc("title",t.parentName),O.Eb(1),O.Wc(" ",t.parentName," "),O.Eb(1),O.sc("ngIf",t.treeStructure))},directives:[a.t,n.c,n.a,n.b,Ee.a,d.a,oe.d,Ue.a,o.a],styles:[".databook-chapters[_ngcontent-%COMP%]     .ui-treenode-label span, .databook-chapters__list[_ngcontent-%COMP%]   .chapter-list-item__label[_ngcontent-%COMP%], .databook-chapters__parent[_ngcontent-%COMP%]{overflow:hidden;white-space:nowrap;text-overflow:ellipsis}[_nghost-%COMP%]{display:flex;flex:1;flex-direction:column}[_nghost-%COMP%]     .mat-badge-small .mat-badge-content{font-size:10px;top:0;right:0;line-height:1.6;font-weight:500}.handover-tab[_ngcontent-%COMP%]{display:flex;flex:0}.handover-tab[_ngcontent-%COMP%]     .card-header__link{padding-left:8px;cursor:pointer}.handover-tab[_ngcontent-%COMP%]     .card-header__title{font-weight:500;font-size:14px;padding-left:8px}.databook-chapters__parent[_ngcontent-%COMP%]{padding:12px;font-size:18px;cursor:pointer;background-color:rgba(2,107,227,.2)}.databook-chapters__parent--bg-none[_ngcontent-%COMP%]{background-color:initial}.databook-chapters__parent[_ngcontent-%COMP%]:hover{background-color:rgba(0,0,0,.08)}.databook-chapters__list[_ngcontent-%COMP%]{height:100%;overflow:hidden}.databook-chapters__list[_ngcontent-%COMP%]   .chapter-list-item[_ngcontent-%COMP%]{display:flex}.databook-chapters__list[_ngcontent-%COMP%]   .chapter-list-item__icon[_ngcontent-%COMP%]  .object-icon{max-width:18px;height:18px}.databook-chapters__list[_ngcontent-%COMP%]   .chapter-list-item__label--disabled[_ngcontent-%COMP%]{opacity:.5;cursor:not-allowed}.databook-chapters__list[_ngcontent-%COMP%]   .chapter-list-item__label--count[_ngcontent-%COMP%]{width:86%}.databook-chapters__list[_ngcontent-%COMP%]   .chapter-list-item__badge[_ngcontent-%COMP%]{width:16px;height:16px;margin-left:auto}.databook-chapters[_ngcontent-%COMP%]     .ui-tree{width:100%;height:100%;padding:0;border:none}.databook-chapters[_ngcontent-%COMP%]     .ui-tree .ui-treenode .ui-state-highlight{color:inherit}.databook-chapters[_ngcontent-%COMP%]     .ui-treenode-content{display:flex;align-items:center}.databook-chapters[_ngcontent-%COMP%]     .ui-treenode-content-disabled{opacity:.5;pointer-events:none}.databook-chapters[_ngcontent-%COMP%]     .ui-treenode-content-selected{background-color:rgba(2,107,227,.2)}.databook-chapters[_ngcontent-%COMP%]     .ui-treenode-icon{width:auto;height:auto;color:#38414a}.databook-chapters[_ngcontent-%COMP%]     .ui-treenode-content:hover{background-color:rgba(0,0,0,.08);color:#000}.databook-chapters[_ngcontent-%COMP%]     .ui-treenode-droppoint-active{background-color:#e8f7ff}.databook-chapters[_ngcontent-%COMP%]     .ui-treenode-label{width:100%;font-size:16px;overflow:hidden}.databook-chapters[_ngcontent-%COMP%]     .ui-treenode-label span{display:block;width:100%}"]}),e})();i("5G0X");var Ye=i("yzqN"),Ke=i("fbEr");function We(e,t){if(1&e){const e=O.Zb();O.Yb(0,"sda-create-obj-and-rel-view",1),O.hc("formCreated",(function(t){return O.Kc(e),O.lc().onFormCreated(t)}))("onCancel",(function(){return O.Kc(e),O.lc().onCancel.emit()}))("objectsToRelateAdded",(function(t){return O.Kc(e),O.lc().onObjectToRelateAdded(t)})),O.Xb()}if(2&e){const e=O.lc();O.sc("navigateAwayOnCancel",e.navigateAwayOnCancel)("setPageTitle",e.setPageTitle)}}let Ge=(()=>{class e{constructor(e,t,i){this.router=e,this.helpService=t,this.zone=i,this.visible=!0,this.setPageTitle=!1,this.navigateAwayOnCancel=!0,this.parentClientAPI="",this.formCreated=new O.o,this.objectsToRelateAdded=new O.o,this.emitWizardCompleted=new O.o,this.onCancel=new O.o,this.helpService.setHandlers(Ye.i)}ngOnInit(){this.router.navigate([".",{ClientAPI:"CreateObjAndRel",MethodOBID:this.feature.methodOBID,apiParam1:this.feature.apiParam1,apiParam2:this.feature.apiParam2,apiParam3:this.feature.apiParam3,apiParam4:this.feature.apiParam4,apiParam5:this.feature.apiParam5,apiParam6:this.feature.apiParam6,apiParam7:this.feature.apiParam7,apiParam8:this.feature.apiParam8,apiParam9:this.feature.apiParam9,displayName:this.feature.displayName,ContextObjectOBIDs:JSON.stringify(this.feature.contextObjectOBIDs),ignoreReload:!0,ParentClientAPI:this.parentClientAPI,ParentMethodOBID:this.parentMethodOBID}],{skipLocationChange:!0}).then(()=>{this.zone.run(()=>{this.showForm=!0})})}onFormCreated(e){this.formCreated.emit(e)}onObjectToRelateAdded(e){this.objectsToRelateAdded.emit(e)}}return e.\u0275fac=function(t){return new(t||e)(O.Sb(j.g),O.Sb(W.a),O.Sb(O.B))},e.\u0275cmp=O.Mb({type:e,selectors:[["sda-create-obj-and-rel-modal-view"]],inputs:{setPageTitle:"setPageTitle",navigateAwayOnCancel:"navigateAwayOnCancel",feature:"feature",parentClientAPI:"parentClientAPI",parentMethodOBID:"parentMethodOBID"},outputs:{formCreated:"formCreated",objectsToRelateAdded:"objectsToRelateAdded",emitWizardCompleted:"emitWizardCompleted",onCancel:"onCancel"},decls:1,vars:1,consts:[[3,"navigateAwayOnCancel","setPageTitle","formCreated","onCancel","objectsToRelateAdded",4,"ngIf"],[3,"navigateAwayOnCancel","setPageTitle","formCreated","onCancel","objectsToRelateAdded"]],template:function(e,t){1&e&&O.Sc(0,We,1,2,"sda-create-obj-and-rel-view",0),2&e&&O.sc("ngIf",t.showForm)},directives:[a.t,Ke.a],styles:["[_nghost-%COMP%]{overflow:hidden}[_nghost-%COMP%], [_nghost-%COMP%]   .form-wrapper[_ngcontent-%COMP%]{display:flex;width:100%;height:100%}[_nghost-%COMP%]   .form-wrapper[_ngcontent-%COMP%]{flex-direction:column;align-items:center;background-color:#cad0d7}[_nghost-%COMP%]   sda-loading-indicator[_ngcontent-%COMP%]{flex:1}[_nghost-%COMP%]     sda-tabbed-grid{position:relative;padding:7px}"]}),e})();function $e(e,t){if(1&e&&O.Tb(0,"sda-power-bar-view",13),2&e){const e=O.lc();O.sc("isCompact",!1)("background",e.powerBarBackgroundStyle)("disableOverflow",!0)("leftControls",e.showBtnLeftSideBar)("rightControls",e.showBtnSideBar)}}function Qe(e,t){if(1&e){const e=O.Zb();O.Yb(0,"sda-databook-tree",14),O.hc("onDatabookTreeUpdated",(function(t){return O.Kc(e),O.lc().updateDatabookTree(t)}))("onNodeCollapsed",(function(t){return O.Kc(e),O.lc().onLoadCollapse(t)}))("onNodeSelected",(function(t){return O.Kc(e),O.lc().onNodeSelect(t)}))("onNodeLoaded",(function(t){return O.Kc(e),O.lc().onloadNode(t)})),O.Xb()}if(2&e){const e=O.lc();O.sc("mode",e.mode)("dataBookTitleStyle",e.dataBookTitleStyle)("columnSetsForCard",e.columnSetsForCard)("databookOBID",e.contextObjObid)("databookChapterClassDef",e.classDefUID)("databookChapterRelDef",e.relDef)("selectedNodeValue",e.selectedNodeValue)("selectedNode",e.selectedNode)("treeStructure",e.treeStructure)("treeOriginalStructure",e.treeOriginalStructure)("refreshTree",e.refreshTree)("refreshSelectedNode",e.refreshSelectedNode)("selectedRevision",e.selectedRevision)("handoverRequestData",e.handoverRequestData)}}function Ze(e,t){if(1&e){const e=O.Zb();O.Yb(0,"p-dialog",15),O.hc("visibleChange",(function(t){return O.Kc(e),O.lc().showFormPopup=t})),O.Yb(1,"sda-create-obj-and-rel-modal-view",16),O.hc("onCancel",(function(){return O.Kc(e),O.lc().onCreateChapterWizardCancel()}))("emitWizardCompleted",(function(){return O.Kc(e),O.lc().onCreateChapterWizardCancel()})),O.Xb(),O.Xb()}if(2&e){const e=O.lc();O.sc("header",e.feature.displayName)("visible",e.showFormPopup)("modal",!0)("responsive",!0)("resizable",!1)("closable",!1),O.Eb(1),O.sc("feature",e.feature)("parentMethodOBID",e.methodOBID)("navigateAwayOnCancel",!1)("setPageTitle",!1)("parentClientAPI",e.parentClientAPI)}}let Je=(()=>{class e{constructor(e,t,i,a,s,o,n,r,d,l,c,h,u,p,b,g,f,v,m,S,C,D,I){this.databookManagmentService=e,this.sdaTranslateService=t,this.relatedItemService=i,this.exceptionService=a,this.configService=s,this.loadingOverlayService=o,this.modalService=n,this.methodService=r,this.batchRequestFactory=d,this.dataRefreshService=l,this.routeService=c,this.featureSetNavigationService=h,this.notificationService=u,this.objectDetailsService=p,this.componentFactoryResolver=b,this.saveChangesDialogService=g,this.injector=f,this.preferencesService=v,this.actionMenuProvider=m,this.contentMenuService=S,this.relDetailsService=C,this.featureSetDataService=D,this.changeDetectRef=I,this.pageTitle="",this.relDefsForTabs="",this.columnSetsForTabs="",this.columnSetsForCard="",this.manageRevisionRelatedItemsMethodUID="",this.launchMarkupMethodUID="",this.docRels="",this.parentClientAPI="SDAManageDataTree",this.parentObjects=[],this.enableDragDrop=!1,this.updatedItems=[],this.classificationName="",this.editEnable=!1,this.COMMIT_CONFIRM=this.sdaTranslateService.get("COMMIT_CONFIRM","Are you sure you want to commit?"),this.SUCCESSFULLY_UPDATED=this.sdaTranslateService.get("SUCCESSFULLY_UPDATED","Successfully Updated"),this.FAILED_UPDATE=this.sdaTranslateService.get("FAILED_UPDATE","Failed to Update"),this.CLOSE_CONFIRMATION_DATABOOK=this.sdaTranslateService.get("IMPACT_ANALYSIS_UNSAVED_CHANGES_WANRING","Are you sure you want to continue? Any unsaved changes will be lost."),this.REORDER=this.sdaTranslateService.get("REORDER","Reorder"),this.COLLAPSE=this.sdaTranslateService.get("COLLAPSE","Collapse"),this.CREATECHAPTER=this.sdaTranslateService.get("CREATE_CHAPTER","Create Data Book Chapter"),this.CREATEHANDOVERREQUEST=this.sdaTranslateService.get("CREATE_HANDOVER_REQUEST","Create Handover Request"),this.HANDOVER_LATEST=this.sdaTranslateService.get("RESPONSE_MANAGEMENT_BODY_LATEST","LATEST"),this.HANDOVER_DATABOOK=this.sdaTranslateService.get("Handover_Databook","Handover Databook"),this.configUID="",this.powerBarBackgroundStyle=fe.a.Transparent,this.initialized=!1,this.sidebarPowerBarControls=[],this.chapterAndRelControls=[],this.databookRelationshipLayout=Te.a.Grid,this.relatedItems=[],this.footerRightPowerBarControls=[],this.collapseControl=[],this.showFormPopup=!1,this.summaryItems=[],this.databookPowerBarOverflowControls=[],this.databookPowerBarRHSControls=[],this.databookPowerBarIsOverflowHidden=!1,this.isInEdit=!1,this.chapterCollapseBtn=void 0,this.saveReorderBtn=void 0,this.createChapterBtn=void 0,this.relationShipBuilder=void 0,this.refreshTree=new O.o,this.refreshSelectedNode=new O.o,this.updateCounter=0,this.docRelsArray=[],this.docColRelColumSets={},this.chapterReorderBtn=void 0,this.cancelReorderBtn=void 0,this.disableCollapse=!0,this.selectedNodeOBID=this.contextObjObid,this.configUID=this.configService.selectedCreateConfig,this.footerRightPowerBarControls=[new me.a(()=>{this.featureSetNavigationService.navigateBack()},this.sdaTranslateService.get("CLOSE","Close"),"",void 0,ce.a.Default)],this.refreshDataSubscription=this.dataRefreshService.refreshData$.subscribe(e=>{e&&e.objectsToRefresh&&1===e.objectsToRefresh.length&&void 0!==this.selectedNodeOBID&&(this.loadingOverlayService.showLoadingOverlay(),this.selectedNodeValue.type=this.selectedNodeOBID,this.loadButtons(this.selectedNodeValue),this.createChapterAndRelButtons(this.selectedNodeValue),this.dataBookTitleStyle=this.selectedNodeOBID!==this.treeOriginalStructure[0].type,this.handoverRequestData&&this.refreshTree.emit(),this.loadingOverlayService.hideLoadingOverlay())}),this.preferencesSubscription=this.preferencesService.preferencesChanged$.subscribe(e=>{e&&(this.openInfoMapInNewTab=!1!==e.SDXOpsOpenInfoMapInNewTab)})}ngAfterViewChecked(){this.changeDetectRef.detectChanges()}ngOnChanges(){this.sidebarPowerBarButtons(),this.loadButtons(this.selectedNodeValue),this.createChapterAndRelButtons(this.selectedNodeValue),this.showFormPopup=!1}ngOnDestroy(){this.preferencesSubscription&&this.preferencesSubscription.unsubscribe(),this.relDetailsSubscription&&this.relDetailsSubscription.unsubscribe(),this.refreshDataSubscription&&this.refreshDataSubscription.unsubscribe()}closeActionMenu(){this.actionMenuProvider.clearItems(),this.contentMenuService.closeContentMenu()}loadButtons(e){this.horizontalPowerBarSection=new Se.a,this.horizontalPowerBarSection.overflowOrientation=ve.a.Horizontal,this.verticalPowerBarSection=new Se.a,this.verticalPowerBarSection.overflowOrientation=ve.a.Vertical;const t=new me.a(()=>{!1===this.saveReorderBtn.hidden||!1===this.cancelReorderBtn.hidden?this.modalService.confirm(this.pageTitle,this.CLOSE_CONFIRMATION_DATABOOK).then(t=>{if(t){const t=this.selectedNodeOBID;this.editEnable=!0,this.treeStructure=Object(se.a)(this.revertTreeOld),this.hideSideBarButtons(!1),this.selectedNodeDetails(e),this.hideLoadButtons(!1),this.selectChildNode(this.treeStructure,t)}}):(this.editEnable=!0,this.hideLoadButtons(!1),this.hideSideBarButtons(!1))},this.sdaTranslateService.get("EDIT","Edit"),"fa-pencil",void 0,ce.a.Plain);t.tooltip=this.sdaTranslateService.get("EDIT","Edit"),this.verticalPowerBarSection.controls.push(t),this.getRelatedItemsCollection(),this.cancelEdit=new me.a(()=>{this.modalService.confirm(this.pageTitle,this.CLOSE_CONFIRMATION_DATABOOK).then(t=>{t&&(this.onCancelEdit(e),this.editEnable=!1)})},"","fa-close",void 0,ce.a.Destroy),this.cancelEdit.tooltip=this.sdaTranslateService.get("CANCEL_CHANGES","Cancel changes"),this.cancelEdit.hidden=!0,this.horizontalPowerBarSection.controls.push(this.cancelEdit),this.saveEditBtn=new me.a(()=>{this.editEnable=!1,this.onSaveEdit(e)},"","fa-check",void 0,ce.a.Primary),this.saveEditBtn.tooltip=this.sdaTranslateService.get("SAVE_CHANGES","Save changes"),this.saveEditBtn.hidden=!0,this.horizontalPowerBarSection.controls.push(this.saveEditBtn),this.databookPowerBarRHSControls=[this.horizontalPowerBarSection],this.databookPowerBarOverflowControls=[this.verticalPowerBarSection],this.showBtnVerticalBar=this.showButtonBasedOnOwner?this.databookPowerBarOverflowControls:void 0}createChapterAndRelButtons(e){const t=new Se.a,i=new me.a(()=>{this.closeActionMenu(),!1===this.saveReorderBtn.hidden||!1===this.cancelReorderBtn.hidden||!1===this.saveEditBtn.hidden||!1===this.cancelEdit.hidden?this.modalService.confirm(this.pageTitle,this.CLOSE_CONFIRMATION_DATABOOK).then(t=>{t&&(this.methodService.getMethodByUID(this.createChapterMethodOBID).subscribe(t=>{this.transformToFeature(t,e)}),this.hideSideBarButtons(!1),this.hideLoadButtons(!0),this.chapterCollapseBtn.isDisabled=this.disableCollapse)}):(this.methodService.getMethodByUID(this.createChapterMethodOBID).subscribe(t=>{this.transformToFeature(t,e)}),this.hideSideBarButtons(!1),this.hideLoadButtons(!0))},"",void 0,"create-book-chapter",ce.a.Default);i.tooltip=this.CREATECHAPTER,t.controls.push(i);const a=new me.a(()=>{this.closeActionMenu(),!1===this.saveReorderBtn.hidden||!1===this.cancelReorderBtn.hidden||!1===this.saveEditBtn.hidden||!1===this.cancelEdit.hidden?this.modalService.confirm(this.pageTitle,this.CLOSE_CONFIRMATION_DATABOOK).then(t=>{if(t){const t=this.selectedNodeOBID;this.treeStructure=Object(se.a)(this.revertTreeOld),this.selectChildNode(this.treeStructure,t),this.onManageRelatedItemsMethod(e),this.hideSideBarButtons(!1),this.hideLoadButtons(!0),this.selectedNodeDetails(e)}}):(this.onManageRelatedItemsMethod(e),this.hideSideBarButtons(!1),this.hideLoadButtons(!0),this.selectedNodeDetails(e))},"",void 0,"create-new-relation",ce.a.Default);a.tooltip=this.sdaTranslateService.get("RESPONSE_MANAGEMENT_MANAGE_RELATED_INFO_TOOLTIP","Manage related information"),t.controls.push(a),this.lazyLoadMethods(e,a),this.getRelatedItemsCollection(),this.chapterAndRelControls[0]=t.controls[0],this.chapterAndRelControls[1]=t.controls[1],this.showButtonBasedOnOwner&&(this.showBtnLeftSideBar=this.chapterAndRelControls)}sidebarPowerBarButtons(){this.chapterCollapseBtn=new me.a(()=>{this.collapseAll()},"","fa-minus-square",void 0,ce.a.Default),this.chapterCollapseBtn.tooltip=this.COLLAPSE,this.chapterCollapseBtn.isDisabled=this.disableCollapse,this.sidebarPowerBarControls.push(this.chapterCollapseBtn),this.chapterReorderBtn=new me.a(()=>{this.closeActionMenu(),!1===this.cancelEdit.hidden||!1===this.saveEditBtn.hidden?this.modalService.confirm(this.pageTitle,this.CLOSE_CONFIRMATION_DATABOOK).then(e=>{e&&(this.controlReOrderBtns(!0),this.hideLoadButtons(!0),this.onCancelEdit(this.selectedNodeValue),this.updateDragDropOnNodes(this.treeStructure,!0))}):(this.controlReOrderBtns(!0),this.hideLoadButtons(!0),this.onCancelEdit(this.selectedNodeValue),this.updateDragDropOnNodes(this.treeStructure,!0))},"","fa-sort",void 0,ce.a.Default),this.chapterReorderBtn.tooltip=this.REORDER,this.sidebarPowerBarControls.push(this.chapterReorderBtn),this.cancelReorderBtn=new me.a(()=>{this.modalService.confirm(this.pageTitle,this.CLOSE_CONFIRMATION_DATABOOK).then(e=>{var t;if(e){const e=this.selectedNodeOBID;this.revertTreeOld.forEach(e=>{this.setDefaultValues(e,!1,e.isUpToDate)}),this.treeStructure=Object(se.a)(this.revertTreeOld),this.controlReOrderBtns(!1),this.updateCollapseButton(),(null===(t=this.treeOriginalStructure[0])||void 0===t?void 0:t.obid)===e?(this.selectedNode=this.treeOriginalStructure[0],this.dataBookTitleStyle=!1):(this.selectChildNode(this.treeStructure,e),this.dataBookTitleStyle=!0)}})},"","fa-close",void 0,ce.a.Destroy),this.cancelReorderBtn.tooltip=this.sdaTranslateService.get("CANCEL_CHANGES","Cancel changes"),this.cancelReorderBtn.hidden=!0,this.sidebarPowerBarControls.push(this.cancelReorderBtn),this.saveReorderBtn=new me.a(()=>{this.saveOrderedNodes(),this.controlReOrderBtns(!1),this.treeStructure.forEach(e=>{this.setDefaultValues(e,!1,e.isUpToDate),e.expanded&&e.leaf&&(e.expanded=!1)}),this.updateCollapseButton()},"","fa-check",void 0,ce.a.Primary),this.saveReorderBtn.tooltip=this.sdaTranslateService.get("SAVE_CHANGES","Save changes"),this.saveReorderBtn.hidden=!0,this.sidebarPowerBarControls.push(this.saveReorderBtn),this.collapseControl.push(this.sidebarPowerBarControls[0]),this.showBtnSideBar=this.showButtonBasedOnOwner?this.sidebarPowerBarControls:this.collapseControl}updateOrder(){this.modalService.confirm(this.pageTitle,this.COMMIT_CONFIRM).then(e=>{e&&(0===this.updateCounter&&(this.setParentNode(this.treeStructure,this.treeOriginalStructure[0]),this.updateCounter++),this.updatedItems=[],this.updateOrderOnParent(this.updatedOrderOnRels(this.treeStructure),this.relDef),this.updateOldParent(this.treeStructure))})}updatedOrderOnRels(e,t){for(let i=0;i<e.length;i++)this.updatedItems.concat(this.updatedOrderOnRels(e[i].children,e[i].obid)),this.updatedItems.push(new Me(e[i].obid,void 0!==t?t:this.treeOriginalStructure[0].obid,i,e[i].oldParentOBID,e[i].label));return this.updatedItems}updateDatabookTree(e){if(e&&e.length>0){if(this.treeOriginalStructure=e,this.name=e[0].label,this.description=e[0].description,this.classificationName=e[0].classification,this.formatSummaryItems(e[0]),this.changeDetectRef.detectChanges(),this.loadButtons(e[0]),this.createHandoverButton(),this.createChapterAndRelButtons(e[0]),!this.relationshipsToExpandWithName){if(this.docRels){const e=this.docRels.split(",");for(let t=0;t<e.length;t++){const i=e[t].split(":");this.docRelsArray.push(i[0]),this.docColRelColumSets[i[0]]=i[1]}}this.getRelOrEdgeObjectDetails([this.docRelsArray.join(","),this.relDefsForTabs])}this.treeOriginalStructure[0].children.forEach(e=>{this.setDefaultValues(e,!1,!1)}),this.setDefaultValues(this.treeOriginalStructure[0],!1,!1),this.treeStructure=this.treeOriginalStructure[0].children,this.treeStructure.length>0?(this.revertTreeOld=Object(se.a)(this.treeStructure),0===this.sidebarPowerBarControls.length&&this.sidebarPowerBarButtons()):this.sidebarPowerBarControls.length=0,this.dataBookTitleStyle=!1,this.selectedNodeOBID=this.treeOriginalStructure[0].obid,this.selectedNodeValue=this.treeOriginalStructure[0],this.selectedNode=this.treeOriginalStructure[0],this.updateCollapseButton()}}onNodeSelect(e){this.loadingOverlayService.showLoadingOverlay(),this.selectedNode=e,this.closeActionMenu(),this.cancelEdit.hidden&&this.saveEditBtn.hidden?this.onNodeSelectedDetails(this.selectedNode):(this.selectedNode||(this.selectedNode=this.treeOriginalStructure[0]),this.selectedNode.label!==this.selectedNodeValue.label&&this.modalService.confirm(this.pageTitle,this.CLOSE_CONFIRMATION_DATABOOK).then(t=>{t&&(this.hideSideBarButtons(!1),this.hideLoadButtons(!0),this.onCancelEdit(this.selectedNodeValue),this.onNodeSelectedDetails(e))})),this.dataBookTitleStyle=!(!this.selectedNode||this.selectedNode.obid===this.treeOriginalStructure[0].obid),this.loadingOverlayService.hideLoadingOverlay()}onLoadCollapse(e){this.chapterCollapseBtn.isDisabled=!e,this.disableCollapse=this.chapterCollapseBtn.isDisabled}onloadNode(e){this.updateCollapseButton(),e&&(this.setParentNode(this.treeStructure,this.treeOriginalStructure[0]),e.children.forEach(this.cancelReorderBtn.hidden||this.saveReorderBtn.hidden?e=>{this.setDefaultValues(e,!1,e.isUpToDate),this.revertTreeOld=Object(se.a)(this.treeStructure)}:e=>{this.setDefaultValues(e,!0,e.isUpToDate)}),this.setParentNode(e.children,e))}onViewObjectDetails(e,t){this.objectDetailsService.showObjectDetailsModal(this.componentFactoryResolver,this.injector,new G.a(e,"",t))}onCreateChapterWizardCancel(){this.showFormPopup=!1,this.selectedNodeValue.isUpToDate=!1,this.refreshSelectedNode.emit(),this.selectedNodeValue.obid===this.contextObjObid&&this.refreshTree.emit()}collapseAll(){this.loadingOverlayService.showLoadingOverlay(),this.chapterCollapseBtn.isDisabled=!0,this.disableCollapse=this.chapterCollapseBtn.isDisabled,this.treeStructure.forEach(e=>{this.expandRecursive(e,!1)}),this.revertTreeOld=Object(se.a)(this.treeStructure),this.loadingOverlayService.hideLoadingOverlay()}canDeactivate(e){let t=Promise.resolve(!0);return!1!==this.cancelEdit.hidden&&!1!==this.saveEditBtn.hidden&&!1!==this.saveReorderBtn.hidden&&!1!==this.cancelReorderBtn.hidden||(t=this.saveChangesDialogService.showDialog()),t}onLaunchMarkupMethod(e){const t=new _e.a,i=new G.a(this.selectedNodeOBID,"",this.configUID);e&&!this.navigateMethod?this.methodService.getMethodByUID(this.launchMarkupMethodUID).subscribe(a=>{this.navigateMethod=a,this.invokeNavigation(e,i,t)},e=>{this.exceptionService.handleException(new y.a(e))}):this.invokeNavigation(e,i,t)}getRelOrEdgeObjectDetails(e){this.relDetailsSubscription=this.relDetailsService.getRelDetails(e).subscribe(e=>{this.relationshipsToExpandWithName=e,this.getRelatedItemsCollection()})}updateCollapseButton(){this.treeStructure.find(e=>!0===e.expanded)?(this.chapterCollapseBtn.isDisabled=!1,this.disableCollapse=!1):(this.chapterCollapseBtn.isDisabled=!0,this.disableCollapse=!0)}createHandoverRequestButton(){const e=this.configService.getConfigLevel([this.configUID]);return this.classificationName===this.HANDOVER_DATABOOK&&!this.mode&&e[0]&&e[0].value>1?this.methodService.getMethodByUID(this.createHandoverRequestMethodUID).pipe(Object(X.a)(1),Object(ne.a)(e=>{this.createHandoverMethod=e}),Object(q.a)(e=>this.featureSetDataService.validateUserHasAccessToMethod(e.ClientAPI,e.OBID,[],this.configUID))):Object(H.a)(!1)}onCreateHandoverRequest(e){this.relatedItemService.onExecuteMethod(e,void 0,[],"","",this.parentObjects,!0,this.handoverRequestData)}updateDragDropOnNodes(e,t){for(const i of e)i.draggable=t,i.droppable=t,i.children&&i.children.forEach(e=>{this.updateDragDropOnNodes([e],t)})}transformToFeature(e,t){this.feature=this.methodService.transformToFeature(e.DisplayName,e.Name,e.ClientAPI,e),this.feature.contextObjectOBIDs=[],this.feature.contextObjectOBIDs.push(t.obid),this.showFormPopup=!0}getRelatedItemsCollection(){const e=[];let t;if(""!==this.relDefsForTabs&&""!==this.columnSetsForTabs){const i=[],a=this.relDefsForTabs.split(","),s=this.columnSetsForTabs.split(",");if(this.relationshipsToExpandWithName){for(let i=0;i<this.docRelsArray.length;i++){const a=this.relationshipsToExpandWithName[this.docRelsArray[i]];t=this.relatedItemsTabsForDataItems(a.DisplayName,this.docRelsArray[i],this.docColRelColumSets[this.docRelsArray[i]],a.EndInterface,!0),t.onCellClicked=e=>this.onCellClicked(e,!1),t.isCellViewOnlyQuery=this.isCellViewOnly(!1),e.push(t)}for(let o=0;o<a.length;o++)i.push(new ye.a(a[o],s[o])),t=this.relatedItemsTabsForDataItems(this.relationshipsToExpandWithName[a[o]].DisplayName,i[o].key,i[o].value,this.relationshipsToExpandWithName[a[o]].EndInterface,!1),t.onCellClicked=e=>this.onCellClicked(e,!1),e.push(t)}}return this.relatedItems=e,this.relatedItems}relatedItemsTabsForDataItems(e,t,i,a,s){return this.createRelatedItemTab(e,t,i,a,s)}createRelatedItemTab(e,t,i,a,s){let o="Objects('"+this.selectedNodeOBID+"')/"+this.formatRel(t)+"?$count=true";s&&(o+="&$expand=SPFFileComposition_21($top=0;$count=true)");const n=new Pe.a(e,o,this.config);return n.isRowSelectable=!0,n.showRowSelectionCheckbox=!1,n.onNoResultsFound=()=>this.showNoItemsMessage(),n.endInterfaceUID=a,n.columnSetUID=i,n.apiContextMenu=new le.a(!0===s?this.fetchMenuOptions():void 0),n.viewFiles=!0===s,n.showActionsMenuColumn=this.showGridActionsMenuColumn,n.isFilterable="menu",n}showNoItemsMessage(){this.showNoItemsWarning=!0}saveOrderedNodes(){this.loadingOverlayService.showLoadingOverlay(),this.setParentNode(this.treeStructure,this.treeOriginalStructure[0]),this.updatedItems=[],this.revertTreeOld=Object(se.a)(this.treeStructure),this.updateOrderOnParent(this.updatedOrderOnRels(this.treeStructure),this.relDef),this.updateOldParent(this.treeStructure),this.loadingOverlayService.hideLoadingOverlay()}formatRel(e){if(e.startsWith("EDG_"))return e;if(e.startsWith("+"))return e.substring(1)+"_12";if(e.startsWith("-"))return e.substring(1)+"_21";throw new y.a(void 0,this.sdaTranslateService.getFormatted("IMPACT_ANALYSIS_NO_REL_DIRECTION_ERROR","No direction supplied for relationship '{0}'",[e]))}controlReOrderBtns(e){this.enableDragDrop=e,this.updateDragDropOnNodes(this.treeStructure,e),this.saveReorderBtn.hidden=!this.saveReorderBtn.hidden,this.cancelReorderBtn.hidden=!this.cancelReorderBtn.hidden,this.treeStructure.length>0?(this.chapterCollapseBtn.hidden=!this.chapterCollapseBtn.hidden,this.chapterReorderBtn.hidden=!this.chapterReorderBtn.hidden):this.sidebarPowerBarControls.length=0}hideSideBarButtons(e){this.enableDragDrop=e,this.updateDragDropOnNodes(this.treeOriginalStructure,e),this.saveReorderBtn.hidden=!e,this.cancelReorderBtn.hidden=!e,this.treeStructure.length>0?(this.chapterReorderBtn.hidden=e,this.chapterCollapseBtn.hidden=e,this.disableCollapse=this.chapterReorderBtn.hidden):this.sidebarPowerBarControls.length=0,this.chapterCollapseBtn.hidden=e}hideLoadButtons(e){this.cancelEdit.hidden=e,this.saveEditBtn.hidden=e,this.isInEdit=!e,this.databookPowerBarIsOverflowHidden=!e}setDefaultValues(e,t,i){e.expandedIcon="fa fa-folder-open",e.collapsedIcon="fa fa-folder",e.icon=this.mode?"e1SDADatabookChapterStatic"===e.classification?"SDxStaticDatabookChapter":"SDxDynamicDatabookChapter":"fa fa-folder",e.leaf=e.isUpToDate?!e.children||0===e.children.length:e.leaf,e.draggable=t,e.droppable=t,e.isUpToDate=i}expandRecursive(e,t){e.expanded=t,e.children&&e.children.forEach(e=>{this.expandRecursive(e,t)})}formatSummaryItems(e){this.summaryItems=[],this.nameAndType=void 0,e.columnSetProperties&&e.columnSetProperties.forEach(e=>{"Description"===e.DisplayName?this.summaryItems.push(new ye.a(e.DisplayName,this.databookManagmentService.getFormatDisplayItem(this.description,e.ScopedById))):(this.summaryItems.push(new ye.a(e.DisplayName,this.databookManagmentService.getFormatDisplayItem(e.Value,e.ScopedById))),"Type"===e.DisplayName&&(this.nameAndType=this.name+" ("+e.Value+")"))}),this.nameAndType||(this.nameAndType=this.name)}createHandoverButton(){this.createHandoverRequestButton().pipe(Object(X.a)(1)).subscribe(e=>{const t=new Se.a;if(e){const e=new me.a(()=>{this.onCreateHandoverRequest(this.createHandoverMethod)},"",void 0,"create-handover-request",ce.a.Default);e.tooltip=this.CREATEHANDOVERREQUEST,t.controls.push(e),this.chapterAndRelControls[2]=t.controls[0]}})}selectChildNode(e,t){e.forEach(e=>{if(e.obid===t)return this.selectedNode=e,void(this.selectedNodeValue=e);e.children&&this.selectChildNode(e.children,t)})}setParentNode(e,t){for(const i of e)!0!==this.cancelReorderBtn.hidden&&!0!==this.saveReorderBtn.hidden||e.forEach(e=>{this.setDefaultValues(e,!1,e.isUpToDate)}),void 0!==t&&(i.parent=t),i.children.length>0&&this.setParentNode(i.children,i)}updateOldParent(e){for(const t of e)this.setDefaultValues(t,!1,t.isUpToDate),void 0!==t&&(t.oldParentOBID=void 0!==t.parent?t.parent.obid:this.treeOriginalStructure[0].obid),t.children.length>0&&this.updateOldParent(t.children)}updateOrderOnParent(e,t){const i=this.batchRequestFactory.createBatchRequest(),a=i.createChangeset();for(let s=0;s<e.length;s++)a.addRelateRequest(e[s].childOBID,e[s].parentOBID,t,!0,void 0,(e[s].order+1).toString(),e[s].oldParentOBID);i.addChangeset(a),this.loadingOverlayService.showLoadingOverlay(),i.execute().subscribe(e=>{let t=!0;e.forEach(e=>{(e.statusCode<200||e.statusCode>=300)&&(this.loadingOverlayService.hideLoadingOverlay(),this.exceptionService.handleException(e.data),t=!1)}),t&&(this.notificationService.success(this.SUCCESSFULLY_UPDATED),this.loadingOverlayService.hideLoadingOverlay())},e=>{this.exceptionService.handleException(new y.a(e,this.FAILED_UPDATE,"databook-chapter.component","updateOrderOnParent")),this.loadingOverlayService.hideLoadingOverlay()})}lazyLoadMethods(e,t){this.manageRevisionRelatedItemsMethodUID&&this.manageRevisionRelatedItemsMethodUID.length>0&&this.methodService.getMethodByUID(this.manageRevisionRelatedItemsMethodUID).subscribe(e=>{this.manageRelatedItemsMethod=e},e=>{this.exceptionService.handleException(new y.a(e))})}onManageRelatedItemsMethod(e){this.relatedItemService.onExecuteMethod(this.manageRelatedItemsMethod,new G.a(e.obid,e.label,this.configUID),[],"","",[],!0)}onCancelEdit(e){this.isInEdit=!1,this.databookPowerBarIsOverflowHidden=!1,this.cancelEdit.hidden=!0,this.saveEditBtn.hidden=!0,this.description=e.description?e.description.substring(0):""}onSaveEdit(e){this.hideLoadButtons(!0),e.description=this.description,this.databookManagmentService.saveChanges(e),this.formatSummaryItems(e)}onNodeSelectedDetails(e){this.selectedNodeDetails(e),this.loadButtons(this.selectedNodeValue),this.createChapterAndRelButtons(this.selectedNodeValue)}selectedNodeDetails(e){this.selectedNodeValue=e,e?(this.selectedNodeOBID=e.obid,this.name=e.label,this.description=e.description,this.formatSummaryItems(e)):(this.selectedNodeOBID=this.contextObjObid,this.name=this.treeOriginalStructure[0].label,this.description=this.treeOriginalStructure[0].description,this.selectedNodeValue=this.treeOriginalStructure[0],this.formatSummaryItems(this.treeOriginalStructure[0]))}onCellClicked(e,t){this.loadingOverlayService.showLoadingOverlay(),e&&(1===e.gridLevel||t?this.onLaunchMarkupMethod(new G.a(this.selectedDocOBID,e.object.DisplayName,e.object.Config)):this.onViewObjectDetails(e.object.OBID,e.object.Config)),this.loadingOverlayService.hideLoadingOverlay()}fetchMenuOptions(){const e=new Array;return this.menuOptions&&this.menuOptions.length>0&&this.menuOptions.split(",").forEach(t=>{-1===t.search("~")?e.push(new de.a(t)):t&&t.length>0&&e.push(new de.a(t.split("~")[0],[new ye.a("apiParam3",t.split("~")[1])]))}),e}isCellViewOnly(e){return e?"Objects?$filter=SPFViewInd eq 'True' and OBID eq '{0}' &$select=OBID":""}invokeNavigation(e,t,i){this.relatedItemService.onExecuteMethod(this.navigateMethod,e,[e.obid],"",this.methodOBID,[t],!1,i)}}return e.\u0275fac=function(t){return new(t||e)(O.Sb(A),O.Sb(M.a),O.Sb(Be.a),O.Sb(T.a),O.Sb(k.a),O.Sb(Y.a),O.Sb(ge.a),O.Sb(De.a),O.Sb(Oe.a),O.Sb(K.a),O.Sb(Re.a),O.Sb(be.a),O.Sb(N.a),O.Sb(ue.a),O.Sb(O.j),O.Sb(Ce.a),O.Sb(O.s),O.Sb(Ie.a),O.Sb(re.a),O.Sb(he.a),O.Sb(we.a),O.Sb(pe.a),O.Sb(O.h))},e.\u0275cmp=O.Mb({type:e,selectors:[["sda-databook-chapter"]],inputs:{classDefUID:"classDefUID",relDef:"relDef",pageTitle:"pageTitle",relDefsForTabs:"relDefsForTabs",columnSetsForTabs:"columnSetsForTabs",columnSetsForCard:"columnSetsForCard",menuOptions:"menuOptions",config:"config",manageRevisionRelatedItemsMethodUID:"manageRevisionRelatedItemsMethodUID",launchMarkupMethodUID:"launchMarkupMethodUID",methodOBID:"methodOBID",showGridActionsMenuColumn:"showGridActionsMenuColumn",showButtonBasedOnOwner:"showButtonBasedOnOwner",createChapterMethodOBID:"createChapterMethodOBID",docRels:"docRels",createHandoverRequestMethodUID:"createHandoverRequestMethodUID",mode:"mode",parentClientAPI:"parentClientAPI",contextObjObid:"contextObjObid",selectedRevision:"selectedRevision",workflowStepOrObjectOBID:"workflowStepOrObjectOBID",handoverRequestData:"handoverRequestData",parentObjects:"parentObjects"},features:[O.Db([oe.f]),O.Cb],decls:13,vars:20,consts:[[1,"databook"],[3,"resPanelDefaultWidth","resPanelMinWidth","resPanelMaxWidth"],[1,"databook__sidebar","sda-layout-region-left"],[3,"isCompact","background","disableOverflow","leftControls","rightControls",4,"ngIf"],[3,"mode","dataBookTitleStyle","columnSetsForCard","databookOBID","databookChapterClassDef","databookChapterRelDef","selectedNodeValue","selectedNode","treeStructure","treeOriginalStructure","refreshTree","refreshSelectedNode","selectedRevision","handoverRequestData","onDatabookTreeUpdated","onNodeCollapsed","onNodeSelected","onNodeLoaded",4,"ngIf"],[1,"databook__content","sda-layout-region-right"],[3,"styleClass"],[1,"sda-card-header"],[3,"description","header","additionalInformation","powerBarRHSControls","powerBarOverflowControls","powerBarOverflowIsHidden","headerIsEditable","descriptionChange","headerChange","descriptionClicked"],[1,"sda-card-footer"],[3,"tabs","openInfoMapInNewTab","layout","showItemCount","hideEmptyTabs"],[1,"databook__footer-pb",3,"rightControls"],["appendTo","body",3,"header","visible","modal","responsive","resizable","closable","visibleChange",4,"ngIf"],[3,"isCompact","background","disableOverflow","leftControls","rightControls"],[3,"mode","dataBookTitleStyle","columnSetsForCard","databookOBID","databookChapterClassDef","databookChapterRelDef","selectedNodeValue","selectedNode","treeStructure","treeOriginalStructure","refreshTree","refreshSelectedNode","selectedRevision","handoverRequestData","onDatabookTreeUpdated","onNodeCollapsed","onNodeSelected","onNodeLoaded"],["appendTo","body",3,"header","visible","modal","responsive","resizable","closable","visibleChange"],[3,"feature","parentMethodOBID","navigateAwayOnCancel","setPageTitle","parentClientAPI","onCancel","emitWizardCompleted"]],template:function(e,t){1&e&&(O.Yb(0,"div",0),O.Yb(1,"sda-left-split-template",1),O.Yb(2,"div",2),O.Sc(3,$e,1,5,"sda-power-bar-view",3),O.Sc(4,Qe,1,14,"sda-databook-tree",4),O.Xb(),O.Yb(5,"div",5),O.Yb(6,"sda-card-view",6),O.Yb(7,"div",7),O.Yb(8,"sda-card-template-user-info-view",8),O.hc("descriptionChange",(function(e){return t.nameAndType=e}))("headerChange",(function(e){return t.description=e}))("descriptionClicked",(function(){return t.onViewObjectDetails(t.selectedNodeOBID,t.configUID)})),O.Xb(),O.Xb(),O.Yb(9,"div",9),O.Tb(10,"sda-tabbed-grid-view",10),O.Tb(11,"sda-power-bar-view",11),O.Xb(),O.Xb(),O.Xb(),O.Xb(),O.Xb(),O.Sc(12,Ze,2,11,"p-dialog",12)),2&e&&(O.Eb(1),O.sc("resPanelDefaultWidth",350)("resPanelMinWidth",350)("resPanelMaxWidth",500),O.Eb(2),O.sc("ngIf",!t.mode),O.Eb(1),O.sc("ngIf",t.contextObjObid),O.Eb(2),O.sc("styleClass","databook__card"),O.Eb(2),O.sc("description",t.nameAndType)("header",t.description)("additionalInformation",t.summaryItems)("powerBarRHSControls",t.databookPowerBarRHSControls)("powerBarOverflowControls",t.showBtnVerticalBar)("powerBarOverflowIsHidden",t.databookPowerBarIsOverflowHidden)("headerIsEditable",t.isInEdit),O.Eb(2),O.sc("tabs",t.relatedItems)("openInfoMapInNewTab",t.openInfoMapInNewTab)("layout",t.databookRelationshipLayout)("showItemCount",!0)("hideEmptyTabs",!0),O.Eb(1),O.sc("rightControls",t.footerRightPowerBarControls),O.Eb(1),O.sc("ngIf",t.showFormPopup))},directives:[Ne.a,a.t,ke.a,Ee.a,Ae.a,xe.a,ze,r.a,Ge],styles:[".databook__content[_ngcontent-%COMP%]{overflow-x:hidden;overflow-y:auto}[_nghost-%COMP%]{display:flex;flex:1;flex-direction:column;height:100%;overflow:hidden}.databook[_ngcontent-%COMP%]{display:flex;flex:1;min-height:0}.databook__sidebar[_ngcontent-%COMP%]{display:flex;flex-direction:column;width:100%}.databook__sidebar[_ngcontent-%COMP%]     .power-bar{margin:0;padding:14px;border-bottom:1px solid #cad0d7}.databook__content[_ngcontent-%COMP%]{display:flex;flex:1;flex-direction:column}.databook__content[_ngcontent-%COMP%]   sda-card-view[_ngcontent-%COMP%]     .databook__card{flex:1;margin:0;padding:0;border:none}.databook__content[_ngcontent-%COMP%]   sda-card-view[_ngcontent-%COMP%]     .databook__card .card-header{border:none}.databook__content[_ngcontent-%COMP%]   sda-card-view[_ngcontent-%COMP%]     .databook__card>.card-header{padding:8px}.databook__content[_ngcontent-%COMP%]   sda-card-view[_ngcontent-%COMP%]     .databook__card .card-footer{border-top:1px solid #cad0d7}.databook__content[_ngcontent-%COMP%]   sda-card-view[_ngcontent-%COMP%]     .databook__card .card-footer, .databook__content[_ngcontent-%COMP%]   sda-card-view[_ngcontent-%COMP%]     .databook__card .sda-card-footer{display:flex;flex:1;flex-direction:column}.databook__content[_ngcontent-%COMP%]   sda-card-view[_ngcontent-%COMP%]     .databook__card .power-bar{margin:0}.databook__content[_ngcontent-%COMP%]   sda-card-view[_ngcontent-%COMP%]     .databook__card .overlay-panel{min-width:250px}.databook__content[_ngcontent-%COMP%]   sda-card-view[_ngcontent-%COMP%]     .databook__card .overlay-panel .power-bar-switch{width:100%}.databook__content[_ngcontent-%COMP%]   sda-card-view[_ngcontent-%COMP%]     .databook__card .overlay-panel .power-bar-button{display:flex}.databook__content[_ngcontent-%COMP%]   sda-tabbed-grid-view[_ngcontent-%COMP%]{min-height:200px}.databook__footer-pb[_ngcontent-%COMP%]     .power-bar{border-bottom:none;border-top:1px solid #cad0d7}"]}),e})();var et=i("ctyU");function tt(e,t){if(1&e){const e=O.Zb();O.Yb(0,"sda-revisable-header",7),O.hc("onSelectedRevisionChanged",(function(t){return O.Kc(e),O.lc().onSelectedRevisionChanged(t)})),O.Xb()}if(2&e){const e=O.lc();O.sc("revisionSummary",e.revisionSummary)("apiConfig",e.apiConfig)("parentMethodOBID",e.parentMethodOBID)("parentClientAPI",e.parentClientAPI)("parentObjects",e.parentObjects)("workflowStepOBID",e.workflowStepOBID?e.workflowStepOBID:e.objectRevisionOBID)("updateRevisionMethodUID",e.updateRevisionMethodUID)}}function it(e,t){if(1&e&&(O.Yb(0,"div"),O.Tb(1,"sda-response-management-sidepanel-view",8),O.Xb()),2&e){const e=O.lc();O.Eb(1),O.sc("revision",e.revision)("apiConfig",e.apiConfig)("parentMethodOBID",e.parentMethodOBID)("parentObjects",e.parentObjects)("parentClientAPI",e.parentClientAPI)("updateCommunicationMethodUID",e.updateRevisionMethodUID)("data",e.handoverRequestData)}}function at(e,t){if(1&e&&O.Tb(0,"sda-reject-summary",9),2&e){const e=O.lc();O.sc("rejectDetails",null==e.revision?null:e.revision.RejectDetails)}}function st(e,t){if(1&e&&O.Tb(0,"sda-databook-chapter",10),2&e){const e=O.lc();O.sc("classDefUID",e.classDefUID)("relDef",e.relDef)("pageTitle",e.pageTitle)("relDefsForTabs",e.relDefsForTabs)("columnSetsForTabs",e.columnSetsForTabs)("columnSetsForCard",e.columnSetsForCard)("menuOptions",e.menuOptions)("config",e.config)("manageRevisionRelatedItemsMethodUID",e.manageRevisionRelatedItemsMethodUID)("launchMarkupMethodUID",e.launchMarkupMethodUID)("methodOBID",e.methodOBID)("showGridActionsMenuColumn",e.showGridActionsMenuColumn)("showButtonBasedOnOwner",e.showButtonBasedOnOwner)("createChapterMethodOBID",e.createChapterMethodOBID)("docRels",e.docRels)("createHandoverRequestMethodUID",e.createHandoverRequestMethodUID)("mode",e.mode)("parentClientAPI",e.parentClientAPI)("contextObjObid",e.contextObjObid)("selectedRevision",e.revision)("workflowStepOrObjectOBID",e.workflowStepOBID?e.workflowStepOBID:e.objectRevisionOBID)("handoverRequestData",e.handoverRequestData)("parentObjects",e.parentObjects)}}function ot(e,t){if(1&e){const e=O.Zb();O.Yb(0,"sda-revisable-footer",11),O.hc("onSelectedRevisionChanged",(function(t){return O.Kc(e),O.lc().onSelectedRevisionChanged(t)})),O.Xb()}if(2&e){const e=O.lc();O.sc("revisionSummary",e.revisionSummary)("apiConfig",e.apiConfig)("selectedRevision",e.selectedRevision)("parentMethodOBID",e.parentMethodOBID)("parentClientAPI",e.parentClientAPI)("parentObjects",e.parentObjects)("workflowStepOBID",e.workflowStepOBID?e.workflowStepOBID:e.objectRevisionOBID)("navigateBackOnCompletion",!0)}}const nt=[{path:"",component:(()=>{class e{constructor(e,t,i,a,s,o,n,r,d,l,c){this.sdaTranslateService=e,this.responseManagementService=t,this.router=i,this.route=a,this.configService=s,this.modeService=o,this.applicationSettingsService=n,this.databookManagmentService=r,this.dataRefreshService=d,this.loadingOverlayService=l,this.helpService=c,this.parentObjects=[],this.updateRevisionMethodUID="",this.route.params.subscribe(e=>{e[$.u]&&!e.ignoreReload&&(this.classDefUID=e[$.a],this.relDef=e[$.k],this.pageTitle=e[$.l],this.relDefsForTabs=e[$.n],this.columnSetsForTabs=e[$.o],this.columnSetsForCard=e[$.p],this.menuOptions=e[$.q],this.config="",this.config=JSON.parse(e[$.t])[0],this.manageRevisionRelatedItemsMethodUID=e[$.r],this.launchMarkupMethodUID=e[$.b],this.applicationSettingsService.setPageTitle(this.pageTitle),this.methodOBID=e.MethodOBID,this.showGridActionsMenuColumn=e[$.c],this.showButtonBasedOnOwner="True"===e[$.d],this.createChapterMethodOBID=e[$.e],this.docRels=e[$.f],this.createHandoverRequestMethodUID=e[$.g],this.updateRevisionMethodUID=e[$.h],this.mode=e[$.i],this.handoverColumnSetUID=e[$.j],this.parentMethodOBID=e[$.y],this.parentClientAPI=e[$.s],this.apiConfig=this.modeService.getConfigurationForModeFromString(this.mode),this.apiConfig.helpID&&this.helpService.setHandlers(this.apiConfig.helpID),this.mode?(Q.a[this.mode]===Q.a.ViewHandover?this.objectRevisionOBID=JSON.parse(e[$.u])[0]:this.workflowStepOBID=JSON.parse(e[$.u])[0],this.getDataForMode()):(this.contextObjObid=JSON.parse(e[$.u])[0],this.setParentObjects()),this.refreshDataSubscription=this.dataRefreshService.refreshData$.subscribe(e=>{e&&e.objectsToRefresh&&1===e.objectsToRefresh.length&&this.mode&&(this.loadingOverlayService.showLoadingOverlay(),this.getDataForMode(),this.loadingOverlayService.hideLoadingOverlay())}))})}ngOnDestroy(){this.selectedRevisionChangedSubscription&&this.selectedRevisionChangedSubscription.unsubscribe(),this.refreshDataSubscription&&this.refreshDataSubscription.unsubscribe()}onSelectedRevisionChanged(e){if(e&&e.revisionOBID){const t=this.revisionSummary.Revisions.filter(t=>t.OBID===e.revisionOBID);t&&t.length>0&&(this.selectedRevision=new Z.a(t[0].OBID,t[0].DisplayName,t[0].Config,t[0].IsLatest),this.revision=t[0]),this.setRejectDetails(),this.getHandoverDetails();const i=new G.a(this.selectedRevision.obid,this.selectedRevision.name,this.selectedRevision.config);this.selectedRevisionChangedSubscription=Object(V.a)(this.router.navigate([],{relativeTo:this.route,queryParams:{revision:JSON.stringify(i),state:e.state},queryParamsHandling:"merge",skipLocationChange:!0})).pipe(Object(q.a)(t=>(t?e.onSuccessCallback(e.revisionOBID):e.onCancelCallback&&e.onCancelCallback(),Object(H.a)(void 0)))).subscribe()}}getDataForMode(){this.getResponseManagementSummary().pipe(Object(X.a)(1)).subscribe(e=>{this.revisionSummary=e,!this.selectedRevision&&this.revisionSummary&&(this.revision=Object(F.a)(this.revisionSummary.Revisions),this.selectedRevision=new Z.a(this.revision.OBID,this.revision.DisplayName,this.revision.Config,this.revision.IsLatest))})}getHandoverDetails(){this.databookManagmentService.getHandoverRequestFromObject(this.selectedRevision.obid,this.mode).pipe(Object(X.a)(1)).subscribe(e=>{this.handoverRequestData=e,this.contextObjObid=e.databookOBID,this.setParentObjects(),this.parentObjects&&this.parentObjects.length>0&&this.selectedRevision&&this.parentObjects.push(new G.a(this.selectedRevision.obid,"",this.configService.selectedCreateConfig))})}setParentObjects(){this.parentObjects&&0===this.parentObjects.length&&(this.parentObjects.push(new G.a(this.contextObjObid,"",this.configService.selectedCreateConfig)),this.parentObjects[0].data={classDef:this.classDefUID,relDef:this.relDef,cardColumset:this.columnSetsForCard})}getResponseManagementSummary(){return Q.a[this.mode]!==Q.a.ViewHandover?this.responseManagementService.getResponseManagementSummaryByWorkflowStep(this.workflowStepOBID,void 0,this.handoverColumnSetUID):this.responseManagementService.getResponseManagementSummaryByObjectRevision(this.objectRevisionOBID,void 0,this.handoverColumnSetUID)}setRejectDetails(){this.revision.RejectDetails&&(this.revision.RejectDetails.header=this.sdaTranslateService.get("RESPONSE_MANAGEMENT_REJECT_SUMMARY_TITLE","Rejected"))}}return e.\u0275fac=function(t){return new(t||e)(O.Sb(M.a),O.Sb(ee.a),O.Sb(j.g),O.Sb(j.a),O.Sb(k.a),O.Sb(J.a),O.Sb(z.a),O.Sb(A),O.Sb(K.a),O.Sb(Y.a),O.Sb(W.a))},e.\u0275cmp=O.Mb({type:e,selectors:[["sda-databook-management"]],decls:7,vars:5,consts:[[3,"revisionSummary","apiConfig","parentMethodOBID","parentClientAPI","parentObjects","workflowStepOBID","updateRevisionMethodUID","onSelectedRevisionChanged",4,"ngIf"],[1,"dm-container"],[4,"ngIf"],[1,"dm-body"],["class","dm-body__reject-summary",3,"rejectDetails",4,"ngIf"],[3,"classDefUID","relDef","pageTitle","relDefsForTabs","columnSetsForTabs","columnSetsForCard","menuOptions","config","manageRevisionRelatedItemsMethodUID","launchMarkupMethodUID","methodOBID","showGridActionsMenuColumn","showButtonBasedOnOwner","createChapterMethodOBID","docRels","createHandoverRequestMethodUID","mode","parentClientAPI","contextObjObid","selectedRevision","workflowStepOrObjectOBID","handoverRequestData","parentObjects",4,"ngIf"],[3,"revisionSummary","apiConfig","selectedRevision","parentMethodOBID","parentClientAPI","parentObjects","workflowStepOBID","navigateBackOnCompletion","onSelectedRevisionChanged",4,"ngIf"],[3,"revisionSummary","apiConfig","parentMethodOBID","parentClientAPI","parentObjects","workflowStepOBID","updateRevisionMethodUID","onSelectedRevisionChanged"],[3,"revision","apiConfig","parentMethodOBID","parentObjects","parentClientAPI","updateCommunicationMethodUID","data"],[1,"dm-body__reject-summary",3,"rejectDetails"],[3,"classDefUID","relDef","pageTitle","relDefsForTabs","columnSetsForTabs","columnSetsForCard","menuOptions","config","manageRevisionRelatedItemsMethodUID","launchMarkupMethodUID","methodOBID","showGridActionsMenuColumn","showButtonBasedOnOwner","createChapterMethodOBID","docRels","createHandoverRequestMethodUID","mode","parentClientAPI","contextObjObid","selectedRevision","workflowStepOrObjectOBID","handoverRequestData","parentObjects"],[3,"revisionSummary","apiConfig","selectedRevision","parentMethodOBID","parentClientAPI","parentObjects","workflowStepOBID","navigateBackOnCompletion","onSelectedRevisionChanged"]],template:function(e,t){1&e&&(O.Sc(0,tt,1,7,"sda-revisable-header",0),O.Yb(1,"div",1),O.Sc(2,it,2,7,"div",2),O.Yb(3,"div",3),O.Sc(4,at,1,1,"sda-reject-summary",4),O.Sc(5,st,1,23,"sda-databook-chapter",5),O.Xb(),O.Xb(),O.Sc(6,ot,1,8,"sda-revisable-footer",6)),2&e&&(O.sc("ngIf",t.mode&&t.revisionSummary),O.Eb(2),O.sc("ngIf",t.updateRevisionMethodUID&&(null==t.revision?null:t.revision.IsLatest)),O.Eb(2),O.sc("ngIf",t.mode&&(null==t.revision?null:t.revision.RejectDetails)),O.Eb(1),O.sc("ngIf",t.contextObjObid),O.Eb(1),O.sc("ngIf",t.mode&&t.revisionSummary))},directives:[a.t,te.a,ie.a,ae.a,Je,et.a],styles:["[_nghost-%COMP%]{display:flex;flex:1;flex-direction:column;overflow:hidden}.dm-container[_ngcontent-%COMP%]{flex:1}.dm-body[_ngcontent-%COMP%], .dm-container[_ngcontent-%COMP%]{display:flex;height:100%;min-height:0}.dm-body[_ngcontent-%COMP%]{flex-direction:column;width:100%;background-color:#fff;border-left:1px solid #cad0d7;overflow:hidden}.dm-body__reject-summary[_ngcontent-%COMP%]{flex:0 0 auto}"]}),e})(),canDeactivate:[L.a],resolve:{objects:U.a}}];let rt=(()=>{class e{}return e.\u0275mod=O.Qb({type:e}),e.\u0275inj=O.Pb({factory:function(t){return new(t||e)},imports:[[j.k.forChild(nt)],j.k]}),e})(),dt=(()=>{class e{}return e.\u0275mod=O.Qb({type:e}),e.\u0275inj=O.Pb({factory:function(t){return new(t||e)},imports:[[rt,x]]}),e})()},TMLg:function(e,t,i){"use strict";i.d(t,"a",(function(){return a}));var a=function(e){return e[e.None=0]="None",e[e.Left=1]="Left",e[e.Right=2]="Right",e}({})},YKfw:function(e,t,i){"use strict";i.d(t,"a",(function(){return r}));var a=i("ofXK"),s=i("9Abt"),o=i("vIto"),n=i("fXoL");let r=(()=>{class e{}return e.\u0275mod=n.Qb({type:e}),e.\u0275inj=n.Pb({factory:function(t){return new(t||e)},imports:[[a.c,o.a,s.a]]}),e})()},dPl2:function(e,t,i){"use strict";i.d(t,"a",(function(){return R})),i.d(t,"b",(function(){return y})),i.d(t,"c",(function(){return T}));var a=i("fXoL"),s=i("ofXK"),o=i("xlun"),n=i("7zfz");const r=["p-tabViewNav",""];function d(e,t){if(1&e&&a.Tb(0,"span",9),2&e){const e=a.lc(3).$implicit;a.sc("ngClass",e.leftIcon)}}function l(e,t){if(1&e&&a.Tb(0,"span",10),2&e){const e=a.lc(3).$implicit;a.sc("ngClass",e.rightIcon)}}function c(e,t){if(1&e&&(a.Wb(0),a.Sc(1,d,1,1,"span",6),a.Yb(2,"span",7),a.Uc(3),a.Xb(),a.Sc(4,l,1,1,"span",8),a.Vb()),2&e){const e=a.lc(2).$implicit;a.Eb(1),a.sc("ngIf",e.leftIcon),a.Eb(2),a.Vc(e.header),a.Eb(1),a.sc("ngIf",e.rightIcon)}}function h(e,t){1&e&&a.Ub(0)}function u(e,t){if(1&e&&(a.Wb(0),a.Sc(1,h,1,0,"ng-container",11),a.Vb()),2&e){const e=a.lc(2).$implicit;a.Eb(1),a.sc("ngTemplateOutlet",e.headerTemplate)}}function p(e,t){if(1&e){const e=a.Zb();a.Yb(0,"span",12),a.hc("click",(function(t){a.Kc(e);const i=a.lc(2).$implicit;return a.lc().clickClose(t,i)})),a.Xb()}}const b=function(e,t){return{"ui-tabview-selected ui-state-active":e,"ui-state-disabled":t}};function g(e,t){if(1&e){const e=a.Zb();a.Yb(0,"li",2),a.hc("click",(function(t){a.Kc(e);const i=a.lc().$implicit;return a.lc().clickTab(t,i)}))("keydown.enter",(function(t){a.Kc(e);const i=a.lc().$implicit;return a.lc().clickTab(t,i)})),a.Yb(1,"a",3),a.Sc(2,c,5,3,"ng-container",4),a.Sc(3,u,2,1,"ng-container",4),a.Xb(),a.Sc(4,p,1,0,"span",5),a.Xb()}if(2&e){const e=a.lc().$implicit,t=a.lc();a.Gb(t.getDefaultHeaderClass(e)),a.sc("ngStyle",e.headerStyle)("ngClass",a.yc(16,b,e.selected,e.disabled)),a.Fb("tabindex",e.disabled?-1:0),a.Eb(1),a.sc("pTooltip",e.tooltip)("tooltipPosition",e.tooltipPosition)("positionStyle",e.tooltipPositionStyle)("tooltipStyleClass",e.tooltipStyleClass),a.Fb("id",e.id+"-label")("aria-selected",e.selected)("aria-controls",e.id)("aria-selected",e.selected),a.Eb(1),a.sc("ngIf",!e.headerTemplate),a.Eb(1),a.sc("ngIf",e.headerTemplate),a.Eb(1),a.sc("ngIf",e.closable)}}function f(e,t){1&e&&a.Sc(0,g,5,19,"li",1),2&e&&a.sc("ngIf",!t.$implicit.closed)}function v(e,t){1&e&&a.Ub(0)}function m(e,t){if(1&e&&(a.Wb(0),a.Sc(1,v,1,0,"ng-container",3),a.Vb()),2&e){const e=a.lc(2);a.Eb(1),a.sc("ngTemplateOutlet",e.contentTemplate)}}const S=function(e){return{"ui-helper-hidden":e}};function C(e,t){if(1&e&&(a.Yb(0,"div",1),a.qc(1),a.Sc(2,m,2,1,"ng-container",2),a.Xb()),2&e){const e=a.lc();a.sc("ngClass",a.xc(5,S,!e.selected)),a.Fb("id",e.id)("aria-hidden",!e.selected)("aria-labelledby",e.id+"-label"),a.Eb(2),a.sc("ngIf",e.contentTemplate&&(e.cache?e.loaded:e.selected))}}const O=["*"];function D(e,t){if(1&e){const e=a.Zb();a.Yb(0,"ul",3),a.hc("onTabClick",(function(t){return a.Kc(e),a.lc().open(t.originalEvent,t.tab)}))("onTabCloseClick",(function(t){return a.Kc(e),a.lc().close(t.originalEvent,t.tab)})),a.Xb()}if(2&e){const e=a.lc();a.sc("tabs",e.tabs)("orientation",e.orientation)}}function I(e,t){if(1&e){const e=a.Zb();a.Yb(0,"ul",3),a.hc("onTabClick",(function(t){return a.Kc(e),a.lc().open(t.originalEvent,t.tab)}))("onTabCloseClick",(function(t){return a.Kc(e),a.lc().close(t.originalEvent,t.tab)})),a.Xb()}if(2&e){const e=a.lc();a.sc("tabs",e.tabs)("orientation",e.orientation)}}let w=0,B=(()=>{let e=class{constructor(){this.orientation="top",this.onTabClick=new a.o,this.onTabCloseClick=new a.o}getDefaultHeaderClass(e){let t="ui-state-default ui-corner-"+this.orientation;return e.headerStyleClass&&(t=t+" "+e.headerStyleClass),t}clickTab(e,t){this.onTabClick.emit({originalEvent:e,tab:t})}clickClose(e,t){this.onTabCloseClick.emit({originalEvent:e,tab:t})}};return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=a.Mb({type:e,selectors:[["","p-tabViewNav",""]],hostVars:10,hostBindings:function(e,t){2&e&&a.Ib("ui-tabview-nav",!0)("ui-helper-reset",!0)("ui-helper-clearfix",!0)("ui-widget-header",!0)("ui-corner-all",!0)},inputs:{orientation:"orientation",tabs:"tabs"},outputs:{onTabClick:"onTabClick",onTabCloseClick:"onTabCloseClick"},attrs:r,decls:1,vars:1,consts:[["ngFor","",3,"ngForOf"],["role","presentation","tabindex","0",3,"class","ngStyle","ngClass","click","keydown.enter",4,"ngIf"],["role","presentation","tabindex","0",3,"ngStyle","ngClass","click","keydown.enter"],["role","tab",3,"pTooltip","tooltipPosition","positionStyle","tooltipStyleClass"],[4,"ngIf"],["class","ui-tabview-close pi pi-times",3,"click",4,"ngIf"],["class","ui-tabview-left-icon",3,"ngClass",4,"ngIf"],[1,"ui-tabview-title"],["class","ui-tabview-right-icon",3,"ngClass",4,"ngIf"],[1,"ui-tabview-left-icon",3,"ngClass"],[1,"ui-tabview-right-icon",3,"ngClass"],[4,"ngTemplateOutlet"],[1,"ui-tabview-close","pi","pi-times",3,"click"]],template:function(e,t){1&e&&a.Sc(0,f,1,1,"ng-template",0),2&e&&a.sc("ngForOf",t.tabs)},directives:[s.s,s.t,s.w,s.q,o.a,s.A],encapsulation:2}),e})(),R=(()=>{let e=class{constructor(e,t){this.viewContainer=e,this.cd=t,this.cache=!0,this.tooltipPosition="top",this.tooltipPositionStyle="absolute",this.id="ui-tabpanel-"+w++}ngAfterContentInit(){this.templates.forEach(e=>{switch(e.getType()){case"header":this.headerTemplate=e.template;break;case"content":default:this.contentTemplate=e.template}})}get selected(){return this._selected}set selected(e){this._selected=e,this.loaded||this.cd.detectChanges(),this.loaded=!0}ngOnDestroy(){this.view=null}};return e.\u0275fac=function(t){return new(t||e)(a.Sb(a.Q),a.Sb(a.h))},e.\u0275cmp=a.Mb({type:e,selectors:[["p-tabPanel"]],contentQueries:function(e,t,i){var s;1&e&&a.Kb(i,n.d,!1),2&e&&a.Gc(s=a.ic())&&(t.templates=s)},inputs:{cache:"cache",tooltipPosition:"tooltipPosition",tooltipPositionStyle:"tooltipPositionStyle",selected:"selected",header:"header",disabled:"disabled",closable:"closable",headerStyle:"headerStyle",headerStyleClass:"headerStyleClass",leftIcon:"leftIcon",rightIcon:"rightIcon",tooltip:"tooltip",tooltipStyleClass:"tooltipStyleClass"},ngContentSelectors:O,decls:1,vars:1,consts:[["class","ui-tabview-panel ui-widget-content","role","tabpanel",3,"ngClass",4,"ngIf"],["role","tabpanel",1,"ui-tabview-panel","ui-widget-content",3,"ngClass"],[4,"ngIf"],[4,"ngTemplateOutlet"]],template:function(e,t){1&e&&(a.rc(),a.Sc(0,C,3,7,"div",0)),2&e&&a.sc("ngIf",!t.closed)},directives:[s.t,s.q,s.A],encapsulation:2}),e})(),y=(()=>{let e=class{constructor(e){this.el=e,this.orientation="top",this.onChange=new a.o,this.onClose=new a.o,this.activeIndexChange=new a.o}ngAfterContentInit(){this.initTabs(),this.tabPanels.changes.subscribe(e=>{this.initTabs()})}initTabs(){this.tabs=this.tabPanels.toArray(),!this.findSelectedTab()&&this.tabs.length&&(null!=this.activeIndex&&this.tabs.length>this.activeIndex?this.tabs[this.activeIndex].selected=!0:this.tabs[0].selected=!0)}open(e,t){if(t.disabled)e&&e.preventDefault();else{if(!t.selected){let i=this.findSelectedTab();i&&(i.selected=!1),t.selected=!0;let a=this.findTabIndex(t);this.preventActiveIndexPropagation=!0,this.activeIndexChange.emit(a),this.onChange.emit({originalEvent:e,index:a})}e&&e.preventDefault()}}close(e,t){this.controlClose?this.onClose.emit({originalEvent:e,index:this.findTabIndex(t),close:()=>{this.closeTab(t)}}):(this.closeTab(t),this.onClose.emit({originalEvent:e,index:this.findTabIndex(t)})),e.stopPropagation()}closeTab(e){if(!e.disabled){if(e.selected){e.selected=!1;for(let t=0;t<this.tabs.length;t++){let i=this.tabs[t];if(!i.closed&&!e.disabled){i.selected=!0;break}}}e.closed=!0}}findSelectedTab(){for(let e=0;e<this.tabs.length;e++)if(this.tabs[e].selected)return this.tabs[e];return null}findTabIndex(e){let t=-1;for(let i=0;i<this.tabs.length;i++)if(this.tabs[i]==e){t=i;break}return t}getBlockableElement(){return this.el.nativeElement.children[0]}get activeIndex(){return this._activeIndex}set activeIndex(e){this._activeIndex=e,this.preventActiveIndexPropagation?this.preventActiveIndexPropagation=!1:this.tabs&&this.tabs.length&&null!=this._activeIndex&&this.tabs.length>this._activeIndex&&(this.findSelectedTab().selected=!1,this.tabs[this._activeIndex].selected=!0)}};return e.\u0275fac=function(t){return new(t||e)(a.Sb(a.l))},e.\u0275cmp=a.Mb({type:e,selectors:[["p-tabView"]],contentQueries:function(e,t,i){var s;1&e&&a.Kb(i,R,!1),2&e&&a.Gc(s=a.ic())&&(t.tabPanels=s)},inputs:{orientation:"orientation",activeIndex:"activeIndex",style:"style",styleClass:"styleClass",controlClose:"controlClose"},outputs:{onChange:"onChange",onClose:"onClose",activeIndexChange:"activeIndexChange"},ngContentSelectors:O,decls:5,vars:6,consts:[[3,"ngClass","ngStyle"],["p-tabViewNav","","role","tablist",3,"tabs","orientation","onTabClick","onTabCloseClick",4,"ngIf"],[1,"ui-tabview-panels"],["p-tabViewNav","","role","tablist",3,"tabs","orientation","onTabClick","onTabCloseClick"]],template:function(e,t){1&e&&(a.rc(),a.Yb(0,"div",0),a.Sc(1,D,1,2,"ul",1),a.Yb(2,"div",2),a.qc(3),a.Xb(),a.Sc(4,I,1,2,"ul",1),a.Xb()),2&e&&(a.Gb(t.styleClass),a.sc("ngClass","ui-tabview ui-widget ui-widget-content ui-corner-all ui-tabview-"+t.orientation)("ngStyle",t.style),a.Eb(1),a.sc("ngIf","bottom"!=t.orientation),a.Eb(3),a.sc("ngIf","bottom"==t.orientation))},directives:[s.q,s.w,s.t,B],encapsulation:2}),e})(),T=(()=>{let e=class{};return e.\u0275mod=a.Qb({type:e}),e.\u0275inj=a.Pb({factory:function(t){return new(t||e)},imports:[[s.c,n.e,o.b],n.e]}),e})()},dkN4:function(e,t,i){"use strict";i.d(t,"a",(function(){return h}));var a=i("fXoL"),s=i("ZLgS"),o=i("dEBh"),n=i("TMLg"),r=i("ofXK"),d=i("BLbD");const l=[[["",8,"sda-layout-region-left"]],[["",8,"sda-layout-region-right"]]],c=[".sda-layout-region-left",".sda-layout-region-right"];let h=(()=>{class e{constructor(e){this.windowService=e,this.resPanelMaxWidth=400,this.resPanelDefaultWidth=400,this.resPanelMinWidth=400,this.resizable=!0,this.disableRegion=n.a.None,this.onResized=new a.o,this.showContentOverlay=!1,this.layoutRegion=n.a,this.COLLAPSED_CLIENT_BREAKPOINT=850}onSideBarResized(e){this.showContentOverlay=this.windowService.Window.innerWidth<=this.COLLAPSED_CLIENT_BREAKPOINT&&e>0,this.onResized.emit()}updaterResizePanelArgs(){this.resizePanel.resetMinValue(this.windowService.Window.innerWidth<this.COLLAPSED_CLIENT_BREAKPOINT?0:this.resPanelMinWidth)}ngAfterViewInit(){this.updaterResizePanelArgs()}}return e.\u0275fac=function(t){return new(t||e)(a.Sb(o.a))},e.\u0275cmp=a.Mb({type:e,selectors:[["sda-left-split-template"]],viewQuery:function(e,t){var i;1&e&&a.bd(s.a,!0),2&e&&a.Gc(i=a.ic())&&(t.resizePanel=i.first)},hostBindings:function(e,t){1&e&&a.hc("resize",(function(){return t.updaterResizePanelArgs()}),!1,a.Jc)},inputs:{styleClass:"styleClass",resPanelMaxWidth:"resPanelMaxWidth",resPanelDefaultWidth:"resPanelDefaultWidth",resPanelMinWidth:"resPanelMinWidth",resizable:"resizable",disableRegion:"disableRegion"},outputs:{onResized:"onResized"},ngContentSelectors:c,decls:9,vars:9,consts:[[1,"layout",3,"ngClass"],[1,"layout__left"],[3,"resizable","defaultValue","minValue","maxValue","onResized"],["resizePanel",""],[3,"toggle","position"],[1,"layout__right"]],template:function(e,t){1&e&&(a.rc(l),a.Yb(0,"div",0),a.Yb(1,"div",1),a.Yb(2,"sda-resize-panel",2,3),a.hc("onResized",(function(e){return t.onSideBarResized(e)})),a.qc(4,0,["class","sda-resize-panel-content"]),a.Xb(),a.Tb(5,"sda-blanket",4),a.Xb(),a.Yb(6,"div",5),a.qc(7,1),a.Tb(8,"sda-blanket",4),a.Xb(),a.Xb()),2&e&&(a.sc("ngClass",t.styleClass),a.Eb(2),a.sc("resizable",t.resizable)("defaultValue",t.resPanelDefaultWidth)("minValue",t.resPanelMinWidth)("maxValue",t.resPanelMaxWidth),a.Eb(3),a.sc("toggle",t.disableRegion===t.layoutRegion.Left)("position","absolute"),a.Eb(3),a.sc("toggle",t.showContentOverlay||t.disableRegion===t.layoutRegion.Right)("position","absolute"))},directives:[r.q,s.a,d.a],styles:[".layout[_ngcontent-%COMP%], [_nghost-%COMP%]{display:flex;width:100%}.layout[_ngcontent-%COMP%]{position:relative;height:100%}.layout[_ngcontent-%COMP%]     .blanket{z-index:100!important}.layout__left[_ngcontent-%COMP%]{position:relative;display:flex;height:100%}.layout__left[_ngcontent-%COMP%]     .sda-layout-region-left{display:flex;flex-direction:column;width:100%}.layout__left[_ngcontent-%COMP%]     .resize-panel__handle{z-index:200!important}@media screen and (max-width:53.125em){.layout__left[_ngcontent-%COMP%]{position:absolute;z-index:200!important}}.layout__right[_ngcontent-%COMP%]{position:relative;display:flex;width:100%;min-width:0}@media screen and (max-width:53.125em){.layout__right[_ngcontent-%COMP%]{margin-left:30px}}.layout__right[_ngcontent-%COMP%]     .sda-layout-region-right{display:flex;flex-direction:column;width:100%}"]}),e})()},niUd:function(e,t,i){"use strict";i.d(t,"a",(function(){return r}));var a=i("fXoL"),s=i("ofXK");const o=[[["",8,"sda-card-header"]],[["",8,"sda-card-body"]],[["",8,"sda-card-footer"]]],n=[".sda-card-header",".sda-card-body",".sda-card-footer"];let r=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=a.Mb({type:e,selectors:[["sda-card-view"]],inputs:{isReadOnly:"isReadOnly",styleClass:"styleClass"},ngContentSelectors:n,decls:7,vars:1,consts:[[1,"card",3,"ngClass"],[1,"card-header"],[1,"card-body"],[1,"card-footer"]],template:function(e,t){1&e&&(a.rc(o),a.Yb(0,"div",0),a.Yb(1,"div",1),a.qc(2),a.Xb(),a.Yb(3,"div",2),a.qc(4,1),a.Xb(),a.Yb(5,"div",3),a.qc(6,2),a.Xb(),a.Xb()),2&e&&a.sc("ngClass",t.styleClass)},directives:[s.q],styles:["[_nghost-%COMP%]    {display:flex;flex:1;flex-direction:column}[_nghost-%COMP%]     .card{display:flex;flex-direction:column;margin:20px 0;padding:8px;border:1px solid #cad0d7}[_nghost-%COMP%]     .card:only-of-type{margin-bottom:0}[_nghost-%COMP%]     .card-body:empty, [_nghost-%COMP%]     .card-footer:empty, [_nghost-%COMP%]     .card-header:empty{display:none}[_nghost-%COMP%]     .card-header{flex-shrink:0}[_nghost-%COMP%]     .card-body{flex-shrink:0;margin:10px 0}"]}),e})()},noLC:function(e,t,i){"use strict";i.d(t,"a",(function(){return l}));var a=i("ofXK"),s=i("NFeN"),o=i("l3mi"),n=i("8Vnw"),r=i("83Gb"),d=i("fXoL");let l=(()=>{class e{}return e.\u0275mod=d.Qb({type:e}),e.\u0275inj=d.Pb({factory:function(t){return new(t||e)},imports:[[a.c,o.a,n.a,r.a,s.b]]}),e})()},thHT:function(e,t,i){"use strict";i.d(t,"a",(function(){return g}));var a=i("ofXK"),s=i("3Pt+"),o=i("dPl2"),n=i("vZO+"),r=i("l3mi"),d=i("CakU"),l=i("PMIr"),c=i("GDd0"),h=i("sRnt"),u=i("noLC"),p=i("inpI"),b=i("fXoL");let g=(()=>{class e{}return e.\u0275mod=b.Qb({type:e}),e.\u0275inj=b.Pb({factory:function(t){return new(t||e)},imports:[[a.c,p.a,h.a,o.c,s.j,c.a,u.a,l.a,d.a,n.a,r.a]]}),e})()},"vZO+":function(e,t,i){"use strict";i.d(t,"a",(function(){return m}));var a=i("rDax"),s=i("+rOU"),o=i("ofXK"),n=i("3Pt+"),r=i("NFeN"),d=i("STbY"),l=i("7LiV"),c=i("BMkO"),h=i("l3mi"),u=i("xNYO"),p=i("Wbmx"),b=i("txXS"),g=i("GDd0"),f=i("uJvP"),v=i("fXoL");let m=(()=>{class e{}return e.\u0275mod=v.Qb({type:e}),e.\u0275inj=v.Pb({factory:function(t){return new(t||e)},imports:[[o.c,p.a,l.b,n.j,b.a,g.a,u.a,f.a,d.c,h.a,r.b,a.f,s.g,c.a]]}),e})()}}]);