(window.webpackJsonp=window.webpackJsonp||[]).push([[62],{"1D41":function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));class i{writeValue(e){}registerOnChange(e){this.onChange=e}registerOnTouched(e){}setDisabledState(e){}newSelected(e){}}},DdQY:function(e,t,n){"use strict";n.d(t,"a",(function(){return G}));var i=n("YwUS"),a=n("KkJr"),r=n("TQny"),s=n("Z9D8"),o=n("LUpO"),c=n("dEBh"),l=n("iwlc"),u=n("Ejbi"),p=n("41Lq"),d=n("ONOH"),h=n("08BJ"),b=n("frEW"),m=n("fXoL"),f=n("tyNb"),g=n("ofXK"),_=n("3Pt+"),E=n("FcA5"),S=n("gSF1"),T=n("FhDe"),v=n("N609"),O=n("gFfV"),y=n("6Qo/"),R=n("8pNJ"),L=n("Qs1y"),x=n("zCQ7");function I(e,t){if(1&e){const e=m.Zb();m.Yb(0,"li",27),m.hc("click",(function(){m.Kc(e);const n=t.$implicit;return m.lc().$implicit.operator=n})),m.Uc(1),m.Xb()}if(2&e){const e=t.$implicit,n=m.lc().$implicit,i=m.lc(2);m.Ib("enter-params__select-button--active",n.operator==e),m.Eb(1),m.Wc(" ",i.operators[e]," ")}}function P(e,t){1&e&&(m.Yb(0,"span"),m.Uc(1,"*"),m.Xb())}function D(e,t){if(1&e&&(m.Yb(0,"span"),m.Uc(1),m.Xb()),2&e){const e=m.lc().$implicit;m.Eb(1),m.Wc(" ",e.error," ")}}function w(e,t){if(1&e&&m.Tb(0,"sda-enum-list-level-type",28),2&e){const e=m.lc().$implicit;m.sc("isEditable",!0)("field",e)("includeItemInExpand",!0)}}function M(e,t){if(1&e&&m.Tb(0,"sda-enum-type",29),2&e){const e=m.lc().$implicit;m.sc("isEditable",!0)("field",e)}}function C(e,t){if(1&e&&m.Tb(0,"sda-uom-list-type",30),2&e){const e=m.lc().$implicit;m.sc("field",e)("isEditable",!0)}}function V(e,t){if(1&e){const e=m.Zb();m.Yb(0,"input",31),m.hc("ngModelChange",(function(t){return m.Kc(e),m.lc().$implicit.Value=t})),m.Xb()}if(2&e){const e=m.lc().$implicit;m.uc("name","value-",e.Id,""),m.sc("ngModel",e.Value)}}function F(e,t){if(1&e){const e=m.Zb();m.Yb(0,"li",33),m.hc("click",(function(){m.Kc(e);const n=t.$implicit;return m.lc(2).$implicit.Value=n})),m.Uc(1),m.Xb()}if(2&e){const e=t.$implicit,n=m.lc(2).$implicit;m.Ib("enter-params__select-button--active",n.Value==e),m.Eb(1),m.Wc(" ",e," ")}}const N=function(){return["True","False"]};function U(e,t){1&e&&(m.Yb(0,"div"),m.Yb(1,"ul",16),m.Sc(2,F,2,3,"li",32),m.Xb(),m.Xb()),2&e&&(m.Eb(2),m.sc("ngForOf",m.wc(1,N)))}function A(e,t){if(1&e&&m.Tb(0,"sda-datetime-type",29),2&e){const e=m.lc().$implicit;m.sc("isEditable",!0)("field",e)}}function X(e,t){if(1&e&&m.Tb(0,"sda-ymd-type",29),2&e){const e=m.lc().$implicit;m.sc("isEditable",!0)("field",e)}}function k(e,t){if(1&e){const e=m.Zb();m.Yb(0,"input",34),m.hc("ngModelChange",(function(t){return m.Kc(e),m.lc().$implicit.Value=t})),m.Xb()}if(2&e){const e=m.lc().$implicit;m.uc("name","value-",e.Id,""),m.sc("ngModel",e.Value)}}function B(e,t){if(1&e&&m.Tb(0,"sda-form-double-type",29),2&e){const e=m.lc().$implicit;m.sc("isEditable",!0)("field",e)}}function Y(e,t){if(1&e&&(m.Yb(0,"li",11),m.Yb(1,"h4",12),m.Uc(2),m.Xb(),m.Yb(3,"div",13),m.Yb(4,"div",14),m.Yb(5,"h5",15),m.Uc(6),m.Xb(),m.Yb(7,"ul",16),m.Sc(8,I,2,3,"li",17),m.Xb(),m.Xb(),m.Yb(9,"div",18),m.Yb(10,"h5",15),m.Uc(11),m.Sc(12,P,2,0,"span",19),m.Sc(13,D,2,1,"span",19),m.Xb(),m.Yb(14,"div",20),m.Sc(15,w,1,3,"sda-enum-list-level-type",21),m.Sc(16,M,1,2,"sda-enum-type",22),m.Sc(17,C,1,2,"sda-uom-list-type",23),m.Sc(18,V,1,2,"input",24),m.Sc(19,U,3,2,"div",25),m.Sc(20,A,1,2,"sda-datetime-type",22),m.Sc(21,X,1,2,"sda-ymd-type",22),m.Sc(22,k,1,2,"input",26),m.Sc(23,B,1,2,"sda-form-double-type",22),m.Xb(),m.Xb(),m.Xb(),m.Xb()),2&e){const e=t.$implicit,n=m.lc(2);m.Eb(2),m.Vc(e.DisplayName),m.Eb(4),m.Vc(n.REPORT_SEARCH_OPERATOR),m.Eb(2),m.sc("ngForOf",n.typeOperators[e.ScopedByType]),m.Eb(3),m.Wc(" ",n.REPORT_SEARCH_VALUE," "),m.Eb(1),m.sc("ngIf",e.IsMandatory),m.Eb(1),m.sc("ngIf",n.showFormErrors&&e.error),m.Eb(1),m.sc("ngSwitch",e.ScopedByType),m.Eb(1),m.sc("ngSwitchCase","EnumListLevelType"),m.Eb(1),m.sc("ngSwitchCase","EnumListType"),m.Eb(1),m.sc("ngSwitchCase","UoMListType"),m.Eb(1),m.sc("ngSwitchCase","StringType"),m.Eb(1),m.sc("ngSwitchCase","BooleanType"),m.Eb(1),m.sc("ngSwitchCase","DateTimeType"),m.Eb(1),m.sc("ngSwitchCase","YMDType"),m.Eb(1),m.sc("ngSwitchCase","IntType"),m.Eb(1),m.sc("ngSwitchCase","DoubleType")}}function $(e,t){if(1&e){const e=m.Zb();m.Yb(0,"sda-button",35),m.hc("click",(function(){return m.Kc(e),m.lc(2).openInFull()})),m.Xb()}if(2&e){const e=m.lc(2);m.sc("displayName",e.OPEN_IN_FULL_PAGE)}}function j(e,t){if(1&e){const e=m.Zb();m.Yb(0,"div",3),m.Yb(1,"h3",4),m.Uc(2),m.Xb(),m.Yb(3,"form"),m.Yb(4,"ul",5),m.Sc(5,Y,24,16,"li",6),m.Xb(),m.Yb(6,"div",7),m.Yb(7,"sda-button-primary",8),m.hc("click",(function(){return m.Kc(e),m.lc().runReport()})),m.Xb(),m.Yb(8,"sda-button-abort",9),m.hc("click",(function(){return m.Kc(e),m.lc().resetParams()})),m.Xb(),m.Sc(9,$,1,1,"sda-button",10),m.Xb(),m.Xb(),m.Xb()}if(2&e){const e=m.lc();m.Eb(2),m.Vc(e.details&&e.details.DisplayName),m.Eb(3),m.sc("ngForOf",e.params),m.Eb(2),m.sc("displayName",e.isLoading?e.LOADING_ELLIPSIS:e.REPORT_RUN_BUTTON)("isDisabled",e.isLoading),m.Eb(1),m.sc("displayName",e.RESET),m.Eb(1),m.sc("ngIf","component"===e.type)}}let G=(()=>{class e extends b.a{constructor(e,t,n,i,a,r,s,o,c,l,u){super(e,t,n,i,a,r,s,o,c),this.route=e,this.router=t,this.reportsService=n,this.sdaTranslateService=i,this.configService=a,this.dependentItemsService=r,this.helpService=s,this.notificationService=o,this.windowService=c,this.applicationSettingsService=l,this.exceptionService=u,this.FILE_DOWNLOAD_NOT_SUPPORTED=this.sdaTranslateService.get("FILE_DOWNLOAD_NOT_SUPPORTED","File download is not supported on this device"),this.BACKGROUND_REPORT_STARTED=this.sdaTranslateService.get("BACKGROUND_REPORT_STARTED","Report is running in the background...")}ngOnInit(){this.route.params.subscribe(e=>{const{obid:t}=e;this.reportsService.getReportDetails(t).subscribe(e=>this.details=e.value,e=>{const t=new s.a(e,this.LOAD_REPORT_ERROR,"EnterParamsComponent","ngOnInit");this.exceptionService.handleException(t)}),this.reportsService.getReportParameters(t).subscribe(e=>{this.serverParams=e.value,this.params=this.createClientParams()},e=>{const t=new s.a(e,this.LOAD_REPORT_PARAMS_ERROR,"EnterParamsComponent","ngOnInit");this.exceptionService.handleException(t)})}),"component"!==this.type&&setTimeout(()=>this.applicationSettingsService.setPageTitle(this.ENTER_PARAMS_TITLE),0)}runReport(e){e&&e.preventDefault(),this.isLoading=!0,this.showFormErrors=!1;const t=this.createServerParams(),n=t.findIndex(e=>0===e.Values[0].Operator&&e.Values[0].Value===a.a);if(-1!==n&&t.splice(n,1),this.getFormErrors())return this.isLoading=!1,void(this.showFormErrors=!0);this.details?"listview"===this.details.OutputType.toLowerCase()?(this.isLoading=!1,this.router.navigate([`reports/${this.details.Id}/view-report`,{params:JSON.stringify(t),config:JSON.stringify(this.configService.selectedQueryConfigs),timestamp:Date.now()}])):this.windowService.isDeviceIos()&&!this.details.RunInBackground?(this.notificationService.warning(this.FILE_DOWNLOAD_NOT_SUPPORTED),this.isLoading=!1):this.configService.selectedQueryConfigs.forEach(e=>{this.reportsService.executeReport(this.details,e,t).subscribe(e=>{this.details.RunInBackground?this.notificationService.success(this.BACKGROUND_REPORT_STARTED):"xhtml"===this.details.OutputType.toLowerCase()?this.reportsService.openXHTMLReport(e.value):this.reportsService.openGeneratedReport(e.value),this.isLoading=!1})}):this.isLoading=!1}openInFull(){const e=this.createServerParams();this.router.navigate([`reports/${this.details.Id}/enter-params`,{params:JSON.stringify(e)}])}}return e.\u0275fac=function(t){return new(t||e)(m.Sb(f.a),m.Sb(f.g),m.Sb(h.a),m.Sb(u.a),m.Sb(d.a),m.Sb(r.a),m.Sb(l.a),m.Sb(p.a),m.Sb(c.a),m.Sb(i.a),m.Sb(o.a))},e.\u0275cmp=m.Mb({type:e,selectors:[["sda-enter-params-view"]],features:[m.Bb],decls:3,vars:1,consts:[[1,"enter-params"],[1,"enter-params__toolbar"],["class","enter-params__container",4,"ngIf"],[1,"enter-params__container"],[1,"enter-params__container__title"],[1,"enter-params__fields"],["class","enter-params__field",4,"ngFor","ngForOf"],[1,"enter-params-actions"],[1,"enter-params-actions__btn",3,"displayName","isDisabled","click"],[1,"enter-params-actions__btn",3,"displayName","click"],["class","enter-params-actions__btn enter-params-actions__btn--full-page",3,"displayName","click",4,"ngIf"],[1,"enter-params__field"],[1,"enter-params__field__title"],[1,"enter-params__input-group"],[1,"enter-params__input","enter-params__input--operator"],[1,"enter-params__input__title"],[1,"enter-params__select-buttons"],["class","enter-params__select-button enter-params__select-button--operator",3,"enter-params__select-button--active","click",4,"ngFor","ngForOf"],[1,"enter-params__input","enter-params__input--value"],[4,"ngIf"],[3,"ngSwitch"],[3,"isEditable","field","includeItemInExpand",4,"ngSwitchCase"],[3,"isEditable","field",4,"ngSwitchCase"],[3,"field","isEditable",4,"ngSwitchCase"],[3,"name","ngModel","ngModelChange",4,"ngSwitchCase"],[4,"ngSwitchCase"],["type","text",3,"name","ngModel","ngModelChange",4,"ngSwitchCase"],[1,"enter-params__select-button","enter-params__select-button--operator",3,"click"],[3,"isEditable","field","includeItemInExpand"],[3,"isEditable","field"],[3,"field","isEditable"],[3,"name","ngModel","ngModelChange"],["class","enter-params__select-button",3,"enter-params__select-button--active","click",4,"ngFor","ngForOf"],[1,"enter-params__select-button",3,"click"],["type","text",3,"name","ngModel","ngModelChange"],[1,"enter-params-actions__btn","enter-params-actions__btn--full-page",3,"displayName","click"]],template:function(e,t){1&e&&(m.Yb(0,"div",0),m.Tb(1,"header",1),m.Sc(2,j,10,6,"div",2),m.Xb()),2&e&&(m.Eb(2),m.sc("ngIf",t.params))},directives:[g.t,_.F,_.q,_.r,g.s,E.a,S.a,g.x,g.y,T.a,v.a,O.a,_.c,_.p,_.s,y.a,R.a,L.a,x.a],styles:["[_nghost-%COMP%]{overflow-x:hidden;overflow-y:auto;position:relative;display:flex;flex:1;flex-direction:column;height:100%}.enter-params__toolbar[_ngcontent-%COMP%]{background-color:rgba(0,0,0,.05);border-bottom:1px solid rgba(0,0,0,.1);height:48px}.enter-params__container[_ngcontent-%COMP%]{width:960px;margin:0 auto;padding:20px 30px;border:1px solid rgba(0,0,0,.1);border-top:none}@media screen and (max-width:74.9375em){.enter-params__container[_ngcontent-%COMP%]{width:auto}}.enter-params__container__title[_ngcontent-%COMP%]{margin-bottom:20px}.enter-params__field__title[_ngcontent-%COMP%]{font-weight:500;font-size:18px}.enter-params__input-group[_ngcontent-%COMP%]{display:block;margin:20px 0}@media screen and (min-width:33.125em){.enter-params__input-group[_ngcontent-%COMP%]{display:flex}}.enter-params__input--operator[_ngcontent-%COMP%]{width:275px;min-width:275px;margin-right:20px}.enter-params__input--value[_ngcontent-%COMP%]{flex-grow:1}@media screen and (max-width:59.3125em){.enter-params__input--value[_ngcontent-%COMP%]{margin-top:10px}}.enter-params__input__title[_ngcontent-%COMP%]{font-size:12px;text-transform:uppercase;font-weight:500;color:rgba(0,0,0,.5);display:block;margin-bottom:8px}.enter-params__input__title[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{text-transform:uppercase;font-size:12px;font-weight:700;color:#c00;margin-left:5px}.enter-params__input[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], .enter-params__input[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{display:block;width:100%;min-width:0!important;height:34px;padding:5px 7px;border:1px solid #cad0d7;border-radius:2px}.enter-params__select-buttons[_ngcontent-%COMP%]{display:flex;padding-bottom:5px;overflow:hidden}.enter-params__select-button[_ngcontent-%COMP%]{height:34px;margin-right:5px;padding:8px 15px 0;text-align:center;border:1px solid rgba(0,0,0,.1);background-color:rgba(0,0,0,.05);border-radius:5px;font-size:14px;cursor:pointer;font-weight:700;color:rgba(0,0,0,.5);-webkit-user-select:none;-ms-user-select:none;user-select:none;box-shadow:inset 0 1px 1px hsla(0,0%,100%,.4),0 1px 2px rgba(0,0,0,.1);transition:all .1s ease-in}.enter-params__select-button--operator[_ngcontent-%COMP%]{width:34px;padding:5px 0 0;font-size:18px}.enter-params__select-button[_ngcontent-%COMP%]:hover{background-color:rgba(0,0,0,.11);border-color:rgba(0,0,0,.12);box-shadow:inset 0 1px 1px hsla(0,0%,100%,.4),0 1px 3px rgba(0,0,0,.1)}.enter-params__select-button--active[_ngcontent-%COMP%]{background-color:rgba(0,0,0,.15);border-color:rgba(0,0,0,.15);color:rgba(0,0,0,.8);box-shadow:inset 0 1px 1px hsla(0,0%,100%,.4),0 1px 4px rgba(0,0,0,.15)}.enter-params-actions[_ngcontent-%COMP%]{display:flex;flex-direction:row-reverse;align-items:center;overflow:hidden}.enter-params-actions__btn[_ngcontent-%COMP%]:not(:last-child){margin-left:6px}.enter-params-actions__btn--full-page[_ngcontent-%COMP%]{margin-right:auto}"]}),e})()},F8dI:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var i=n("kx0E"),a=n("fXoL");let r=(()=>{class e{constructor(e){this.dataFormatService=e}transform(e){return this.dataFormatService.convertToLocalDateTimeFormat(e)}}return e.\u0275fac=function(t){return new(t||e)(a.Sb(i.a))},e.\u0275pipe=a.Rb({name:"sdaConvertToLocalDateTime",type:e,pure:!0}),e})()},HDO1:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var i=n("kx0E"),a=n("fXoL");let r=(()=>{class e{constructor(e){this.dataFormatService=e}transform(e){return this.dataFormatService.convertToLocalDouble(e)}}return e.\u0275fac=function(t){return new(t||e)(a.Sb(i.a))},e.\u0275pipe=a.Rb({name:"sdaConvertToDouble",type:e,pure:!0}),e})()},RY2J:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var i=n("fXoL");let a=(()=>{class e{transform(e){let t;return e&&(t=new Date(e)),t}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275pipe=i.Rb({name:"sdaConvertToDate",type:e,pure:!0}),e})()},Z5SQ:function(e,t,n){"use strict";n.d(t,"a",(function(){return h}));var i=n("ofXK"),a=n("3Pt+"),r=n("l3mi"),s=n("hbwR"),o=n("2RYc"),c=n("xQ71"),l=n("Z5F4"),u=n("DkN+"),p=n("4jMT"),d=n("fXoL");let h=(()=>{class e{}return e.\u0275mod=d.Qb({type:e}),e.\u0275inj=d.Pb({factory:function(t){return new(t||e)},imports:[[i.c,a.j,c.a,l.a,u.a,p.a,s.a,o.a,r.a]]}),e})()},dLJk:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var i=n("kx0E"),a=n("fXoL");let r=(()=>{class e{constructor(e){this.dataFormatService=e}transform(e){return this.dataFormatService.convertToLocalDateFormat(e)}}return e.\u0275fac=function(t){return new(t||e)(a.Sb(i.a))},e.\u0275pipe=a.Rb({name:"sdaConvertToLocalDate",type:e,pure:!0}),e})()},frEW:function(e,t,n){"use strict";n.d(t,"a",(function(){return b}));var i=n("ZW2Q"),a=n("TQny"),r=n("dEBh"),s=n("iwlc"),o=n("Ejbi"),c=n("41Lq"),l=n("yzqN"),u=n("ONOH"),p=n("08BJ"),d=n("fXoL"),h=n("tyNb");let b=(()=>{class e{constructor(e,t,n,i,a,r,s,o,c){this.route=e,this.router=t,this.reportsService=n,this.sdaTranslateService=i,this.configService=a,this.dependentItemsService=r,this.helpService=s,this.notificationService=o,this.windowService=c,this.searchData={},this.isLoading=!1,this.ENTER_PARAMS_TITLE=this.sdaTranslateService.get("ENTER_PARAMS_TITLE","Specify values for report"),this.LOAD_REPORT_ERROR=this.sdaTranslateService.get("LOAD_REPORT_ERROR","Error loading report"),this.LOAD_REPORT_PARAMS_ERROR=this.sdaTranslateService.get("LOAD_REPORT_PARAMS_ERROR","Error loading report parameters"),this.REPORT_SEARCH_OPERATOR=this.sdaTranslateService.get("REPORT_SEARCH_OPERATOR","Operator"),this.REPORT_SEARCH_VALUE=this.sdaTranslateService.get("REPORT_SEARCH_VALUE","Value"),this.REPORT_RUN_BUTTON=this.sdaTranslateService.get("REPORT_RUN_BUTTON","Run Report"),this.LOADING_ELLIPSIS=this.sdaTranslateService.get("LOADING_ELLIPSIS","Loading..."),this.OPEN_IN_FULL_PAGE=this.sdaTranslateService.get("OPEN_IN_FULL_PAGE","Open in full page"),this.RESET=this.sdaTranslateService.get("RESET","Reset"),this.FIELD_REQUIRED=this.sdaTranslateService.get("FIELD_REQUIRED","Field is required"),this.MUST_BE_INTEGER=this.sdaTranslateService.get("MUST_BE_INTEGER","Must be an integer"),this.MUST_BE_DOUBLE=this.sdaTranslateService.get("MUST_BE_DOUBLE","Must be a double"),this.INT_REGEX=/^\*?([0-9]+\*?)?$/,this.DOUBLE_REGEX=/^(\-)?\d+([\,]\d+)*([\.]\d+)?$/,this.operators={0:"=",1:"!=",2:">=",3:">",4:"<=",5:"<",6:"~"},this.typeOperators={EnumListLevelType:[0,1],EnumListType:[0,1],StringType:[0,1,2,3,4,5,6],BooleanType:[0,1],IntType:[0,1,2,3,4,5,6],DoubleType:[0,1,2,3,4,5,6],UoMListType:[0,1,2,3,4,5],DateTimeType:[5,3],YMDType:[0,1,2,3,4,5]},this.formIsValid=!1,this.showFormErrors=!1,this.serverParams=[],this.helpService.setHandlers(l.p)}resetParams(){this.params=this.createClientParams()}getFormErrors(){this.params.forEach(e=>e.error=!1);let e=!1;return this.params.forEach(t=>{switch(t.ScopedByType){case"IntType":this.validateParamsForIntType(t);break;case"DoubleType":this.validateParamsForDoubleType(t);break;case"YMDType":this.validateParamsForYMDType(t);break;case"EnumListLevelType":case"EnumListType":break;default:t.Value||(t.error=this.FIELD_REQUIRED)}t.error&&(e=!0)}),e}createClientParams(){const{params:e}=this.route.snapshot.params;let t;return e&&(t=JSON.parse(e)),this.serverParams.map(e=>{const n=Object.assign({},e);return n.isEditable=!0,n.IsMandatory=!0,n.ReadOnly=!1,"StringType"===e.ScopedByType&&(n.Value="*"),n.operator=this.typeOperators[e.ScopedByType][0],n.EnumListTypeUID=n.UOMListTypeUID=e.ScopedByUID,n.FieldSize=1,"EnumListType"!==e.ScopedByType&&"EnumListLevelType"!==e.ScopedByType||(n.IsMandatory=!1),"EnumListLevelType"===e.ScopedByType&&(n.isEditable=!1,this.dependentItemsService.getEnumListLevelItems(n.EnumListTypeUID).subscribe(e=>{const t=[];e.Items&&e.Items.forEach(e=>{t.push(new i.a(e.Id,e.Name,e.DisplayAs,e.IsDisabled))}),n.isEditable=!0,n.dropDownOptions=t})),t&&t.forEach(t=>{t.Id===e.Id&&(n.operator=t.Values[0].Operator,n.Value=t.Values[0].Value)}),n})}createServerParams(){return this.params.map(e=>{if("YMDType"===e.ScopedByType){const t=new Date(e.Value);e.Value=[t.getFullYear(),("0"+(t.getMonth()+1)).slice(-2),("0"+t.getDate()).slice(-2)].join("/")}else if("DateTimeType"===e.ScopedByType)if(e.Value){const t=new Date(e.Value);e.Value=t.toISOString()}else e.Value="";return{Id:e.Id,Values:[{Value:e.Value,Operator:e.operator}]}})}validateParamsForIntType(e){e.Value?this.INT_REGEX.test(e.Value.toString())||(e.error=this.MUST_BE_INTEGER):e.error=this.FIELD_REQUIRED}validateParamsForDoubleType(e){e.Value?this.DOUBLE_REGEX.test(e.Value.toString())||(e.error=this.MUST_BE_DOUBLE):e.error=this.FIELD_REQUIRED}validateParamsForYMDType(e){e.Value&&"NaN/aN/aN"!==e.Value||(e.Value="",e.error=this.FIELD_REQUIRED)}}return e.\u0275fac=function(t){return new(t||e)(d.Sb(h.a),d.Sb(h.g),d.Sb(p.a),d.Sb(o.a),d.Sb(u.a),d.Sb(a.a),d.Sb(s.a),d.Sb(c.a),d.Sb(r.a))},e.\u0275dir=d.Nb({type:e,inputs:{type:"type"}}),e})()},"jw+j":function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var i=n("ofXK"),a=n("3Pt+"),r=n("fXoL");let s=(()=>{class e{}return e.\u0275mod=r.Qb({type:e}),e.\u0275inj=r.Pb({factory:function(t){return new(t||e)},imports:[[i.c,a.j]]}),e})()},ooL7:function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var i=n("1D41"),a=n("ONOH"),r=n("kx0E"),s=n("J7mc"),o=n("FedY"),c=n("fXoL");let l=(()=>{class e extends i.a{constructor(e,t,n){super(),this.dataService=e,this.configService=t,this.dataFormatService=n,this.units=[],this.allowUoMValueAsText=!1}get unitValue(){return this.unitValueObj}set unitValue(e){this.unitValueObj=e,this.setValue()}get numberValue(){return this.numberValueObj}set numberValue(e){this.numberValueObj=e,this.setValue()}ngOnInit(){this.allowUoMValueAsText=!(!this.field||!this.field.AllowUoMValueAsText)}getUOMList(e){return this.dataService.get(`UnitCategories('${e}')?$expand=Units,DefaultUnit`,this.configService.selectedCreateConfig)}parseUOMList(e,t=!1){let n=[];return e.Units&&e.Units.forEach(e=>{n.push(e)}),n=n.sort((e,t)=>o.a.sortByString(e.Symbol,t.Symbol)),t||n.unshift({Symbol:""}),n}getLocalValueAndSetSymbols(e,t,n){let i=e;if(e){const t=e.split("~");if(i=this.dataFormatService.convertToLocalUom(e.replace("~"," "),void 0,void 0,this.allowUoMValueAsText),2===t.length)this.unitValueObj=t[1],this.numberValueObj=i.replace(t[1],"").trim();else if(1===t.length&&i.indexOf(" ")>-1){const e=i.split(" ");this.unitValueObj=e.splice(1).join(" "),this.numberValueObj=i.replace(" "+this.unitValueObj,"")}else this.numberValueObj=i}else this.unitValueObj=n||t.DefaultUnit.Symbol;return i}setValue(){let e="";if(this.allowUoMValueAsText)e=(this.numberValue||"")+" "+this.unitValueObj;else{const t=this.ParseInt(this.numberValue);void 0!==t&&(e=t+" "+this.unitValueObj)}this.onSetValue(e)}ParseInt(e){let t;if(void 0!==e){const n=parseFloat(e);!isNaN(n)&&isFinite(e)&&(t=n)}return t}}return e.\u0275fac=function(t){return new(t||e)(c.Sb(s.a),c.Sb(a.a),c.Sb(r.a))},e.\u0275dir=c.Nb({type:e,inputs:{field:"field"},features:[c.Bb]}),e})()},suEs:function(e,t,n){"use strict";n.d(t,"a",(function(){return p}));var i=n("fXoL"),a=n("kx0E"),r=n("Ejbi"),s=n("41Lq"),o=n("ofXK"),c=n("3Pt+");function l(e,t){if(1&e&&(i.Yb(0,"p",2),i.Uc(1),i.Xb()),2&e){const e=i.lc();i.Eb(1),i.Wc(" ",e.value,"\n")}}function u(e,t){if(1&e){const e=i.Zb();i.Yb(0,"input",3),i.hc("ngModelChange",(function(t){return i.Kc(e),i.lc().onValueChanged(t)}))("keypress",(function(t){return i.Kc(e),i.lc().keyPress(t)}))("paste",(function(t){return i.Kc(e),i.lc().onPaste(t)})),i.Xb()}if(2&e){const e=i.lc();i.sc("ngModel",e.value)("maxlength",e.maxLength)("pattern",e.validationPattern)("size",e.fieldSize&&e.fieldSize>0?e.fieldSize:35)("disabled",e.readOnly)}}let p=(()=>{class e{constructor(e,t,n){this.dataFormatService=e,this.notificationService=t,this.sdaTranslateService=n,this.readOnly=!1,this.valueChanged=new i.o,this.maxLength="",this.patternInvalid=!1,this.FORM_INVALID_PASTED_TEXT=this.sdaTranslateService.get("FORM_INVALID_PASTED_TEXT","The pasted text contained invalid characters"),this.FORM_INVALID_PASTED_TEXT_LENGTH=this.sdaTranslateService.get("FORM_INVALID_PASTED_TEXT_LENGTH","The pasted text exceeded the character limit");const a=kendo.culture().numberFormat[","];this.validationPattern=`^-?([0-9]|[0-9][${a}]+|[${a}]+[0-9]|[${a}]+[0-9][${a}]+)+([${kendo.culture().numberFormat["."]}]?[0-9]+)?([eE]+[+-]?[0-9]+)?$`}get value(){return this.localVal}set value(e){this.localVal=this.patternInvalid?e:this.dataFormatService.convertToLocalDouble(e)}onValueChanged(e){const t=this.setMaxLength(e);this.patternInvalid=this.doubleOnlyPatternValidation(e);const n=this.patternInvalid?e:this.dataFormatService.convertToServerDouble(e)+(this.patternInvalid?"":this.dataFormatService.retrieveUnconvertableLocalDecimal(e,kendo.culture().numberFormat["."],"."));this.value=n,this.valueChanged.emit({value:n,isInvalid:this.patternInvalid||t})}keyPress(e){const t=String.fromCharCode(e.charCode);/[0-9\-\,\.]/.test(t)||e.preventDefault()}onPaste(e){const t=e.clipboardData.getData("text");this.doubleOnlyPatternValidation(t)?(this.notificationService.warning(this.FORM_INVALID_PASTED_TEXT),e.preventDefault()):this.setMaxLength(t,!1)&&(this.notificationService.warning(this.FORM_INVALID_PASTED_TEXT_LENGTH),e.preventDefault())}doubleOnlyPatternValidation(e){let t=!1;return e&&e.length&&(t=!new RegExp(this.validationPattern,"g").test(e)),t}setMaxLength(e,t=!0){let n=!1;if(e)if(e.toLowerCase().indexOf("e")>0)this.maxLength="";else{const i=e.startsWith("-")?19:18;if(n=e.length-(e.match(/,|\./g)||[]).length>i,t||!n){const t=e.replace(new RegExp("\\"+kendo.culture().numberFormat[","],"g"),""),n=Math.ceil(t.slice(0,t.indexOf(kendo.culture().numberFormat["."])).length/3)-1,a=(e.match(new RegExp("\\"+kendo.culture().numberFormat["."],"g"))||[]).length;this.maxLength=(n+a+i).toString()}}else this.maxLength="";return n}}return e.\u0275fac=function(t){return new(t||e)(i.Sb(a.a),i.Sb(s.a),i.Sb(r.a))},e.\u0275cmp=i.Mb({type:e,selectors:[["sda-double-type"]],inputs:{isEditable:"isEditable",value:"value",fieldSize:"fieldSize",readOnly:"readOnly"},outputs:{valueChanged:"valueChanged"},decls:2,vars:2,consts:[["class","double-non-editable",4,"ngIf"],["type","text","step","any","class","double-input",3,"ngModel","maxlength","pattern","size","disabled","ngModelChange","keypress","paste",4,"ngIf"],[1,"double-non-editable"],["type","text","step","any",1,"double-input",3,"ngModel","maxlength","pattern","size","disabled","ngModelChange","keypress","paste"]],template:function(e,t){1&e&&(i.Sc(0,l,2,1,"p",0),i.Sc(1,u,1,5,"input",1)),2&e&&(i.sc("ngIf",!t.isEditable),i.Eb(1),i.sc("ngIf",t.isEditable))},directives:[o.t,c.c,c.p,c.s,c.k,c.w],styles:[".double-non-editable[_ngcontent-%COMP%]{align-items:center}.double-input[_ngcontent-%COMP%]{height:34px;padding:0 5px;line-height:1.1;border-color:#cfd6dd}.double-input[_ngcontent-%COMP%]:disabled{background-color:#e6e6e6;color:grey;opacity:.7;cursor:not-allowed}"]}),e})()},yzqN:function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return a})),n.d(t,"c",(function(){return r})),n.d(t,"e",(function(){return s})),n.d(t,"f",(function(){return o})),n.d(t,"g",(function(){return c})),n.d(t,"h",(function(){return l})),n.d(t,"k",(function(){return u})),n.d(t,"i",(function(){return p})),n.d(t,"j",(function(){return d})),n.d(t,"m",(function(){return h})),n.d(t,"o",(function(){return b})),n.d(t,"p",(function(){return m})),n.d(t,"r",(function(){return f})),n.d(t,"s",(function(){return g})),n.d(t,"t",(function(){return _})),n.d(t,"u",(function(){return E})),n.d(t,"v",(function(){return S})),n.d(t,"w",(function(){return T})),n.d(t,"x",(function(){return v})),n.d(t,"y",(function(){return O})),n.d(t,"z",(function(){return y})),n.d(t,"A",(function(){return R})),n.d(t,"B",(function(){return L})),n.d(t,"C",(function(){return x})),n.d(t,"E",(function(){return I})),n.d(t,"F",(function(){return P})),n.d(t,"q",(function(){return D})),n.d(t,"D",(function(){return w})),n.d(t,"n",(function(){return M})),n.d(t,"d",(function(){return C})),n.d(t,"l",(function(){return V}));const i="787103",a="820826",r="825969",s="858646",o="858646",c="858646",l="858646",u="858646",p="858646",d="858646",h="791026",b="858646",m="817611",f="787103",g="794537",_="824313",E="791026",S="926854",T="939623",v="816118",O="791870",y="812357",R="794563",L="939623",x="791037",I="820826",P="817611",D="865948",w="987283",M="1016694",C="1028155",V="1125484"}}]);