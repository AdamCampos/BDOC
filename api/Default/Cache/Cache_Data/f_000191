(window.webpackJsonp=window.webpackJsonp||[]).push([[199],{"1D41":function(e,t,i){"use strict";i.d(t,"a",(function(){return n}));class n{writeValue(e){}registerOnChange(e){this.onChange=e}registerOnTouched(e){}setDisabledState(e){}newSelected(e){}}},"5mBa":function(e,t,i){"use strict";i.d(t,"a",(function(){return a}));var n=i("fXoL");let a=(()=>{class e{constructor(){this.valueChanged=new n.o}initializeComponent(){this.field.OriginalValue||(this.field.OriginalValue=this.field.Value)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275dir=n.Nb({type:e,inputs:{field:"field",isEditable:"isEditable"},outputs:{valueChanged:"valueChanged"}}),e})()},F8dI:function(e,t,i){"use strict";i.d(t,"a",(function(){return s}));var n=i("kx0E"),a=i("fXoL");let s=(()=>{class e{constructor(e){this.dataFormatService=e}transform(e){return this.dataFormatService.convertToLocalDateTimeFormat(e)}}return e.\u0275fac=function(t){return new(t||e)(a.Sb(n.a))},e.\u0275pipe=a.Rb({name:"sdaConvertToLocalDateTime",type:e,pure:!0}),e})()},HDO1:function(e,t,i){"use strict";i.d(t,"a",(function(){return s}));var n=i("kx0E"),a=i("fXoL");let s=(()=>{class e{constructor(e){this.dataFormatService=e}transform(e){return this.dataFormatService.convertToLocalDouble(e)}}return e.\u0275fac=function(t){return new(t||e)(a.Sb(n.a))},e.\u0275pipe=a.Rb({name:"sdaConvertToDouble",type:e,pure:!0}),e})()},N609:function(e,t,i){"use strict";i.d(t,"a",(function(){return m}));var n=i("ONOH"),a=i("J7mc"),s=i("Ejbi"),r=i("ZW2Q"),o=i("Tqvf"),l=i("fXoL"),c=i("ofXK"),u=i("3Pt+"),d=i("TLn4");function p(e,t){if(1&e&&(l.Yb(0,"p",3),l.Uc(1),l.Xb()),2&e){const e=l.lc();l.Eb(1),l.Wc(" ",e.field.Value,"\n")}}function h(e,t){if(1&e&&(l.Yb(0,"option",6),l.Uc(1),l.Xb()),2&e){const e=t.$implicit;l.sc("disabled",e.isDisabled)("value",e.obid),l.Eb(1),l.Wc(" ",e.displayValue," ")}}function b(e,t){if(1&e){const e=l.Zb();l.Yb(0,"select",4),l.hc("ngModelChange",(function(t){return l.Kc(e),l.lc().selectedItem=t})),l.Sc(1,h,2,3,"option",5),l.Xb()}if(2&e){const e=l.lc();l.sc("disabled",e.field.ReadOnly||!1===e.field.awaitingParentSelection||!0===e.field.showLoadingIndicator)("ngModel",e.selectedItem),l.Eb(1),l.sc("ngForOf",e.field.dropDownOptions)}}function f(e,t){1&e&&l.Tb(0,"sda-loading-indicator",7),2&e&&l.sc("size",28)}let m=(()=>{class e extends o.a{constructor(e,t,i){super(e,t,i),this.dataService=e,this.configService=t,this.sdaTranslateService=i}ngOnInit(){if(this.initializeComponent(),this.isEditable)if(this.field.awaitingParentSelection=!1,this.field.IsDependentItem&&!this.field.Value)this.field.dropDownOptions=[];else if(this.field.showLoadingIndicator=!0,this.field.DefaultDropDownOptions&&this.field.DefaultDropDownOptions.length>0){const e=[];this.field.DefaultDropDownOptions.forEach(t=>{e.push(new r.a(t.UID,t.DisplayValue,t.DisplayValue,!1,t.Description))}),this.setDropDownOptions(e)}else this.dataService.get("SelectLists('"+this.field.EnumListTypeUID+"')?$expand=Items,Descendants",this.configService.selectedCreateConfig,void 0,"",void 0,!0).subscribe(e=>{const t=this.createDropDownOptions(e);this.setDropDownOptions(t)})}}return e.\u0275fac=function(t){return new(t||e)(l.Sb(a.a),l.Sb(n.a),l.Sb(s.a))},e.\u0275cmp=l.Mb({type:e,selectors:[["sda-enum-type"]],features:[l.Bb],decls:3,vars:3,consts:[["class","enum-non-editable",4,"ngIf"],["class","enum-select",3,"disabled","ngModel","ngModelChange",4,"ngIf"],[3,"size",4,"ngIf"],[1,"enum-non-editable"],[1,"enum-select",3,"disabled","ngModel","ngModelChange"],[3,"disabled","value",4,"ngFor","ngForOf"],[3,"disabled","value"],[3,"size"]],template:function(e,t){1&e&&(l.Sc(0,p,2,1,"p",0),l.Sc(1,b,2,3,"select",1),l.Sc(2,f,1,1,"sda-loading-indicator",2)),2&e&&(l.sc("ngIf",!t.isEditable),l.Eb(1),l.sc("ngIf",t.isEditable),l.Eb(1),l.sc("ngIf",t.field.showLoadingIndicator&&t.isEditable))},directives:[c.t,u.B,u.p,u.s,c.s,u.u,u.E,d.a],styles:["sda-loading-indicator[_ngcontent-%COMP%]{margin:3px 0 0 8px}.enum-non-editable[_ngcontent-%COMP%]{display:flex;align-items:center;min-height:34px;line-height:1.1}.enum-select[_ngcontent-%COMP%]{height:34px;padding-right:20px;padding-left:5px;border-color:#cfd6dd}.enum-select[_ngcontent-%COMP%]:disabled{background-color:#e6e6e6;color:grey;opacity:.7;cursor:not-allowed}"]}),e})()},RY2J:function(e,t,i){"use strict";i.d(t,"a",(function(){return a}));var n=i("fXoL");let a=(()=>{class e{transform(e){let t;return e&&(t=new Date(e)),t}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275pipe=n.Rb({name:"sdaConvertToDate",type:e,pure:!0}),e})()},Tqvf:function(e,t,i){"use strict";i.d(t,"a",(function(){return p}));var n=i("ONOH"),a=i("J7mc"),s=i("Ejbi"),r=i("FedY"),o=i("ZW2Q"),l=i("KkJr"),c=i("VXut"),u=i("5mBa"),d=i("fXoL");let p=(()=>{class e extends u.a{constructor(e,t,i){super(),this.dataService=e,this.configService=t,this.sdaTranslateService=i,this.displayProperty=c.a.DisplayAs,this.showDisabled=!1,this.DROPDOWN_PLACE_HOLDER=this.sdaTranslateService.get("DROPDOWN_PLACE_HOLDER","Please select...")}get selectedItem(){return this.field.Value}set selectedItem(e){this.field.Value=e,this.valueChanged.emit(this.field)}createDropDownOptions(e){const t=[];return e&&(e.Items&&e.Items.forEach(e=>{(!1===this.hideEnum(e,this.field)||this.showDisabled)&&t.push(this.createDropDownOption(e.Id,e.Name,e.DisplayAs,e.DisplayName,e.IsDisabled&&!this.showDisabled,"",!1))}),e.Descendants?e.Descendants.forEach(e=>{(!1===this.hideEnum(e,this.field)||this.showDisabled)&&t.push(this.createDropDownOption(e.Id,e.Name,e.DisplayAs,e.DisplayName,e.IsDisabled&&!this.showDisabled))}):this.field.Value&&(0!==e.Items.length||this.field.Value!==e.Id&&this.field.Value!==e.Name&&this.field.EnumListTypeUID!==e.Id||t.push(this.createDropDownOption(e.Id,e.Name,e.DisplayAs,e.DisplayName,e.IsDisabled&&!this.showDisabled)))),t}hideEnum(e,t){let i=e.IsDisabled;return t&&t.Value&&(t.Value!==e.Id&&t.Value!==e.Name&&t.EnumListTypeUID!==e.Id||(i=!1)),i}setDropDownOptions(e){if(e=e.sort((e,t)=>r.a.sortByString(e.displayValue,t.displayValue)),this.field.dropDownOptions=e,!1===this.field.IsMandatory&&e.unshift(new o.a(l.a,"","",!1,"")),!1===this.field.ReadOnly&&e.unshift(new o.a(l.b,this.DROPDOWN_PLACE_HOLDER,this.DROPDOWN_PLACE_HOLDER,!0,this.DROPDOWN_PLACE_HOLDER)),!1!==this.field.ReadOnly||this.field.Value){if(this.field.Value){const t=e.filter(e=>e.obid===this.field.Value||e.name===this.field.Value)[0];t&&(this.selectedItem=t.obid)}}else this.selectedItem=2!==e.length&&this.field.IsMandatory?e[0].obid:e[1].obid;this.field.showLoadingIndicator=!1,this.field.awaitingParentSelection=!0}createDropDownOption(e,t,i="",n="",a=!1,s="",r=!0,l=""){let u;switch(this.displayProperty){case c.a.Name:u=t;break;case c.a.Description:u=s;break;case c.a.DisplayName:u=n;break;default:u=i}return new o.a(e,t,u,a,s,r,l)}}return e.\u0275fac=function(t){return new(t||e)(d.Sb(a.a),d.Sb(n.a),d.Sb(s.a))},e.\u0275dir=d.Nb({type:e,inputs:{field:"field",displayProperty:"displayProperty",showDisabled:"showDisabled"},features:[d.Bb]}),e})()},VXut:function(e,t,i){"use strict";i.d(t,"a",(function(){return n}));var n=function(e){return e[e.Name=0]="Name",e[e.Description=1]="Description",e[e.DisplayAs=2]="DisplayAs",e[e.DisplayName=3]="DisplayName",e}({})},Z5F4:function(e,t,i){"use strict";i.d(t,"a",(function(){return o}));var n=i("ofXK"),a=i("3Pt+"),s=i("F+hv"),r=i("fXoL");let o=(()=>{class e{}return e.\u0275mod=r.Qb({type:e}),e.\u0275inj=r.Pb({factory:function(t){return new(t||e)},imports:[[n.c,a.j,s.a]]}),e})()},b2vo:function(e,t,i){"use strict";i.r(t),i.d(t,"SummaryReportEnterParamsRoutingModule",(function(){return ae}));var n=i("ofXK"),a=i("3Pt+"),s=i("l3mi"),r=i("hbwR"),o=i("2RYc"),l=i("xQ71"),c=i("Z5F4"),u=i("DkN+"),d=i("4jMT"),p=i("fXoL");let h=(()=>{class e{}return e.\u0275mod=p.Qb({type:e}),e.\u0275inj=p.Pb({factory:function(t){return new(t||e)},imports:[[n.c,a.j,l.a,c.a,u.a,d.a,r.a,o.a,s.a]]}),e})();var b=i("tyNb"),f=i("vkgz"),m=i("eIep"),g=i("YwUS"),_=i("TQny"),E=i("Z9D8"),S=i("LUpO"),y=i("dEBh"),v=i("iwlc"),O=i("Ejbi"),D=i("41Lq"),T=i("frEW"),I=i("08BJ"),w=i("ONOH"),P=i("5KBt"),x=i("VYMN"),L=i("FcA5"),R=i("gSF1"),C=i("FhDe"),M=i("N609"),V=i("gFfV"),N=i("6Qo/"),F=i("8pNJ"),A=i("Qs1y"),U=i("zCQ7");function X(e,t){if(1&e){const e=p.Zb();p.Yb(0,"li",27),p.hc("click",(function(){p.Kc(e);const i=t.$implicit;return p.lc().$implicit.operator=i})),p.Uc(1),p.Xb()}if(2&e){const e=t.$implicit,i=p.lc().$implicit,n=p.lc(2);p.Ib("enter-params__select-button--active",i.operator==e),p.Eb(1),p.Wc(" ",n.operators[e]," ")}}function k(e,t){1&e&&(p.Yb(0,"span"),p.Uc(1,"*"),p.Xb())}function Y(e,t){if(1&e&&(p.Yb(0,"span"),p.Uc(1),p.Xb()),2&e){const e=p.lc().$implicit;p.Eb(1),p.Wc(" ",e.error," ")}}function B(e,t){if(1&e&&p.Tb(0,"sda-enum-list-level-type",28),2&e){const e=p.lc().$implicit;p.sc("isEditable",!0)("field",e)("includeItemInExpand",!0)}}function j(e,t){if(1&e&&p.Tb(0,"sda-enum-type",29),2&e){const e=p.lc().$implicit;p.sc("isEditable",!0)("field",e)}}function $(e,t){if(1&e&&p.Tb(0,"sda-uom-list-type",30),2&e){const e=p.lc().$implicit;p.sc("field",e)("isEditable",!0)}}function z(e,t){if(1&e){const e=p.Zb();p.Yb(0,"input",31),p.hc("ngModelChange",(function(t){return p.Kc(e),p.lc().$implicit.Value=t})),p.Xb()}if(2&e){const e=p.lc().$implicit;p.uc("name","value-",e.Id,""),p.sc("ngModel",e.Value)}}function H(e,t){if(1&e){const e=p.Zb();p.Yb(0,"li",33),p.hc("click",(function(){p.Kc(e);const i=t.$implicit;return p.lc(2).$implicit.Value=i})),p.Uc(1),p.Xb()}if(2&e){const e=t.$implicit,i=p.lc(2).$implicit;p.Ib("enter-params__select-button--active",i.Value==e),p.Eb(1),p.Wc(" ",e," ")}}const Q=function(){return["True","False"]};function K(e,t){1&e&&(p.Yb(0,"div"),p.Yb(1,"ul",16),p.Sc(2,H,2,3,"li",32),p.Xb(),p.Xb()),2&e&&(p.Eb(2),p.sc("ngForOf",p.wc(1,Q)))}function W(e,t){if(1&e&&p.Tb(0,"sda-datetime-type",29),2&e){const e=p.lc().$implicit;p.sc("isEditable",!0)("field",e)}}function G(e,t){if(1&e&&p.Tb(0,"sda-ymd-type",29),2&e){const e=p.lc().$implicit;p.sc("isEditable",!0)("field",e)}}function J(e,t){if(1&e){const e=p.Zb();p.Yb(0,"input",34),p.hc("ngModelChange",(function(t){return p.Kc(e),p.lc().$implicit.Value=t})),p.Xb()}if(2&e){const e=p.lc().$implicit;p.uc("name","value-",e.Id,""),p.sc("ngModel",e.Value)}}function Z(e,t){if(1&e&&p.Tb(0,"sda-form-double-type",29),2&e){const e=p.lc().$implicit;p.sc("isEditable",!0)("field",e)}}function q(e,t){if(1&e&&(p.Yb(0,"li",11),p.Yb(1,"h4",12),p.Uc(2),p.Xb(),p.Yb(3,"div",13),p.Yb(4,"div",14),p.Yb(5,"h5",15),p.Uc(6),p.Xb(),p.Yb(7,"ul",16),p.Sc(8,X,2,3,"li",17),p.Xb(),p.Xb(),p.Yb(9,"div",18),p.Yb(10,"h5",15),p.Uc(11),p.Sc(12,k,2,0,"span",19),p.Sc(13,Y,2,1,"span",19),p.Xb(),p.Yb(14,"div",20),p.Sc(15,B,1,3,"sda-enum-list-level-type",21),p.Sc(16,j,1,2,"sda-enum-type",22),p.Sc(17,$,1,2,"sda-uom-list-type",23),p.Sc(18,z,1,2,"input",24),p.Sc(19,K,3,2,"div",25),p.Sc(20,W,1,2,"sda-datetime-type",22),p.Sc(21,G,1,2,"sda-ymd-type",22),p.Sc(22,J,1,2,"input",26),p.Sc(23,Z,1,2,"sda-form-double-type",22),p.Xb(),p.Xb(),p.Xb(),p.Xb()),2&e){const e=t.$implicit,i=p.lc(2);p.Eb(2),p.Vc(e.DisplayName),p.Eb(4),p.Vc(i.REPORT_SEARCH_OPERATOR),p.Eb(2),p.sc("ngForOf",i.typeOperators[e.ScopedByType]),p.Eb(3),p.Wc(" ",i.REPORT_SEARCH_VALUE," "),p.Eb(1),p.sc("ngIf",e.IsMandatory),p.Eb(1),p.sc("ngIf",i.showFormErrors&&e.error),p.Eb(1),p.sc("ngSwitch",e.ScopedByType),p.Eb(1),p.sc("ngSwitchCase","EnumListLevelType"),p.Eb(1),p.sc("ngSwitchCase","EnumListType"),p.Eb(1),p.sc("ngSwitchCase","UoMListType"),p.Eb(1),p.sc("ngSwitchCase","StringType"),p.Eb(1),p.sc("ngSwitchCase","BooleanType"),p.Eb(1),p.sc("ngSwitchCase","DateTimeType"),p.Eb(1),p.sc("ngSwitchCase","YMDType"),p.Eb(1),p.sc("ngSwitchCase","IntType"),p.Eb(1),p.sc("ngSwitchCase","DoubleType")}}function ee(e,t){if(1&e){const e=p.Zb();p.Yb(0,"sda-button",35),p.hc("click",(function(){return p.Kc(e),p.lc(2).openInFull()})),p.Xb()}if(2&e){const e=p.lc(2);p.sc("displayName",e.OPEN_IN_FULL_PAGE)}}function te(e,t){if(1&e){const e=p.Zb();p.Yb(0,"div",3),p.Yb(1,"h3",4),p.Uc(2),p.Xb(),p.Yb(3,"form"),p.Yb(4,"ul",5),p.Sc(5,q,24,16,"li",6),p.Xb(),p.Yb(6,"div",7),p.Yb(7,"sda-button-primary",8),p.hc("click",(function(){return p.Kc(e),p.lc().runReport()})),p.Xb(),p.Yb(8,"sda-button-abort",9),p.hc("click",(function(){return p.Kc(e),p.lc().resetParams()})),p.Xb(),p.Sc(9,ee,1,1,"sda-button",10),p.Xb(),p.Xb(),p.Xb()}if(2&e){const e=p.lc();p.Eb(2),p.Vc(e.details&&e.details.DisplayName),p.Eb(3),p.sc("ngForOf",e.params),p.Eb(2),p.sc("displayName",e.isLoading?e.LOADING_ELLIPSIS:e.REPORT_RUN_BUTTON)("isDisabled",e.isLoading),p.Eb(1),p.sc("displayName",e.RESET),p.Eb(1),p.sc("ngIf","component"===e.type)}}const ie=[{path:"",component:(()=>{class e extends T.a{constructor(e,t,i,n,a,s,r,o,l,c,u,d){super(e,t,i,n,a,s,r,o,l),this.route=e,this.router=t,this.reportsService=i,this.sdaTranslateService=n,this.configService=a,this.dependentItemsService=s,this.helpService=r,this.notificationService=o,this.windowService=l,this.applicationSettingsService=c,this.exceptionService=u,this.summaryReportDataService=d,setTimeout(()=>{this.applicationSettingsService.setPageTitle(this.ENTER_PARAMS_TITLE),this.helpService.setHandlers(P.a)},0)}ngOnInit(){this.paramSubscription=this.route.paramMap.pipe(Object(f.a)(e=>{e&&(this.obid=e.get("obid"))}),Object(m.a)(()=>this.summaryReportDataService.getSummaryReportParameters(this.obid))).subscribe(e=>{this.details={DisplayName:e.SummaryReportTitle},this.serverParams=e.ReportParameters,this.params=this.createClientParams()},e=>{const t=new E.a(e,this.LOAD_REPORT_PARAMS_ERROR,"EnterParamsComponent","ngOnInit");this.exceptionService.handleException(t)})}ngOnDestroy(){this.paramSubscription&&this.paramSubscription.unsubscribe()}runReport(e){e&&e.preventDefault(),this.isLoading=!0,this.showFormErrors=!1;const t=this.createServerParams();if(this.getFormErrors())return this.isLoading=!1,void(this.showFormErrors=!0);this.router.navigate([`/summary-reports/${this.obid}/view-report`,{parameters:JSON.stringify(t),objectObid:JSON.stringify(this.obid),timestamp:Date.now()}])}openInFull(){}}return e.\u0275fac=function(t){return new(t||e)(p.Sb(b.a),p.Sb(b.g),p.Sb(I.a),p.Sb(O.a),p.Sb(w.a),p.Sb(_.a),p.Sb(v.a),p.Sb(D.a),p.Sb(y.a),p.Sb(g.a),p.Sb(S.a),p.Sb(x.a))},e.\u0275cmp=p.Mb({type:e,selectors:[["sda-summary-report-enter-params-view"]],features:[p.Bb],decls:3,vars:1,consts:[[1,"enter-params"],[1,"enter-params__toolbar"],["class","enter-params__container",4,"ngIf"],[1,"enter-params__container"],[1,"enter-params__container__title"],[1,"enter-params__fields"],["class","enter-params__field",4,"ngFor","ngForOf"],[1,"enter-params-actions"],[1,"enter-params-actions__btn",3,"displayName","isDisabled","click"],[1,"enter-params-actions__btn",3,"displayName","click"],["class","enter-params-actions__btn enter-params-actions__btn--full-page",3,"displayName","click",4,"ngIf"],[1,"enter-params__field"],[1,"enter-params__field__title"],[1,"enter-params__input-group"],[1,"enter-params__input","enter-params__input--operator"],[1,"enter-params__input__title"],[1,"enter-params__select-buttons"],["class","enter-params__select-button enter-params__select-button--operator",3,"enter-params__select-button--active","click",4,"ngFor","ngForOf"],[1,"enter-params__input","enter-params__input--value"],[4,"ngIf"],[3,"ngSwitch"],[3,"isEditable","field","includeItemInExpand",4,"ngSwitchCase"],[3,"isEditable","field",4,"ngSwitchCase"],[3,"field","isEditable",4,"ngSwitchCase"],[3,"name","ngModel","ngModelChange",4,"ngSwitchCase"],[4,"ngSwitchCase"],["type","text",3,"name","ngModel","ngModelChange",4,"ngSwitchCase"],[1,"enter-params__select-button","enter-params__select-button--operator",3,"click"],[3,"isEditable","field","includeItemInExpand"],[3,"isEditable","field"],[3,"field","isEditable"],[3,"name","ngModel","ngModelChange"],["class","enter-params__select-button",3,"enter-params__select-button--active","click",4,"ngFor","ngForOf"],[1,"enter-params__select-button",3,"click"],["type","text",3,"name","ngModel","ngModelChange"],[1,"enter-params-actions__btn","enter-params-actions__btn--full-page",3,"displayName","click"]],template:function(e,t){1&e&&(p.Yb(0,"div",0),p.Tb(1,"header",1),p.Sc(2,te,10,6,"div",2),p.Xb()),2&e&&(p.Eb(2),p.sc("ngIf",t.params))},directives:[n.t,a.F,a.q,a.r,n.s,L.a,R.a,n.x,n.y,C.a,M.a,V.a,a.c,a.p,a.s,N.a,F.a,A.a,U.a],styles:["[_nghost-%COMP%]{overflow-x:hidden;overflow-y:auto;position:relative;display:flex;flex:1;flex-direction:column;height:100%}.enter-params__toolbar[_ngcontent-%COMP%]{background-color:rgba(0,0,0,.05);border-bottom:1px solid rgba(0,0,0,.1);height:48px}.enter-params__container[_ngcontent-%COMP%]{width:960px;margin:0 auto;padding:20px 30px;border:1px solid rgba(0,0,0,.1);border-top:none}@media screen and (max-width:74.9375em){.enter-params__container[_ngcontent-%COMP%]{width:auto}}.enter-params__container__title[_ngcontent-%COMP%]{margin-bottom:20px}.enter-params__field__title[_ngcontent-%COMP%]{font-weight:500;font-size:18px}.enter-params__input-group[_ngcontent-%COMP%]{display:block;margin:20px 0}@media screen and (min-width:33.125em){.enter-params__input-group[_ngcontent-%COMP%]{display:flex}}.enter-params__input--operator[_ngcontent-%COMP%]{width:275px;min-width:275px;margin-right:20px}.enter-params__input--value[_ngcontent-%COMP%]{flex-grow:1}@media screen and (max-width:59.3125em){.enter-params__input--value[_ngcontent-%COMP%]{margin-top:10px}}.enter-params__input__title[_ngcontent-%COMP%]{font-size:12px;text-transform:uppercase;font-weight:500;color:rgba(0,0,0,.5);display:block;margin-bottom:8px}.enter-params__input__title[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{text-transform:uppercase;font-size:12px;font-weight:700;color:#c00;margin-left:5px}.enter-params__input[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], .enter-params__input[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{display:block;width:100%;min-width:0!important;height:34px;padding:5px 7px;border:1px solid #cad0d7;border-radius:2px}.enter-params__select-buttons[_ngcontent-%COMP%]{display:flex;padding-bottom:5px;overflow:hidden}.enter-params__select-button[_ngcontent-%COMP%]{height:34px;margin-right:5px;padding:8px 15px 0;text-align:center;border:1px solid rgba(0,0,0,.1);background-color:rgba(0,0,0,.05);border-radius:5px;font-size:14px;cursor:pointer;font-weight:700;color:rgba(0,0,0,.5);-webkit-user-select:none;-ms-user-select:none;user-select:none;box-shadow:inset 0 1px 1px hsla(0,0%,100%,.4),0 1px 2px rgba(0,0,0,.1);transition:all .1s ease-in}.enter-params__select-button--operator[_ngcontent-%COMP%]{width:34px;padding:5px 0 0;font-size:18px}.enter-params__select-button[_ngcontent-%COMP%]:hover{background-color:rgba(0,0,0,.11);border-color:rgba(0,0,0,.12);box-shadow:inset 0 1px 1px hsla(0,0%,100%,.4),0 1px 3px rgba(0,0,0,.1)}.enter-params__select-button--active[_ngcontent-%COMP%]{background-color:rgba(0,0,0,.15);border-color:rgba(0,0,0,.15);color:rgba(0,0,0,.8);box-shadow:inset 0 1px 1px hsla(0,0%,100%,.4),0 1px 4px rgba(0,0,0,.15)}.enter-params-actions[_ngcontent-%COMP%]{display:flex;flex-direction:row-reverse;align-items:center;overflow:hidden}.enter-params-actions__btn[_ngcontent-%COMP%]:not(:last-child){margin-left:6px}.enter-params-actions__btn--full-page[_ngcontent-%COMP%]{margin-right:auto}"]}),e})()}];let ne=(()=>{class e{}return e.\u0275mod=p.Qb({type:e}),e.\u0275inj=p.Pb({factory:function(t){return new(t||e)},imports:[[b.k.forChild(ie)],b.k]}),e})(),ae=(()=>{class e{}return e.\u0275mod=p.Qb({type:e}),e.\u0275inj=p.Pb({factory:function(t){return new(t||e)},imports:[[h,ne]]}),e})()},dLJk:function(e,t,i){"use strict";i.d(t,"a",(function(){return s}));var n=i("kx0E"),a=i("fXoL");let s=(()=>{class e{constructor(e){this.dataFormatService=e}transform(e){return this.dataFormatService.convertToLocalDateFormat(e)}}return e.\u0275fac=function(t){return new(t||e)(a.Sb(n.a))},e.\u0275pipe=a.Rb({name:"sdaConvertToLocalDate",type:e,pure:!0}),e})()},frEW:function(e,t,i){"use strict";i.d(t,"a",(function(){return b}));var n=i("ZW2Q"),a=i("TQny"),s=i("dEBh"),r=i("iwlc"),o=i("Ejbi"),l=i("41Lq"),c=i("yzqN"),u=i("ONOH"),d=i("08BJ"),p=i("fXoL"),h=i("tyNb");let b=(()=>{class e{constructor(e,t,i,n,a,s,r,o,l){this.route=e,this.router=t,this.reportsService=i,this.sdaTranslateService=n,this.configService=a,this.dependentItemsService=s,this.helpService=r,this.notificationService=o,this.windowService=l,this.searchData={},this.isLoading=!1,this.ENTER_PARAMS_TITLE=this.sdaTranslateService.get("ENTER_PARAMS_TITLE","Specify values for report"),this.LOAD_REPORT_ERROR=this.sdaTranslateService.get("LOAD_REPORT_ERROR","Error loading report"),this.LOAD_REPORT_PARAMS_ERROR=this.sdaTranslateService.get("LOAD_REPORT_PARAMS_ERROR","Error loading report parameters"),this.REPORT_SEARCH_OPERATOR=this.sdaTranslateService.get("REPORT_SEARCH_OPERATOR","Operator"),this.REPORT_SEARCH_VALUE=this.sdaTranslateService.get("REPORT_SEARCH_VALUE","Value"),this.REPORT_RUN_BUTTON=this.sdaTranslateService.get("REPORT_RUN_BUTTON","Run Report"),this.LOADING_ELLIPSIS=this.sdaTranslateService.get("LOADING_ELLIPSIS","Loading..."),this.OPEN_IN_FULL_PAGE=this.sdaTranslateService.get("OPEN_IN_FULL_PAGE","Open in full page"),this.RESET=this.sdaTranslateService.get("RESET","Reset"),this.FIELD_REQUIRED=this.sdaTranslateService.get("FIELD_REQUIRED","Field is required"),this.MUST_BE_INTEGER=this.sdaTranslateService.get("MUST_BE_INTEGER","Must be an integer"),this.MUST_BE_DOUBLE=this.sdaTranslateService.get("MUST_BE_DOUBLE","Must be a double"),this.INT_REGEX=/^\*?([0-9]+\*?)?$/,this.DOUBLE_REGEX=/^(\-)?\d+([\,]\d+)*([\.]\d+)?$/,this.operators={0:"=",1:"!=",2:">=",3:">",4:"<=",5:"<",6:"~"},this.typeOperators={EnumListLevelType:[0,1],EnumListType:[0,1],StringType:[0,1,2,3,4,5,6],BooleanType:[0,1],IntType:[0,1,2,3,4,5,6],DoubleType:[0,1,2,3,4,5,6],UoMListType:[0,1,2,3,4,5],DateTimeType:[5,3],YMDType:[0,1,2,3,4,5]},this.formIsValid=!1,this.showFormErrors=!1,this.serverParams=[],this.helpService.setHandlers(c.p)}resetParams(){this.params=this.createClientParams()}getFormErrors(){this.params.forEach(e=>e.error=!1);let e=!1;return this.params.forEach(t=>{switch(t.ScopedByType){case"IntType":this.validateParamsForIntType(t);break;case"DoubleType":this.validateParamsForDoubleType(t);break;case"YMDType":this.validateParamsForYMDType(t);break;case"EnumListLevelType":case"EnumListType":break;default:t.Value||(t.error=this.FIELD_REQUIRED)}t.error&&(e=!0)}),e}createClientParams(){const{params:e}=this.route.snapshot.params;let t;return e&&(t=JSON.parse(e)),this.serverParams.map(e=>{const i=Object.assign({},e);return i.isEditable=!0,i.IsMandatory=!0,i.ReadOnly=!1,"StringType"===e.ScopedByType&&(i.Value="*"),i.operator=this.typeOperators[e.ScopedByType][0],i.EnumListTypeUID=i.UOMListTypeUID=e.ScopedByUID,i.FieldSize=1,"EnumListType"!==e.ScopedByType&&"EnumListLevelType"!==e.ScopedByType||(i.IsMandatory=!1),"EnumListLevelType"===e.ScopedByType&&(i.isEditable=!1,this.dependentItemsService.getEnumListLevelItems(i.EnumListTypeUID).subscribe(e=>{const t=[];e.Items&&e.Items.forEach(e=>{t.push(new n.a(e.Id,e.Name,e.DisplayAs,e.IsDisabled))}),i.isEditable=!0,i.dropDownOptions=t})),t&&t.forEach(t=>{t.Id===e.Id&&(i.operator=t.Values[0].Operator,i.Value=t.Values[0].Value)}),i})}createServerParams(){return this.params.map(e=>{if("YMDType"===e.ScopedByType){const t=new Date(e.Value);e.Value=[t.getFullYear(),("0"+(t.getMonth()+1)).slice(-2),("0"+t.getDate()).slice(-2)].join("/")}else if("DateTimeType"===e.ScopedByType)if(e.Value){const t=new Date(e.Value);e.Value=t.toISOString()}else e.Value="";return{Id:e.Id,Values:[{Value:e.Value,Operator:e.operator}]}})}validateParamsForIntType(e){e.Value?this.INT_REGEX.test(e.Value.toString())||(e.error=this.MUST_BE_INTEGER):e.error=this.FIELD_REQUIRED}validateParamsForDoubleType(e){e.Value?this.DOUBLE_REGEX.test(e.Value.toString())||(e.error=this.MUST_BE_DOUBLE):e.error=this.FIELD_REQUIRED}validateParamsForYMDType(e){e.Value&&"NaN/aN/aN"!==e.Value||(e.Value="",e.error=this.FIELD_REQUIRED)}}return e.\u0275fac=function(t){return new(t||e)(p.Sb(h.a),p.Sb(h.g),p.Sb(d.a),p.Sb(o.a),p.Sb(u.a),p.Sb(a.a),p.Sb(r.a),p.Sb(l.a),p.Sb(s.a))},e.\u0275dir=p.Nb({type:e,inputs:{type:"type"}}),e})()},jIHw:function(e,t,i){"use strict";i.d(t,"a",(function(){return r})),i.d(t,"b",(function(){return o}));var n=i("fXoL"),a=i("YyRF"),s=i("ofXK");let r=(()=>{let e=class{constructor(e){this.el=e,this.iconPos="left",this.cornerStyleClass="ui-corner-all"}ngAfterViewInit(){if(a.a.addMultipleClasses(this.el.nativeElement,this.getStyleClass()),this.icon){let e=document.createElement("span");e.setAttribute("aria-hidden","true"),e.className=("right"==this.iconPos?"ui-button-icon-right":"ui-button-icon-left")+" ui-clickable "+this.icon,this.el.nativeElement.appendChild(e)}let e=document.createElement("span");this.icon&&!this.label&&e.setAttribute("aria-hidden","true"),e.className="ui-button-text ui-clickable",e.appendChild(document.createTextNode(this.label||"ui-btn")),this.el.nativeElement.appendChild(e),this.initialized=!0}getStyleClass(){let e="ui-button ui-widget ui-state-default "+this.cornerStyleClass;return e+=this.icon?null!=this.label&&null!=this.label&&""!=this.label?"left"==this.iconPos?" ui-button-text-icon-left":" ui-button-text-icon-right":" ui-button-icon-only":this.label?" ui-button-text-only":" ui-button-text-empty",e}setStyleClass(){let e=this.getStyleClass();this.el.nativeElement.className=e}get label(){return this._label}set label(e){this._label=e,this.initialized&&(a.a.findSingle(this.el.nativeElement,".ui-button-text").textContent=this._label||"ui-btn",this.icon||(this._label?(a.a.removeClass(this.el.nativeElement,"ui-button-text-empty"),a.a.addClass(this.el.nativeElement,"ui-button-text-only")):(a.a.addClass(this.el.nativeElement,"ui-button-text-empty"),a.a.removeClass(this.el.nativeElement,"ui-button-text-only"))),this.setStyleClass())}get icon(){return this._icon}set icon(e){if(this._icon=e,this.initialized){let e="right"==this.iconPos?"ui-button-icon-right":"ui-button-icon-left";a.a.findSingle(this.el.nativeElement,".ui-clickable").className=e+" ui-clickable "+this.icon,this.setStyleClass()}}ngOnDestroy(){for(;this.el.nativeElement.hasChildNodes();)this.el.nativeElement.removeChild(this.el.nativeElement.lastChild);this.initialized=!1}};return e.\u0275fac=function(t){return new(t||e)(n.Sb(n.l))},e.\u0275dir=n.Nb({type:e,selectors:[["","pButton",""]],inputs:{iconPos:"iconPos",cornerStyleClass:"cornerStyleClass",label:"label",icon:"icon"}}),e})(),o=(()=>{let e=class{};return e.\u0275mod=n.Qb({type:e}),e.\u0275inj=n.Pb({factory:function(t){return new(t||e)},imports:[[s.c]]}),e})()},"jw+j":function(e,t,i){"use strict";i.d(t,"a",(function(){return r}));var n=i("ofXK"),a=i("3Pt+"),s=i("fXoL");let r=(()=>{class e{}return e.\u0275mod=s.Qb({type:e}),e.\u0275inj=s.Pb({factory:function(t){return new(t||e)},imports:[[n.c,a.j]]}),e})()},ooL7:function(e,t,i){"use strict";i.d(t,"a",(function(){return c}));var n=i("1D41"),a=i("ONOH"),s=i("kx0E"),r=i("J7mc"),o=i("FedY"),l=i("fXoL");let c=(()=>{class e extends n.a{constructor(e,t,i){super(),this.dataService=e,this.configService=t,this.dataFormatService=i,this.units=[],this.allowUoMValueAsText=!1}get unitValue(){return this.unitValueObj}set unitValue(e){this.unitValueObj=e,this.setValue()}get numberValue(){return this.numberValueObj}set numberValue(e){this.numberValueObj=e,this.setValue()}ngOnInit(){this.allowUoMValueAsText=!(!this.field||!this.field.AllowUoMValueAsText)}getUOMList(e){return this.dataService.get(`UnitCategories('${e}')?$expand=Units,DefaultUnit`,this.configService.selectedCreateConfig)}parseUOMList(e,t=!1){let i=[];return e.Units&&e.Units.forEach(e=>{i.push(e)}),i=i.sort((e,t)=>o.a.sortByString(e.Symbol,t.Symbol)),t||i.unshift({Symbol:""}),i}getLocalValueAndSetSymbols(e,t,i){let n=e;if(e){const t=e.split("~");if(n=this.dataFormatService.convertToLocalUom(e.replace("~"," "),void 0,void 0,this.allowUoMValueAsText),2===t.length)this.unitValueObj=t[1],this.numberValueObj=n.replace(t[1],"").trim();else if(1===t.length&&n.indexOf(" ")>-1){const e=n.split(" ");this.unitValueObj=e.splice(1).join(" "),this.numberValueObj=n.replace(" "+this.unitValueObj,"")}else this.numberValueObj=n}else this.unitValueObj=i||t.DefaultUnit.Symbol;return n}setValue(){let e="";if(this.allowUoMValueAsText)e=(this.numberValue||"")+" "+this.unitValueObj;else{const t=this.ParseInt(this.numberValue);void 0!==t&&(e=t+" "+this.unitValueObj)}this.onSetValue(e)}ParseInt(e){let t;if(void 0!==e){const i=parseFloat(e);!isNaN(i)&&isFinite(e)&&(t=i)}return t}}return e.\u0275fac=function(t){return new(t||e)(l.Sb(r.a),l.Sb(a.a),l.Sb(s.a))},e.\u0275dir=l.Nb({type:e,inputs:{field:"field"},features:[l.Bb]}),e})()},suEs:function(e,t,i){"use strict";i.d(t,"a",(function(){return d}));var n=i("fXoL"),a=i("kx0E"),s=i("Ejbi"),r=i("41Lq"),o=i("ofXK"),l=i("3Pt+");function c(e,t){if(1&e&&(n.Yb(0,"p",2),n.Uc(1),n.Xb()),2&e){const e=n.lc();n.Eb(1),n.Wc(" ",e.value,"\n")}}function u(e,t){if(1&e){const e=n.Zb();n.Yb(0,"input",3),n.hc("ngModelChange",(function(t){return n.Kc(e),n.lc().onValueChanged(t)}))("keypress",(function(t){return n.Kc(e),n.lc().keyPress(t)}))("paste",(function(t){return n.Kc(e),n.lc().onPaste(t)})),n.Xb()}if(2&e){const e=n.lc();n.sc("ngModel",e.value)("maxlength",e.maxLength)("pattern",e.validationPattern)("size",e.fieldSize&&e.fieldSize>0?e.fieldSize:35)("disabled",e.readOnly)}}let d=(()=>{class e{constructor(e,t,i){this.dataFormatService=e,this.notificationService=t,this.sdaTranslateService=i,this.readOnly=!1,this.valueChanged=new n.o,this.maxLength="",this.patternInvalid=!1,this.FORM_INVALID_PASTED_TEXT=this.sdaTranslateService.get("FORM_INVALID_PASTED_TEXT","The pasted text contained invalid characters"),this.FORM_INVALID_PASTED_TEXT_LENGTH=this.sdaTranslateService.get("FORM_INVALID_PASTED_TEXT_LENGTH","The pasted text exceeded the character limit");const a=kendo.culture().numberFormat[","];this.validationPattern=`^-?([0-9]|[0-9][${a}]+|[${a}]+[0-9]|[${a}]+[0-9][${a}]+)+([${kendo.culture().numberFormat["."]}]?[0-9]+)?([eE]+[+-]?[0-9]+)?$`}get value(){return this.localVal}set value(e){this.localVal=this.patternInvalid?e:this.dataFormatService.convertToLocalDouble(e)}onValueChanged(e){const t=this.setMaxLength(e);this.patternInvalid=this.doubleOnlyPatternValidation(e);const i=this.patternInvalid?e:this.dataFormatService.convertToServerDouble(e)+(this.patternInvalid?"":this.dataFormatService.retrieveUnconvertableLocalDecimal(e,kendo.culture().numberFormat["."],"."));this.value=i,this.valueChanged.emit({value:i,isInvalid:this.patternInvalid||t})}keyPress(e){const t=String.fromCharCode(e.charCode);/[0-9\-\,\.]/.test(t)||e.preventDefault()}onPaste(e){const t=e.clipboardData.getData("text");this.doubleOnlyPatternValidation(t)?(this.notificationService.warning(this.FORM_INVALID_PASTED_TEXT),e.preventDefault()):this.setMaxLength(t,!1)&&(this.notificationService.warning(this.FORM_INVALID_PASTED_TEXT_LENGTH),e.preventDefault())}doubleOnlyPatternValidation(e){let t=!1;return e&&e.length&&(t=!new RegExp(this.validationPattern,"g").test(e)),t}setMaxLength(e,t=!0){let i=!1;if(e)if(e.toLowerCase().indexOf("e")>0)this.maxLength="";else{const n=e.startsWith("-")?19:18;if(i=e.length-(e.match(/,|\./g)||[]).length>n,t||!i){const t=e.replace(new RegExp("\\"+kendo.culture().numberFormat[","],"g"),""),i=Math.ceil(t.slice(0,t.indexOf(kendo.culture().numberFormat["."])).length/3)-1,a=(e.match(new RegExp("\\"+kendo.culture().numberFormat["."],"g"))||[]).length;this.maxLength=(i+a+n).toString()}}else this.maxLength="";return i}}return e.\u0275fac=function(t){return new(t||e)(n.Sb(a.a),n.Sb(r.a),n.Sb(s.a))},e.\u0275cmp=n.Mb({type:e,selectors:[["sda-double-type"]],inputs:{isEditable:"isEditable",value:"value",fieldSize:"fieldSize",readOnly:"readOnly"},outputs:{valueChanged:"valueChanged"},decls:2,vars:2,consts:[["class","double-non-editable",4,"ngIf"],["type","text","step","any","class","double-input",3,"ngModel","maxlength","pattern","size","disabled","ngModelChange","keypress","paste",4,"ngIf"],[1,"double-non-editable"],["type","text","step","any",1,"double-input",3,"ngModel","maxlength","pattern","size","disabled","ngModelChange","keypress","paste"]],template:function(e,t){1&e&&(n.Sc(0,c,2,1,"p",0),n.Sc(1,u,1,5,"input",1)),2&e&&(n.sc("ngIf",!t.isEditable),n.Eb(1),n.sc("ngIf",t.isEditable))},directives:[o.t,l.c,l.p,l.s,l.k,l.w],styles:[".double-non-editable[_ngcontent-%COMP%]{align-items:center}.double-input[_ngcontent-%COMP%]{height:34px;padding:0 5px;line-height:1.1;border-color:#cfd6dd}.double-input[_ngcontent-%COMP%]:disabled{background-color:#e6e6e6;color:grey;opacity:.7;cursor:not-allowed}"]}),e})()},yzqN:function(e,t,i){"use strict";i.d(t,"a",(function(){return n})),i.d(t,"b",(function(){return a})),i.d(t,"c",(function(){return s})),i.d(t,"e",(function(){return r})),i.d(t,"f",(function(){return o})),i.d(t,"g",(function(){return l})),i.d(t,"h",(function(){return c})),i.d(t,"k",(function(){return u})),i.d(t,"i",(function(){return d})),i.d(t,"j",(function(){return p})),i.d(t,"m",(function(){return h})),i.d(t,"o",(function(){return b})),i.d(t,"p",(function(){return f})),i.d(t,"r",(function(){return m})),i.d(t,"s",(function(){return g})),i.d(t,"t",(function(){return _})),i.d(t,"u",(function(){return E})),i.d(t,"v",(function(){return S})),i.d(t,"w",(function(){return y})),i.d(t,"x",(function(){return v})),i.d(t,"y",(function(){return O})),i.d(t,"z",(function(){return D})),i.d(t,"A",(function(){return T})),i.d(t,"B",(function(){return I})),i.d(t,"C",(function(){return w})),i.d(t,"E",(function(){return P})),i.d(t,"F",(function(){return x})),i.d(t,"q",(function(){return L})),i.d(t,"D",(function(){return R})),i.d(t,"n",(function(){return C})),i.d(t,"d",(function(){return M})),i.d(t,"l",(function(){return V}));const n="787103",a="820826",s="825969",r="858646",o="858646",l="858646",c="858646",u="858646",d="858646",p="858646",h="791026",b="858646",f="817611",m="787103",g="794537",_="824313",E="791026",S="926854",y="939623",v="816118",O="791870",D="812357",T="794563",I="939623",w="791037",P="820826",x="817611",L="865948",R="987283",C="1016694",M="1028155",V="1125484"}}]);