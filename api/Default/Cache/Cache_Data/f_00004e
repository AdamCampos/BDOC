(window.webpackJsonp=window.webpackJsonp||[]).push([[114],{"+HPn":function(e,t,n){"use strict";n.r(t),n.d(t,"CheckinFilesRoutingModule",(function(){return J}));var i=n("ofXK"),s=n("3Pt+"),r=n("bSwM"),c=n("vZO+"),a=n("CakU"),o=n("noLC"),h=n("z+VC"),u=n("6xza"),l=n("inpI"),d=n("tyNb"),f=n("5iMO"),p=n("quZr"),b=n("tk/3"),g=n("itXk"),C=n("LRne"),m=n("KqfI"),S=n("IzEk"),v=n("eIep"),O=n("lJxs"),E=n("JIr8"),y=n("vkgz"),F=n("YwUS"),_=n("m8I0"),I=n("Z9D8"),w=n("LUpO"),T=n("C4gn"),N=n("Qqho"),P=n("zHoD"),L=n("c+03"),M=n("jNCI"),k=n("wpY2"),j=n("iwlc"),D=n("A3La"),R=n("Ejbi"),A=n("NEWU"),B=n("41Lq"),x=n("yzqN");class X{constructor(){this.copyMarkups=!0}}var K=n("0g6M"),U=n("fXoL"),H=n("niUd"),Q=n("ME6W"),G=n("tqjF"),Y=n("pQW9");function V(e,t){if(1&e){const e=U.Zb();U.Yb(0,"sda-card-view"),U.Yb(1,"div",1),U.Yb(2,"sda-file-upload",2,3),U.hc("filesUploaded",(function(t){return U.Kc(e),U.lc().filesUploaded(t)}))("filesPendingForUpload",(function(t){return U.Kc(e),U.lc().UpdateFilesPending(t)})),U.Xb(),U.Yb(4,"div",4),U.Yb(5,"mat-checkbox",5),U.hc("ngModelChange",(function(t){return U.Kc(e),U.lc().copyMarkups=t})),U.Uc(6),U.Xb(),U.Yb(7,"span"),U.Yb(8,"strong"),U.Uc(9),U.Xb(),U.Uc(10),U.Xb(),U.Xb(),U.Tb(11,"sda-attached-files",6),U.Xb(),U.Yb(12,"div",7),U.Yb(13,"sda-close-and-finish-bar",8),U.hc("onFinish",(function(){return U.Kc(e),U.lc().validateAndCheckIn()}))("onClose",(function(){return U.Kc(e),U.lc().featureSetNavigationService.navigateBack()})),U.Xb(),U.Xb(),U.Xb()}if(2&e){const e=U.lc();U.Eb(2),U.sc("uploadMode",e.mode)("checkOutFiles",e.checkOutFiles)("componentName",e.checkinType),U.Eb(3),U.sc("ngModel",e.copyMarkups),U.Eb(1),U.Vc(e.COPY_MARKUPS),U.Eb(3),U.Wc("",e.NOTE,":"),U.Eb(1),U.Wc(" ",e.CHECKIN_INFO_MESSAGE,""),U.Eb(1),U.sc("objects",e.objects)("columnSet",e.methodColumnSet)("FILE_TITLE",e.CHECKIN_FILES_UPLOAD_HEADER)("showCheckOutFiles","true")("getAllAttachedFiles","true"),U.Eb(2),U.sc("displayFinishButton",!0)("displayCloseButton",!0)("disableFinishButton",e.disableFinishButton)("finishButtonType",e.finishButtonType)("closeButtonText",e.FILE_CANCEL)}}const q=[{path:"",component:(()=>{class e{constructor(e,t,n,i,s,r,c,a,o,h,u,l,d,f,p){this.route=e,this.exceptionService=t,this.odataService=n,this.sdaTranslateService=i,this.modalService=s,this.notificationService=r,this.checkinFileService=c,this.applicationSettingsService=a,this.helpService=o,this.featureSetNavigationService=h,this.saveChangesDialogService=u,this.referenceFileHandlingService=l,this.loadingOverlayService=d,this.componentFactoryResolver=f,this.injector=p,this.checkOutFiles=[],this.mode=P.a.None,this.CHECKIN_FILES_UPLOAD_HEADER=this.sdaTranslateService.get("CHECKIN_FILES_UPLOAD_HEADER","Files that are being edited"),this.CHECKIN_INFO_MESSAGE=this.sdaTranslateService.get("CHECKIN_INFO_MESSAGE","Upload all files that are currently being edited"),this.NOTE=this.sdaTranslateService.get("NOTE","Note"),this.FILE_CANCEL=this.sdaTranslateService.get("CANCEL","CANCEL"),this.files=[],this.disableFinishButton=!0,this.finishButtonType=_.a.Primary,this.enableUpload=!1,this.attachedFiles=[],this.applyScrollWidth=!1,this.COPY_MARKUPS=this.sdaTranslateService.get("COPY_MARKUPS","Copy Markups"),this.copyMarkups=!0,this.columnValues=[],this.filesPending=!1,this.refernceFileFound=!1,this.errorMessage="",this.updateRefsToLatestVersion=!1,this.CHECKIN_ARGS_ERROR=this.sdaTranslateService.get("CHECKIN_ARGS_ERROR","The parameter 'CheckIn Action' incorrectly passed"),this.FILE_MANAGEMENT_TITLE=this.sdaTranslateService.get("FILE_MANAGEMENT_TITLE","File Management"),this.CHECKIN_SIGNOFF_MESSAGE=this.sdaTranslateService.get("CHECKIN_SIGNOFF_MESSAGE","Do you want to sign off Document"),this.CHECKIN_SIGNOFF_TITLE=this.sdaTranslateService.get("CHECKIN_SIGNOFF_TITLE","Sign Off"),this.YES=this.sdaTranslateService.get("REGENERATE_METADATA_PROMPT_YES","Yes"),this.NO=this.sdaTranslateService.get("REGENERATE_METADATA_PROMPT_NO","No"),this.SUCCESS=this.sdaTranslateService.get("CHECKIN_FILES_SUCCESS","File(s) successfully checked in"),this.FILE_PICKER_SELECT_FILE_CHECKIN=this.sdaTranslateService.get("FILE_PICKER_SELECT_FILE_CHECKIN","Select Document(s) to Check In"),this.RESULTS_NO_CHECKIN_DOCUMENTS=this.sdaTranslateService.get("RESULTS_NO_SIGNOFF_DOCUMENTS","No document(s) found for Check In"),this.CHECKIN_ERROR=this.sdaTranslateService.get("CHECKIN_ERROR","Error occured while CheckIn"),Object(g.a)(this.route.paramMap,this.route.data).subscribe(([e,t])=>{this.objects=t[A.z],this.objectOBID=this.objects[0].obid,this.objectConfig=this.objects[0].config,this.checkinType=e.has(A.a)?e.get(A.a):void 0,this.methodColumnSet=e.has(A.k)?e.get(A.k):void 0,this.refNotFoundAction=e.has(A.l)?e.get(A.l):void 0,e.has(A.m)&&"true"===e.get(A.m).toLowerCase()&&(this.updateRefsToLatestVersion=!0),this.refFileColumnSet=e.has(A.n)?e.get(A.n):"CS_CKIColumnSet",this.applicationSettingsService.setPageTitle(this.FILE_MANAGEMENT_TITLE),this.helpService.setHandlers(x.c)})}ngOnInit(){const e=new b.d({Prefer:'odata.include-annotations="*"'});this.odataService.get(`Objects('${this.objectOBID}')/SPFFileComposition_21?$filter=SPFIsFileCheckedOut eq true`,this.objectConfig,!1,this.methodColumnSet,e).subscribe(e=>{e.value.map(e=>{this.checkOutFiles.push(e)}),this.checkOutFiles.length>0&&this.showNestedReferenceFilesGrid()},e=>{this.exceptionService.handleException(new I.a(e,this.sdaTranslateService.getFormatted("CHECKIN_GET_FILES_ERROR-ERROR_MESSAGE","An error occurred while fetching the check out files: {0}",[e.message]),"checkin-files.component","ngOnInit"))})}canDeactivate(){let e=Promise.resolve(!0);return this.filesPending&&(e=this.saveChangesDialogService.showDialog()),e}setupGrid(){Object.keys(this.checkOutFiles[0]).forEach(e=>{e.startsWith("CI_")&&!1===e.includes("@Intergraph.SPF.Server.API.Model")&&this.columnValues.push(this.checkOutFiles[0][e+"@Intergraph.SPF.Server.API.Model.DisplayName"])}),this.checkOutFiles.forEach(e=>{const t=[];Object.keys(e).forEach(n=>{n.startsWith("CI_")&&!1===n.includes("@Intergraph.SPF.Server.API.Model")&&t.push(e[n])}),this.attachedFiles.push(t)}),this.attachedFiles.length>3&&(this.applyScrollWidth=!0)}showNestedReferenceFilesGrid(){const e=this.objects.map(e=>e.obid);let t;this.checkinFileService.updateRefsToLatestVersion=this.updateRefsToLatestVersion,this.checkinFileService.validateDocReferencesForCKIUndoCKO(e,!0).pipe(Object(S.a)(1),Object(v.a)(n=>this.isValidCheckinDocument(n,e)&&this.refernceFileFound?(t=n,this.selectDocumentsForCheckIn(t,this.refernceFileFound)):(this.errorMessage&&this.errorMessage.length>0?this.notificationService.info(this.errorMessage):this.refernceFileFound||(this.enableUpload=!0),Object(C.a)(void 0)))).subscribe(m.a,e=>{e.message=this.sdaTranslateService.getFormatted("CHECKIN_DOCUMENT_ERROR_MESSAGE-EXCEPTION","Error occurred during checkin validation of documents: {0}",[e.message]),this.exceptionService.handleException(new I.a(e,e.message,"checkinFileService","validateDocReferencesForCKIUndoCKO")),this.featureSetNavigationService.navigateBack()})}UpdateFilesPending(e){this.filesPending=e}filesUploaded(e){0===e.length&&(this.files=[]),this.files=e,this.disableFinishButton=!(!this.checkOutFiles||this.checkOutFiles.length===this.files.length)}validateAndCheckIn(){this.files.filter(e=>void 0!==e.file.name&&void 0!==e.uploadID).length===this.checkOutFiles.length&&this.checkinOrSignOff()}checkinOrSignOff(){"CHECKIN"===this.checkinType?(this.signOffDocument=!1,this.resolveReferencesAndCheckin().subscribe()):"CHECKINANDSIGNOFF"===this.checkinType?(this.signOffDocument=!0,this.SUCCESS=this.sdaTranslateService.get("SIGNOFF_FILES_SUCCESS","File(s) successfully checked in and Document is signed off"),this.resolveReferencesAndCheckin().subscribe()):"CHECKINANDPROMPTFORSIGNOFF"===this.checkinType?this.modalService.confirm(this.CHECKIN_SIGNOFF_TITLE,this.CHECKIN_SIGNOFF_MESSAGE,this.YES,this.NO).then(e=>{this.signOffDocument=e,e&&(this.SUCCESS=this.sdaTranslateService.get("SIGNOFF_FILES_SUCCESS","File(s) successfully checked in and Document is signed off")),this.resolveReferencesAndCheckin().subscribe()}):(this.exceptionService.handleException(new I.a(this.CHECKIN_ARGS_ERROR,void 0,"checkin-files.component","checkinOrSignOff")),this.featureSetNavigationService.navigateBack())}resolveReferencesAndCheckin(){return this.loadingOverlayService.showLoadingOverlay(),this.referenceFileHandlingService.resolveReferencesAndShowDuplicates(this.files,this.refNotFoundAction,this.objectOBID,!0).pipe(Object(S.a)(1),Object(v.a)(e=>e?(this.loadingOverlayService.hideLoadingOverlay(),this.checkinFiles()):(this.loadingOverlayService.hideLoadingOverlay(),Object(C.a)(void 0))))}checkinFiles(){const e=[];this.files.forEach(t=>{e.push([t.file.path+t.file.name,t.uploadID])});const t=new X;return t.clientFilePathAndUploadIDs=e,t.targetObjectOBID=this.objectOBID,t.revisionSignOff=this.signOffDocument,t.resolvedRefFileDetails=this.getResolvedRefFileDetails(),t.copyMarkups=this.copyMarkups,this.loadingOverlayService.showLoadingOverlay(),this.checkinFileService.checkInFile(t).pipe(Object(S.a)(1),Object(O.a)(()=>(this.loadingOverlayService.hideLoadingOverlay(),this.notificationService.success(this.SUCCESS),this.featureSetNavigationService.navigateBack(),!0)),Object(E.a)(e=>{const t=this.CHECKIN_ERROR+": "+e.message;return this.loadingOverlayService.hideLoadingOverlay(),this.exceptionService.handleException(new I.a(t,void 0,"checkin-file.component","checkinFiles")),Object(C.a)(!1)}))}getResolvedRefFileDetails(){return this.files.map(e=>({Name:e.file.name,NewReferenceRelations:e.referenceFilesInfo.newReferenceFiles,DeleteReferenceRelOBIDs:e.referenceFilesInfo.relsToDeleteDictionary,ResolvedDuplicateReferenceOBIDs:e.referenceFilesInfo.resolvedDuplicateReferenceOBIDs}))}isValidCheckinDocument(e,t){let n=!1;return e?e.forEach(e=>{e.Children.length>0&&(this.refernceFileFound=!0),t.forEach(t=>{t===e.OBID&&(e.DynStatus&&"true"===e.DynStatus.toLowerCase()?n=!0:this.errorMessage=e.DynMessage)})}):this.errorMessage=this.RESULTS_NO_CHECKIN_DOCUMENTS,n}selectDocumentsForCheckIn(e,t){let n=this.objects[0].name;return this.objects.length>1&&(n=this.sdaTranslateService.get("SELECTED OBJECTS","Selected Objects").toLocaleLowerCase()),this.referenceFileHandlingService.selectFiles(this.componentFactoryResolver,this.injector,e,n,this.FILE_PICKER_SELECT_FILE_CHECKIN,N.a.CheckIn,this.refFileColumnSet).pipe(Object(S.a)(1),Object(y.a)(e=>{e&&e.length>0?(this.setupGrid(),this.enableUpload=!0):this.featureSetNavigationService.navigateBack()}))}}return e.\u0275fac=function(t){return new(t||e)(U.Sb(d.a),U.Sb(w.a),U.Sb(D.a),U.Sb(R.a),U.Sb(M.a),U.Sb(B.a),U.Sb(K.a),U.Sb(F.a),U.Sb(j.a),U.Sb(T.a),U.Sb(k.a),U.Sb(h.a),U.Sb(L.a),U.Sb(U.j),U.Sb(U.s))},e.\u0275cmp=U.Mb({type:e,selectors:[["sda-checkin-file"]],decls:1,vars:1,consts:[[4,"ngIf"],[1,"sda-card-body"],[3,"uploadMode","checkOutFiles","componentName","filesUploaded","filesPendingForUpload"],["api",""],[1,"checkin-file__note"],[3,"ngModel","ngModelChange"],[3,"objects","columnSet","FILE_TITLE","showCheckOutFiles","getAllAttachedFiles"],[1,"sda-card-footer"],[1,"upload-close-and-finish-bar",3,"displayFinishButton","displayCloseButton","disableFinishButton","finishButtonType","closeButtonText","onFinish","onClose"]],template:function(e,t){1&e&&U.Sc(0,V,14,17,"sda-card-view",0),2&e&&U.sc("ngIf",t.enableUpload)},directives:[i.t,H.a,Q.a,r.a,s.p,s.s,G.a,Y.a],styles:["[_nghost-%COMP%]{display:flex;flex:1}[_nghost-%COMP%], [_nghost-%COMP%]   sda-card-view[_ngcontent-%COMP%]{overflow:hidden}[_nghost-%COMP%]   sda-card-view[_ngcontent-%COMP%]     .card{flex:1;border:none;margin:0;padding:0;overflow:hidden}[_nghost-%COMP%]   sda-card-view[_ngcontent-%COMP%]     .card-body{flex:1;overflow:auto}[_nghost-%COMP%]   sda-card-view[_ngcontent-%COMP%]     .mat-checkbox-layout{align-items:center}[_nghost-%COMP%]   sda-card-view[_ngcontent-%COMP%]   .sda-card-footer[_ngcontent-%COMP%]{border-top:1px solid #cad0d7;margin-top:5px}.checkin-file__container[_ngcontent-%COMP%]{font-size:14px;overflow:hidden}@media screen and (min-width:75em){.checkin-file__container[_ngcontent-%COMP%]{max-width:1300px}}.checkin-file__note[_ngcontent-%COMP%]{display:flex;justify-content:space-between;flex-wrap:wrap;align-items:center;margin:40px auto 0;font-size:14px;overflow:hidden}@media screen and (min-width:75em){.checkin-file__note[_ngcontent-%COMP%]{max-width:1300px}}.checkin-file__note[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0 0 10px}"]}),e})(),resolve:{objects:f.a},canDeactivate:[p.a]}];let Z=(()=>{class e{}return e.\u0275mod=U.Qb({type:e}),e.\u0275inj=U.Pb({factory:function(t){return new(t||e)},imports:[[d.k.forChild(q)],d.k]}),e})(),J=(()=>{class e{}return e.\u0275mod=U.Qb({type:e}),e.\u0275inj=U.Pb({factory:function(t){return new(t||e)},providers:[K.a,h.a],imports:[[i.c,l.a,Z,o.a,c.a,a.a,u.a,s.j,r.b]]}),e})()},"/Hch":function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var i=n("tk/3"),s=n("lJxs"),r=n("ZW2Q"),c=n("DG5G"),a=n("4vCl"),o=n("A3La"),h=n("ONOH"),u=n("fXoL");let l=(()=>{class e{constructor(e,t,n){this.odataService=e,this.configService=t,this.filterQueryService=n}getDependentItems(e,t,n,c=!0,o){const h=this.filterQueryService.getOBIDURL(e.relObjectObids,e.pathDefinition,n,t,o);return this.odataService.get(h,this.configService.selectedCreateConfig).pipe(Object(s.a)(t=>{const n=[],s=new a.a(new i.e);if(t&&t.value&&t.value.length>0&&""!==e.pathDefinition){const i=t.value[0][e.pathDefinition];s.count=t.value[0][e.pathDefinition+"@odata.count"],i&&i.length>0&&i.forEach(e=>{n.push(new r.a(e.OBID,e.Name,e.Name,!1,"",!1))})}return s.value=n,s}))}getDependentObjects(e,t,n=[],i="*"){const s=this.filterQueryService.getOBIDURL(e,t,n,i);return this.odataService.get(s,this.configService.selectedCreateConfig)}}return e.\u0275fac=function(t){return new(t||e)(u.dc(o.a),u.dc(h.a),u.dc(c.a))},e.\u0275prov=u.Ob({token:e,factory:e.\u0275fac}),e})()},"0GHy":function(e,t,n){"use strict";n.d(t,"a",(function(){return y}));var i=n("3Ucw"),s=n("ofXK"),r=n("3Pt+"),c=n("fXoL");let a=(()=>{class e{}return e.\u0275mod=c.Qb({type:e}),e.\u0275inj=c.Pb({factory:function(t){return new(t||e)},imports:[[s.c,r.j]]}),e})();var o=n("M+Z9"),h=n("fdCq"),u=n("6Qg8"),l=n("1SkA"),d=n("MX5F"),f=n("YsCO"),p=n("YvlZ");let b=(()=>{class e{}return e.\u0275mod=c.Qb({type:e}),e.\u0275inj=c.Pb({factory:function(t){return new(t||e)},imports:[[s.c,r.j,f.a,d.a,p.a]]}),e})(),g=(()=>{class e{}return e.\u0275mod=c.Qb({type:e}),e.\u0275inj=c.Pb({factory:function(t){return new(t||e)},imports:[[s.c,f.a,d.a,p.a]]}),e})(),C=(()=>{class e{}return e.\u0275mod=c.Qb({type:e}),e.\u0275inj=c.Pb({factory:function(t){return new(t||e)},imports:[[s.c,r.j,p.a,d.a]]}),e})(),m=(()=>{class e{}return e.\u0275mod=c.Qb({type:e}),e.\u0275inj=c.Pb({factory:function(t){return new(t||e)},imports:[[s.c,r.j]]}),e})(),S=(()=>{class e{}return e.\u0275mod=c.Qb({type:e}),e.\u0275inj=c.Pb({factory:function(t){return new(t||e)},imports:[[s.c,r.j]]}),e})();var v=n("SHTa"),O=n("uinc"),E=n("LUJG");let y=(()=>{class e{}return e.\u0275mod=c.Qb({type:e}),e.\u0275inj=c.Pb({factory:function(t){return new(t||e)},providers:[i.a],imports:[l.a,h.a,o.a,E.a,u.a,O.a,v.a,g,b,m,C,S,a]}),e})()},"1SkA":function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var i=n("8YAH"),s=n("fXoL");let r=(()=>{class e{}return e.\u0275mod=s.Qb({type:e}),e.\u0275inj=s.Pb({factory:function(t){return new(t||e)},imports:[[i.a]]}),e})()},"1eVd":function(e,t,n){"use strict";n.d(t,"a",(function(){return b}));var i=n("fXoL"),s=n("XNiG"),r=n("Kj3r"),c=n("Ejbi"),a=n("ofXK"),o=n("3Pt+"),h=n("NFeN"),u=n("4CIq"),l=n("FcA5");function d(e,t){1&e&&i.Tb(0,"mat-icon",6)}function f(e,t){if(1&e){const e=i.Zb();i.Yb(0,"sda-button-plain",7),i.hc("click",(function(){return i.Kc(e),i.lc().onClear()})),i.Xb()}2&e&&i.sc("isCompact",!0)("matSvgIcon","close")}function p(e,t){if(1&e){const e=i.Zb();i.Yb(0,"sda-button-primary",8),i.hc("click",(function(){return i.Kc(e),i.lc().search()})),i.Xb()}2&e&&i.sc("matSvgIcon","search")}let b=(()=>{class e{constructor(e){this.sdaTranslateService=e,this.useFilterMode=!0,this.useDebounce=!1,this.showClearIcon=!1,this.searchTerm="",this.placeholder="",this.searchTermChange=new i.o,this.onSearch=new i.o,this.SEARCH_BAR_PLACEHOLDER=this.sdaTranslateService.get("SEARCH_BAR_PLACEHOLDER","Search..."),this.onChangeDebounce=new s.a,this.placeholder=this.SEARCH_BAR_PLACEHOLDER,this.onChangeDebounceSubscription=this.onChangeDebounce.pipe(Object(r.a)(500)).subscribe(()=>{this.searchTermChange.emit(this.searchTerm)})}ngOnChanges(e){e.placeholder&&""===this.placeholder&&(this.placeholder=this.SEARCH_BAR_PLACEHOLDER)}ngOnDestroy(){this.onChangeDebounceSubscription&&this.onChangeDebounceSubscription.unsubscribe()}get searchQuery(){return this.searchTerm}set searchQuery(e){e!==this.searchTerm&&(this.searchTerm=e,this.searchTermUpdated())}search(){this.useFilterMode||this.onSearch.emit(this.searchTerm)}onClear(){this.searchTerm="",this.searchTermChange.emit(this.searchTerm)}searchTermUpdated(){this.useDebounce?this.onChangeDebounce.next():this.searchTermChange.emit(this.searchTerm)}}return e.\u0275fac=function(t){return new(t||e)(i.Sb(c.a))},e.\u0275cmp=i.Mb({type:e,selectors:[["sda-simple-search"]],inputs:{useFilterMode:"useFilterMode",useDebounce:"useDebounce",showClearIcon:"showClearIcon",searchTerm:"searchTerm",placeholder:"placeholder"},outputs:{searchTermChange:"searchTermChange",onSearch:"onSearch"},features:[i.Cb],decls:6,vars:6,consts:[[1,"simple-search"],["svgIcon","search","class","simple-search__icon",4,"ngIf"],["type","text",1,"simple-search__input",3,"ngModel","placeholder","spellcheck","ngModelChange","keyup.enter"],["Search",""],["class","simple-search__button simple-search__button--clear",3,"isCompact","matSvgIcon","click",4,"ngIf"],["class","simple-search__button",3,"matSvgIcon","click",4,"ngIf"],["svgIcon","search",1,"simple-search__icon"],[1,"simple-search__button","simple-search__button--clear",3,"isCompact","matSvgIcon","click"],[1,"simple-search__button",3,"matSvgIcon","click"]],template:function(e,t){1&e&&(i.Yb(0,"div",0),i.Sc(1,d,1,0,"mat-icon",1),i.Yb(2,"input",2,3),i.hc("ngModelChange",(function(e){return t.searchQuery=e}))("keyup.enter",(function(){return t.search()})),i.Xb(),i.Sc(4,f,1,2,"sda-button-plain",4),i.Sc(5,p,1,1,"sda-button-primary",5),i.Xb()),2&e&&(i.Eb(1),i.sc("ngIf",t.useFilterMode),i.Eb(1),i.sc("ngModel",t.searchQuery)("placeholder",t.placeholder)("spellcheck",!1),i.Eb(2),i.sc("ngIf",t.showClearIcon&&(null==t.searchTerm?null:t.searchTerm.length)>0),i.Eb(1),i.sc("ngIf",!t.useFilterMode))},directives:[a.t,o.c,o.p,o.s,h.a,u.a,l.a],styles:[".simple-search__input[_ngcontent-%COMP%]{overflow:hidden;white-space:nowrap;text-overflow:ellipsis}[_nghost-%COMP%]{width:100%}.simple-search[_ngcontent-%COMP%]{display:flex;flex:1;align-items:center;height:34px;border:1px solid #dce0e5;background-color:#fff;color:#8997a5}.simple-search__icon[_ngcontent-%COMP%]{width:20px;height:20px;margin-left:5px}.simple-search__input[_ngcontent-%COMP%]{flex:1;min-width:0!important;height:34px;line-height:1;border:none;background-color:initial}.simple-search__button[_ngcontent-%COMP%]  .button{border-radius:0}.simple-search__button--clear[_ngcontent-%COMP%] {margin-right:1px}.simple-search__button--clear[_ngcontent-%COMP%]  .button__mat-icon{width:16px;height:16px}"]}),e})()},"3Ucw":function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var i=n("JrsU"),s=n("fXoL");let r=(()=>{class e{constructor(){this.cachedDataList=[]}getCachedData(e){let t;const n=this.cachedDataList.filter(t=>t.key===e);return n&&n.length>0&&(t=n[0].value),t}cacheData(e,t){const n=this.cachedDataList.filter(t=>t.key===e)[0];n?n.value=t:this.cachedDataList.push(new i.a(e,t))}clear(){this.cachedDataList=[]}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=s.Ob({token:e,factory:e.\u0275fac}),e})()},"4BcJ":function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));class i{constructor(){this.loadMore=!1,this.isValid=!0}}},"6Qg8":function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var i=n("ofXK"),s=n("3Pt+"),r=n("F+hv"),c=n("fXoL");let a=(()=>{class e{}return e.\u0275mod=c.Qb({type:e}),e.\u0275inj=c.Pb({factory:function(t){return new(t||e)},imports:[[i.c,s.j,r.a]]}),e})()},"7CaW":function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var i=n("fXoL"),s=n("ofXK"),r=n("7zfz");n("R0Ic");let c=(()=>{let e=class{};return e.\u0275mod=i.Qb({type:e}),e.\u0275inj=i.Pb({factory:function(t){return new(t||e)},imports:[[s.c],r.e]}),e})()},"8YAH":function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var i=n("ofXK"),s=n("3Pt+"),r=n("txXS"),c=n("fXoL");let a=(()=>{class e{}return e.\u0275mod=c.Qb({type:e}),e.\u0275inj=c.Pb({factory:function(t){return new(t||e)},imports:[[i.c,s.j,r.a]]}),e})()},"9X43":function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var i=n("WG3B"),s=n("fXoL");let r=(()=>{class e{}return e.\u0275mod=s.Qb({type:e}),e.\u0275inj=s.Pb({factory:function(t){return new(t||e)},imports:[[i.o]]}),e})()},BMkO:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var i=n("uxyQ"),s=n("fXoL");let r=(()=>{class e{}return e.\u0275mod=s.Qb({type:e}),e.\u0275inj=s.Pb({factory:function(t){return new(t||e)},providers:[i.a]}),e})()},"HPu/":function(e,t,n){"use strict";n.d(t,"a",(function(){return S}));var i=n("ofXK"),s=n("3Pt+"),r=n("bTqV"),c=n("bSwM"),a=n("NFeN"),o=n("STbY"),h=n("Qu3c"),u=n("8yBR"),l=n("BMkO"),d=n("l3mi"),f=n("mQCr"),p=n("wA8e"),b=n("2wiT"),g=n("mZKE"),C=n("VL22"),m=n("fXoL");let S=(()=>{class e{}return e.\u0275mod=m.Qb({type:e}),e.\u0275inj=m.Pb({factory:function(t){return new(t||e)},providers:[C.a,g.a],imports:[[c.b,u.e,c.b,i.c,s.j,b.a,r.b,p.a,f.a,d.a,a.b,l.a,o.c,h.b]]}),e})()},J0As:function(e,t,n){"use strict";n.d(t,"a",(function(){return b}));var i=n("ofXK"),s=n("3Pt+"),r=n("bSwM"),c=n("NFeN"),a=n("eO1q"),o=n("l3mi"),h=n("iVUw"),u=n("F+hv"),l=n("txXS"),d=n("LvQU"),f=n("/Hch"),p=n("fXoL");let b=(()=>{class e{}return e.\u0275mod=p.Qb({type:e}),e.\u0275inj=p.Pb({factory:function(t){return new(t||e)},providers:[f.a],imports:[[i.c,s.j,c.b,r.b,u.a,l.a,a.b,d.a,h.a,o.a]]}),e})()},LUJG:function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var i=n("ofXK"),s=n("3Pt+"),r=n("eO1q"),c=n("MX5F"),a=n("txXS"),o=n("YvlZ"),h=n("fXoL");let u=(()=>{class e{}return e.\u0275mod=h.Qb({type:e}),e.\u0275inj=h.Pb({factory:function(t){return new(t||e)},imports:[[i.c,s.j,r.b,c.a,a.a,o.a]]}),e})()},LvQU:function(e,t,n){"use strict";n.d(t,"a",(function(){return f}));var i=n("ofXK"),s=n("3Pt+"),r=n("l3mi"),c=n("sh/L"),a=n("LI1j"),o=n("giKh"),h=n("fXoL");let u=(()=>{class e{}return e.\u0275mod=h.Qb({type:e}),e.\u0275inj=h.Pb({factory:function(t){return new(t||e)},imports:[[i.c,s.j,a.a,o.a,c.a,r.a]]}),e})();var l=n("Vpc6");let d=(()=>{class e{}return e.\u0275mod=h.Qb({type:e}),e.\u0275inj=h.Pb({factory:function(t){return new(t||e)},imports:[[i.c,r.a]]}),e})(),f=(()=>{class e{}return e.\u0275mod=h.Qb({type:e}),e.\u0275inj=h.Pb({factory:function(t){return new(t||e)},imports:[[i.c,s.j,o.a,l.a,c.a,u,d]]}),e})()},"M+Z9":function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var i=n("ofXK"),s=n("3Pt+"),r=n("eO1q"),c=n("MX5F"),a=n("txXS"),o=n("YvlZ"),h=n("fXoL");let u=(()=>{class e{}return e.\u0275mod=h.Qb({type:e}),e.\u0275inj=h.Pb({factory:function(t){return new(t||e)},imports:[[i.c,s.j,r.b,c.a,a.a,o.a]]}),e})()},MfSp:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var i=n("2Vo4"),s=n("4BcJ");class r extends s.a{constructor(e,t,n,s,r,c=new Array,a=0,o,h=!1,u=!0,l){super(),this.obid=e,this.uid=t,this.name=n,this.classdef=s,this.iconName=r,this.count=a,this.parentObid=o,this.loadMore=h,this.isValid=u,this.parentNode=l,this.state={count:a,skip:0},this.childrenChange=new i.a(c)}get children(){return this.childrenChange.value}}},SHTa:function(e,t,n){"use strict";n.d(t,"a",(function(){return h}));var i=n("ofXK"),s=n("3Pt+"),r=n("jw+j"),c=n("MX5F"),a=n("YvlZ"),o=n("fXoL");let h=(()=>{class e{}return e.\u0275mod=o.Qb({type:e}),e.\u0275inj=o.Pb({factory:function(t){return new(t||e)},imports:[[i.c,s.j,c.a,a.a,r.a]]}),e})()},VL22:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var i=n("Ejbi"),s=n("MfSp"),r=n("fXoL");let c=(()=>{class e{constructor(e){this.sdaTranslateService=e,this.LOAD_MORE=this.sdaTranslateService.get("LOAD_MORE_LABEL","Load More")}transformNodes(e,t=[],n,i,s){const r=this.detectNestedNodeProperty(n),c=this.transform(e,r,i);if(c&&c.length>0)if(i){const e=t?this.findNode(t,i):void 0;this.appendLoadMoreNode(e.children,c,i,e.state),e.childrenChange.next(e.children)}else this.appendLoadMoreNode(t,c,void 0,s);return t}findNode(e,t){if(e.every(e=>e.obid!==t)){let n,i;return e.forEach(e=>{e.children.length>0&&!n&&(n=this.findNode(e.children,t),n&&(i=n))}),i}return e.find(e=>e.obid===t)}detectNestedNodeProperty(e){let t="Children";if(e&&!e.Children){const n=Object.getOwnPropertyNames(e).filter(t=>Array.isArray(e[t]));n.length>0&&(t=n[0])}return t}appendLoadMoreNode(e,t,n,i){e&&e.length>0&&e[e.length-1].name===this.LOAD_MORE&&e.pop(),e.push(...t),this.createLoadMoreTreeNode(i,e,n)}createLoadMoreTreeNode(e,t,n){t&&e.count>t.length&&(e.skip=t.length,t.push(new s.a("","",this.LOAD_MORE,"","",[],0,n,!0)))}transform(e,t,n,i){const r=[];return e&&e.forEach(e=>{const c=new s.a(e.OBID,e.UID,e.Name,this.getClassDef(e),e.IconName,[],this.detectChildCount(e,t),n,!1,e.IsValid,i);if(c.apiContextMenu=e.apiContextMenu,c.isLazy=e.isLazy,c.rawResult=e,c.tooltip=e.toolTip,e[t]&&e[t].length>0){const n=this.transform(e[t],t,e.OBID,c);this.createLoadMoreTreeNode(c.state,n,e.OBID),c.childrenChange.next(n)}r.push(c)}),r}detectChildCount(e,t){if(e.ChildrenCount>0)return e.ChildrenCount;const n=t.concat("@odata.count");return e[n]?e[n]:void 0}getClassDef(e){return e.ClassDef?e.ClassDef:e.Class?e.Class:void 0}}return e.\u0275fac=function(t){return new(t||e)(r.dc(i.a))},e.\u0275prov=r.Ob({token:e,factory:e.\u0275fac}),e})()},VoKn:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var i=n("l3mi"),s=n("fXoL");let r=(()=>{class e{}return e.\u0275mod=s.Qb({type:e}),e.\u0275inj=s.Pb({factory:function(t){return new(t||e)},imports:[[i.a]]}),e})()},YvlZ:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var i=n("NFeN"),s=n("fXoL");let r=(()=>{class e{}return e.\u0275mod=s.Qb({type:e}),e.\u0275inj=s.Pb({factory:function(t){return new(t||e)},imports:[[i.b]]}),e})()},dNA2:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var i=n("Qu3c"),s=n("l3mi"),r=n("fXoL");let c=(()=>{class e{}return e.\u0275mod=r.Qb({type:e}),e.\u0275inj=r.Pb({factory:function(t){return new(t||e)},imports:[[s.a,i.b]]}),e})()},fdCq:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var i=n("jw+j"),s=n("fXoL");let r=(()=>{class e{}return e.\u0275mod=s.Qb({type:e}),e.\u0275inj=s.Pb({factory:function(t){return new(t||e)},imports:[[i.a]]}),e})()},"jw+j":function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var i=n("ofXK"),s=n("3Pt+"),r=n("fXoL");let c=(()=>{class e{}return e.\u0275mod=r.Qb({type:e}),e.\u0275inj=r.Pb({factory:function(t){return new(t||e)},imports:[[i.c,s.j]]}),e})()},mZKE:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var i=n("fXoL");let s=(()=>{class e{convertFlatListToTree(e){const t={},n=[];let i,s;for(i=0;i<e.length;i+=1)t[e[i].OBID]=i,e[i].Children=[];for(i=0;i<e.length;i+=1)s=e[i],s.parentNodeObid&&void 0!==t[s.parentNodeObid]&&e[t[s.parentNodeObid]]?e[t[s.parentNodeObid]].Children.push(s):n.push(s);return n}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=i.Ob({token:e,factory:e.\u0275fac}),e})()},pQW9:function(e,t,n){"use strict";n.d(t,"a",(function(){return h}));var i=n("fXoL"),s=n("m8I0"),r=n("QkNQ"),c=n("ti2P"),a=n("Ejbi"),o=n("lUp+");let h=(()=>{class e{constructor(e){this.sdaTranslateService=e,this.displayFinishButton=!0,this.disableFinishButton=!1,this.finishButtonType=s.a.Default,this.finishButtonText=this.sdaTranslateService.get("FINISH","Finish"),this.displayCloseButton=!0,this.closeButtonText=this.sdaTranslateService.get("CLOSE","Close"),this.onFinish=new i.o,this.onClose=new i.o,this.rightPowerBarControls=[],this.backgroundStyle=r.a.Transparent}ngOnInit(){this.initialisePowerBar()}ngOnChanges(e){this.finishButton&&(e.disableFinishButton&&(this.finishButton.isDisabled=e.disableFinishButton.currentValue),e.finishButtonText&&(this.finishButton.displayName=e.finishButtonText.currentValue),e.finishButtonType&&(this.finishButton.type=e.finishButtonType.currentValue))}initialisePowerBar(){this.displayCloseButton&&this.rightPowerBarControls.push(new c.a(()=>{this.onClose.emit(void 0)},this.closeButtonText,"",void 0,s.a.Abort)),this.displayFinishButton&&(this.finishButton=new c.a(()=>{this.onFinish.emit(void 0)},this.finishButtonText,"",void 0,this.finishButtonType,this.disableFinishButton),this.rightPowerBarControls.push(this.finishButton))}}return e.\u0275fac=function(t){return new(t||e)(i.Sb(a.a))},e.\u0275cmp=i.Mb({type:e,selectors:[["sda-close-and-finish-bar"]],inputs:{displayFinishButton:"displayFinishButton",disableFinishButton:"disableFinishButton",finishButtonType:"finishButtonType",finishButtonText:"finishButtonText",displayCloseButton:"displayCloseButton",closeButtonText:"closeButtonText"},outputs:{onFinish:"onFinish",onClose:"onClose"},features:[i.Cb],decls:1,vars:3,consts:[[1,"power-bar",3,"rightControls","background","disableOverflow"]],template:function(e,t){1&e&&i.Tb(0,"sda-power-bar-view",0),2&e&&i.sc("rightControls",t.rightPowerBarControls)("background",t.backgroundStyle)("disableOverflow",!0)},directives:[o.a],styles:["[_nghost-%COMP%]     sda-power-bar-view .power-bar{justify-content:flex-end;margin-right:10px}"]}),e})()},uJvP:function(e,t,n){"use strict";n.d(t,"a",(function(){return M}));var i=n("rDax"),s=n("+rOU"),r=n("ofXK"),c=n("3Pt+"),a=n("bSwM"),o=n("NFeN"),h=n("qFsG"),u=n("wZkO"),l=n("Qu3c"),d=n("WG3B"),f=n("7CaW"),p=n("BMkO"),b=n("9Abt"),g=n("l3mi"),C=n("ILbM"),m=n("0GHy"),S=n("VtiV"),v=n("F+hv"),O=n("wA8e"),E=n("MX5F"),y=n("GDd0"),F=n("2wiT"),_=n("HPu/"),I=n("dNA2"),w=n("fXoL");let T=(()=>{class e{}return e.\u0275mod=w.Qb({type:e}),e.\u0275inj=w.Pb({factory:function(t){return new(t||e)},imports:[[r.c,d.o]]}),e})();var N=n("9X43"),P=n("VoKn");let L=(()=>{class e{}return e.\u0275mod=w.Qb({type:e}),e.\u0275inj=w.Pb({factory:function(t){return new(t||e)},imports:[[g.a,o.b,h.b,l.b,a.b,r.c,c.j,d.o,v.a,m.a,O.a,E.a,S.a,N.a,p.a,P.a,I.a,T]]}),e})(),M=(()=>{class e{}return e.\u0275mod=w.Qb({type:e}),e.\u0275inj=w.Pb({factory:function(t){return new(t||e)},imports:[[b.a,g.a,u.e,o.b,h.b,l.b,a.b,r.c,c.j,v.a,d.o,f.a,m.a,y.a,s.g,i.f,O.a,F.a,E.a,_.a,C.a,S.a,N.a,p.a,P.a,I.a,L,T]]}),e})()},uinc:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var i=n("ofXK"),s=n("3Pt+"),r=n("txXS"),c=n("fXoL");let a=(()=>{class e{}return e.\u0275mod=c.Qb({type:e}),e.\u0275inj=c.Pb({factory:function(t){return new(t||e)},imports:[[i.c,s.j,r.a]]}),e})()},uxyQ:function(e,t,n){"use strict";n.d(t,"a",(function(){return p}));var i=n("LRne"),s=n("eIep"),r=n("lJxs"),c=n("JIr8"),a=n("Z9D8"),o=n("LUpO"),h=n("eruR"),u=n("J7mc"),l=n("Ejbi"),d=n("+eYH"),f=n("fXoL");let p=(()=>{class e{constructor(e,t,n,i){this.dataService=e,this.featureSetService=t,this.sdaTranslateService=n,this.exceptionService=i}loadMethodsByClientAPI(e,t,n){return this.menu=e,this.getActualObject(t,n).pipe(Object(s.a)(e=>e&&e.length>0?(n=e[0].queryContextConfig?e[0].queryContextConfig:e[0].Config,this.featureSetService.getFeatureSetsByObject(this.menu.menuOptionAPIs.map(e=>e.apiName),[new d.a(e[0].OBID,"",n)])):Object(i.a)([])),Object(r.a)(e=>{let t=[];return e.map(e=>{e.FeatureSets.forEach(e=>t.push(...e.Features)),t.push(...e.Features)}),this.menu.menuOptionAPIs.length>0&&(t=this.filterMethods(t)),t}),Object(c.a)(e=>(this.exceptionService.handleException(new a.a(e,this.sdaTranslateService.get("TABBED_GRID_CONTEXT_MENU_ERROR","Failed to load context menu"))),Object(i.a)(void 0))))}filterMethods(e){return this.menu.menuOptionAPIs.forEach(t=>{t.excludeAllMethods?e=e.filter(e=>e.ClientAPI!==t.apiName):t.argFilters&&t.argFilters.length>0&&e.filter(e=>e.ClientAPI===t.apiName).forEach(n=>{t.argFilters.forEach(t=>{const i=n.Arguments.find(e=>e.Name===t.key);i&&i.Value===t.value||(e=e.filter(e=>e.UID!==n.UID))})})}),e}getActualObject(e,t){return this.menu&&this.menu.menuOptionURL?this.dataService.get(this.menu.menuOptionURL.replace("{0}",e)):Object(i.a)([{OBID:e,Config:t}])}}return e.\u0275fac=function(t){return new(t||e)(f.dc(u.a),f.dc(h.a),f.dc(l.a),f.dc(o.a))},e.\u0275prov=f.Ob({token:e,factory:e.\u0275fac}),e})()},wA8e:function(e,t,n){"use strict";n.d(t,"a",(function(){return d}));var i=n("ofXK"),s=n("NFeN"),r=n("qFsG"),c=n("STbY"),a=n("d3UM"),o=n("Qu3c"),h=n("l3mi"),u=n("2wiT"),l=n("fXoL");let d=(()=>{class e{}return e.\u0275mod=l.Qb({type:e}),e.\u0275inj=l.Pb({factory:function(t){return new(t||e)},imports:[[i.c,u.a,a.b,c.c,s.b,h.a,r.b,o.b]]}),e})()},yzqN:function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return s})),n.d(t,"c",(function(){return r})),n.d(t,"e",(function(){return c})),n.d(t,"f",(function(){return a})),n.d(t,"g",(function(){return o})),n.d(t,"h",(function(){return h})),n.d(t,"k",(function(){return u})),n.d(t,"i",(function(){return l})),n.d(t,"j",(function(){return d})),n.d(t,"m",(function(){return f})),n.d(t,"o",(function(){return p})),n.d(t,"p",(function(){return b})),n.d(t,"r",(function(){return g})),n.d(t,"s",(function(){return C})),n.d(t,"t",(function(){return m})),n.d(t,"u",(function(){return S})),n.d(t,"v",(function(){return v})),n.d(t,"w",(function(){return O})),n.d(t,"x",(function(){return E})),n.d(t,"y",(function(){return y})),n.d(t,"z",(function(){return F})),n.d(t,"A",(function(){return _})),n.d(t,"B",(function(){return I})),n.d(t,"C",(function(){return w})),n.d(t,"E",(function(){return T})),n.d(t,"F",(function(){return N})),n.d(t,"q",(function(){return P})),n.d(t,"D",(function(){return L})),n.d(t,"n",(function(){return M})),n.d(t,"d",(function(){return k})),n.d(t,"l",(function(){return j}));const i="787103",s="820826",r="825969",c="858646",a="858646",o="858646",h="858646",u="858646",l="858646",d="858646",f="791026",p="858646",b="817611",g="787103",C="794537",m="824313",S="791026",v="926854",O="939623",E="816118",y="791870",F="812357",_="794563",I="939623",w="791037",T="820826",N="817611",P="865948",L="987283",M="1016694",k="1028155",j="1125484"}}]);