(window.webpackJsonp=window.webpackJsonp||[]).push([[29],{"+T9e":function(e,t,i){"use strict";i.d(t,"a",(function(){return w}));var n=i("mrSG"),s=i("IzEk"),a=i("ONOH"),o=i("Z9D8"),r=i("LUpO"),h=i("PoZZ"),c=i("d74k"),d=i("Ejbi"),l=i("W5cs"),u=i("gBNM"),p=i("UVhF"),m=i("zewe"),b=i("fXoL"),g=i("ofXK"),f=i("TLn4"),v=i("qx4N"),x=i("+qkj");function S(e,t){if(1&e&&b.Tb(0,"sda-loading-indicator",3),2&e){const e=b.lc();b.sc("message",e.OBJECT_DETAILS_LOADING)("centered",!0)}}function z(e,t){if(1&e&&(b.Yb(0,"div",4),b.Tb(1,"sda-form-controls",5),b.Xb()),2&e){const e=b.lc();b.Ib("object-details--fixed-height",e.relatedItemTabs.length>0),b.Eb(1),b.sc("form",e.form)("isEditable",!1)}}function _(e,t){if(1&e&&b.Tb(0,"sda-related-items-section",6),2&e){const e=b.lc();b.sc("tabs",e.relatedItemTabs)}}let w=(()=>{class e{constructor(e,t,i,n,s,a,o){this.formService=e,this.exceptionService=t,this.filterService=i,this.objectDetailsService=n,this.sdaTranslateService=s,this.changeDetection=a,this.configService=o,this.relatedItemTabs=[],this.initialized=!1,this.OBJECT_DETAILS_LOADING=this.sdaTranslateService.get("OBJECT_DETAILS_LOADING","Loading object details, please wait..."),this.OBJECT_DETAILS_ERROR=this.sdaTranslateService.get("INITIALISATION_ERROR","An error occurred whilst initializing"),this.showTodoListForm=!1}ngOnChanges(){this.getFormSubscription&&this.getFormSubscription.unsubscribe(),this.buildForm()}ngOnDestroy(){this.getFormSubscription&&this.getFormSubscription.unsubscribe()}buildForm(){try{this.id&&this.config&&(this.initialized=!1,this.getFormSubscription=this.formService.getForm(this.id,this.config,this.methodOBID,this.showTodoListForm).pipe(Object(s.a)(1)).subscribe(e=>{this.relatedItemTabs=[];const t=this.formService.filterDisplayItemsByDisplayType(e,"RelationshipMaintenance"),{filteredItems:i=[]}=t,s=Object(n.a)(t,["filteredItems"]);this.form=s,this.generateGridTabs(i),this.initialized=!0,this.changeDetection.detectChanges()}))}catch(e){const t=new o.a(e,this.OBJECT_DETAILS_ERROR,"ObjectDetailsComponent","buildForm");this.exceptionService.handleException(t)}}generateGridTabs(e){e.forEach(e=>{const t=e.navigation?new u.a(e.name,`Objects('${e.obid}')/${e.navigation}?$count=true`,this.config,void 0,e.obid,e.navigation):new u.a(e.name,void 0,this.config);t.isRowSelectable=!0,t.config=this.config,t.onCellClicked=e=>this.routeToDetailsView(e),this.relatedItemTabs.push(t)})}routeToDetailsView(e){this.objectDetailsService.showObjectDetailsForm(this.filterService.createLinkOdataQueryFilter(this.getDataSource(e),e.parentTab.parentOBID,e.parentTab.parentRelDef,void 0),e.object.OBID,this.configService.selectedQueryConfigs,e.parentTab.columnSetUID)}getDataSource(e){const t=new kendo.data.DataSource,i=new l.a,n=[new c.a(e.parentTab.state.sort[0].field,e.parentTab.state.sort[0].dir)];return t.filter(i),t.page=()=>e.parentTab.currentPageNumber,t.sort=()=>n,t}}return e.\u0275fac=function(t){return new(t||e)(b.Sb(p.a),b.Sb(r.a),b.Sb(h.a),b.Sb(m.a),b.Sb(d.a),b.Sb(b.h),b.Sb(a.a))},e.\u0275cmp=b.Mb({type:e,selectors:[["sda-object-details"]],inputs:{id:"id",config:"config",methodOBID:"methodOBID",showTodoListForm:"showTodoListForm"},features:[b.Cb],decls:3,vars:3,consts:[[3,"message","centered",4,"ngIf"],["class","object-details",3,"object-details--fixed-height",4,"ngIf"],[3,"tabs",4,"ngIf"],[3,"message","centered"],[1,"object-details"],[3,"form","isEditable"],[3,"tabs"]],template:function(e,t){1&e&&(b.Sc(0,S,1,2,"sda-loading-indicator",0),b.Sc(1,z,2,4,"div",1),b.Sc(2,_,1,1,"sda-related-items-section",2)),2&e&&(b.sc("ngIf",!t.initialized),b.Eb(1),b.sc("ngIf",t.initialized),b.Eb(1),b.sc("ngIf",t.initialized&&t.relatedItemTabs.length>0))},directives:[g.t,f.a,v.a,x.a],styles:[".object-details[_ngcontent-%COMP%]{overflow-x:hidden;overflow-y:auto}[_nghost-%COMP%]{display:flex;flex:1;flex-direction:column;height:100%}.object-details[_ngcontent-%COMP%]{display:flex;flex:1 1 100%;flex-direction:column;border-bottom:1px solid #cad0d7}"]}),e})()},"+qkj":function(e,t,i){"use strict";i.d(t,"a",(function(){return r}));var n=i("Ejbi"),s=i("fXoL"),a=i("7EHt"),o=i("HXFx");let r=(()=>{class e{constructor(e){this.sdaTranslateService=e,this.FORM_RELATED_ITEMS=this.sdaTranslateService.get("FORM_RELATED_ITEMS","Related Items")}}return e.\u0275fac=function(t){return new(t||e)(s.Sb(n.a))},e.\u0275cmp=s.Mb({type:e,selectors:[["sda-related-items-section"]],inputs:{tabs:"tabs"},decls:6,vars:5,consts:[["displayMode","flat"],[1,"related-items-panel",3,"expanded"],["collapsedHeight","38px","expandedHeight","38px"],[3,"tabs","openInfoMapInNewTab","showItemCount"]],template:function(e,t){1&e&&(s.Yb(0,"mat-accordion",0),s.Yb(1,"mat-expansion-panel",1),s.Yb(2,"mat-expansion-panel-header",2),s.Yb(3,"mat-panel-title"),s.Uc(4),s.Xb(),s.Xb(),s.Tb(5,"sda-tabbed-grid-view",3),s.Xb(),s.Xb()),2&e&&(s.Eb(1),s.sc("expanded",!0),s.Eb(3),s.Wc(" ",t.FORM_RELATED_ITEMS," "),s.Eb(1),s.sc("tabs",t.tabs)("openInfoMapInNewTab",!0)("showItemCount",!0))},directives:[a.a,a.c,a.g,a.h,o.a],styles:[".related-items-panel[_ngcontent-%COMP%]{border-radius:0!important;box-shadow:none!important}.related-items-panel.mat-expanded[_ngcontent-%COMP%]{overflow:visible;-webkit-animation:delay-overflow 1s;animation:delay-overflow 1s}.related-items-panel[_ngcontent-%COMP%]   mat-expansion-panel-header[_ngcontent-%COMP%]{background-color:#ebedf0!important}.related-items-panel[_ngcontent-%COMP%]     .mat-expansion-panel-body{padding:0}.related-items-panel[_ngcontent-%COMP%]     sda-tabbed-grid-view{flex:none;height:auto}.related-items-panel[_ngcontent-%COMP%]     sda-tabbed-grid-view mat-tab-group{height:40vh;min-height:250px;border-top:1px solid #cad0d7}"]}),e})()},Cy33:function(e,t,i){"use strict";i.d(t,"a",(function(){return n}));var n=function(e){return e[e.Left=0]="Left",e[e.Right=1]="Right",e[e.Up=2]="Up",e[e.Down=3]="Down",e}({})},K9v4:function(e,t,i){"use strict";i.d(t,"a",(function(){return E}));var n=i("ofXK"),s=i("3Pt+"),a=i("tyNb"),o=i("F+hv"),r=i("txXS"),h=i("Tfoa"),c=i("uD/B"),d=i("BLqR"),l=i("+T9e"),u=i("fXoL"),p=i("TLn4"),m=i("ue3H"),b=i("qx4N"),g=i("+qkj"),f=i("RY2J"),v=i("HDO1"),x=i("4dwF"),S=i("dLJk"),z=i("F8dI"),_=i("rrPm"),w=i("8OmR"),T=i("ltBE"),P=i("XwBL");let R=(()=>{class e{transform(e){return P.a.replaceUnderscore(e)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275pipe=u.Rb({name:"sdaFormatEntityType",type:e,pure:!0}),e})();var I=i("7Ihv");let E=(()=>{class e{}return e.\u0275mod=u.Qb({type:e}),e.\u0275inj=u.Pb({factory:function(t){return new(t||e)},imports:[[n.c,s.j,r.a,a.k,o.a,c.a,h.a]]}),e})();u.Nc(d.a,[n.q,n.r,n.s,n.t,n.A,n.w,n.x,n.y,n.z,n.u,n.v,s.F,s.u,s.E,s.c,s.v,s.y,s.a,s.B,s.C,s.x,s.p,s.q,s.A,s.l,s.k,s.w,s.b,s.d,s.s,s.t,s.r,a.l,a.h,a.j,a.i,a.n,p.a,m.a,b.a,g.a,l.a,d.a],[n.b,n.G,n.p,n.k,n.E,n.g,n.C,n.F,n.d,n.f,n.i,n.j,n.l,f.a,v.a,x.a,S.a,z.a,_.a,w.a,T.a,R,I.a])},ZLgS:function(e,t,i){"use strict";i.d(t,"a",(function(){return b})),i("yLV6");var n=i("fXoL"),s=i("Qu3c"),a=i("xgIS"),o=i("2ufx"),r=i("Ejbi"),h=i("Cy33");let c=(()=>{class e{constructor(){this.currentWidth=500,this.latestXPosition=0,this.masterMaxWidth=500,this.APP_SIDE_BAR_WIDTH=44,this.RESIZE_BAR_HANDLE_WIDTH=40,this.currentHeight=500,this.latestYPosition=0,this.masterMaxHeight=500,this.APP_TOP_BAR_HEIGHT=56}setDefaultValues(e,t,i,n){this.orientation=e,this.isVerticalResizing=this.orientation===h.a.Left||this.orientation===h.a.Right,this.isHorizontalResizing=this.orientation===h.a.Up||this.orientation===h.a.Down,this.isVerticalResizing?(this.iconName="overflow",this.currentWidth=t,this.masterMaxWidth=n,this.defaultWidth=t,this.minWidth=i,this.maxWidth=n):(this.iconName="ellipsis",this.currentHeight=t,this.masterMaxHeight=n,this.defaultHeight=t,this.minHeight=i,this.maxHeight=n,this.minHeight+=this.APP_TOP_BAR_HEIGHT,this.maxHeight-=this.APP_TOP_BAR_HEIGHT)}resetDefaultValues(e){this.isVerticalResizing&&(this.currentWidth>e.target.innerWidth-this.APP_SIDE_BAR_WIDTH-this.RESIZE_BAR_HANDLE_WIDTH?(this.maxWidth=e.target.innerWidth-this.APP_SIDE_BAR_WIDTH-this.RESIZE_BAR_HANDLE_WIDTH,this.currentWidth=this.maxWidth):this.masterMaxWidth>this.maxWidth&&(this.maxWidth=this.masterMaxWidth))}autoResize(){this.isVerticalResizing?this.currentWidth=this.currentWidth<this.maxWidth?this.maxWidth:this.minWidth:this.currentHeight=this.currentHeight<this.maxHeight?this.maxHeight:this.minHeight}setLatestXYCoordinates(e){this.latestXPosition=this.getLatestXYValues(e)[0],this.latestYPosition=this.getLatestXYValues(e)[1]}applyResizing(e,t,i=0){const n=this.getLatestXYValues(e)[0],s=this.getLatestXYValues(e)[1];switch(this.orientation){case h.a.Right:this.calculateWidthForRightHandSide(n,t);break;case h.a.Left:this.calculateWidthForLeftHandSide(n,i);break;case h.a.Up:this.calculateHeightForUp(s,t)}}getLatestXYValues(e){return e instanceof MouseEvent?[e.clientX,e.clientY]:e instanceof TouchEvent&&e.targetTouches&&e.targetTouches.length?[e.targetTouches[0].clientX,e.targetTouches[0].clientY]:[0,0]}calculateWidthForLeftHandSide(e,t){const i=e;(e-=t)<this.minWidth?this.currentWidth=this.minWidth:e>=this.minWidth&&e<=this.maxWidth?(this.currentWidth+=i-this.latestXPosition,this.latestXPosition=i):e>this.maxWidth&&(this.currentWidth=this.maxWidth)}calculateWidthForRightHandSide(e,t){const i=window.innerWidth;e>i-this.minWidth?this.currentWidth=this.minWidth:e<i-this.minWidth&&e>i-this.maxWidth?(this.currentWidth-=e-this.latestXPosition,this.latestXPosition=e):e<i-this.maxWidth&&(this.currentWidth=this.maxWidth)}calculateHeightForUp(e,t){e<this.minHeight?this.currentHeight=this.maxHeight:e>=this.minHeight&&e<=this.maxHeight?(this.currentHeight-=e-this.latestYPosition,this.latestYPosition=e):e>this.maxHeight&&(this.currentHeight=this.minHeight)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=n.Ob({token:e,factory:e.\u0275fac}),e})();var d=i("ofXK"),l=i("NFeN");function u(e,t){if(1&e){const e=n.Zb();n.Yb(0,"div",3),n.hc("mousedown",(function(t){return n.Kc(e),n.lc().startResize(t)}))("touchstart",(function(t){return n.Kc(e),n.lc().startResize(t)}))("tap",(function(t){return n.Kc(e),n.lc().autoResize(t)})),n.Tb(1,"mat-icon",4),n.Xb()}if(2&e){const e=n.lc();n.Ib("resize-panel__handle--inverse",1===e.orientation||2===e.orientation)("resize-panel__handle--horizontal",e.resizePanelService.isHorizontalResizing)("resize-panel__handle--vertical",e.resizePanelService.isVerticalResizing),n.sc("matTooltip",e.RESIZE_PANEL_TOOLTIP)("matTooltipShowDelay",500)("matTooltipHideDelay",5e3)("matTooltipPosition","right")("matTooltipDisabled",!e.hideContent),n.Eb(1),n.Ib("resize-panel__icon--horizontal",e.resizePanelService.isHorizontalResizing),n.sc("svgIcon",e.resizePanelService.iconName)}}const p=[[["",8,"sda-resize-panel-content"]]],m=[".sda-resize-panel-content"];let b=(()=>{class e{constructor(e,t,i,s,a){this.documentService=e,this.changeDetect=t,this.ef=i,this.sdaTranslateService=s,this.resizePanelService=a,this.defaultValue=500,this.minValue=0,this.maxValue=500,this.orientation=h.a.Left,this.resizable=!0,this.onResized=new n.o,this.hideContent=!1,this.RESIZE_PANEL_TOOLTIP=this.sdaTranslateService.get("RESIZE_PANEL_TOOLTIP","Double click or drag to restore the panel"),this.isGrabbed=!1,this.MIN_DEFAULT_VIEWABLE_WIDTH=50}ngOnInit(){this.resizePanelService.setDefaultValues(this.orientation,this.defaultValue,this.minValue,this.maxValue),this.emitResizedValue()}resetMinValue(e){this.resizePanelService.isVerticalResizing&&(this.resizePanelService.minWidth=e)}onResize(e){this.resizePanelService.resetDefaultValues(e),this.emitResizedValue()}startResize(e){e.preventDefault(),this.isGrabbed=!0,this.resizePanelService.setLatestXYCoordinates(e),this.mouseMoveSubscription$=Object(a.a)(this.documentService.Document,"mousemove").subscribe(e=>this.widthResizing(e)),this.mouseUpSubscription$=Object(a.a)(this.documentService.Document,"mouseup").subscribe(e=>this.blockResize(e)),this.touchStartSubscription$=Object(a.a)(this.documentService.Document,"touchmove",{passive:!1}).subscribe(e=>this.widthResizing(e)),this.touchEndSubscription$=Object(a.a)(this.documentService.Document,"touchend",{passive:!1}).subscribe(e=>this.blockResize(e))}autoResize(e){e&&"tap"===e.type&&2===e.tapCount&&(this.resizePanelService.autoResize(),this.hideShowContent())}getResizePanelWidth(){return this.resizePanelService.isVerticalResizing&&this.resizePanelService.currentWidth?this.resizePanelService.currentWidth.toString()+"px":"100%"}getResizePanelHeight(){return this.resizePanelService.isHorizontalResizing&&this.resizePanelService.currentHeight?this.resizePanelService.currentHeight.toString()+"px":"100%"}emitResizedValue(){this.panelWidth=this.getResizePanelWidth(),this.panelHeight=this.getResizePanelHeight(),this.onResized.emit(this.resizePanelService.currentWidth/this.resizePanelService.maxWidth*100)}widthResizing(e){const t=this.documentService.Document.querySelector(".content-menu--open");let i=0;if(t){const e=getComputedStyle(t);i=parseInt(e.width,10)}e.preventDefault(),this.isGrabbed&&this.resizePanelService.applyResizing(e,this.ef,i)}hideShowContent(){this.hideContent=this.resizePanelService.currentWidth<this.MIN_DEFAULT_VIEWABLE_WIDTH,this.hideContent&&(this.resizePanelService.currentWidth=0,this.changeDetect.detectChanges(),this.tooltip.show()),this.emitResizedValue()}blockResize(e){this.isGrabbed=!1,this.mouseMoveSubscription$&&this.mouseMoveSubscription$.unsubscribe(),this.mouseUpSubscription$&&this.mouseUpSubscription$.unsubscribe(),this.touchStartSubscription$&&this.touchStartSubscription$.unsubscribe(),this.touchEndSubscription$&&this.touchEndSubscription$.unsubscribe(),this.hideShowContent()}}return e.\u0275fac=function(t){return new(t||e)(n.Sb(o.a),n.Sb(n.h),n.Sb(n.l),n.Sb(r.a),n.Sb(c))},e.\u0275cmp=n.Mb({type:e,selectors:[["sda-resize-panel"]],viewQuery:function(e,t){var i;1&e&&n.bd(s.a,!0),2&e&&n.Gc(i=n.ic())&&(t.tooltip=i.first)},hostBindings:function(e,t){1&e&&n.hc("resize",(function(e){return t.onResize(e)}),!1,n.Jc)},inputs:{defaultValue:"defaultValue",minValue:"minValue",maxValue:"maxValue",orientation:"orientation",resizable:"resizable"},outputs:{onResized:"onResized"},features:[n.Db([c])],ngContentSelectors:m,decls:4,vars:10,consts:[[1,"resize-panel"],[1,"resize-panel__content",3,"hidden"],["class","resize-panel__handle",3,"matTooltip","matTooltipShowDelay","matTooltipHideDelay","matTooltipPosition","matTooltipDisabled","resize-panel__handle--inverse","resize-panel__handle--horizontal","resize-panel__handle--vertical","mousedown","touchstart","tap",4,"ngIf"],[1,"resize-panel__handle",3,"matTooltip","matTooltipShowDelay","matTooltipHideDelay","matTooltipPosition","matTooltipDisabled","mousedown","touchstart","tap"],[1,"resize-panel__icon",3,"svgIcon"]],template:function(e,t){1&e&&(n.rc(p),n.Yb(0,"div",0),n.Yb(1,"div",1),n.qc(2),n.Xb(),n.Sc(3,u,2,14,"div",2),n.Xb()),2&e&&(n.Ib("resize-panel--vertical",t.resizePanelService.isVerticalResizing)("resize-panel--horizontal",t.resizePanelService.isHorizontalResizing),n.Eb(1),n.Rc("width",t.panelWidth)("height",t.panelHeight),n.sc("hidden",t.hideContent),n.Eb(2),n.sc("ngIf",t.resizable))},directives:[d.t,s.a,l.a],styles:[".resize-panel__content[_ngcontent-%COMP%]{overflow-x:hidden;overflow-y:auto}[_nghost-%COMP%]{display:flex;flex:0 auto;height:100%;background-color:#fff}.resize-panel[_ngcontent-%COMP%]{display:flex;transition:width .25s linear}.resize-panel--vertical[_ngcontent-%COMP%]{width:auto;height:100%}.resize-panel--horizontal[_ngcontent-%COMP%]{flex-direction:column;width:100%}.resize-panel__content[_ngcontent-%COMP%], .resize-panel__handle[_ngcontent-%COMP%]{display:flex;height:100%}.resize-panel__handle[_ngcontent-%COMP%]{flex-shrink:0;flex-direction:column;align-items:center;justify-content:center;background-color:#cad0d7;width:10px;color:#515e6b;cursor:col-resize}.resize-panel__handle--horizontal[_ngcontent-%COMP%]{cursor:row-resize;width:100%;height:10px}@media (max-width:850px),(min-device-width:1024px) and (max-device-width:1024px) and (min-device-height:768px) and (max-device-height:768px) and (min-width:1024px) and (max-width:1024px),(min-device-width:1366px) and (max-device-width:1366px) and (min-device-height:1024px) and (max-device-height:1024px) and (min-width:1366px) and (max-width:1366px),only screen and (min-device-width:1024px) and (max-device-width:1024px) and (min-device-height:1366px) and (max-device-height:1366px) and (min-width:1024px) and (max-width:1024px){.resize-panel__handle--horizontal[_ngcontent-%COMP%]{height:30px}}@media (max-width:850px),(min-device-width:1024px) and (max-device-width:1024px) and (min-device-height:768px) and (max-device-height:768px) and (min-width:1024px) and (max-width:1024px),(min-device-width:1366px) and (max-device-width:1366px) and (min-device-height:1024px) and (max-device-height:1024px) and (min-width:1366px) and (max-width:1366px),only screen and (min-device-width:1024px) and (max-device-width:1024px) and (min-device-height:1366px) and (max-device-height:1366px) and (min-width:1024px) and (max-width:1024px){.resize-panel__handle--vertical[_ngcontent-%COMP%]{width:30px}}.resize-panel__handle--inverse[_ngcontent-%COMP%]{order:-1}.resize-panel__icon[_ngcontent-%COMP%]{width:20px;height:20px}.resize-panel__icon--horizontal[_ngcontent-%COMP%]{height:auto}"]}),e})()},d74k:function(e,t,i){"use strict";i.d(t,"a",(function(){return n}));class n{constructor(e,t){this.field=e,this.dir=t}}},ltBE:function(e,t,i){"use strict";i.d(t,"a",(function(){return s}));var n=i("fXoL");let s=(()=>{class e{transform(e,t,i){return e?i?e.filter(e=>e[t].toLowerCase().includes(i.toLowerCase())):e:[]}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275pipe=n.Rb({name:"sdaFilter",type:e,pure:!0}),e})()},vIto:function(e,t,i){"use strict";i.d(t,"a",(function(){return r}));var n=i("ofXK"),s=i("NFeN"),a=i("Qu3c"),o=i("fXoL");let r=(()=>{class e{}return e.\u0275mod=o.Qb({type:e}),e.\u0275inj=o.Pb({factory:function(t){return new(t||e)},imports:[[n.c,a.b,s.b]]}),e})()}}]);