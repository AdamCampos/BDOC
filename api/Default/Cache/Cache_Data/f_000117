(window.webpackJsonp=window.webpackJsonp||[]).push([[20],{"/1N2":function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var i=n("ofXK"),o=n("3Pt+"),s=n("ZI9S"),c=n("fXoL");let a=(()=>{class e{}return e.\u0275mod=c.Qb({type:e}),e.\u0275inj=c.Pb({factory:function(t){return new(t||e)},imports:[[i.c,o.j,s.a]]}),e})()},"4g2b":function(e,t,n){"use strict";n.d(t,"a",(function(){return d}));var i=n("fXoL"),o=n("Ejbi"),s=n("C8de"),c=n("PqRi"),a=n("ofXK"),l=n("QIK8");function r(e,t){if(1&e){const e=i.Zb();i.Yb(0,"sda-form-display-line",1),i.hc("valueChanged",(function(t){return i.Kc(e),i.lc().onValueChanged(t)})),i.Xb()}if(2&e){const e=t.$implicit,n=i.lc();i.sc("line",e)("editable",n.editable)}}let d=(()=>{class e{constructor(e,t){this.sdaTranslateService=e,this.ensItemService=t,this.formValueChanged=new i.o}onValueChanged(e){setTimeout(()=>{let t=parseInt(e.Value,10);t<1&&("ENSNoToCreate"===e.UID?(e.Value="1",t=1):e.Value="0"),"ENSNoToCreate"===e.UID&&t?this.ensItemService.parseENSNumberToCreate(t):this.formValueChanged.emit(e)})}ngOnChanges(e){if(e.formSection&&this.formSection&&0===this.formSection.FormDisplayLines.length){const e={FormDisplayItems:[{DisplayName:this.sdaTranslateService.get("ENS_SEQUENCE_NUMBER","ENS Start Sequence"),DisplayType:s.a.INT_TYPE,UID:"ENSSequence",Value:""},{DisplayName:this.sdaTranslateService.get("ENS_NUMBER_TO_CREATE","Number To Create"),DisplayType:s.a.INT_TYPE,UID:"ENSNoToCreate",Value:"1",PictureProperty:"ENS"}]};this.formSection.FormDisplayLines.push(e)}}}return e.\u0275fac=function(t){return new(t||e)(i.Sb(o.a),i.Sb(c.a))},e.\u0275cmp=i.Mb({type:e,selectors:[["sda-ens-form-section"]],inputs:{formSection:"formSection",editable:"editable"},outputs:{formValueChanged:"formValueChanged"},features:[i.Cb],decls:1,vars:1,consts:[[3,"line","editable","valueChanged",4,"ngFor","ngForOf"],[3,"line","editable","valueChanged"]],template:function(e,t){1&e&&i.Sc(0,r,1,2,"sda-form-display-line",0),2&e&&i.sc("ngForOf",t.formSection.FormDisplayLines)},directives:[a.s,l.a],encapsulation:2}),e})()},"57Ap":function(e,t,n){"use strict";n.d(t,"a",(function(){return h}));var i=n("ofXK"),o=n("3Pt+"),s=n("7EHt"),c=n("inpI"),a=n("ryGf"),l=n("EYRx"),r=n("/1N2"),d=n("fXoL");let h=(()=>{class e{}return e.\u0275mod=d.Qb({type:e}),e.\u0275inj=d.Pb({factory:function(t){return new(t||e)},imports:[[i.c,o.j,s.b,l.a,r.a,c.a,a.a]]}),e})()},"6s0W":function(e,t,n){"use strict";n.d(t,"a",(function(){return C}));var i=n("FvrZ"),o=n("fXoL"),s=n("5mBa"),c=n("Ejbi"),a=n("YlGB"),l=n("ofXK"),r=n("8yBR"),d=n("bSwM"),h=n("bTqV"),p=n("NFeN");const f=["mattree"];function u(e,t){if(1&e){const e=o.Zb();o.Yb(0,"mat-checkbox",6),o.hc("change",(function(){return o.Kc(e),o.lc().OnSelectAll()})),o.Uc(1),o.Xb()}if(2&e){const e=o.lc();o.sc("checked",e.selectAll),o.Eb(1),o.Vc(e.selectAllConfigText)}}function b(e,t){if(1&e){const e=o.Zb();o.Yb(0,"mat-tree-node",7),o.Yb(1,"li",8),o.Tb(2,"button",9),o.Yb(3,"mat-checkbox",10),o.hc("change",(function(){o.Kc(e);const n=t.$implicit;return o.lc().onDocumentConfigurationChangechb(n)})),o.Xb(),o.Uc(4),o.Xb(),o.Xb()}if(2&e){const e=t.$implicit,n=o.lc();o.Eb(3),o.sc("disabled",!!n.showConfigStatusFilters&&(!e.data.canUserSelectConfig||!n.configsStatusFilter.includes(e.data.status))||n.treeSelectionReadOnly)("checked",n.allowMultipleConfigSelection?n.selectAll:e.data.configUID===n.selectedConfig),o.Eb(1),o.Wc(" ",e.data.name," ")}}function m(e,t){if(1&e){const e=o.Zb();o.Yb(0,"mat-nested-tree-node"),o.Yb(1,"li"),o.Yb(2,"div",8),o.Yb(3,"button",11),o.Tb(4,"mat-icon",12),o.Xb(),o.Yb(5,"mat-checkbox",13),o.hc("change",(function(){o.Kc(e);const n=t.$implicit;return o.lc().onDocumentConfigurationChangechb(n)})),o.Xb(),o.Uc(6),o.Xb(),o.Yb(7,"ul",14),o.Ub(8,15),o.Xb(),o.Xb(),o.Xb()}if(2&e){const e=t.$implicit,n=o.lc();o.Eb(3),o.Fb("aria-label","toggle "+e),o.Eb(1),o.tc("svgIcon",n.nestedTreeControl.isExpanded(e)?"chevron-down":"chevron-right"),o.Eb(1),o.sc("disabled",!!n.showConfigStatusFilters&&(!e.data.canUserSelectConfig||!n.configsStatusFilter.includes(e.data.status))||n.treeSelectionReadOnly)("checked",n.allowMultipleConfigSelection?n.selectAll:e.data.configUID===n.selectedConfig),o.Eb(1),o.Wc(" ",e.data.name," "),o.Eb(1),o.Ib("tree-child--invisible",!n.nestedTreeControl.isExpanded(e))}}function g(e,t){if(1&e){const e=o.Zb();o.Yb(0,"mat-checkbox",20,21),o.hc("change",(function(){o.Kc(e);const n=t.$implicit;return o.lc(2).onConfigStatusFilterChangechb(n)})),o.Uc(2),o.Xb()}if(2&e){const e=t.$implicit,n=o.lc(2);o.sc("checked",e.Name===n.DEFAULT_CONFIGURATION_STATUS_FILTER),o.Eb(2),o.Vc(e.Name)}}function _(e,t){if(1&e&&(o.Yb(0,"div",16),o.Yb(1,"div",17),o.Uc(2),o.Xb(),o.Yb(3,"div",18),o.Sc(4,g,3,2,"mat-checkbox",19),o.Xb(),o.Xb()),2&e){const e=o.lc();o.Eb(2),o.Vc(e.CONFIG_STATUS_FILTER_HEADER),o.Eb(2),o.sc("ngForOf",e.configurationStatusInput)}}let C=(()=>{class e extends s.a{constructor(e,t,n){super(),this.sdaTranslateService=e,this.changedetection=t,this.configTreeService=n,this.allowMultipleConfigSelection=!0,this.showConfigStatusFilters=!1,this.preExpandedTree=!1,this.configurationStatusInput=[],this.treeSelectionReadOnly=!1,this.configFiterValuesChange=new o.o,this.selectAll=!1,this.selectAllConfigText=this.sdaTranslateService.get("ALL","All"),this.CONFIG_STATUS_FILTER_HEADER=this.sdaTranslateService.get("CONFIG_STATUS_FILTER_HEADER","Status Filters"),this.DEFAULT_CONFIGURATION_STATUS_FILTER=this.sdaTranslateService.get("DEFAULT_CONFIGURATION_STATUS_FILTER","Active"),this.configurationStatus=[],this.configsStatusFilter=[this.DEFAULT_CONFIGURATION_STATUS_FILTER],this.selectedConfigs=[],this.selectedConfig="",this.configUIDsList=[],this.hasNestedChild=(e,t)=>!!t.children&&t.children.length>0,this.getChildren=e=>e.children}ngOnInit(){this.nestedTreeControl=new i.k(this.getChildren),this.field.selectedItem?(this.selectedConfig=this.field.selectedItem,this.treeSelectionReadOnly=!0):this.field.selectedValue&&(this.selectedConfig=this.field.selectedValue,this.selectedConfigs=[this.selectedConfig]),this.initializeComponent()}ngAfterViewInit(){this.preExpandedTree&&(this.tree.treeControl.dataNodes=this.nestedDataSourceInput.data,this.tree.treeControl.expandAll(),this.changedetection.detectChanges())}OnSelectAll(){!1!==this.allowMultipleConfigSelection&&(this.selectAll=!this.selectAll,this.selectAll?(0===this.configUIDsList.length&&this.fillConfigUIDs(this.nestedDataSourceInput.data),this.selectedConfigs=[],this.configUIDsList.forEach(e=>{this.selectedConfigs.push(e)})):this.selectedConfigs=[],this.configTreeService.updateSelectedConfigs(this.selectedConfigs.join(";")))}onDocumentConfigurationChangechb(e){const t=this.selectedConfigs.indexOf(e.data.configUID);-1===t?this.selectedConfigs.push(e.data.configUID):this.selectedConfigs.splice(t,1),this.allowMultipleConfigSelection?this.selectedConfig=this.selectedConfigs.join(";"):(this.selectedConfigs=[],-1===t?(this.selectedConfig=e.data.configUID,this.field.Value=e.data.obid,this.selectedConfigs.push(this.selectedConfig)):this.selectedConfig=""),this.field.selectedValue=this.selectedConfig,this.configTreeService.updateSelectedConfigs(this.selectedConfig)}onConfigStatusFilterChangechb(e){const t=this.configsStatusFilter.indexOf(e.Name);-1===t?this.configsStatusFilter.push(e.Name):this.configsStatusFilter.splice(t,1),this.configFiterValuesChange.emit(this.configsStatusFilter),this.selectedConfigs=[],this.selectedConfig="",this.field.selectedValue=this.selectedConfig,this.configTreeService.updateSelectedConfigs(this.selectedConfig)}fillConfigUIDs(e){e.forEach(e=>{this.configUIDsList.push(e.data.configUID),e.children.length>0&&this.fillConfigUIDs(e.children)})}}return e.\u0275fac=function(t){return new(t||e)(o.Sb(c.a),o.Sb(o.h),o.Sb(a.a))},e.\u0275cmp=o.Mb({type:e,selectors:[["sda-config-tree"]],viewQuery:function(e,t){var n;1&e&&o.bd(f,!0),2&e&&o.Gc(n=o.ic())&&(t.tree=n.first)},inputs:{allowMultipleConfigSelection:"allowMultipleConfigSelection",showConfigStatusFilters:"showConfigStatusFilters",preExpandedTree:"preExpandedTree",nestedDataSourceInput:"nestedDataSourceInput",configurationStatusInput:"configurationStatusInput",treeSelectionReadOnly:"treeSelectionReadOnly"},outputs:{configFiterValuesChange:"configFiterValuesChange"},features:[o.Bb],decls:6,vars:7,consts:[["class","tree-select-all",3,"checked","change",4,"ngIf"],[3,"dataSource","treeControl"],["mattree",""],["matTreeNodeToggle","",4,"matTreeNodeDef"],[4,"matTreeNodeDef","matTreeNodeDefWhen"],["class","status-filters",4,"ngIf"],[1,"tree-select-all",3,"checked","change"],["matTreeNodeToggle",""],[1,"mat-tree-node"],["mat-icon-button","","disabled",""],[1,"checklist-leaf-node","tree-node__checkbox",3,"disabled","checked","change"],["mat-icon-button","","matTreeNodeToggle",""],[1,"tree-node-icon",3,"svgIcon"],[1,"tree-node__checkbox",3,"disabled","checked","change"],[1,"tree-child"],["matTreeNodeOutlet",""],[1,"status-filters"],[1,"status-filters__header"],[1,"status-filters__list"],["class","status-filters__checkbox",3,"checked","change",4,"ngFor","ngForOf"],[1,"status-filters__checkbox",3,"checked","change"],["statuscb",""]],template:function(e,t){1&e&&(o.Sc(0,u,2,2,"mat-checkbox",0),o.Yb(1,"mat-tree",1,2),o.Sc(3,b,5,3,"mat-tree-node",3),o.Sc(4,m,9,7,"mat-nested-tree-node",4),o.Xb(),o.Sc(5,_,5,2,"div",5)),2&e&&(o.sc("ngIf",t.allowMultipleConfigSelection),o.Eb(1),o.Ib("mat-tree--margins",!t.allowMultipleConfigSelection),o.sc("dataSource",t.nestedDataSourceInput)("treeControl",t.nestedTreeControl),o.Eb(3),o.sc("matTreeNodeDefWhen",t.hasNestedChild),o.Eb(1),o.sc("ngIf",t.showConfigStatusFilters))},directives:[l.t,r.b,r.h,d.a,r.g,r.k,h.a,r.a,p.a,r.i,l.s],styles:[".status-filters__checkbox[_ngcontent-%COMP%]  .mat-checkbox-label{overflow:hidden;white-space:nowrap;text-overflow:ellipsis}[_nghost-%COMP%]{display:flex;flex:1;flex-direction:column;width:300px}[_nghost-%COMP%]     .mat-tree-node{min-height:34px}[_nghost-%COMP%]     .mat-checkbox .mat-checkbox-frame{border-color:#cad0d7}[_nghost-%COMP%]     .mat-checkbox-disabled{opacity:.5;pointer-events:none;cursor:not-allowed;-webkit-user-select:none;-ms-user-select:none;user-select:none}[_nghost-%COMP%]     .mat-tree{margin:0}[_nghost-%COMP%]     .mat-tree--margins{margin:0 16px}.tree-select-all[_ngcontent-%COMP%]{margin:10px 16px 8px 0}.tree-node-icon[_ngcontent-%COMP%]{width:18px;height:18px;color:#697a8b}.tree-child[_ngcontent-%COMP%]{padding-left:25px}.tree-child--invisible[_ngcontent-%COMP%]{display:none}.tree-node__checkbox[_ngcontent-%COMP%]{margin:0 10px}.status-filters[_ngcontent-%COMP%]{padding-top:5px}.status-filters__header[_ngcontent-%COMP%]{display:flex;align-items:center;height:40px;padding:0 16px;background-color:#ebedf0;font-size:16px}.status-filters__list[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;padding:8px 0}.status-filters__checkbox[_ngcontent-%COMP%]{width:20%;padding:0 16px 10px;align-items:center}@media screen and (max-width:33.0625em){.status-filters__checkbox[_ngcontent-%COMP%]{width:100%}}@media screen and (min-width:33.125em) and (max-width:59.3125em){.status-filters__checkbox[_ngcontent-%COMP%]{width:50%}}@media screen and (min-width:59.375em) and (max-width:74.9375em){.status-filters__checkbox[_ngcontent-%COMP%]{width:33.333%}}.status-filters__checkbox[_ngcontent-%COMP%]  .mat-checkbox-label, .status-filters__checkbox[_ngcontent-%COMP%]  .mat-checkbox-layout{width:100%}"]}),e})()},"819/":function(e,t,n){"use strict";n.d(t,"a",(function(){return g}));var i=n("fXoL"),o=n("zHoD"),s=n("PqRi"),c=n("7EHt"),a=n("ofXK"),l=n("Zldc"),r=n("V3wY"),d=n("ME6W"),h=n("4g2b");function p(e,t){if(1&e){const e=i.Zb();i.Yb(0,"sda-form-section",7),i.hc("formValueChanged",(function(t){return i.Kc(e),i.lc(2).onFormValueChanged(t)})),i.Xb()}if(2&e){const e=i.lc().$implicit,t=i.lc();i.sc("formSection",e)("editable",t.editable)}}function f(e,t){if(1&e){const e=i.Zb();i.Yb(0,"sda-revision-scheme-form-section",8),i.hc("formValueChanged",(function(t){return i.Kc(e),i.lc(2).onFormValueChanged(t)})),i.Xb()}if(2&e){const e=i.lc().$implicit,t=i.lc();i.sc("formPurpose",t.formPurpose)("formSection",e)("editable",t.editable)}}function u(e,t){if(1&e){const e=i.Zb();i.Yb(0,"sda-file-upload",9),i.hc("filesUploaded",(function(t){return i.Kc(e),i.lc(2).notifyFilesUploaded(t)}))("filesPendingForUpload",(function(t){return i.Kc(e),i.lc(2).notifyFilesPending(t)})),i.Xb()}if(2&e){const e=i.lc().$implicit,t=i.lc();i.sc("disabled",e.Disabled)("uploadMode",t.uploadMode)("displayBrowseButton",!e.Disabled)}}function b(e,t){if(1&e){const e=i.Zb();i.Yb(0,"sda-ens-form-section",7),i.hc("formValueChanged",(function(t){return i.Kc(e),i.lc(2).onFormValueChanged(t)})),i.Xb()}if(2&e){const e=i.lc().$implicit,t=i.lc();i.sc("formSection",e)("editable",t.editable)}}function m(e,t){if(1&e&&(i.Yb(0,"mat-expansion-panel",2),i.Yb(1,"mat-expansion-panel-header",3),i.Yb(2,"mat-panel-title"),i.Uc(3),i.Xb(),i.Xb(),i.Sc(4,p,1,2,"sda-form-section",4),i.Sc(5,f,1,3,"sda-revision-scheme-form-section",5),i.Sc(6,u,1,3,"sda-file-upload",6),i.Sc(7,b,1,2,"sda-ens-form-section",4),i.Xb()),2&e){const e=t.$implicit;i.sc("expanded",!e.CollapseSection)("hidden",e.IsHidden),i.Eb(3),i.Vc(e.DisplayName),i.Eb(1),i.sc("ngIf",!e.RevisionSchemeSection&&!e.FileSection&&!e.ENSSection),i.Eb(1),i.sc("ngIf",e.RevisionSchemeSection),i.Eb(1),i.sc("ngIf",e.FileSection),i.Eb(1),i.sc("ngIf",e.ENSSection)}}let g=(()=>{class e{constructor(e){this.ensService=e,this.editable=!0,this.filesPendingForUpload=new i.o,this.filesUploaded=new i.o,this.formValueChanged=new i.o,this.uploadMode=o.a.None}ngOnInit(){this.formPurpose=this.form.FormPurpose}notifyFilesUploaded(e){this.filesUploaded.emit(e)}notifyFilesPending(e){this.filesPendingForUpload.emit(e)}onFormValueChanged(e){this.formValueChanged.emit(e),(e.ENSItems&&e.ENSItems.length>0||"ENSSequence"===e.UID)&&this.ensService.assignDisplayItemChangedValueToENSItem(e,this.form)}}return e.\u0275fac=function(t){return new(t||e)(i.Sb(s.a))},e.\u0275cmp=i.Mb({type:e,selectors:[["sda-form-control"]],inputs:{form:"form",editable:"editable"},outputs:{filesPendingForUpload:"filesPendingForUpload",filesUploaded:"filesUploaded",formValueChanged:"formValueChanged"},decls:2,vars:1,consts:[["displayMode","flat","multi","true"],[3,"expanded","hidden",4,"ngFor","ngForOf"],[3,"expanded","hidden"],["collapsedHeight","38px","expandedHeight","38px"],[3,"formSection","editable","formValueChanged",4,"ngIf"],[3,"formPurpose","formSection","editable","formValueChanged",4,"ngIf"],[3,"disabled","uploadMode","displayBrowseButton","filesUploaded","filesPendingForUpload",4,"ngIf"],[3,"formSection","editable","formValueChanged"],[3,"formPurpose","formSection","editable","formValueChanged"],[3,"disabled","uploadMode","displayBrowseButton","filesUploaded","filesPendingForUpload"]],template:function(e,t){1&e&&(i.Yb(0,"mat-accordion",0),i.Sc(1,m,8,7,"mat-expansion-panel",1),i.Xb()),2&e&&(i.Eb(1),i.sc("ngForOf",t.form.FormSections))},directives:[c.a,a.s,c.c,c.g,c.h,a.t,l.a,r.a,d.a,h.a],styles:["[_nghost-%COMP%]{overflow-x:hidden;overflow-y:auto}@-webkit-keyframes delay-overflow{0%{overflow:hidden}}@keyframes delay-overflow{0%{overflow:hidden}}[_nghost-%COMP%]{display:flex;flex-direction:column;width:100%;height:100%}[_nghost-%COMP%]     .mat-expansion-panel-body{padding:5px 0!important}[_nghost-%COMP%]   mat-expansion-panel[_ngcontent-%COMP%]{border-radius:0!important;box-shadow:none!important}[_nghost-%COMP%]   mat-expansion-panel.mat-expanded[_ngcontent-%COMP%]{overflow:visible;-webkit-animation:delay-overflow 1s;animation:delay-overflow 1s}[_nghost-%COMP%]   mat-expansion-panel-header[_ngcontent-%COMP%]{background-color:#ebedf0!important}"]}),e})()},EYRx:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var i=n("ofXK"),o=n("3Pt+"),s=n("ZI9S"),c=n("fXoL");let a=(()=>{class e{}return e.\u0275mod=c.Qb({type:e}),e.\u0275inj=c.Pb({factory:function(t){return new(t||e)},imports:[[i.c,o.j,s.a]]}),e})()},QIK8:function(e,t,n){"use strict";n.d(t,"a",(function(){return Ze}));var i=n("fXoL"),o=n("Ejbi"),s=n("C8de"),c=n("ofXK"),a=n("9iV3"),l=n("7Ekh"),r=n("5mBa"),d=n("3Pt+"),h=n("pUSX");function p(e,t){if(1&e&&i.Tb(0,"sda-power-bar-seperator",6),2&e){const e=i.lc(2);i.sc("model",e.powerBarSeperator)}}function f(e,t){if(1&e&&(i.Yb(0,"div",1),i.Yb(1,"div",2),i.Yb(2,"span",3),i.Uc(3),i.Xb(),i.Tb(4,"input",4),i.Xb(),i.Sc(5,p,1,1,"sda-power-bar-seperator",5),i.Xb()),2&e){const e=t.$implicit,n=t.index,o=i.lc();i.Eb(2),i.sc("title",e.ENSItemName),i.Eb(1),i.Vc(e.ENSItemName),i.Eb(1),i.Rc("width",o.calculateDispalyItemSize(e),"px"),i.sc("ngModel",e.Value)("title",e.Value),i.Eb(1),i.sc("ngIf",n<o.field.ENSItems.length-1)}}let u=(()=>{class e extends r.a{constructor(){super(),this.powerBarSeperator=new l.a(a.a.Horizontal)}calculateDispalyItemSize(e){let t=10*e.ENSItemName.length;return e.Value&&(t=e.Value.length>=e.ENSItemName.length?10*(e.Value.length+1):10*e.ENSItemName.length),t}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=i.Mb({type:e,selectors:[["sda-ens-name-type"]],features:[i.Bb],decls:1,vars:1,consts:[["class","ens-item",4,"ngFor","ngForOf"],[1,"ens-item"],[1,"ens-item__field"],[1,"ens-item__title",3,"title"],["type","text","disabled","",1,"ens-item-input",3,"ngModel","title"],[3,"model",4,"ngIf"],[3,"model"]],template:function(e,t){1&e&&i.Sc(0,f,6,7,"div",0),2&e&&i.sc("ngForOf",t.field.ENSItems)},directives:[c.s,d.c,d.p,d.s,c.t,h.a],styles:[".ens-item-input[_ngcontent-%COMP%], .ens-item__title[_ngcontent-%COMP%]{overflow:hidden;white-space:nowrap;text-overflow:ellipsis}[_nghost-%COMP%]{display:flex;flex:1;flex-wrap:wrap}[_nghost-%COMP%]   sda-power-bar-seperator[_ngcontent-%COMP%]{margin-top:15px}[_nghost-%COMP%]   sda-power-bar-seperator[_ngcontent-%COMP%]     .power-bar-divider--horizantal{border-top-width:3px;width:30px;margin:0}.ens-item[_ngcontent-%COMP%]{display:flex;align-items:center;padding-bottom:10px}.ens-item__field[_ngcontent-%COMP%]{display:flex;flex-direction:column}.ens-item__title[_ngcontent-%COMP%]{max-width:270px}.ens-item-input[_ngcontent-%COMP%]{padding:0 5px;line-height:1.1;border-color:#cfd6dd}.ens-item-input[_ngcontent-%COMP%]:disabled{background-color:#e6e6e6;color:grey;opacity:.7;cursor:not-allowed}"]}),e})();var b=n("m3Is"),m=n("Qs1y"),g=n("Mswo"),_=n("ARL0"),C=n("N609"),S=n("BpZz"),y=n("FETs"),E=n("FhDe"),M=n("gFfV"),v=n("6Qo/"),I=n("8pNJ"),T=n("neE7"),x=n("zCQ7");let P=(()=>{class e extends r.a{constructor(e){super(),this.sdaTranslateService=e,this.nextMajorMinorEmitter=new i.o}ngOnInit(){this.initializeComponent()}onValueChanged(e){this.valueChanged.emit(e)}getNextMajorMinor(){this.field&&this.field.PropertyUID===T.a.majorRevisionUID?this.nextMajorMinorEmitter.emit(!0):this.field&&this.field.PropertyUID===T.a.minorRevisionUID&&this.nextMajorMinorEmitter.emit(!1)}getDisplayName(){let e="";return this.field&&this.field.PropertyUID===T.a.majorRevisionUID?e=this.sdaTranslateService.get("REVISE_GET_NEXT_MAJOR","Next Major"):this.field&&this.field.PropertyUID===T.a.minorRevisionUID&&(e=this.sdaTranslateService.get("REVISE_GET_NEXT_MINOR","Next Minor")),e}}return e.\u0275fac=function(t){return new(t||e)(i.Sb(o.a))},e.\u0275cmp=i.Mb({type:e,selectors:[["sda-major-minor-button-type"]],outputs:{nextMajorMinorEmitter:"nextMajorMinorEmitter"},features:[i.Bb],decls:3,vars:5,consts:[[1,"revision-type"],[3,"isEditable","field","valueChanged"],[1,"revision-type__button",3,"isDisabled","displayName","title","onClick"]],template:function(e,t){1&e&&(i.Yb(0,"div",0),i.Yb(1,"sda-string-type",1),i.hc("valueChanged",(function(e){return t.onValueChanged(e)})),i.Xb(),i.Yb(2,"sda-button",2),i.hc("onClick",(function(){return t.getNextMajorMinor()})),i.Xb(),i.Xb()),2&e&&(i.Eb(1),i.sc("isEditable",t.isEditable)("field",t.field),i.Eb(1),i.sc("isDisabled",t.field.ReadOnly)("displayName",t.getDisplayName())("title",t.getDisplayName()))},directives:[g.a,x.a],styles:[".revision-type[_ngcontent-%COMP%]{display:flex}.revision-type[_ngcontent-%COMP%]   sda-string-type[_ngcontent-%COMP%]{align-self:center;min-width:270px}.revision-type__button[_ngcontent-%COMP%]{margin-left:5px}"]}),e})();var O=n("tk/3"),w=n("yVuV"),N=n("0EQZ"),k=n("FvrZ"),D=n("8yBR"),F=n("uxyQ"),R=n("C4gn"),U=n("xc+7"),V=n("PoZZ"),Y=n("o8o6"),X=n("sK1G"),j=n("4BcJ");class A extends j.a{}var L=n("Qu3c"),K=n("bTqV"),$=n("bSwM"),Z=n("Jgl7"),B=n("NFeN"),G=n("4CIq");function Q(e,t){1&e&&i.Tb(0,"button",13)}function H(e,t){if(1&e){const e=i.Zb();i.Yb(0,"mat-checkbox",14),i.hc("change",(function(){i.Kc(e);const t=i.lc().$implicit;return i.lc().onLeafNodeCheckboxChange(t)})),i.Xb()}if(2&e){const e=i.lc().$implicit,t=i.lc();i.sc("checked",t.checklistSelection.isSelected(e))("disabled",e.disabled)}}function z(e,t){if(1&e&&i.Tb(0,"sda-object-icon",15),2&e){const e=i.lc().$implicit;i.sc("imageName",null==e?null:e.iconName)}}function q(e,t){if(1&e){const e=i.Zb();i.Yb(0,"mat-tree-node",6),i.Yb(1,"li",7),i.Sc(2,Q,1,0,"button",8),i.Sc(3,H,1,2,"mat-checkbox",9),i.Yb(4,"div",10),i.hc("click",(function(){i.Kc(e);const n=t.$implicit;return i.lc().selectedNodeChanged(n)})),i.Sc(5,z,1,1,"sda-object-icon",11),i.Yb(6,"p",12),i.Uc(7),i.Xb(),i.Xb(),i.Xb(),i.Xb()}if(2&e){const e=t.$implicit,n=i.lc();i.sc("matTreeNodePaddingIndent",n.indent),i.Eb(1),i.Ib("tree-node--active",n.checklistSelection.isSelected(e)&&(n.tab.type===n.treeType.List||!n.tab.showRowSelectionCheckbox)),i.sc("matTooltip",null==e?null:e.tooltip)("matTooltipPosition","left"),i.Eb(1),i.sc("ngIf",n.tab.type!==n.treeType.List),i.Eb(1),i.sc("ngIf",n.tab.showRowSelectionCheckbox),i.Eb(2),i.sc("ngIf",null==e?null:e.iconName),i.Eb(2),i.Vc(e.name)}}function W(e,t){if(1&e){const e=i.Zb();i.Yb(0,"button",20),i.hc("click",(function(){i.Kc(e);const t=i.lc().$implicit;return i.lc().fetchChildren(t)})),i.Tb(1,"mat-icon",21),i.Xb()}if(2&e){const e=i.lc().$implicit,t=i.lc();i.Fb("aria-label","toggle "+e.name),i.Eb(1),i.sc("svgIcon",t.treeControl.isExpanded(e)?"chevron-down":"chevron-right")}}function J(e,t){if(1&e){const e=i.Zb();i.Yb(0,"mat-checkbox",22),i.hc("change",(function(){i.Kc(e);const t=i.lc().$implicit;return i.lc().onCheckboxChange(t)})),i.Xb()}if(2&e){const e=i.lc().$implicit,t=i.lc();i.sc("checked",t.checklistSelection.isSelected(e))("indeterminate",t.descendantsPartiallySelected(e))("disabled",e.disabled)}}function ee(e,t){if(1&e&&i.Tb(0,"sda-object-icon",15),2&e){const e=i.lc().$implicit;i.sc("imageName",null==e?null:e.iconName)}}function te(e,t){if(1&e){const e=i.Zb();i.Yb(0,"mat-tree-node",16),i.Yb(1,"li",17),i.Sc(2,W,2,2,"button",18),i.Sc(3,J,1,3,"mat-checkbox",19),i.Yb(4,"div",10),i.hc("click",(function(){i.Kc(e);const n=t.$implicit;return i.lc().selectedNodeChanged(n)})),i.Sc(5,ee,1,1,"sda-object-icon",11),i.Yb(6,"p",12),i.Uc(7),i.Xb(),i.Xb(),i.Xb(),i.Xb()}if(2&e){const e=t.$implicit,n=i.lc();i.sc("matTreeNodePaddingIndent",n.indent),i.Eb(1),i.Ib("tree-node--active",n.checklistSelection.isSelected(e)&&(n.tab.type===n.treeType.List||!n.tab.showRowSelectionCheckbox)),i.Eb(1),i.sc("ngIf",null==e?null:e.expandable),i.Eb(1),i.sc("ngIf",n.tab.showRowSelectionCheckbox),i.Eb(2),i.sc("ngIf",null==e?null:e.iconName),i.Eb(2),i.Vc(e.name)}}function ne(e,t){if(1&e){const e=i.Zb();i.Yb(0,"mat-tree-node"),i.Yb(1,"sda-button-plain",23),i.hc("click",(function(){i.Kc(e);const n=t.$implicit;return i.lc().loadMore(n.parentObid)})),i.Xb(),i.Xb()}if(2&e){const e=i.lc();i.Eb(1),i.sc("displayName",e.LOAD_MORE)("title",e.LOAD_MORE)}}function ie(e,t){if(1&e&&(i.Yb(0,"p",24),i.Uc(1),i.Xb()),2&e){const e=i.lc();i.Eb(1),i.Vc(e.NO_RESULTS_FOUND)}}function oe(e,t){if(1&e&&(i.Yb(0,"div",25),i.Yb(1,"span",26),i.Uc(2),i.Xb(),i.Tb(3,"div",27),i.Tb(4,"div",28),i.Xb()),2&e){const e=i.lc();i.Eb(2),i.Vc(e.LOADING)}}let se=(()=>{class e extends Y.a{constructor(e,t,n,i,o,s,c){super(e,t,n,i,o,s,c),this.tabbedTreeDataService=e,this.sdaTranslateService=t,this.filterService=n,this.changeDetect=i,this.featureSetService=o,this.featureSetNavigationService=s,this.apiMenuService=c,this.indent=25,this.flatNodeMap=new Map,this.nestedNodeMap=new Map,this.nodeMap=new Map,this.currentlyExpandedNodeMap=new Map,this.treeFlattener=new D.d((e,t)=>this.transformer(e,t),e=>e.level,e=>e.expandable,e=>e.children),this.checklistSelection=new N.c(!0),this.treeControl=new k.j(e=>e.level,e=>e.expandable)}fetchChildren(e){e.showExpander||(e.showExpander=!e.showExpander,e.loadMore?this.tabbedTreeDataService.loadMore(this.tab,this.dataSource.data,e.parentObid):(this.parentExpandedNode=e,this.tabbedTreeDataService.loadMore(this.tab,this.dataSource.data,e.obid)))}isLoadMore(e,t){return t.loadMore}ngOnInit(){this.tab&&(this.tabbedTreeDataServiceSubscription=this.tabbedTreeDataService.subscribe(e=>{this.dataSource=new D.c(this.treeControl,this.treeFlattener),this.dataSource.data=[],this.dataSource.data=e;const t=[...this.flatNodeMap.keys()];t.length>0&&this.tab.onInitializeTree?(this.tab.onInitializeTree(t,this.treeControl,this.checklistSelection),this.expandTopLevelNodes(t)):this.setonNoResultsFound(),this.changeDetect.detectChanges()}),this.tabbedTreeDataService.read(this.tab),this.tab.refresh=e=>{this.refresh()},this.tab.reInitialise=()=>{this.tab.selectedRows=[],this.checklistSelection.clear(),this.refresh()})}ngOnDestroy(){this.tabbedTreeDataServiceSubscription&&this.tabbedTreeDataServiceSubscription.unsubscribe()}checkAllDescendants(e){this.checklistSelection.toggle(e);let t=this.treeControl.getDescendants(e);e.disabled||(t=t.filter(e=>!1===e.disabled)),this.checklistSelection.isSelected(e)?this.checklistSelection.select(...t):this.checklistSelection.deselect(...t),t.every(e=>this.checklistSelection.isSelected(e)),this.checkAllParentsSelection(e)}checkRemainingDescendants(e){const t=this.treeControl.getDescendants(e);this.checklistSelection.select(...t),t.every(e=>this.checklistSelection.isSelected(e)),this.checkAllParentsSelection(e)}selectedNodeChanged(e){e.disabled||(this.tab.showRowSelectionCheckbox||this.checklistSelection.clear(),this.checkAllDescendants(e),this.tab.selectedRows=this.checklistSelection.selected,this.tab.onRowSelectedChanged&&this.tab.onRowSelectedChanged(this.tab.selectedRows))}hasChild(e,t){return t.expandable}checkAllParentsSelection(e){let t=this.getParentNode(e);for(;t;)this.checkRootNodeSelection(t),t=this.getParentNode(t)}refresh(e){this.tabbedTreeDataService.read(this.tab,e),this.changeDetect.detectChanges()}getParentNode(e){const t=this.getLevel(e);if(!(t<1))for(let n=this.treeControl.dataNodes.indexOf(e)-1;n>=0;n--){const e=this.treeControl.dataNodes[n];if(this.getLevel(e)<t)return e}}setonNoResultsFound(){this.noResultsFound=!0,this.tab.onNoResultsFound&&this.tab.onNoResultsFound()}getLevel(e){return e.level}expandTopLevelNodes(e){e&&e.forEach(e=>{this.getLevel(e)<1&&this.treeControl.expand(e)})}isNodeExpandable(e){let t=!1;return e.loadMore?t:this.parentExpandedNode&&e.dataTreenode&&this.parentExpandedNode.obid===e.obid?(t=!!e.dataTreenode.children&&e.dataTreenode.children.length>0,this.currentlyExpandedNodeMap.set(e.obid,t),this.changeDetect.detectChanges(),t):this.currentlyExpandedNodeMap.has(e.obid)?this.currentlyExpandedNodeMap.get(e.obid):!t}getParent(e,t){if(!(t<1))return this.parentExpandedNode&&this.parentExpandedNode.obid===e.parentObid?this.parentExpandedNode.dataTreenode:this.nodeMap.has(e.parentObid)?this.nodeMap.get(e.parentObid):e.parentNode}updateAppendedChildState(e){this.parentExpandedNode&&this.checklistSelection.isSelected(this.parentExpandedNode)&&this.parentExpandedNode.obid===e.parentObid&&this.checklistSelection.toggle(e)}transformer(e,t){const n=this.nestedNodeMap.get(e),i=n&&n.obid===e.obid?n:new A;return i.obid=e.obid,i.uid=e.uid,i.level=t,i.name=e.name,i.dataTreenode=e,i.disabled=!1,i.loadMore=e.loadMore,i.isValid=e.isValid,i.iconName=e.iconName?e.iconName:e.classdef,i.parentObid=e.parentObid,i.parentNode=this.getParent(e,t),e.parentNode=i.parentNode,i.showExpander=!!e.children&&e.children.length>0,i.expandable=i.level<1?i.showExpander:this.isNodeExpandable(i),this.flatNodeMap.set(i,e),this.nestedNodeMap.set(e,i),this.nodeMap.set(e.obid,e),this.updateAppendedChildState(i),i}}return e.\u0275fac=function(t){return new(t||e)(i.Sb(X.a),i.Sb(o.a),i.Sb(V.a),i.Sb(i.h),i.Sb(U.a),i.Sb(R.a),i.Sb(F.a))},e.\u0275cmp=i.Mb({type:e,selectors:[["sda-flat-tree-view"]],inputs:{indent:"indent"},features:[i.Db([X.a]),i.Bb],decls:6,vars:8,consts:[[1,"tree-control",3,"dataSource","treeControl"],["matTreeNodeToggle","","matTreeNodePadding","",3,"matTreeNodePaddingIndent",4,"matTreeNodeDef"],["matTreeNodePadding","",3,"matTreeNodePaddingIndent",4,"matTreeNodeDef","matTreeNodeDefWhen"],[4,"matTreeNodeDef","matTreeNodeDefWhen"],["class","tree-control__no-results",4,"ngIf"],["class","k-loading-mask",4,"ngIf"],["matTreeNodeToggle","","matTreeNodePadding","",3,"matTreeNodePaddingIndent"],[1,"mat-tree-node","tree-node",3,"matTooltip","matTooltipPosition"],["mat-icon-button","","disabled","","class","tree-node__btn",4,"ngIf"],["class","checklist-leaf-node tree-node__checkbox",3,"checked","disabled","change",4,"ngIf"],[1,"tree-node__item",3,"click"],["class","tree-node__object-icon",3,"imageName",4,"ngIf"],[1,"tree-node__name"],["mat-icon-button","","disabled","",1,"tree-node__btn"],[1,"checklist-leaf-node","tree-node__checkbox",3,"checked","disabled","change"],[1,"tree-node__object-icon",3,"imageName"],["matTreeNodePadding","",3,"matTreeNodePaddingIndent"],[1,"mat-tree-node","tree-node"],["mat-icon-button","","matTreeNodeToggle","","class","tree-node__btn",3,"click",4,"ngIf"],["class","tree-node__checkbox",3,"checked","indeterminate","disabled","change",4,"ngIf"],["mat-icon-button","","matTreeNodeToggle","",1,"tree-node__btn",3,"click"],[1,"tree-node__expander",3,"svgIcon"],[1,"tree-node__checkbox",3,"checked","indeterminate","disabled","change"],[1,"tree-control__btn",3,"displayName","title","click"],[1,"tree-control__no-results"],[1,"k-loading-mask"],[1,"k-loading-text"],[1,"k-loading-image"],[1,"k-loading-color"]],template:function(e,t){1&e&&(i.Yb(0,"mat-tree",0),i.Sc(1,q,8,9,"mat-tree-node",1),i.Sc(2,te,8,7,"mat-tree-node",2),i.Sc(3,ne,2,2,"mat-tree-node",3),i.Xb(),i.Sc(4,ie,2,1,"p",4),i.Sc(5,oe,5,1,"div",5)),2&e&&(i.Ib("tree-control--compact",t.isCompact),i.sc("dataSource",t.dataSource)("treeControl",t.treeControl),i.Eb(2),i.sc("matTreeNodeDefWhen",t.hasChild),i.Eb(1),i.sc("matTreeNodeDefWhen",t.isLoadMore),i.Eb(1),i.sc("ngIf",t.noResultsFound),i.Eb(1),i.sc("ngIf",t.tabbedTreeDataService.isLoading))},directives:[D.b,D.h,c.t,D.g,D.k,D.j,L.a,K.a,$.a,Z.a,B.a,G.a],styles:[".tree-control[_ngcontent-%COMP%]{overflow-x:hidden;overflow-y:auto}.tree-node__name[_ngcontent-%COMP%]{overflow:hidden;white-space:nowrap;text-overflow:ellipsis}[_nghost-%COMP%]{position:relative;display:flex;flex-direction:column;height:100%}.tree-control[_ngcontent-%COMP%]{padding:10px}.tree-control--compact[_ngcontent-%COMP%]   .mat-tree-node[_ngcontent-%COMP%]{min-height:32px}.tree-control--compact[_ngcontent-%COMP%]   .tree-node__btn[_ngcontent-%COMP%], .tree-control--compact[_ngcontent-%COMP%]   .tree-node__item[_ngcontent-%COMP%]{height:32px}.tree-control--compact[_ngcontent-%COMP%]   .tree-node__btn[_ngcontent-%COMP%]{line-height:32px}.tree-control[_ngcontent-%COMP%]   .mat-tree-node[_ngcontent-%COMP%]{min-width:0}.tree-control__list[_ngcontent-%COMP%]{padding-left:25px}.tree-control__list--hidden[_ngcontent-%COMP%]{display:none}.tree-control__btn[_ngcontent-%COMP%]{display:inline-flex;margin:10px 15px}.tree-control__btn[_ngcontent-%COMP%]  .button{color:#02adff}.tree-control__no-results[_ngcontent-%COMP%]{margin:15px;text-align:center}.tree-filter[_ngcontent-%COMP%]{padding:8px;background-color:#f6f7f8;border-bottom:1px solid #ebedf0}.tree-node[_ngcontent-%COMP%]:not(.tree-node--disabled):not(.tree-node--active):hover{background-color:#e8f7ff}.tree-node--active[_ngcontent-%COMP%]{background-color:#afe5ff}.tree-node--disabled[_ngcontent-%COMP%]   .tree-node__item[_ngcontent-%COMP%]{opacity:.5;pointer-events:none}.tree-node__expander[_ngcontent-%COMP%]{width:18px;height:18px}.tree-node__checkbox[_ngcontent-%COMP%]{margin-left:10px}.tree-node__item[_ngcontent-%COMP%]{display:flex;flex:1;align-items:center;height:48px;cursor:pointer;overflow:hidden}.tree-node__name[_ngcontent-%COMP%]{width:100%;padding:0 10px}.tree-node__object-icon[_ngcontent-%COMP%] {margin-left:10px}.tree-node__object-icon[_ngcontent-%COMP%]  .object-icon{max-width:20px;margin-right:0}.tree-node__btn[_ngcontent-%COMP%] + .tree-node__checkbox[_ngcontent-%COMP%], .tree-node__btn[_ngcontent-%COMP%] + .tree-node__item[_ngcontent-%COMP%] > .tree-node__object-icon[_ngcontent-%COMP%]{margin-left:0}.tree-node__menu[_ngcontent-%COMP%]{align-self:stretch}.tree-node__menu[_ngcontent-%COMP%]  .button{height:100%;border-radius:0}.k-loading-mask[_ngcontent-%COMP%]{top:0;left:0;width:100%;height:100%}",".tree-node__checkbox[_ngcontent-%COMP%]{margin-left:15px}"],changeDetection:0}),e})();var ce=n("gBNM"),ae=n("MfSp");function le(e,t){if(1&e&&i.Tb(0,"sda-flat-tree-view",3),2&e){const e=i.lc();i.sc("tab",e.treeGridTab)}}let re=(()=>{class e extends r.a{constructor(e){super(),this.changeDetect=e}ngOnInit(){let e=new O.d;this.field.SelectedParentSignature&&(e=e.append("SPFToolSignature",this.field.SelectedParentSignature)),this.treeGridTab=new ce.a("",this.field.odataUrl,this.field.plantUID,void 0,void 0,void 0,e);let t=[];this.field.preSelectedObids&&(t=this.buildTreeNodesFromPreSelectedOBIDs()),t&&t.length>0&&(this.treeGridTab.selectedRows=t),this.treeGridTab.defaultLevelToExpand=this.field.level,this.disAllowSelection=this.field.disAllowSelection,this.treeGridTab.showRowSelectionCheckbox=!0,this.isConfigurationEmpty=!1,this.treeGridTab.onRowSelectedChanged=()=>{if(this.field.hasTreeBeenModified=!0,this.treeGridTab.selectedRows.length>0){const e=this.treeGridTab.selectedRows.map(e=>e.dataTreenode),t=e.filter(t=>e.indexOf(t.parentNode)<0);this.field.Value=t}},this.treeGridTab.onInitializeTree=(e,n,i)=>{this.currentTreeControl=n,this.checklistSelection=i,this.changeDetect.detectChanges(),this.updateSelectedNodes(e,this.preSelectedItemOBIDs(t),this.disAllowSelection)},this.serverProcedureToInvoke=this.field.serverProcedure,this.serverProcedureToInvoke&&(this.treeGridTab.onFormatUrlRequest=(e,t,n)=>this.formatConfigUrl(e,this.serverProcedureToInvoke,t,n))}buildTreeNodesFromPreSelectedOBIDs(){let e=[];const t=[];return e=this.field.preSelectedObids.split(","),e&&e.length>0&&e.forEach(e=>{const n=new ae.a(e,void 0,void 0);n.disabled=!0,t.push(n)}),t}preSelectedItemOBIDs(e){return e.map(e=>e.obid)}updateSelectedNodes(e,t,n=!1){t.length>0&&e&&e.forEach(e=>{if(t.includes(e.obid)){const t=this.currentTreeControl.getDescendants(e);e.disabled=n,t.forEach(e=>{e.disabled=n}),this.checklistSelection.isSelected(e)?this.checklistSelection.isSelected(e)&&this.tree.checkRemainingDescendants(e):this.tree.checkAllDescendants(e)}})}formatConfigUrl(e,t,n,i){return i&&i.parentTreeNodeOBID?i.parentTreeNodeOBID?`${t}?Top=${Settings.application.defaultPageSize}&Skip=${n?n.skip:e.state.skip}&parentOBID='${i.parentTreeNodeOBID}'`:"":this.createUrl(e)}createUrl(e){let t=e.odataUrl.slice(0);return t.indexOf("?")>-1?t+="&"+Object(w.e)(e.state):t+="?"+Object(w.e)(e.state),-1===t.indexOf("$count")&&(t+="&$count=true"),t}}return e.\u0275fac=function(t){return new(t||e)(i.Sb(i.h))},e.\u0275cmp=i.Mb({type:e,selectors:[["sda-tree-view-multi-select"]],viewQuery:function(e,t){var n;1&e&&i.bd(se,!0),2&e&&i.Gc(n=i.ic())&&(t.tree=n.first)},inputs:{field:"field"},features:[i.Bb],decls:3,vars:3,consts:[[1,"form__content"],[1,"form__component"],["class","tree-view-type",3,"tab",4,"ngIf"],[1,"tree-view-type",3,"tab"]],template:function(e,t){1&e&&(i.Yb(0,"div",0),i.Yb(1,"div",1),i.Sc(2,le,1,1,"sda-flat-tree-view",2),i.Xb(),i.Xb()),2&e&&(i.Ib("form__content--error",t.isConfigurationEmpty),i.Eb(2),i.sc("ngIf",t.treeGridTab&&t.treeGridTab.odataUrl))},directives:[c.t,se],styles:[".tree-view-type[_ngcontent-%COMP%]{width:100%;min-width:350px;height:300px;padding:5px 10px}"]}),e})();var de=n("6s0W"),he=n("9LP0");let pe=(()=>{class e{constructor(e,t){this.pictureMaskService=e,this.sdaTranslateService=t,this.maskUnsupported=!1}ngOnInit(){"ENS"===this.field.PictureProperty?this.tooltipText=this.sdaTranslateService.getFormatted("CREATE_OBJ_DISABLE_FILEATTACH_MESSAGE","File upload step will not be available in multi object creation"):(this.tooltipText=this.pictureMaskService.unsupportedMaskCheck(this.field.PictureProperty,this.field.DisplayType),this.maskUnsupported=!!this.tooltipText,this.tooltipText||(this.tooltipText=this.field.HelpText?this.field.HelpText:this.sdaTranslateService.getFormatted("FORM_PICTURE_MASK_ACTIVE","Contents of field must match picture mask: {0}",[this.field.PictureProperty])))}getTooltipClass(){let e="picture-mask-tooltip picture-mask-tooltip--info";return this.maskUnsupported?e="picture-mask-tooltip picture-mask-tooltip--warning":this.field.picturePropertyInvalid&&(e="picture-mask-tooltip picture-mask-tooltip--error"),e}}return e.\u0275fac=function(t){return new(t||e)(i.Sb(he.a),i.Sb(o.a))},e.\u0275cmp=i.Mb({type:e,selectors:[["sda-form-picture-mask-button"]],inputs:{field:"field"},decls:2,vars:8,consts:[["svgIcon","info","matTooltipPosition","right",1,"picture-mask",3,"matTooltip","matTooltipClass","click"],["tooltip","matTooltip"]],template:function(e,t){if(1&e){const e=i.Zb();i.Yb(0,"mat-icon",0,1),i.hc("click",(function(){return i.Kc(e),i.Hc(1).toggle()})),i.Xb()}2&e&&(i.Ib("picture-mask--info",!t.maskUnsupported&&!t.field.picturePropertyInvalid)("picture-mask--invalid",t.field.picturePropertyInvalid)("picture-mask--warning",t.maskUnsupported),i.sc("matTooltip",t.tooltipText)("matTooltipClass",t.getTooltipClass()))},directives:[B.a,L.a],styles:["[_nghost-%COMP%]{margin-left:8px;padding-top:6px}.picture-mask[_ngcontent-%COMP%]{width:20px;height:inherit;cursor:pointer}.picture-mask--info[_ngcontent-%COMP%]{color:#75d2ff}.picture-mask--info[_ngcontent-%COMP%]:hover{color:#42c2ff;transition:color .15s ease-in}.picture-mask--invalid[_ngcontent-%COMP%]{color:#d7142c}.picture-mask--invalid[_ngcontent-%COMP%]:hover{color:#a81022;transition:color .15s ease-in}.picture-mask--warning[_ngcontent-%COMP%]{color:#f2bf25}.picture-mask--warning[_ngcontent-%COMP%]:hover{color:#d7a50d;transition:color .15s ease-in}"]}),e})();function fe(e,t){if(1&e&&i.Tb(0,"sda-ens-name-type",11),2&e){const e=i.lc().$implicit,t=i.lc();i.sc("isEditable",t.editable)("field",e)}}function ue(e,t){if(1&e){const e=i.Zb();i.Yb(0,"sda-boolean-type",12),i.hc("valueChanged",(function(t){return i.Kc(e),i.lc(2).onValueChanged(t)})),i.Xb()}if(2&e){const e=i.lc().$implicit,t=i.lc();i.sc("isEditable",t.editable)("field",e)}}function be(e,t){if(1&e){const e=i.Zb();i.Yb(0,"sda-boolean-type",12),i.hc("valueChanged",(function(t){return i.Kc(e),i.lc(2).onValueChanged(t)})),i.Xb()}if(2&e){const e=i.lc().$implicit,t=i.lc();i.sc("isEditable",t.editable)("field",e)}}function me(e,t){if(1&e){const e=i.Zb();i.Yb(0,"sda-form-double-type",12),i.hc("valueChanged",(function(t){return i.Kc(e),i.lc(2).onValueChanged(t)})),i.Xb()}if(2&e){const e=i.lc().$implicit,t=i.lc();i.sc("isEditable",t.editable)("field",e)}}function ge(e,t){if(1&e){const e=i.Zb();i.Yb(0,"sda-string-type",12),i.hc("valueChanged",(function(t){return i.Kc(e),i.lc(2).onValueChanged(t)})),i.Xb()}if(2&e){const e=i.lc().$implicit,t=i.lc();i.sc("isEditable",t.editable)("field",e)}}function _e(e,t){if(1&e){const e=i.Zb();i.Yb(0,"sda-string-type",12),i.hc("valueChanged",(function(t){return i.Kc(e),i.lc(2).onValueChanged(t)})),i.Xb()}if(2&e){const e=i.lc().$implicit,t=i.lc();i.sc("isEditable",t.editable)("field",e)}}function Ce(e,t){if(1&e){const e=i.Zb();i.Yb(0,"sda-string-type",12),i.hc("valueChanged",(function(t){return i.Kc(e),i.lc(2).onValueChanged(t)})),i.Xb()}if(2&e){const e=i.lc().$implicit,t=i.lc();i.sc("isEditable",t.editable)("field",e)}}function Se(e,t){if(1&e){const e=i.Zb();i.Yb(0,"sda-string-type",12),i.hc("valueChanged",(function(t){return i.Kc(e),i.lc(2).onValueChanged(t)})),i.Xb()}if(2&e){const e=i.lc().$implicit,t=i.lc();i.sc("isEditable",t.editable)("field",e)}}function ye(e,t){if(1&e){const e=i.Zb();i.Yb(0,"sda-string-type",12),i.hc("valueChanged",(function(t){return i.Kc(e),i.lc(2).onValueChanged(t)})),i.Xb()}if(2&e){const e=i.lc().$implicit,t=i.lc();i.sc("isEditable",t.editable)("field",e)}}function Ee(e,t){if(1&e){const e=i.Zb();i.Yb(0,"sda-string-type",12),i.hc("valueChanged",(function(t){return i.Kc(e),i.lc(2).onValueChanged(t)})),i.Xb()}if(2&e){const e=i.lc().$implicit,t=i.lc();i.sc("isEditable",t.editable)("field",e)}}function Me(e,t){if(1&e){const e=i.Zb();i.Yb(0,"sda-form-int-type",12),i.hc("valueChanged",(function(t){return i.Kc(e),i.lc(2).onValueChanged(t)})),i.Xb()}if(2&e){const e=i.lc().$implicit,t=i.lc();i.sc("isEditable",t.editable)("field",e)}}function ve(e,t){if(1&e){const e=i.Zb();i.Yb(0,"sda-enum-type",12),i.hc("valueChanged",(function(t){return i.Kc(e),i.lc(2).onValueChanged(t)})),i.Xb()}if(2&e){const e=i.lc().$implicit,t=i.lc();i.sc("isEditable",t.editable)("field",e)}}function Ie(e,t){if(1&e){const e=i.Zb();i.Yb(0,"sda-relationship-type",12),i.hc("valueChanged",(function(t){return i.Kc(e),i.lc(2).onValueChanged(t)})),i.Xb()}if(2&e){const e=i.lc().$implicit,t=i.lc();i.sc("isEditable",t.editable)("field",e)}}function Te(e,t){if(1&e){const e=i.Zb();i.Yb(0,"sda-relationship-type",12),i.hc("valueChanged",(function(t){return i.Kc(e),i.lc(2).onValueChanged(t)})),i.Xb()}if(2&e){const e=i.lc().$implicit,t=i.lc();i.sc("isEditable",t.editable)("field",e)}}function xe(e,t){if(1&e){const e=i.Zb();i.Yb(0,"sda-relationship-type",12),i.hc("valueChanged",(function(t){return i.Kc(e),i.lc(2).onValueChanged(t)})),i.Xb()}if(2&e){const e=i.lc().$implicit,t=i.lc();i.sc("isEditable",t.editable)("field",e)}}function Pe(e,t){if(1&e){const e=i.Zb();i.Yb(0,"sda-relationship-type",12),i.hc("valueChanged",(function(t){return i.Kc(e),i.lc(2).onValueChanged(t)})),i.Xb()}if(2&e){const e=i.lc().$implicit,t=i.lc();i.sc("isEditable",t.editable)("field",e)}}function Oe(e,t){if(1&e){const e=i.Zb();i.Yb(0,"sda-relationship-type",12),i.hc("valueChanged",(function(t){return i.Kc(e),i.lc(2).onValueChanged(t)})),i.Xb()}if(2&e){const e=i.lc().$implicit,t=i.lc();i.sc("isEditable",t.editable)("field",e)}}function we(e,t){if(1&e){const e=i.Zb();i.Yb(0,"sda-relationship-type",12),i.hc("valueChanged",(function(t){return i.Kc(e),i.lc(2).onValueChanged(t)})),i.Xb()}if(2&e){const e=i.lc().$implicit,t=i.lc();i.sc("isEditable",t.editable)("field",e)}}function Ne(e,t){if(1&e){const e=i.Zb();i.Yb(0,"sda-relationship-type",12),i.hc("valueChanged",(function(t){return i.Kc(e),i.lc(2).onValueChanged(t)})),i.Xb()}if(2&e){const e=i.lc().$implicit,t=i.lc();i.sc("isEditable",t.editable)("field",e)}}function ke(e,t){if(1&e){const e=i.Zb();i.Yb(0,"sda-relationship-type",12),i.hc("valueChanged",(function(t){return i.Kc(e),i.lc(2).onValueChanged(t)})),i.Xb()}if(2&e){const e=i.lc().$implicit,t=i.lc();i.sc("isEditable",t.editable)("field",e)}}function De(e,t){if(1&e){const e=i.Zb();i.Yb(0,"sda-relationship-type",12),i.hc("valueChanged",(function(t){return i.Kc(e),i.lc(2).onValueChanged(t)})),i.Xb()}if(2&e){const e=i.lc().$implicit,t=i.lc();i.sc("isEditable",t.editable)("field",e)}}function Fe(e,t){if(1&e){const e=i.Zb();i.Yb(0,"sda-url-type",12),i.hc("valueChanged",(function(t){return i.Kc(e),i.lc(2).onValueChanged(t)})),i.Xb()}if(2&e){const e=i.lc().$implicit,t=i.lc();i.sc("isEditable",t.editable)("field",e)}}function Re(e,t){if(1&e){const e=i.Zb();i.Yb(0,"sda-enum-list-level-type",12),i.hc("valueChanged",(function(t){return i.Kc(e),i.lc(2).onValueChanged(t)})),i.Xb()}if(2&e){const e=i.lc().$implicit,t=i.lc();i.sc("isEditable",t.editable)("field",e)}}function Ue(e,t){if(1&e){const e=i.Zb();i.Yb(0,"sda-uom-list-type",12),i.hc("valueChanged",(function(t){return i.Kc(e),i.lc(2).onValueChanged(t)})),i.Xb()}if(2&e){const e=i.lc().$implicit,t=i.lc();i.sc("isEditable",t.editable)("field",e)}}function Ve(e,t){if(1&e){const e=i.Zb();i.Yb(0,"sda-datetime-type",12),i.hc("valueChanged",(function(t){return i.Kc(e),i.lc(2).onValueChanged(t)})),i.Xb()}if(2&e){const e=i.lc().$implicit,t=i.lc();i.sc("isEditable",t.editable)("field",e)}}function Ye(e,t){if(1&e){const e=i.Zb();i.Yb(0,"sda-ymd-type",12),i.hc("valueChanged",(function(t){return i.Kc(e),i.lc(2).onValueChanged(t)})),i.Xb()}if(2&e){const e=i.lc().$implicit,t=i.lc();i.sc("isEditable",t.editable)("field",e)}}function Xe(e,t){if(1&e){const e=i.Zb();i.Yb(0,"sda-major-minor-button-type",13),i.hc("valueChanged",(function(t){return i.Kc(e),i.lc(2).onValueChanged(t)}))("nextMajorMinorEmitter",(function(t){return i.Kc(e),i.lc(2).getNextMajorMinor(t)})),i.Xb()}if(2&e){const e=i.lc().$implicit,t=i.lc();i.sc("isEditable",t.editable)("field",e)}}function je(e,t){if(1&e&&i.Tb(0,"sda-tree-view-multi-select",14),2&e){const e=i.lc().$implicit;i.sc("field",e)}}function Ae(e,t){if(1&e&&i.Tb(0,"sda-config-tree",15),2&e){const e=i.lc().$implicit;i.sc("field",e)("nestedDataSourceInput",e.nestedDataSource)("allowMultipleConfigSelection",e.allowMultipleConfigSelection)("preExpandedTree",e.preExpanded)}}function Le(e,t){if(1&e&&(i.Yb(0,"div",16),i.Tb(1,"mat-icon",17),i.Uc(2),i.Xb()),2&e){const e=i.lc().$implicit,t=i.lc();i.Eb(2),i.Wc(" ",e.picturePropertyInvalid?t.PICTURE_MASK_NOT_MATCHING:t.FORM_REQUIRED_FIELD," ")}}function Ke(e,t){if(1&e&&i.Tb(0,"sda-form-picture-mask-button",18),2&e){const e=i.lc().$implicit;i.sc("field",e)}}function $e(e,t){if(1&e&&(i.Yb(0,"div",1),i.Yb(1,"div",2),i.Uc(2),i.Xb(),i.Yb(3,"div",3),i.Sc(4,fe,1,2,"sda-ens-name-type",4),i.Sc(5,ue,1,2,"sda-boolean-type",5),i.Sc(6,be,1,2,"sda-boolean-type",5),i.Sc(7,me,1,2,"sda-form-double-type",5),i.Sc(8,ge,1,2,"sda-string-type",5),i.Sc(9,_e,1,2,"sda-string-type",5),i.Sc(10,Ce,1,2,"sda-string-type",5),i.Sc(11,Se,1,2,"sda-string-type",5),i.Sc(12,ye,1,2,"sda-string-type",5),i.Sc(13,Ee,1,2,"sda-string-type",5),i.Sc(14,Me,1,2,"sda-form-int-type",5),i.Sc(15,ve,1,2,"sda-enum-type",5),i.Sc(16,Ie,1,2,"sda-relationship-type",5),i.Sc(17,Te,1,2,"sda-relationship-type",5),i.Sc(18,xe,1,2,"sda-relationship-type",5),i.Sc(19,Pe,1,2,"sda-relationship-type",5),i.Sc(20,Oe,1,2,"sda-relationship-type",5),i.Sc(21,we,1,2,"sda-relationship-type",5),i.Sc(22,Ne,1,2,"sda-relationship-type",5),i.Sc(23,ke,1,2,"sda-relationship-type",5),i.Sc(24,De,1,2,"sda-relationship-type",5),i.Sc(25,Fe,1,2,"sda-url-type",5),i.Sc(26,Re,1,2,"sda-enum-list-level-type",5),i.Sc(27,Ue,1,2,"sda-uom-list-type",5),i.Sc(28,Ve,1,2,"sda-datetime-type",5),i.Sc(29,Ye,1,2,"sda-ymd-type",5),i.Sc(30,Xe,1,2,"sda-major-minor-button-type",6),i.Sc(31,je,1,1,"sda-tree-view-multi-select",7),i.Sc(32,Ae,1,4,"sda-config-tree",8),i.Sc(33,Le,3,1,"div",9),i.Xb(),i.Sc(34,Ke,1,1,"sda-form-picture-mask-button",10),i.Xb()),2&e){const e=t.$implicit,n=i.lc();i.Ib("form__content--multiple",n.line.FormDisplayItems.length>1)("form__content--single",1===n.line.FormDisplayItems.length)("form__content--non-editable",!n.editable)("form__content--error",null!=e.IsValid&&!e.IsValid),i.sc("hidden",e.IsHidden),i.Eb(1),i.Ib("form__title--required",e.IsMandatory),i.Eb(1),i.Wc(" ",e.DisplayName,": "),i.Eb(1),i.sc("ngSwitch",e.DisplayType),i.Eb(1),i.sc("ngSwitchCase",n.displayItemType.ENS_TYPE),i.Eb(1),i.sc("ngSwitchCase",n.displayItemType.BOOLEAN_TYPE),i.Eb(1),i.sc("ngSwitchCase",n.displayItemType.INTERFACE_DEF),i.Eb(1),i.sc("ngSwitchCase",n.displayItemType.DOUBLE_TYPE),i.Eb(1),i.sc("ngSwitchCase",n.displayItemType.STRING_TYPE),i.Eb(1),i.sc("ngSwitchCase",n.displayItemType.GRAPH_DEF_TYPE),i.Eb(1),i.sc("ngSwitchCase",n.displayItemType.PATH_DEF_TYPE),i.Eb(1),i.sc("ngSwitchCase",n.displayItemType.PROP_COMPARISONS_TYPE),i.Eb(1),i.sc("ngSwitchCase",n.displayItemType.VIEW_PROPS_DEF_TYPE),i.Eb(1),i.sc("ngSwitchCase",n.displayItemType.OBJECTS_TYPE),i.Eb(1),i.sc("ngSwitchCase",n.displayItemType.INT_TYPE),i.Eb(1),i.sc("ngSwitchCase",n.displayItemType.ENUM_LIST_TYPE),i.Eb(1),i.sc("ngSwitchCase",n.displayItemType.REL_DEF),i.Eb(1),i.sc("ngSwitchCase",n.displayItemType.RELATIONSHIP_FILTER),i.Eb(1),i.sc("ngSwitchCase",n.displayItemType.RELATIONSHIP_FIND),i.Eb(1),i.sc("ngSwitchCase",n.displayItemType.RELATIONSHIP_FIND_MULTISELECT),i.Eb(1),i.sc("ngSwitchCase",n.displayItemType.RELATIONSHIP_MULTI_QUERY),i.Eb(1),i.sc("ngSwitchCase",n.displayItemType.RELATIONSHIP_MULTI_QUERY_FIND),i.Eb(1),i.sc("ngSwitchCase",n.displayItemType.RELATIONSHIP_NAME_DESC),i.Eb(1),i.sc("ngSwitchCase",n.displayItemType.RELATIONSHIP_MAINTENANCE),i.Eb(1),i.sc("ngSwitchCase",n.displayItemType.NONE),i.Eb(1),i.sc("ngSwitchCase",n.displayItemType.URL_TYPE),i.Eb(1),i.sc("ngSwitchCase",n.displayItemType.ENUM_LIST_LEVEL_TYPE),i.Eb(1),i.sc("ngSwitchCase",n.displayItemType.UOM_LIST_TYPE),i.Eb(1),i.sc("ngSwitchCase",n.displayItemType.DATE_TIME_TYPE),i.Eb(1),i.sc("ngSwitchCase",n.displayItemType.YMD_TYPE),i.Eb(1),i.sc("ngSwitchCase",n.displayItemType.MAJOR_MINOR_REVISION),i.Eb(1),i.sc("ngSwitchCase",n.displayItemType.PBS_TREE_TYPE),i.Eb(1),i.sc("ngSwitchCase",n.displayItemType.WBS_TREE_TYPE),i.Eb(1),i.sc("ngIf",null!=e.IsValid&&!e.IsValid),i.Eb(1),i.sc("ngIf",e.PictureProperty&&!e.ReadOnly)}}let Ze=(()=>{class e{constructor(e){this.sdaTranslateService=e,this.valueChanged=new i.o,this.nextMajorMinorEmitter=new i.o,this.displayItemType=s.a,this.FORM_REQUIRED_FIELD=this.sdaTranslateService.get("FORM_REQUIRED_FIELD","This field is required"),this.PICTURE_MASK_NOT_MATCHING=this.sdaTranslateService.get("PICTURE_MASK_NOT_MATCHING","Value does not match picture mask")}onValueChanged(e){this.valueChanged.emit(e)}getNextMajorMinor(e){this.nextMajorMinorEmitter.emit(e)}}return e.\u0275fac=function(t){return new(t||e)(i.Sb(o.a))},e.\u0275cmp=i.Mb({type:e,selectors:[["sda-form-display-line"]],inputs:{line:"line",editable:"editable"},outputs:{valueChanged:"valueChanged",nextMajorMinorEmitter:"nextMajorMinorEmitter"},decls:1,vars:1,consts:[["class","form__content",3,"form__content--multiple","form__content--single","form__content--non-editable","form__content--error","hidden",4,"ngFor","ngForOf"],[1,"form__content",3,"hidden"],[1,"form__title"],[1,"form__component",3,"ngSwitch"],["class","form__component__type",3,"isEditable","field",4,"ngSwitchCase"],["class","form__component__type",3,"isEditable","field","valueChanged",4,"ngSwitchCase"],["class","form__component__type",3,"isEditable","field","valueChanged","nextMajorMinorEmitter",4,"ngSwitchCase"],["class","form__component__type",3,"field",4,"ngSwitchCase"],["class","form__component__type",3,"field","nestedDataSourceInput","allowMultipleConfigSelection","preExpandedTree",4,"ngSwitchCase"],["class","form-validation-message",4,"ngIf"],[3,"field",4,"ngIf"],[1,"form__component__type",3,"isEditable","field"],[1,"form__component__type",3,"isEditable","field","valueChanged"],[1,"form__component__type",3,"isEditable","field","valueChanged","nextMajorMinorEmitter"],[1,"form__component__type",3,"field"],[1,"form__component__type",3,"field","nestedDataSourceInput","allowMultipleConfigSelection","preExpandedTree"],[1,"form-validation-message"],["svgIcon","error",1,"form-validation-message__icon"],[3,"field"]],template:function(e,t){1&e&&i.Sc(0,$e,35,44,"div",0),2&e&&i.sc("ngForOf",t.line.FormDisplayItems)},directives:[c.s,c.x,c.y,c.t,u,b.a,m.a,g.a,_.a,C.a,S.a,y.a,E.a,M.a,v.a,I.a,P,re,de.a,B.a,pe],styles:['.form__title[_ngcontent-%COMP%]{overflow-wrap:break-word;word-wrap:break-word;word-break:break-word}[_nghost-%COMP%]{display:flex;flex-wrap:wrap}[_nghost-%COMP%]     sda-searchbar{max-width:340px}[_nghost-%COMP%]     .date-time-input, [_nghost-%COMP%]     .double-input, [_nghost-%COMP%]     .ens-item-input, [_nghost-%COMP%]     .enum-select, [_nghost-%COMP%]     .int-input, [_nghost-%COMP%]     .prime-calendar .ui-inputtext, [_nghost-%COMP%]     .rel-pick__select, [_nghost-%COMP%]     .string-input, [_nghost-%COMP%]     .uom-input, [_nghost-%COMP%]     .url-input, [_nghost-%COMP%]     .ymd-input{width:270px!important;height:34px}[_nghost-%COMP%]     .uxt-toolbar--top{height:42px!important;padding:0 8px}[_nghost-%COMP%]     .rel-find__list .list-base__items{height:170px;max-height:272px}[_nghost-%COMP%]     .mat-list-item{height:34px}.form__content[_ngcontent-%COMP%]{display:flex;flex-wrap:nowrap;padding:5px 10px}.form__content--single[_ngcontent-%COMP%]     .rel-empty, .form__content--single[_ngcontent-%COMP%]     .rel-find__list, .form__content--single[_ngcontent-%COMP%]     .rel-multi{min-width:340px}.form__content--single[_ngcontent-%COMP%]     .rel-empty .list-base, .form__content--single[_ngcontent-%COMP%]     .rel-find__list .list-base, .form__content--single[_ngcontent-%COMP%]     .rel-multi .list-base{max-width:600px}.form__content--multiple[_ngcontent-%COMP%]     .string-non-editable, .form__content--multiple[_ngcontent-%COMP%]     input, .form__content--multiple[_ngcontent-%COMP%]     select{min-width:150px!important;max-width:200px}.form__content--multiple[_ngcontent-%COMP%]     .rel-find__list{width:auto!important;max-width:340px}.form__content[_ngcontent-%COMP%]:not(.form__content--non-editable){border:none;color:#000}.form__content[_ngcontent-%COMP%]:not(.form__content--non-editable)     .rel-pick--multiple sda-loading-indicator{position:absolute;top:50%;right:-30px;-webkit-transform:translate3d(0,-50%,0);transform:translate3d(0,-50%,0)}.form__content--error[_ngcontent-%COMP%]     .double-input, .form__content--error[_ngcontent-%COMP%]     .enum-select, .form__content--error[_ngcontent-%COMP%]     .int-input, .form__content--error[_ngcontent-%COMP%]     .list-base, .form__content--error[_ngcontent-%COMP%]     .prime-calendar .ui-inputtext, .form__content--error[_ngcontent-%COMP%]     .rel-pick__select, .form__content--error[_ngcontent-%COMP%]     .rel__no-results, .form__content--error[_ngcontent-%COMP%]     .search-query, .form__content--error[_ngcontent-%COMP%]     .string-input, .form__content--error[_ngcontent-%COMP%]     .string-textarea, .form__content--error[_ngcontent-%COMP%]     .uom-input, .form__content--error[_ngcontent-%COMP%]     .uom-select, .form__content--error[_ngcontent-%COMP%]     .url-input, .form__content--error[_ngcontent-%COMP%]     uxt-list{border:2px solid #db142d!important}.form__content--error[_ngcontent-%COMP%]     .rel-query--empty{border:0;background-color:#db142d}.form__content--error[_ngcontent-%COMP%]     .list-base, .form__content--error[_ngcontent-%COMP%]     .rel__no-results, .form__content--error[_ngcontent-%COMP%]     uxt-list{border-radius:2px;overflow:hidden}.form__title[_ngcontent-%COMP%]{position:relative;width:200px;min-width:200px;min-height:34px;margin-right:10px;padding-top:10px;padding-right:12px;font-size:14px;color:#444;font-weight:500;line-height:1.1;text-align:end}.form__title--required[_ngcontent-%COMP%]:after{content:"*";position:absolute;top:0;right:0;color:#d7142c;font-size:16px}.form__component[_ngcontent-%COMP%]{display:flex;flex-direction:column;font-size:14px}.form__component__type[_ngcontent-%COMP%]{position:relative;display:flex}.form-validation-message[_ngcontent-%COMP%]{display:flex;align-items:center;margin-top:2px;color:#d7142c;font-size:12px}.form-validation-message__icon[_ngcontent-%COMP%]{flex-shrink:0;width:16px;height:16px;margin-right:3px}']}),e})()},V3wY:function(e,t,n){"use strict";n.d(t,"a",(function(){return h}));var i=n("fXoL"),o=n("neE7"),s=n("UVhF"),c=n("8RLy"),a=n("TQny"),l=n("ofXK"),r=n("QIK8");function d(e,t){if(1&e){const e=i.Zb();i.Yb(0,"sda-form-display-line",1),i.hc("valueChanged",(function(t){return i.Kc(e),i.lc().valueChanged(t)}))("nextMajorMinorEmitter",(function(t){return i.Kc(e),i.lc().getNextMajorMinor(t)})),i.Xb()}if(2&e){const e=t.$implicit,n=i.lc();i.sc("line",e)("editable",n.editable)}}let h=(()=>{class e{constructor(e,t){this.formService=e,this.dependentItemsService=t,this.formValueChanged=new i.o}valueChanged(e){e&&e.RevisionScheme?this.formPurpose!==c.a.Update&&e.RelObjects&&e.RelObjects.length>0&&(this.selectedRevScheme=e.RelObjects&&e.RelObjects[0].Key,this.formPurpose===c.a.Revise?this.getNextMajorMinor(this.formSection.GetNextMajor):this.getInitialMajorMinor()):this.dependentItemsService.DisplayItemsValueChanged(e,this.formSection),this.formValueChanged.emit(e)}getInitialMajorMinor(){this.formService.getInitialMajorMinorRevisionForRevScheme(this.selectedRevScheme).subscribe(e=>{this.updateMajorMinorRevisionFields(e)})}getNextMajorMinor(e){this.selectedRevScheme&&this.formService.getInitialMajorMinorRevisionForRevScheme(this.selectedRevScheme,e,this.formSection.AssociatedObjectOBIDForUpdate).subscribe(e=>{this.updateMajorMinorRevisionFields(e)})}updateMajorMinorRevisionFields(e){this.revertMinorRevDisplayItem(e),this.formSection.FormDisplayLines.forEach((t,n)=>{t.FormDisplayItems.forEach((n,i)=>{const s=n;s.PropertyUID===o.a.majorRevisionUID?(s.Value=e.MajorRevision,this.formValueChanged.emit(s)):s.PropertyUID===o.a.minorRevisionUID&&(s.Value=e.MinorRevision,s.Value||e.CustomRevision||(this.minorRevOriginal=t.FormDisplayItems[i],t.FormDisplayItems.splice(i,1)),this.formValueChanged.emit(s))})})}revertMinorRevDisplayItem(e){(e.MinorRevision||!0===e.CustomRevision)&&this.minorRevOriginal&&this.formSection.FormDisplayLines.forEach((e,t)=>{e.FormDisplayItems.find(e=>e.PropertyUID===o.a.majorRevisionUID)&&(e.FormDisplayItems.includes(this.minorRevOriginal)||e.FormDisplayItems.push(this.minorRevOriginal))})}}return e.\u0275fac=function(t){return new(t||e)(i.Sb(s.a),i.Sb(a.a))},e.\u0275cmp=i.Mb({type:e,selectors:[["sda-revision-scheme-form-section"]],inputs:{formSection:"formSection",editable:"editable",formPurpose:"formPurpose"},outputs:{formValueChanged:"formValueChanged"},decls:1,vars:1,consts:[[3,"line","editable","valueChanged","nextMajorMinorEmitter",4,"ngFor","ngForOf"],[3,"line","editable","valueChanged","nextMajorMinorEmitter"]],template:function(e,t){1&e&&i.Sc(0,d,1,2,"sda-form-display-line",0),2&e&&i.sc("ngForOf",t.formSection.FormDisplayLines)},directives:[l.s,r.a],encapsulation:2}),e})()},ZI9S:function(e,t,n){"use strict";n.d(t,"a",(function(){return k}));var i=n("ofXK"),o=n("3Pt+"),s=n("NFeN"),c=n("Qu3c"),a=n("gHQW"),l=n("z96Q"),r=n("hbwR"),d=n("2RYc"),h=n("xQ71"),p=n("Z5F4"),f=n("qE8o"),u=n("l3mi"),b=n("g6on"),m=n("fXoL");let g=(()=>{class e{}return e.\u0275mod=m.Qb({type:e}),e.\u0275inj=m.Pb({factory:function(t){return new(t||e)},imports:[[o.j,i.c,u.a,b.a]]}),e})();var _=n("v82b"),C=n("bTqV"),S=n("bSwM"),y=n("8yBR"),E=n("BMkO"),M=n("mQCr"),v=n("VL22");let I=(()=>{class e{}return e.\u0275mod=m.Qb({type:e}),e.\u0275inj=m.Pb({factory:function(t){return new(t||e)},providers:[v.a],imports:[[S.b,y.e,i.c,o.j,C.b,M.a,u.a,s.b,E.a,c.b]]}),e})(),T=(()=>{class e{}return e.\u0275mod=m.Qb({type:e}),e.\u0275inj=m.Pb({factory:function(t){return new(t||e)},imports:[[o.j,i.c,I]]}),e})();var x=n("DkN+"),P=n("9his"),O=n("4jMT"),w=n("GDd0");let N=(()=>{class e{}return e.\u0275mod=m.Qb({type:e}),e.\u0275inj=m.Pb({factory:function(t){return new(t||e)},imports:[[i.c,o.j,w.a]]}),e})(),k=(()=>{class e{}return e.\u0275mod=m.Qb({type:e}),e.\u0275inj=m.Pb({factory:function(t){return new(t||e)},imports:[[i.c,o.j,l.a,r.a,d.a,h.a,p.a,f.a,_.a,b.a,x.a,P.a,O.a,c.b,g,T,a.a,s.b,N]]}),e})()},Zldc:function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var i=n("fXoL"),o=n("TQny"),s=n("ofXK"),c=n("QIK8");function a(e,t){if(1&e){const e=i.Zb();i.Yb(0,"sda-form-display-line",1),i.hc("valueChanged",(function(t){return i.Kc(e),i.lc().valueChanged(t)})),i.Xb()}if(2&e){const e=t.$implicit,n=i.lc();i.sc("line",e)("editable",n.editable)}}let l=(()=>{class e{constructor(e){this.dependentItemsService=e,this.formValueChanged=new i.o,this.valueChangedfordependentItems(e)}ngOnDestroy(){this.dependentItemSubscription&&this.dependentItemSubscription.unsubscribe()}valueChanged(e){this.dependentItemsService.DisplayItemsValueChanged(e,this.formSection)}valueChangedfordependentItems(e){this.dependentItemSubscription=this.dependentItemsService.dependentItemsFetchedSubjectChanges$.subscribe(e=>{this.formValueChanged.emit(e)})}}return e.\u0275fac=function(t){return new(t||e)(i.Sb(o.a))},e.\u0275cmp=i.Mb({type:e,selectors:[["sda-form-section"]],inputs:{formSection:"formSection",editable:"editable"},outputs:{formValueChanged:"formValueChanged"},features:[i.Db([o.a])],decls:1,vars:1,consts:[[3,"line","editable","valueChanged",4,"ngFor","ngForOf"],[3,"line","editable","valueChanged"]],template:function(e,t){1&e&&i.Sc(0,a,1,2,"sda-form-display-line",0),2&e&&i.sc("ngForOf",t.formSection.FormDisplayLines)},directives:[s.s,c.a],encapsulation:2}),e})()},neE7:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));let i=(()=>{class e{}return e.majorRevisionUID="SPFMajorRevision",e.minorRevisionUID="SPFMinorRevision",e.revIssueDate="SPFRevIssueDate",e})()},ryGf:function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var i=n("ofXK"),o=n("3Pt+"),s=n("ZI9S"),c=n("EYRx"),a=n("fXoL");let l=(()=>{class e{}return e.\u0275mod=a.Qb({type:e}),e.\u0275inj=a.Pb({factory:function(t){return new(t||e)},imports:[[i.c,o.j,s.a,c.a]]}),e})()}}]);