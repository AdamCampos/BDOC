(window.webpackJsonp=window.webpackJsonp||[]).push([[55],{"+qkj":function(e,t,i){"use strict";i.d(t,"a",(function(){return r}));var a=i("Ejbi"),s=i("fXoL"),n=i("7EHt"),o=i("HXFx");let r=(()=>{class e{constructor(e){this.sdaTranslateService=e,this.FORM_RELATED_ITEMS=this.sdaTranslateService.get("FORM_RELATED_ITEMS","Related Items")}}return e.\u0275fac=function(t){return new(t||e)(s.Sb(a.a))},e.\u0275cmp=s.Mb({type:e,selectors:[["sda-related-items-section"]],inputs:{tabs:"tabs"},decls:6,vars:5,consts:[["displayMode","flat"],[1,"related-items-panel",3,"expanded"],["collapsedHeight","38px","expandedHeight","38px"],[3,"tabs","openInfoMapInNewTab","showItemCount"]],template:function(e,t){1&e&&(s.Yb(0,"mat-accordion",0),s.Yb(1,"mat-expansion-panel",1),s.Yb(2,"mat-expansion-panel-header",2),s.Yb(3,"mat-panel-title"),s.Uc(4),s.Xb(),s.Xb(),s.Tb(5,"sda-tabbed-grid-view",3),s.Xb(),s.Xb()),2&e&&(s.Eb(1),s.sc("expanded",!0),s.Eb(3),s.Wc(" ",t.FORM_RELATED_ITEMS," "),s.Eb(1),s.sc("tabs",t.tabs)("openInfoMapInNewTab",!0)("showItemCount",!0))},directives:[n.a,n.c,n.g,n.h,o.a],styles:[".related-items-panel[_ngcontent-%COMP%]{border-radius:0!important;box-shadow:none!important}.related-items-panel.mat-expanded[_ngcontent-%COMP%]{overflow:visible;-webkit-animation:delay-overflow 1s;animation:delay-overflow 1s}.related-items-panel[_ngcontent-%COMP%]   mat-expansion-panel-header[_ngcontent-%COMP%]{background-color:#ebedf0!important}.related-items-panel[_ngcontent-%COMP%]     .mat-expansion-panel-body{padding:0}.related-items-panel[_ngcontent-%COMP%]     sda-tabbed-grid-view{flex:none;height:auto}.related-items-panel[_ngcontent-%COMP%]     sda-tabbed-grid-view mat-tab-group{height:40vh;min-height:250px;border-top:1px solid #cad0d7}"]}),e})()},"CG+f":function(e,t,i){"use strict";i.d(t,"a",(function(){return H}));var a=i("IzEk"),s=i("eIep"),n=i("YwUS"),o=i("PqRi"),r=i("k/hs"),l=i("11V9"),c=i("UVhF"),d=i("zuZ1"),p=i("LUpO"),h=i("C4gn"),f=i("xc+7"),b=i("z+VC"),S=i("osZK"),u=i("c+03"),m=i("jNCI"),E=i("Qi+w"),g=i("wpY2"),T=i("HLw3"),O=i("iwlc"),v=i("F8JD"),I=i("J7mc"),C=i("DG5G"),R=i("z0XX"),w=i("Ejbi"),y=i("NEWU"),_=i("41Lq"),D=i("biIz"),A=i("xiNR"),F=i("fXoL"),M=i("tyNb"),x=i("ofXK"),P=i("TLn4"),N=i("pEK1"),L=i("ouxa"),j=i("YgEk"),U=i("/Pv7"),z=i("fWeB"),X=i("L18N"),Y=i("ME6W"),K=i("+qkj");function k(e,t){1&e&&F.Tb(0,"sda-loading-indicator",2),2&e&&F.sc("centered",!0)}function B(e,t){if(1&e){const e=F.Zb();F.Yb(0,"uxt-wizard-step",7),F.Yb(1,"sda-classification-step-view",13),F.hc("classificationSelected",(function(){return F.Kc(e),F.lc(2).onClassificationSelected()})),F.Xb(),F.Xb()}if(2&e){const e=F.lc(2);F.sc("stepId",e.classificationStep.name)("isMandatory",!0),F.Eb(1),F.sc("classificationStep",e.classificationStep)}}function V(e,t){if(1&e){const e=F.Zb();F.Yb(0,"uxt-wizard-step",9),F.Yb(1,"sda-form-relation-step-view",14),F.hc("isDocumentRelated",(function(t){return F.Kc(e),F.lc(2).validateIsDocumentRelated(t)}))("setRelationData",(function(t){return F.Kc(e),F.lc(2).setRelationData(t)}))("setFileType",(function(t){return F.Kc(e),F.lc(2).setFileType(t)}))("editedColumnEmitter",(function(t){return F.Kc(e),F.lc(2).editedColumnEmitter(t)})),F.Xb(),F.Xb()}if(2&e){const e=F.lc(2);F.sc("stepId",e.formRelationStep.name),F.Eb(1),F.sc("relDefForWizard",e.relDefForWizard)("interfaceDefFilterColumnSet",e.interfaceDefFilterColumnSet)("contextOBIDs",e.contextOBIDs)("displayItemNavigationPath",e.displayItemNavigationPath)("linkPropertyList",e.linkPropertyList)}}function G(e,t){if(1&e){const e=F.Zb();F.Yb(0,"uxt-wizard-step",9),F.Yb(1,"sda-file-upload",15,16),F.hc("filesUploaded",(function(t){return F.Kc(e),F.lc(2).fileUploadAndAttachStep.filesUploaded(t)}))("filesPendingForUpload",(function(t){return F.Kc(e),F.lc(2).fileUploadAndAttachStep.filesPendingForUpload(t)})),F.Xb(),F.Xb()}if(2&e){const e=F.lc(2);F.sc("stepId",e.fileUploadAndAttachStep.name),F.Eb(1),F.sc("uploadMode",e.fileUploadAndAttachStep.mode)("singleUpload",e.fileUploadAndAttachStep.singleUpload)}}function W(e,t){if(1&e&&F.Tb(0,"sda-related-items-section",17),2&e){const e=F.lc(2);F.sc("tabs",e.relatedItemTabs)}}function q(e,t){if(1&e){const e=F.Zb();F.Yb(0,"div",3),F.Yb(1,"uxt-wizard",4,5),F.hc("finish",(function(){return F.Kc(e),F.lc().createObjectAndFinish()}))("propertySetter",(function(){F.Kc(e);const t=F.lc();return t.setPropertyAndCreateObject(t.propertySetterArray[0])}))("apply",(function(){return F.Kc(e),F.lc().createObjectAndApply()}))("cancel",(function(){return F.Kc(e),F.lc().cancelWizard()}))("stepChange",(function(t){return F.Kc(e),F.lc().stepChange(t)})),F.Sc(3,B,2,3,"uxt-wizard-step",6),F.Yb(4,"uxt-wizard-step",7),F.Yb(5,"sda-form-step-view",8),F.hc("formInitializedEvent",(function(){return F.Kc(e),F.lc().populateFormWithMappings()}))("onGridTabsChanged",(function(t){return F.Kc(e),F.lc().relatedItemTabs=t}))("clearObjectsToRelate",(function(t){return F.Kc(e),F.lc().clearObjectsToRelate(t)})),F.Xb(),F.Xb(),F.Yb(6,"uxt-wizard-step",9),F.Tb(7,"sda-ens-preview",10),F.Xb(),F.Sc(8,V,2,6,"uxt-wizard-step",11),F.Sc(9,G,3,3,"uxt-wizard-step",11),F.Sc(10,W,1,1,"sda-related-items-section",12),F.Xb(),F.Xb()}if(2&e){const e=F.lc();F.Eb(1),F.sc("showPropertySetter",e.showPropertySetter)("propertySetterText",e.propertySetterArray[1])("finishText",e.FINISH_TEXT)("applyText",e.APPLY_TEXT)("cancelText",e.CANCEL_TEXT)("stepTranslation",e.STEP_TEXT)("ofTranslation",e.OF_TEXT)("isApplyVisible",e.applyAllowed&&!e.showPropertySetter)("isApplyEnabled",e.isNextEnabled)("isFinishEnabled",e.isFinishEnabled)("isNextEnabled",e.isNextEnabled)("step",e.stepName),F.Eb(2),F.sc("ngIf",e.classificationStep.showStep),F.Eb(1),F.sc("stepId",e.formStep.name)("isMandatory",!0),F.Eb(1),F.sc("selectedClassOBID",e.selectedClassOBID)("formStep",e.formStep)("relatedObjectRelDef",e.relatedObjectRelDef),F.Eb(1),F.sc("stepId",e.ensPreviewStep.name),F.Eb(1),F.sc("ensPreviewStep",e.ensPreviewStep)("ensForm",e.ensForm)("classifciationOBID",e.selectedClassOBID),F.Eb(1),F.sc("ngIf",e.formRelationStep.showStep),F.Eb(1),F.sc("ngIf",e.fileUploadAndAttachStep.showStep),F.Eb(1),F.sc("ngIf","form"===e.stepName&&e.relatedItemTabs.length>0)}}let H=(()=>{class e extends A.a{constructor(e,t,i,a,s,n,o,r,l,c,d,p,h,f,b,S,u,m,E,g,T,O,v,I,C,R,w){super(e,t,i,a,s,n,o,r,l,c,d,p,h,f,b,S,u,m,E,g,T,O,C,R),this.route=e,this.formService=t,this.applicationSettingsService=i,this.router=a,this.notificationService=s,this.exceptionService=n,this.loadingOverlayService=o,this.modalService=r,this.formValidationService=l,this.batchRequestFactory=c,this.dataService=d,this.featureSetService=p,this.pinsMenuService=h,this.sdaTranslateService=f,this.elementRef=b,this.helpService=S,this.saveChangesDialogService=u,this.featureSetNavigationService=m,this.todoListService=E,this.fileUploaderService=g,this.referenceFileHandlingService=T,this.ensService=O,this.changedetector=v,this.formRelationStepService=I,this.relatedItemService=C,this.methodService=R,this.queryservice=w,this.validateGridControl=!1,this.validateRelationStepGrid=!1,this.isFinishEnabled=!1,this.linkPropertyList=[],this.editableColumnData=[],this.isAllEditableColumnSet=!1,this.isAnyMandatory=!1,this.FORM_RELATION_STEP_CHECKBOX_SELECTED_COLUMN_INVALID=this.sdaTranslateService.get("FORM_RELATION_STEP_CHECKBOX_SELECTED_COLUMN_INVALID","One or more documents are not accessible by the recipient user. Select the Collaborate option or remove the document from the transmittal."),this.FORM_RELATION_STEP_FILE_TYPE_NOT_SELECTED=this.sdaTranslateService.get("FORM_RELATION_STEP_FILE_TYPE_NOT_SELECTED","The file type for some of the attached documents is not defined. To proceed, select at least one file type."),this.FORM_RELATION_STEP_MANDATORY_COLUMN_NOT_SELECTED=this.sdaTranslateService.get("FORM_RELATION_STEP_MANDATORY_COLUMN_NOT_SELECTED","One or more of the mandatory columns is not defined. To proceed, select at least one value."),this.paramMapSubscription=this.route.paramMap.subscribe(e=>{this.setupFormRelationParameter(e.get(y.e),e.get(y.f)),this.contextOBIDs=JSON.parse(e.get(y.u)),this.formRelationStep.relDefUID=e.get(y.g),this.displayItemNavigationPath=e.get(y.h),e.get(y.i)&&(this.linkPropertyList=e.get(y.i).split(","))})}ngOnDestroy(){super.ngOnDestroy(),this.paramMapSubscription&&(this.paramMapSubscription.unsubscribe(),this.paramMapSubscription=void 0)}onValidateForm(){let e=[];return this.objectsToRelate&&this.stepName===this.formRelationStep.name&&(e=this.validateForFormRelationStep(),e.length>0)?e:this.validateRelationStepGrid&&this.formRelationStep.isValid&&this.stepName===this.formRelationStep.name?(e.push(this.FORM_RELATION_STEP_CHECKBOX_SELECTED_COLUMN_INVALID),e):this.validateGridControl?this.formValidationService.isFormValid(this.formStep.form,this.formStep.additionalRelDisplayItems):this.formValidationService.isFormValid(this.formStep.form)}onBeforeSetPropertyAndCreateObject(){this.validateGridControl=!1,this.validateRelationStepGrid=!1,this.stepName===this.formStep.name&&this.formRelationStep.showStep&&this.formRelationStep.url&&this.formRelationStepService.getUpdatedDisplayItem(this.formStep.form)}onBeforeCreateAndApply(){this.validateGridControl=!0,this.validateRelationStepGrid=!0}onBeforeCreateAndFinish(){this.validateGridControl=!0,this.validateRelationStepGrid=!0}onBeforeNextStep(e){this.validateRelationStepGrid=!1,this.validateGridControl=!1,this.formRelationStep.showStep&&this.displayItemNavigationPath&&e===this.formRelationStep.name&&(this.formRelationStepService.getUpdatedDisplayItem(this.formStep.form),this.isFinishEnabled=!!(this.objectsToRelate&&this.objectsToRelate.length>0)),!this.formRelationStep.relDefUID||e!==this.formStep.name&&e!==this.ensPreviewStep.name||(this.isFinishEnabled=!1)}onCreateObjectFromForm(){const e=this.batchRequestFactory.createBatchRequest();return this.changeset=e.createChangeset(),this.onAddCreateObjectFromFormToChangeset(this.changeset),this.relateEditableColumnData(),this.formRelationStep.showStep&&this.formRelationStep.url&&this.formRelationStep.otherEndObid&&this.formRelationStep.relDefUID?this.getFormRelationStepRelationships(e):this.ExcuteBatchRequest(e)}ExcuteBatchRequest(e){const t=[];return e.addChangeset(this.changeset),e.execute().pipe(Object(a.a)(1),Object(s.a)(e=>{let i=!0;if(e.forEach(e=>{e.hasErrored&&(this.exceptionService.handleException(e.exception),i=!1)}),i){const i=e.filter(e=>""!==e.data&&void 0!==e.data)[0].data;t.push(i)}else this.loadingOverlayService.hideLoadingOverlay();return t}))}validateIsDocumentRelated(e){let t,i;e.relDefName&&(t=e.relDefName.substring(1),i=e.relDefName.startsWith("+")),this.isFinishEnabled=e.btnEnable,this.objectsToRelate&&this.objectsToRelate.forEach((i,a)=>{i.relDefUID===t&&(i.obidsOfOtherEndObject.length>1?this.objectsToRelate.splice(a,1):i.obidsOfOtherEndObject.forEach(t=>{e.obids.includes(t)||this.objectsToRelate.splice(a,1)}))}),e.obids&&e.obids.length>0&&t&&(this.objectsToRelate||(this.objectsToRelate=[]),e.obids.forEach(e=>{0===this.objectsToRelate.filter(t=>t.obidsOfOtherEndObject.includes(e)).length&&this.objectsToRelate.push(new r.a(t,i,[e]))})),this.changedetector.detectChanges()}setFileType(e){const t=Object.values(e);this.objectsToRelate.map(e=>{t.filter(t=>e.obidsOfOtherEndObject.includes(t.obid)).forEach(t=>{e.linkProperties||(e.linkProperties=new Map),e.linkProperties.set(t.propertyUID,t.isCheked?"True":"False")})})}editedColumnEmitter(e){this.editableColumnData=e.editableColumns,this.isAllEditableColumnSet=e.isValid,this.isAnyMandatory=e.isAnyMandatory}setRelationData(e){this.formRelationStep.url=e.url,this.formRelationStep.otherEndObid=e.obid,this.formRelationStep.isValid=e.isChekedAll}setupFormRelationParameter(e,t){e&&t?(this.formRelationStep.showStep=!0,this.relDefForWizard=e,this.interfaceDefFilterColumnSet=t):this.isFinishEnabled=!0}getFormRelationStepRelationships(e){return this.formRelationStepService.getIntermediateObids(this.formRelationStep.url,"EDG_VersionMaster").pipe(Object(a.a)(1),Object(s.a)(t=>(t.length>0&&t.forEach(e=>{this.changeset.addRelateRequest(e,this.formRelationStep.otherEndObid,this.formRelationStep.relDefUID,!0)}),this.ExcuteBatchRequest(e))))}relateEditableColumnData(){this.editableColumnData.length>0&&this.crudOptionalItemsToInclude.relationships.length>0&&this.editableColumnData.forEach(e=>{e.editedColumnDetails&&e.editedColumnDetails.length>0&&e.editedColumnDetails.forEach(e=>{e.isTerminate?this.changeset.addUnrelate(e.thisEndObid,e.otherEndObid,e.relDef,e.direction,e.isTerminate):this.changeset.addRelateRequest(e.thisEndObid,e.otherEndObid,e.relDef,e.direction)})})}validateForFormRelationStep(){const e=[];if(this.linkPropertyList.length>0){let t=!1;this.objectsToRelate.forEach(e=>{[...e.linkProperties.values()].some(e=>"True"===e)||(t=!0)}),t&&e.push(this.FORM_RELATION_STEP_FILE_TYPE_NOT_SELECTED)}if(this.editableColumnData.length>0&&this.isAnyMandatory)if(this.isAllEditableColumnSet){let t=!1;this.editableColumnData.forEach(e=>{!0===e.isMandatory&&"-"===e.value&&(t=!0)}),t&&e.push(this.FORM_RELATION_STEP_MANDATORY_COLUMN_NOT_SELECTED)}else e.push(this.FORM_RELATION_STEP_MANDATORY_COLUMN_NOT_SELECTED);return e}}return e.\u0275fac=function(t){return new(t||e)(F.Sb(M.a),F.Sb(c.a),F.Sb(n.a),F.Sb(M.g),F.Sb(_.a),F.Sb(p.a),F.Sb(u.a),F.Sb(m.a),F.Sb(l.a),F.Sb(T.a),F.Sb(I.a),F.Sb(f.a),F.Sb(E.a),F.Sb(w.a),F.Sb(F.l),F.Sb(O.a),F.Sb(g.a),F.Sb(h.a),F.Sb(D.a),F.Sb(S.a),F.Sb(b.a),F.Sb(o.a),F.Sb(F.h),F.Sb(d.a),F.Sb(R.a),F.Sb(v.a),F.Sb(C.a))},e.\u0275cmp=F.Mb({type:e,selectors:[["sda-create-wizard-class-obj-feature-view"]],features:[F.Bb],decls:2,vars:2,consts:[["class","wc-background",3,"centered",4,"ngIf"],["class","form-wrapper",4,"ngIf"],[1,"wc-background",3,"centered"],[1,"form-wrapper"],[1,"sd-wizard-basics-wizard",3,"showPropertySetter","propertySetterText","finishText","applyText","cancelText","stepTranslation","ofTranslation","isApplyVisible","isApplyEnabled","isFinishEnabled","isNextEnabled","step","finish","propertySetter","apply","cancel","stepChange"],["uxtWizard",""],[3,"stepId","isMandatory",4,"ngIf"],[3,"stepId","isMandatory"],[3,"selectedClassOBID","formStep","relatedObjectRelDef","formInitializedEvent","onGridTabsChanged","clearObjectsToRelate"],[3,"stepId"],[3,"ensPreviewStep","ensForm","classifciationOBID"],[3,"stepId",4,"ngIf"],["class","uxt-wizard-bottom-content",3,"tabs",4,"ngIf"],[3,"classificationStep","classificationSelected"],[3,"relDefForWizard","interfaceDefFilterColumnSet","contextOBIDs","displayItemNavigationPath","linkPropertyList","isDocumentRelated","setRelationData","setFileType","editedColumnEmitter"],[3,"uploadMode","singleUpload","filesUploaded","filesPendingForUpload"],["sdafileupload",""],[1,"uxt-wizard-bottom-content",3,"tabs"]],template:function(e,t){1&e&&(F.Sc(0,k,1,1,"sda-loading-indicator",0),F.Sc(1,q,11,25,"div",1)),2&e&&(F.sc("ngIf",!t.wizardInitialized),F.Eb(1),F.sc("ngIf",(!t.createdObject||t.showApply)&&t.wizardInitialized))},directives:[x.t,P.a,N.a,L.a,j.a,U.a,z.a,X.a,Y.a,K.a],styles:["[_nghost-%COMP%]{overflow:hidden}[_nghost-%COMP%], [_nghost-%COMP%]   .form-wrapper[_ngcontent-%COMP%]{display:flex;width:100%;height:100%}[_nghost-%COMP%]   .form-wrapper[_ngcontent-%COMP%]{flex-direction:column;align-items:center;background-color:#cad0d7}[_nghost-%COMP%]   sda-loading-indicator[_ngcontent-%COMP%]{flex:1}[_nghost-%COMP%]     sda-tabbed-grid{position:relative;padding:7px}"]}),e})()},xiNR:function(e,t,i){"use strict";i.d(t,"a",(function(){return k}));var a=i("YwUS"),s=i("PqRi"),n=i("11V9"),o=i("UVhF"),r=i("Wvjz"),l=i("LUpO"),c=i("C4gn"),d=i("xc+7"),p=i("z+VC"),h=i("ME6W"),f=i("osZK"),b=i("c+03"),S=i("jNCI"),u=i("Qi+w"),m=i("wpY2"),E=i("HLw3"),g=i("iwlc"),T=i("F8JD"),O=i("J7mc"),v=i("z0XX"),I=i("Ejbi"),C=i("41Lq"),R=i("yzqN"),w=i("biIz"),y=i("fXoL"),_=i("tyNb"),D=i("ofXK"),A=i("TLn4"),F=i("pEK1"),M=i("ouxa"),x=i("YgEk"),P=i("/Pv7"),N=i("fWeB"),L=i("+qkj");const j=["sdafileupload"];function U(e,t){if(1&e&&y.Tb(0,"sda-loading-indicator",2),2&e){const e=y.lc();y.sc("message",e.LOADING_FORM_PLEASE_WAIT)("centered",!0)}}function z(e,t){if(1&e){const e=y.Zb();y.Yb(0,"uxt-wizard-step",7),y.Yb(1,"sda-classification-step-view",13),y.hc("classificationSelected",(function(){return y.Kc(e),y.lc(2).onClassificationSelected()})),y.Xb(),y.Xb()}if(2&e){const e=y.lc(2);y.sc("stepId",e.classificationStep.name)("isMandatory",!0),y.Eb(1),y.sc("classificationStep",e.classificationStep)}}function X(e,t){if(1&e){const e=y.Zb();y.Yb(0,"uxt-wizard-step",9),y.Yb(1,"sda-file-upload",14,15),y.hc("filesUploaded",(function(t){return y.Kc(e),y.lc(2).fileUploadAndAttachStep.filesUploaded(t)}))("filesPendingForUpload",(function(t){return y.Kc(e),y.lc(2).fileUploadAndAttachStep.filesPendingForUpload(t)})),y.Xb(),y.Xb()}if(2&e){const e=y.lc(2);y.sc("stepId",e.fileUploadAndAttachStep.name),y.Eb(1),y.sc("uploadMode",e.fileUploadAndAttachStep.mode)("singleUpload",e.fileUploadAndAttachStep.singleUpload)}}function Y(e,t){if(1&e&&y.Tb(0,"sda-related-items-section",16),2&e){const e=y.lc(2);y.sc("tabs",e.relatedItemTabs)}}function K(e,t){if(1&e){const e=y.Zb();y.Yb(0,"div",3),y.Yb(1,"uxt-wizard",4,5),y.hc("finish",(function(){return y.Kc(e),y.lc().createObjectAndFinish()}))("apply",(function(){return y.Kc(e),y.lc().createObjectAndApply()}))("cancel",(function(){return y.Kc(e),y.lc().cancelWizard()}))("stepChange",(function(t){return y.Kc(e),y.lc().stepChange(t)})),y.Sc(3,z,2,3,"uxt-wizard-step",6),y.Yb(4,"uxt-wizard-step",7),y.Yb(5,"sda-form-step-view",8),y.hc("formInitializedEvent",(function(){return y.Kc(e),y.lc().populateFormWithMappings()}))("onGridTabsChanged",(function(t){return y.Kc(e),y.lc().onGridTabsChanged(t)}))("clearObjectsToRelate",(function(t){return y.Kc(e),y.lc().clearObjectsToRelate(t)})),y.Xb(),y.Xb(),y.Yb(6,"uxt-wizard-step",9),y.Tb(7,"sda-ens-preview",10),y.Xb(),y.Sc(8,X,3,3,"uxt-wizard-step",11),y.Sc(9,Y,1,1,"sda-related-items-section",12),y.Xb(),y.Xb()}if(2&e){const e=y.lc();y.Eb(1),y.sc("finishText",e.FINISH_TEXT)("applyText",e.APPLY_TEXT)("cancelText",e.CANCEL_TEXT)("stepTranslation",e.STEP_TEXT)("ofTranslation",e.OF_TEXT)("isApplyVisible",e.applyAllowed)("isApplyEnabled",e.isNextEnabled)("isFinishEnabled",e.isNextEnabled)("isNextEnabled",e.isNextEnabled)("step",e.stepName),y.Eb(2),y.sc("ngIf",e.classificationStep.showStep),y.Eb(1),y.sc("stepId",e.formStep.name)("isMandatory",!0),y.Eb(1),y.sc("selectedClassOBID",e.selectedClassOBID)("formStep",e.formStep)("relatedObjectRelDef",e.relatedObjectRelDef),y.Eb(1),y.sc("stepId",e.ensPreviewStep.name),y.Eb(1),y.sc("ensPreviewStep",e.ensPreviewStep)("ensForm",e.ensForm)("classifciationOBID",e.selectedClassOBID),y.Eb(1),y.sc("ngIf",e.fileUploadAndAttachStep.showStep),y.Eb(1),y.sc("ngIf",e.stepName===e.formStep.name&&e.relatedItemTabs.length>0)}}let k=(()=>{class e extends r.a{constructor(e,t,i,a,s,n,o,r,l,c,d,p,h,f,b,S,u,m,E,g,T,O,v,I){super(e,a,p,f,t,n,o,i,l,c,d,s,r,h,b,u,m,E,g,T,O,I,v),this.route=e,this.formService=t,this.applicationSettingsService=i,this.router=a,this.notificationService=s,this.exceptionService=n,this.loadingOverlayService=o,this.modalService=r,this.formValidationService=l,this.batchRequestFactory=c,this.dataService=d,this.featureSetService=p,this.pinsMenuService=h,this.sdaTranslateService=f,this.elementRef=b,this.helpService=S,this.saveChangesDialogService=u,this.featureSetNavigationService=m,this.todoListService=E,this.fileUploaderService=g,this.referenceFileHandlingService=T,this.ensService=O,this.relatedItemService=v,this.methodService=I,this.LOADING_FORM_PLEASE_WAIT=this.sdaTranslateService.get("LOADING_FORM_PLEASE_WAIT","Loading form, please wait..."),this.helpService.setHandlers(R.h)}ngOnInit(){this.initializeComponent()}onValidateForm(){return this.formValidationService.isFormValid(this.formStep.form,this.formStep.additionalRelDisplayItems)}onCreateObject(){this.objectsToRelate&&(this.crudOptionalItemsToInclude.relationships=[],this.objectsToRelate.forEach(e=>this.crudOptionalItemsToInclude.relationships.push(e)))}updateStepValidity(){this.isNextEnabled=this.isStepValid()}clearUploadedFiles(){this.fileUploadComponent.removeAllFromQueue()}}return e.\u0275fac=function(t){return new(t||e)(y.Sb(_.a),y.Sb(o.a),y.Sb(a.a),y.Sb(_.g),y.Sb(C.a),y.Sb(l.a),y.Sb(b.a),y.Sb(S.a),y.Sb(n.a),y.Sb(E.a),y.Sb(O.a),y.Sb(d.a),y.Sb(u.a),y.Sb(I.a),y.Sb(y.l),y.Sb(g.a),y.Sb(m.a),y.Sb(c.a),y.Sb(w.a),y.Sb(f.a),y.Sb(p.a),y.Sb(s.a),y.Sb(v.a),y.Sb(T.a))},e.\u0275cmp=y.Mb({type:e,selectors:[["sda-create-class-obj-feature-view"]],viewQuery:function(e,t){var i;1&e&&y.bd(j,!0),2&e&&y.Gc(i=y.ic())&&(t.fileUploadComponent=i.first)},features:[y.Bb],decls:2,vars:2,consts:[["class","wc-background",3,"message","centered",4,"ngIf"],["class","form-wrapper",4,"ngIf"],[1,"wc-background",3,"message","centered"],[1,"form-wrapper"],[1,"sd-wizard-basics-wizard",3,"finishText","applyText","cancelText","stepTranslation","ofTranslation","isApplyVisible","isApplyEnabled","isFinishEnabled","isNextEnabled","step","finish","apply","cancel","stepChange"],["uxtWizard",""],[3,"stepId","isMandatory",4,"ngIf"],[3,"stepId","isMandatory"],[3,"selectedClassOBID","formStep","relatedObjectRelDef","formInitializedEvent","onGridTabsChanged","clearObjectsToRelate"],[3,"stepId"],[3,"ensPreviewStep","ensForm","classifciationOBID"],[3,"stepId",4,"ngIf"],["class","uxt-wizard-bottom-content",3,"tabs",4,"ngIf"],[3,"classificationStep","classificationSelected"],[3,"uploadMode","singleUpload","filesUploaded","filesPendingForUpload"],["sdafileupload",""],[1,"uxt-wizard-bottom-content",3,"tabs"]],template:function(e,t){1&e&&(y.Sc(0,U,1,2,"sda-loading-indicator",0),y.Sc(1,K,10,22,"div",1)),2&e&&(y.sc("ngIf",!t.wizardInitialized),y.Eb(1),y.sc("ngIf",(!t.createdObject||t.showApply)&&t.wizardInitialized))},directives:[D.t,A.a,F.a,M.a,x.a,P.a,N.a,h.a,L.a],styles:["[_nghost-%COMP%]{overflow:hidden}[_nghost-%COMP%], [_nghost-%COMP%]   .form-wrapper[_ngcontent-%COMP%]{display:flex;width:100%;height:100%}[_nghost-%COMP%]   .form-wrapper[_ngcontent-%COMP%]{flex-direction:column;align-items:center;background-color:#cad0d7}[_nghost-%COMP%]   sda-loading-indicator[_ngcontent-%COMP%]{flex:1}[_nghost-%COMP%]     sda-tabbed-grid{position:relative;padding:7px}"]}),e})()},yFeZ:function(e,t,i){"use strict";i.r(t),i.d(t,"CreateWizardClassObjRoutingModule",(function(){return E}));var a=i("ofXK"),s=i("Tfoa"),n=i("T6+9"),o=i("XS8G"),r=i("oiMZ"),l=i("inpI"),c=i("F+hv"),d=i("0Ndu"),p=i("tyNb"),h=i("quZr"),f=i("CG+f"),b=i("fXoL");const S=[{path:"",component:f.a,canDeactivate:[h.a]}];let u=(()=>{class e{}return e.\u0275mod=b.Qb({type:e}),e.\u0275inj=b.Pb({factory:function(t){return new(t||e)},imports:[[p.k.forChild(S)],p.k]}),e})();var m=i("ZxfA");let E=(()=>{class e{}return e.\u0275mod=b.Qb({type:e}),e.\u0275inj=b.Pb({factory:function(t){return new(t||e)},imports:[[u,a.c,c.a,d.a,n.a,r.a,l.a,s.a,m.a,o.a]]}),e})()}}]);