(window.webpackJsonp=window.webpackJsonp||[]).push([[68],{"+Avo":function(e,t,i){"use strict";i.d(t,"a",(function(){return n}));class n{constructor(e){this.size=e.size,this.type=e.type,this.name=e.name,this.path="",this.fileData=e}getChunkBlob(e,t,i){let n=e*(t+1);return t>i&&(n=this.fileData.size),this.fileData.slice(e*t,n)}}},"+L4j":function(e,t,i){"use strict";i.d(t,"a",(function(){return r}));var n=i("ofXK"),s=i("UqQ1"),a=i("fXoL");let o=(()=>{class e{}return e.\u0275mod=a.Qb({type:e}),e.\u0275inj=a.Pb({factory:function(t){return new(t||e)},imports:[[n.c]]}),e})(),r=(()=>{class e{}return e.\u0275mod=a.Qb({type:e}),e.\u0275inj=a.Pb({factory:function(t){return new(t||e)},imports:[[n.c,s.a,o]]}),e})()},"+Pa6":function(e,t,i){"use strict";i.d(t,"a",(function(){return c}));var n=i("lJxs"),s=i("A3La"),a=i("Ejbi"),o=i("mOod"),r=i("fXoL");let c=(()=>{class e{constructor(e,t){this.oDataService=e,this.sdaTranslateService=t,this.REL_BUILDER_INVALID_RELDEF_ERROR=this.sdaTranslateService.get("REL_BUILDER_INVALID_RELDEF_ERROR","Not a valid relationship definition. The object on end1 or end2 does not match.")}getRelsForTarget(e,t,i){const s={TargetOBID:e,SourceOBIDs:t};return i&&i.length>0&&(s.RelOverrideUIDs=i),this.oDataService.post("GetAvailableRelDefsBetweenObjects",JSON.stringify(s)).pipe(Object(n.a)(e=>this.serializeRelResponse(e)))}serializeRelResponse(e){const t=new o.a,i={};if(e.value.RelationshipItems&&e.value.RelationshipItems.length>0){e.value.RelationshipItems.forEach(e=>{e.Target?(t.sourceObjects.push(e),e.Rels.forEach(e=>{const n=e.OBID+":"+e.Direction;i.hasOwnProperty(n)?i[n]+=1:(i[n]=1,t.allRelDefs[n]=e)})):t.targetObject=e});for(const n in i)i[n]===e.value.RelationshipItems.length-1&&(t.sharedRelDefs[n]=t.allRelDefs[n]);t.cardinalityError=e.value.CardinalityError,t.conditionNotSatisfied=e.value.ConditionNotSatisfied,t.existingRelation=e.value.ExistingRelation,t.interfaceAccess=e.value.InterfaceAccess}return t.relsExist=Object.keys(t.allRelDefs).length>0,t}}return e.\u0275fac=function(t){return new(t||e)(r.dc(s.a),r.dc(a.a))},e.\u0275prov=r.Ob({token:e,factory:e.\u0275fac}),e})()},"+eYH":function(e,t,i){"use strict";i.d(t,"a",(function(){return n}));class n{constructor(e,t,i,n,s,a,o){this.obid=e,this.name=t,this.config=i,this.displayAs=n,this.entityType=s,this.data=a,this.queryContextConfig=o,this.queryContextConfig=o||i,this.name=this.name||""}}},"+ooB":function(e,t,i){"use strict";i.d(t,"a",(function(){return n}));class n{constructor(e,t,i,n){this.title=e,this.component=t,this.componentFactoryResolver=i,this.injector=n,this.thirdBtn=void 0,this.size="small",this.hideCancel=!1,this.hideOk=!1,this.disableOk=!1,this.disableThirdButton=!1}}},"/6HS":function(e,t,i){"use strict";i.d(t,"a",(function(){return a}));var n=i("Ejbi"),s=i("fXoL");let a=(()=>{class e{constructor(e){this.sdaTranslateService=e,this.RELATIONSHIP_GROUP_REVISION_TITLE=this.sdaTranslateService.get("RELATIONSHIP_GROUP_REVISION_TITLE","Revision Relationships"),this.RELATIONSHIP_GROUP_VERSION_TITLE=this.sdaTranslateService.get("RELATIONSHIP_GROUP_VERSION_TITLE","Version Relationships"),this.RELATIONSHIP_GROUP_MASTER_TITLE=this.sdaTranslateService.get("RELATIONSHIP_GROUP_MASTER_TITLE","Master Relationships")}resolveResource(e){let t=e;switch(e){case"#9270":t=this.RELATIONSHIP_GROUP_REVISION_TITLE;break;case"#9269":t=this.RELATIONSHIP_GROUP_MASTER_TITLE;break;case"#9271":t=this.RELATIONSHIP_GROUP_VERSION_TITLE;break;default:t=e}return t}}return e.\u0275fac=function(t){return new(t||e)(s.dc(n.a))},e.\u0275prov=s.Ob({token:e,factory:e.\u0275fac}),e})()},"/XUs":function(e,t,i){"use strict";i.d(t,"a",(function(){return l}));var n=i("tk/3"),s=i("z6cu"),a=i("JIr8"),o=i("5+tZ"),r=i("hqbt"),c=i("fXoL");let l=(()=>{class e{constructor(e,t){this.http=e,this.securityService=t}send(e,t,i,r,c,l,d=!0){let h="";const u=this.securityService.getAuthenticationDetails();u&&(h=u.authResponse.accessToken);let p=new n.d,g=!1,f=c||"json";return d?""!==h&&(p=p.append("Authorization","Bearer "+h)):g=!0,r&&r.keys().forEach(e=>{p=p.append(e,r.getAll(e))}),p.has("Content-Type")?("text/xml"===p.get("Content-Type")||p.get("Content-Type").startsWith("multipart/mixed;boundary="))&&(f="text"):p=p.append("Content-Type","application/json"),this.sendRequest(e,t,i,{headers:p,observe:l,responseType:f,withCredentials:g}).pipe(Object(a.a)(n=>401!==n.status||this.securityService.IsAuthorized?Object(s.a)(n):this.securityService.refreshToken().pipe(Object(o.a)(()=>this.send(e,t,i,r)))))}getPostFormRequest(e){var t,i;const n=new XMLHttpRequest;n.open("POST",e,!0),n.withCredentials=!0;const s=null===(i=null===(t=this.securityService.getAuthenticationDetails())||void 0===t?void 0:t.authResponse)||void 0===i?void 0:i.accessToken;return s&&n.setRequestHeader("Authorization","Bearer "+s),n}getGetFormRequest(e){const t=new XMLHttpRequest;return t.open("GET",e,!0),t.withCredentials=!0,t}sendRequest(e,t,i,n){let s;switch(e){case"GET":s=this.http.get(t,n);break;case"POST":s=this.http.post(t,i,n);break;case"PUT":s=this.http.put(t,i,n);break;case"DELETE":s=this.http.delete(t,n);break;case"PATCH":s=this.http.patch(t,i,n);break;case"HEAD":s=this.http.head(t,n)}return s}}return e.\u0275fac=function(t){return new(t||e)(c.dc(n.a),c.dc(r.a))},e.\u0275prov=c.Ob({token:e,factory:e.\u0275fac}),e})()},0:function(e,t,i){e.exports=i("zUnb")},"08BJ":function(e,t,i){"use strict";i.d(t,"a",(function(){return b}));var n=i("fXoL"),s=i("lJxs"),a=i("eIep"),o=i("Z9D8"),r=i("LUpO"),c=i("wKJe"),l=i("dEBh"),d=i("A3La"),h=i("Ejbi"),u=i("41Lq"),p=i("cooZ"),g=i("ONOH"),f=i("tyNb"),m=i("jhN1");let b=(()=>{class e{constructor(e,t,i,n,s,a,o,r,c,l,d,h){this.odataService=e,this.router=t,this.configService=i,this.sdaTranslateService=n,this.notificationService=s,this.windowService=a,this.exceptionService=o,this.launchUrlService=r,this.domSanitizer=c,this.fileDownloaderService=l,this.componentFactoryResolver=d,this.injector=h,this.REPORT_GENERATED=this.sdaTranslateService.get("REPORT_GENERATED","Report generated as a %s"),this.REPORT_DOWNLOAD=this.sdaTranslateService.get("REPORT_DOWNLOAD","Download"),this.iFrameCollection=[],this.BACKGROUND_REPORT_STARTED=this.sdaTranslateService.get("BACKGROUND_REPORT_STARTED","Report is running in the background..."),this.FILE_DOWNLOAD_NOT_SUPPORTED=this.sdaTranslateService.get("FILE_DOWNLOAD_NOT_SUPPORTED","File download is not supported on this device"),this.ERROR_LOADING_ITEM=this.sdaTranslateService.get("ERROR_LOADING_ITEM","Specified item not found. <BR/><BR/>This could be because the item doesn't exist or because you don't have permission to view it. Please contact your administrator for more information.")}getReportsList(){return this.odataService.get("Reports?$expand=ReportParameters($top=0;$count=true)").pipe(Object(s.a)(e=>(this.reports=e.value,e)))}getReportDetails(e,t){return this.odataService.get(`Reports('${e}')?$expand=ReportParameters($top=0;$count=true)`,t)}getReportParameters(e){return this.odataService.get(`Reports('${e}')/ReportParameters`)}runReport(e){"listview"!==e.OutputType.toLowerCase()&&this.windowService.isDeviceIos()&&!e.RunInBackground?this.notificationService.warning(this.FILE_DOWNLOAD_NOT_SUPPORTED):e["ReportParameters@odata.count"]>0?this.router.navigate([`reports/${e.Id}/enter-params`]):"listview"===e.OutputType.toLowerCase()?this.router.navigate([`reports/${e.Id}/view-report`,{config:JSON.stringify(this.configService.selectedQueryConfigs)}]):this.configService.selectedQueryConfigs.forEach(t=>{this.getReportDetails(e.Id,t).pipe(Object(a.a)(i=>this.executeReport(e,t))).subscribe(t=>{e.RunInBackground?this.notificationService.success(this.BACKGROUND_REPORT_STARTED):"xhtml"===e.OutputType.toLowerCase()?this.openXHTMLReport(t.value):this.openGeneratedReport(t.value)},e=>{this.exceptionService.handleException(new o.a(this.ERROR_LOADING_ITEM))})})}openGeneratedReport(e){this.fileDownloaderService.downloadFile(this.componentFactoryResolver,this.injector,e.ResultUrl,100)}openXHTMLReport(e){const t=this.domSanitizer.sanitize(n.K.URL,e.ResultUrl);this.launchUrlService.launchURLInBrowser(t)}executeReport(e,t,i){return this.executeReportById(e.Id,t,i,[])}executeReportById(e,t,i,n){return this.executeReportByArgs(e,t,i,n,void 0)}executeReportByArgs(e,t,i,n,s){return this.odataService.post(`Reports('${e}')/Intergraph.SPF.Server.API.Model.ExecuteReport`,JSON.stringify({CSVSupported:!0,Parameters:i||[],SourceObjectIds:n||[],ReportOptions:s}),t,!1,void 0,void 0)}}return e.\u0275fac=function(t){return new(t||e)(n.dc(d.a),n.dc(f.g),n.dc(g.a),n.dc(h.a),n.dc(u.a),n.dc(l.a),n.dc(r.a),n.dc(p.a),n.dc(m.b),n.dc(c.a),n.dc(n.j),n.dc(n.s))},e.\u0275prov=n.Ob({token:e,factory:e.\u0275fac}),e})()},"0LVO":function(e,t,i){"use strict";i.d(t,"a",(function(){return s}));var n=i("f9sw");class s{constructor(e,t,i,s,a,o,r){this.title=e,this.odataUrl=t,this.config=i,this.columnSetUID=s,this.parentOBID=a,this.parentRelDef=o,this.additionalHeaders=r,this.showActionsMenuColumn=!1,this.viewFiles=!1,this.preserveSelectionOnSearch=!1,this.defaultSelection=!1,this.showSelectAllCheckBox=!1,this.showInfoMapButton=!0,this.sortable=!0,this.showSelectedItemsFilter=!1,this.interactiveColumns=[],this.showInteractiveColumnsFirst=!1,this.type=n.a.Grid,this.selectedRows=[],this.itemCount=-1,this.currentPageNumber=1,this.defaultLevelToExpand=1,this.state={sort:[],skip:0,take:Settings.application.defaultPageSize},this.ignoreQueryBySelectedConfig=!1}applyState(e,t){this.state=this.state.baseFilter?Object.assign({baseFilter:this.state.baseFilter},e):e}}},"0YdO":function(e,t,i){"use strict";i.d(t,"a",(function(){return n}));class n{constructor(e,t){this.name=e,this.options=t,this.options=Object.assign({isEnabled:!0,isModal:!1,canOpenInNewTab:!1},t)}}},1:function(e,t){},"11V9":function(e,t,i){"use strict";i.d(t,"a",(function(){return l}));var n=i("9LP0"),s=i("Ejbi"),a=i("C8de"),o=i("KkJr"),r=i("S2YF"),c=i("fXoL");let l=(()=>{class e{constructor(e,t,i){this.pictureMaskService=e,this.sdaTranslateService=t,this.relMaintenanceService=i,this.FORM_MANDATORY_FIELDS_INCOMPLETE_MESSAGE=this.sdaTranslateService.get("FORM_MANDATORY_FIELDS_INCOMPLETE_MESSAGE","Not all mandatory fields have been completed."),this.FORM_HIDDEN_SECTION_MANDATORY_FIELDS_INCOMPLETE_MESSAGE=this.sdaTranslateService.get("FORM_HIDDEN_SECTION_MANDATORY_FIELDS_INCOMPLETE_MESSAGE","Hidden fields contain an invalid value. Please contact your administrator."),this.FORM_PICTURE_MASK_INVALID=this.sdaTranslateService.get("FORM_PICTURE_MASK_INVALID","Not all fields comply with their picture masks."),this.FORM_FIELD_INVALID=this.sdaTranslateService.get("FORM_FIELD_INVALID","Validation of values failed for one or more fields."),this.errorMessages=[]}isFormValid(e,t){this.errorMessages=[];let i=this.validateSections(e.FormSections),n="";return e.FormSections&&e.FormSections.length&&(e.IsMainTabValid=i,n=e.FormSections[0].DisplayName),e.ContainsTabs&&(i=this.validateTabs(e,i,n)),t&&t.length>0&&t.forEach(e=>{if(e.IsMandatory&&e.NavigationPath){const t=this.isRelItemsValid(e);e.IsValid=t,this.relMaintenanceService.updateInvalidDisplayItem(e),t||this.addMessageToErrors(this.FORM_MANDATORY_FIELDS_INCOMPLETE_MESSAGE)}}),this.errorMessages}validateTabs(e,t,i){return e.SPFFormTabs&&e.SPFFormTabs.forEach(n=>{const s=this.validateSections(n.FormSections);n.IsValid=s,t&&!s&&(t=s),n.DisplayName===i&&e.IsMainTabValid&&!s&&(e.IsMainTabValid=s)}),t}validateSections(e){let t=!0;return e&&e.forEach(e=>{e.FormDisplayLines&&e.FormDisplayLines.forEach(i=>{i.FormDisplayItems&&i.FormDisplayItems.forEach(i=>{i.IsValid=this.isDisplayItemValid(i,e),i.IsValid||(t=!1)})})}),t}isDisplayItemValid(e,t){let i=!0;return e.IsMandatory&&(t.IsHidden?(i=!!e.Value&&""!==e.Value,i||this.addMessageToErrors(this.FORM_HIDDEN_SECTION_MANDATORY_FIELDS_INCOMPLETE_MESSAGE)):(i=e.NavigationPath?this.isRelItemsValid(e):this.verifyItemContents(e),i||this.addMessageToErrors(this.FORM_MANDATORY_FIELDS_INCOMPLETE_MESSAGE))),e.ReadOnly||(e.picturePropertyInvalid=this.doesDisplayItemMeetPictureMask(e),e.picturePropertyInvalid&&(i=!1),e.patternInvalid&&(i=!1,this.addMessageToErrors(this.FORM_FIELD_INVALID))),i}isRelItemsValid(e){let t=!1,i=!0;return e.RelObjects&&e.RelObjects.length>0?e.RelObjects.forEach(n=>{n.Terminate?n.Key===e.Value&&(i=!1):t=!0}):e.selectedItem&&this.verifyItemString(e.selectedItem)||(i=!1),t||i}verifyItemContents(e){return(!!e.selectedItem||!!e.Value)&&this.verifyItemString(e.selectedItem)&&this.verifyItemString(e.Value)}verifyItemString(e){return e!==o.a&&e!==o.c&&e!==o.b}doesDisplayItemMeetPictureMask(e){let t=!1;if(e.PictureProperty&&e.PictureProperty.length&&"ENS"!==e.PictureProperty){let i=e.OriginalValue,n=e.Value;if(e.DisplayType===a.a.UOM_LIST_TYPE){const e=n.split(" ").pop();n=n.slice(0,-(e.length+1));const t=i.split("~").pop();i=i.slice(0,-(t.length+1))}t=this.validateMask(e,n,i)}return t}validateMask(e,t,i){let n=!1;return t=t||void 0,(!(i=i||void 0)||i!==(e.selectedItem?e.selectedItem:void 0)&&i!==t)&&(this.pictureMaskService.verifyAgainstMask(e.selectedItem,e.PictureProperty,e.DisplayName)&&this.pictureMaskService.verifyAgainstMask(t,e.PictureProperty,e.DisplayName)||(this.addMessageToErrors(this.FORM_PICTURE_MASK_INVALID),n=!0)),n}addMessageToErrors(e){this.errorMessages.includes(e)||this.errorMessages.push(e)}}return e.\u0275fac=function(t){return new(t||e)(c.dc(n.a),c.dc(s.a),c.dc(r.a))},e.\u0275prov=c.Ob({token:e,factory:e.\u0275fac}),e})()},"1Sfd":function(e,t,i){"use strict";i.d(t,"a",(function(){return s}));var n=i("fXoL");let s=(()=>{class e{constructor(){const e=Settings.clientServices.url;this.fileUploadUrl=e+"FileUpload/Upload"}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=n.Ob({token:e,factory:e.\u0275fac}),e})()},"1nDn":function(e,t,i){"use strict";i.d(t,"a",(function(){return n}));let n=(()=>{class e{constructor(e){this.element=e}addResizeListener(e){return this.resizeHandler=e,s.addResizeListener(this.element,this.resizeHandler.bind(this)),()=>s.removeResizeListener(this.element,this.resizeHandler.bind(this))}removeResizeListener(){this.resizeHandler&&(s.removeResizeListener(this.element,this.resizeHandler.bind(this)),this.resizeHandler=void 0)}}return e.create=t=>new e(t),e})();const s={addResizeListener:function(e,t){if(!e.resizeListeners||!e.resizeTrigger){const t=navigator.userAgent.match(/Trident/);e.resizeListeners=[],"static"===getComputedStyle(e).position&&(e.style.position="relative");const i=e.resizeTrigger=document.createElement("object");i.setAttribute("style","\n        display: block;\n        position: absolute;\n        top: 0;\n        left: 0;\n        height: 100%;\n        width: 100%;\n        overflow: hidden;\n        pointer-events: none;\n        z-index: -1;\n      "),i.resizeElement=e,i.onload=a,i.type="text/html",t&&e.appendChild(i),i.data="about:blank",t||e.appendChild(i)}e.resizeListeners.push(t)},removeResizeListener:function(e,t){e.resizeListeners.splice(e.resizeListeners.indexOf(t),1),e.resizeListeners.length||(e.resizeTrigger.contentDocument.defaultView.removeEventListener("resize",o),e.resizeTrigger=!e.removeChild(e.resizeTrigger))}};function a(){this.contentDocument.defaultView.resizeTrigger=this.resizeElement,this.contentDocument.defaultView.addEventListener("resize",o)}function o(e){const t=e.target||e.srcElement;t.resizeRAF&&cancelAnimationFrame(t.resizeRAF),t.resizeRAF=requestAnimationFrame(()=>{const i=t.resizeTrigger;i.resizeListeners.forEach(t=>t.call(i,e))})}},"2rZH":function(e,t,i){"use strict";i.d(t,"a",(function(){return v}));var n=i("fXoL"),s=i("XNiG"),a=i("Cfvw"),o=i("LRne"),r=i("lJxs"),c=i("1G5W"),l=i("Z9D8"),d=i("jNCI"),h=i("A1MZ"),u=i("XpAN"),p=i("Ejbi"),g=i("Z2of"),f=i("+Avo"),m=i("zHoD"),b=i("osZK"),S=i("1Sfd");let v=(()=>{class e{constructor(e,t,i,a,o,r){this.urlService=e,this.fileUploader=t,this.guidService=i,this.sdaTranslateService=a,this.modalService=o,this.iconService=r,this.queue=[],this.progress=0,this.removeAfterUpload=!1,this.queueLimit=2e3,this.numberOfAllowedFiles=this.queueLimit,this.isUploading=!1,this.uploadedFiles=[],this.uploadFinished=new n.o,this.filesSelection=new s.a,this.inlineCSVFileValidationAvailable=!1,this.FILE_QUEUE_CANNOT_SELECT_FOLDER=this.sdaTranslateService.get("FILE_QUEUE_CANNOT_SELECT_FOLDER","Can't select a folder"),this.FILE_CANNOT_BE_ZERO_LENGTH=this.sdaTranslateService.get("FILE_CANNOT_BE_ZERO_LENGTH","Zero length files cannot be added"),this.CHECKIN_FILE_UPLOADERROR=this.sdaTranslateService.get("CHECKIN_FILE_UPLOADERROR","you can upload only the file(s) that are currently being edited"),this.processingEntireQueue=!1,this.autoUploadFiles=!0,this.uploadVisible=!1,this.isTracingOn=!1,this.uploadMode=m.a.InLineVaulting,this.fileShareFolderName=this.guidService.getGuid()}queueIsFinished(){return this.queue.every(e=>e.progress.isFinished())}queueIsSuccess(){return this.queue.every(e=>e.progress.isSuccess())}getSuccessfullyUploadedFiles(){return this.queue.filter(e=>e.progress.isFinished()&&!e.progress.isError())}changeUploadMode(e){this.uploadMode=e}addToQueue(e,t){const i=this.queue.length,n=[];e.map(e=>{const i=new f.a(e);this.validateFile(i);const s=new g.a(this.urlService.fileUploadUrl,this.fileShareFolderName,e,this.objects,this.uploadMode,{inLineVirusScanIsAvailable:t,inlineCSVFileValidationAvailable:this.inlineCSVFileValidationAvailable,fileTypeSvgIcon:this.getFileTypeIconName(e.name),csvLoaderClassification:this.csvFileLoaderClassification});n.push(s),this.queue.length>=this.numberOfAllowedFiles?this.modalService.alert(this.sdaTranslateService.getFormatted("MAX_FILES_LIMIT_EXCEEDS_WARNING-COUNT_ALLOWED","Maximum {0} files are allowed to upload, remove any extra files",[this.numberOfAllowedFiles.toString()])):(this.queue.push(s),this.autoUploadFiles&&this.uploadItem(s,t))}),this.autoUploadFiles&&this.uploadFinished.emit(this.uploadedFiles),this.queue.length!==i&&(this.progress=this.getTotalProgress()),this.filesSelection.next(this.queue)}removeFromQueue(e,t=!1){const i=this.getIndexOfItem(e),n=this.uploadedFiles.indexOf(e);n>-1&&this.uploadedFiles.splice(n,1),this.queue.splice(i,1),this.progress=this.getTotalProgress(),t||this.filesSelection.next(this.queue)}uploadFiles(e){const t=this;if(!t.processingEntireQueue&&t.queue.length>0){t.processingEntireQueue=!0;const i=t.queue.concat().sort((e,t)=>t.totalSize-e.totalSize).filter(e=>!e.progress.isStarted()&&!e.progress.fileUploadProgress.isSuccess&&!e.progress.fileUploadProgress.isFailure);return Object(a.a)(this.fileUploader.uploadFiles(i.slice(),this.uploadMode,e,this.inlineCSVFileValidationAvailable)).pipe(Object(r.a)(()=>(this.processingEntireQueue=!1,i.forEach(e=>{t.uploadedFiles.push(e)}),t.uploadedFiles)))}return Object(o.a)(void 0)}uploadItem(e,t){this.logToConsole("uploadItem: "+e.file.name),e.progress.isInProgress()||Object(a.a)(this.fileUploader.uploadFile(e,this.uploadMode,t,this.inlineCSVFileValidationAvailable)).pipe(Object(c.a)(e.fileIsCancelledSubject)).subscribe(()=>{this.uploadedFiles.push(e),this.filesSelection.next(this.queue),this.processingEntireQueue=!1,this.autoUploadFiles&&this.uploadFinished.emit(this.uploadedFiles)})}clearFiles(){this.queue=[],this.uploadedFiles=[]}uploadAll(e){const t=this;if(this.logToConsole(`Upload all (check processingEntireQueue: ${this.processingEntireQueue.toString()})`),!t.processingEntireQueue&&t.queue.length>0){t.processingEntireQueue=!0;const i=t.queue.concat().sort((e,t)=>t.totalSize-e.totalSize).filter(e=>!e.progress.isStarted()&&!e.progress.fileUploadProgress.isSuccess&&!e.progress.fileUploadProgress.isFailure);this.fileUploader.uploadFiles(i.slice(),this.uploadMode,e,this.inlineCSVFileValidationAvailable).then(()=>{t.processingEntireQueue=!1,i.forEach(e=>{t.uploadedFiles.push(e)}),t.filesSelection.next(t.queue),t.uploadFinished.emit(t.uploadedFiles)},()=>{i.forEach(e=>{t.uploadedFiles.push(e)}),t.uploadFinished.emit(t.uploadedFiles),t.processingEntireQueue=!1})}}getFileTypeIconName(e){const t=e.split(".").pop();let i=this.iconService.getIconName(`${this.fileUploader.fileClass}${t}`);return"default"===i&&(i=this.iconService.getIconName("SPFDesignFile"+t)),i}logToConsole(e){this.isTracingOn&&console.log(e)}getIndexOfItem(e){return"number"==typeof e?e:this.queue.indexOf(e)}getNotUploadedItems(){return this.queue.filter(e=>!e.progress.isFinished())}getTotalProgress(e=0){if(this.removeAfterUpload)return e;const t=this.getNotUploadedItems().length,i=100/this.queue.length;return Math.round((t?this.queue.length-t:this.queue.length)*i+e*i/100)}isFolder(e){return!(e.size||e.type)}validateFile(e){if(this.queue.length>=this.queueLimit)throw new l.a(`Maximum queue size is ${this.queueLimit}, no more files can be added.`);if(0===e.size)throw new l.a(this.FILE_CANNOT_BE_ZERO_LENGTH);if(this.isFolder(e))throw new l.a(this.FILE_QUEUE_CANNOT_SELECT_FOLDER);if(this.queue.some(t=>t.file.name===e.name))throw new l.a(this.sdaTranslateService.getFormatted("FILE_QUEUE_FILE_ALREADY_ADDED","The file '{0}' has already been added",[e.name]));if(!this.isFileCheckedOut(e))throw new l.a(this.CHECKIN_FILE_UPLOADERROR)}isFileCheckedOut(e){let t=!0;return this.componentName&&this.componentName.startsWith("CHECKIN")&&(t=this.checkOutFiles.filter(t=>t.Name.toUpperCase()===e.name.toUpperCase()).length>0,t||(this.uploadVisible=this.checkOutFiles.length-1===this.queue.length)),t}}return e.\u0275fac=function(t){return new(t||e)(n.dc(S.a),n.dc(b.a),n.dc(h.a),n.dc(p.a),n.dc(d.a),n.dc(u.a))},e.\u0275prov=n.Ob({token:e,factory:e.\u0275fac}),e})()},"2ufx":function(e,t,i){"use strict";i.d(t,"a",(function(){return a}));var n=function(e){return e[e.Top=0]="Top",e[e.Right=1]="Right",e[e.Bottom=2]="Bottom",e[e.Left=3]="Left",e}({}),s=i("fXoL");let a=(()=>{class e{get Document(){return document}getCurrentProtocol(){return this.Document.location.protocol.toLowerCase()}anchorFileDownload(e,t){const i=this.Document.createElement("a");i.href=e,t&&(t.fileName&&(i.download=t.fileName),t.target&&(i.target=t.target)),this.Document.body.appendChild(i),i.click(),this.Document.body.removeChild(i)}windowCollideCheck(e,t,i){if(e&&t)switch(i){case n.Top:i=this.topCollideCheck(e,t)?n.Bottom:n.Top;break;case n.Right:i=this.rightCollideCheck(e,t)?n.Left:n.Right;break;case n.Bottom:i=this.bottomCollideCheck(e,t)?n.Top:n.Bottom;break;case n.Left:i=this.leftCollideCheck(e,t)?n.Right:n.Left}return i}topCollideCheck(e,t){const i=e.getBoundingClientRect();let n=!1;return i.bottom+t<document.documentElement.clientHeight&&(n=i.top-t<0),n}bottomCollideCheck(e,t){const i=e.getBoundingClientRect();let n=!1;return i.top-t>0&&(n=document.documentElement.clientHeight<i.bottom+t),n}rightCollideCheck(e,t){const i=e.getBoundingClientRect();let n=!1;return i.left-t>0&&(n=document.documentElement.clientWidth<i.right+t),n}leftCollideCheck(e,t){const i=e.getBoundingClientRect();let n=!1;return i.right+t<document.documentElement.clientWidth&&(n=i.left-t<0),n}isTabletView(){return this.Document.documentElement.clientWidth<1200}autoScrollToSelectedItem(e){setTimeout(()=>{const t=this.Document.getElementById(e);t&&t.scrollIntoView()})}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=s.Ob({token:e,factory:e.\u0275fac}),e})()},"349d":function(e,t,i){"use strict";i.d(t,"a",(function(){return n}));class n{}},"3xPZ":function(e,t,i){"use strict";i.d(t,"a",(function(){return l}));var n=i("lJxs"),s=i("Z9D8"),a=i("SXtU"),o=i("Ejbi"),r=i("lycW"),c=i("fXoL");let l=(()=>{class e{constructor(e,t,i){this.odataService=e,this.fileUploadLoggerService=t,this.sdaTranslateService=i}getProgressObject(e){return e.progress.virusScanProgress}execute(e){return this.makeFileAvailable(e).then(()=>this.isFileAvailable(e))}makeFileAvailable(e){return this.fileUploadLoggerService.logToConsole("Calling MakeUploadAvailable with file "+e.uploadID),this.odataService.post("FileMgmt/MakeUploadAvailable",JSON.stringify({Filename:e.uploadID})).pipe(Object(n.a)(t=>{this.fileUploadLoggerService.logToConsole("Response "+t);const i=t;if(this.fileUploadLoggerService.logToConsole("Result "+i.value),!i.value)throw this.fileUploadLoggerService.logToConsole("Finished making file available: "+e.file.name+" file failed virus scanning."),new s.a(this.sdaTranslateService.get("FILE_UPLOAD_INLINE_VIRUS_SCAN_FAILURE","File failed in-line virus scan."));this.fileUploadLoggerService.logToConsole("Finished making file available: "+e.file.name+" file passed virus scanning.")})).toPromise()}isFileAvailable(e){return this.getStatus(e).then(t=>this.statusIsSuccess(t)?Promise.resolve():this.delayPromise(2e3).then(()=>this.isFileAvailable(e)))}delayPromise(e){return new Promise(t=>{setTimeout(t,e)})}getStatus(e){return this.odataService.get("FileMgmt/Upload('"+e.uploadID+"')").toPromise()}statusIsSuccess(e){if(1===e.FileStatus)return!1;if(255===e.FileStatus)throw new s.a(this.sdaTranslateService.get("FILE_UPLOAD_QUARANTINED","File has been quarantined"));return 0===e.FileStatus}}return e.\u0275fac=function(t){return new(t||e)(c.dc(a.a),c.dc(r.a),c.dc(o.a))},e.\u0275prov=c.Ob({token:e,factory:e.\u0275fac}),e})()},"41Lq":function(e,t,i){"use strict";i.d(t,"a",(function(){return o}));var n=i("MBXK"),s=i("XSwO"),a=i("fXoL");let o=(()=>{class e{constructor(){this.queue=[],this.notificationCount=0,this.duration=3500,this.maxNotificationCount=5,this.notificationPanel=document.createElement("div"),this.notificationPanel.id="uxt-notification-panel"}clearAll(){if(this.notificationCount=0,this.queue=[],!this.isNotificationPanelMissing()&&this.notificationPanel.hasChildNodes())for(let e=0;e<this.notificationPanel.childNodes.length;e+=1)this.notificationPanel.removeChild(this.notificationPanel.childNodes[e])}error(e,t,i){this.notify("error",e,t,i)}info(e,t,i){this.notify("info",e,t,i)}success(e,t,i){this.notify("success",e,t,i)}warning(e,t,i){this.notify("warning",e,t,i)}notify(e,t,i,n){const s=this.buildNotification({actionText:n,message:t,type:e},i);this.queueNotification(s)}buildNotification(e,t){const i=this.getNotificationId();return{args:Object.assign({},e,{duration:this.duration},{action:t,complete:this.getCompleteHandler(i)}),id:i}}getNotificationId(){return this.notificationCount+=1,"uxt-notification-"+this.notificationCount}getCompleteHandler(e){return()=>{if(this.notificationPanel.hasChildNodes()&&this.notificationPanel.removeChild(this.notificationPanel.querySelector("#"+e)),0===this.queue.length)this.notificationCount=0;else{const[e,...t]=this.queue;this.queue=t,this.attachNotification(e)}}}attachNotification(e){this.addNotificationPanelIfMissing(),this.appendNotificationSelector(e.id);const t=document.getElementById(e.id);!function(e){let t,i;return Object(s.a)({afterRender(n){t=n,i=setTimeout(a,50),i=setTimeout(o,e.duration)},render:()=>Object(n.a)("div.uxt-notification",{classNames:["uxt-notification--"+e.type]},[Object(n.a)("div.uxt-notification__message",[e.message]),e.actionText?Object(n.a)("div.uxt-notification__action",{onClick:r},[e.actionText]):void 0])});function a(){t.classList.add("uxt-notification--enter")}function o(){t.classList.remove("uxt-notification--enter"),t.classList.add("uxt-notification--leave"),setTimeout(()=>{i&&window.clearTimeout(i),e.complete()},250)}function r(){i&&window.clearTimeout(i),e.action(),o()}}(e.args)(t)}addNotificationPanelIfMissing(){this.isNotificationPanelMissing()&&document.body.appendChild(this.notificationPanel)}appendNotificationSelector(e){const t=document.createElement("uxt-notification");t.id=e,this.notificationPanel.appendChild(t)}queueNotification(e){this.notificationCount>this.maxNotificationCount?this.queue=this.queue.concat(e):this.attachNotification(e)}isNotificationPanelMissing(){return!document.querySelector("#uxt-notification-panel")}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=a.Ob({token:e,factory:e.\u0275fac}),e})()},"4B5/":function(e,t,i){"use strict";i.d(t,"a",(function(){return a}));var n=i("XNiG"),s=i("fXoL");let a=(()=>{class e{constructor(){this.itemChange=new n.a,this.actionMenuItems=[],this.closeActionMenuSubject=new n.a,this.refreshActionMenuSubject=new n.a,this.hasItemsSubject=new n.a,this.shortcutClickedForItemSubject=new n.a}get onActionMenuItemsUpdated$(){return this.refreshActionMenuSubject.asObservable()}addItem(e,t=!0){if(!this.actionMenuItems.some(t=>{let i=!1;return(e.obid&&t.obid===e.obid||e.data&&JSON.stringify(t.data)===JSON.stringify(e.data))&&(i=!0),i})){const t=0===this.actionMenuItems.length;this.actionMenuItems.push(e),t&&this.hasItemsSubject.next(!0)}t&&this.refreshActionsMenu()}refreshActionsMenu(){this.refreshActionMenuSubject.next([...this.actionMenuItems])}closeActionMenu(){this.closeActionMenuSubject.next()}clearItems(){this.actionMenuItems=[],this.hasItemsSubject.next(!1),this.itemChange.next([]),this.refreshActionsMenu()}clearMultiSelectedItemHighlights(){const e=[];this.actionMenuItems.forEach(t=>{e.push({id:t.obid,uid:t.data?t.data.uid:void 0,selected:!1})}),this.itemChange.next(e)}clearAndCloseActionsMenu(){this.clearItems(),this.closeActionMenu()}getItem(e){return this.actionMenuItems[e]}getItems(){return this.actionMenuItems}length(){return this.actionMenuItems.length}removeItem(e,t=!0){this.actionMenuItems=this.actionMenuItems.filter(t=>{let i=!1;return(t.obid&&t.obid!==e.obid||e.data&&JSON.stringify(t.data)!==JSON.stringify(e.data))&&(i=!0),i}),0===this.actionMenuItems.length&&(this.hasItemsSubject.next(!1),this.closeActionMenu()),t&&this.refreshActionsMenu()}notifyShortcutClickedForItem(e){this.shortcutClickedForItemSubject.next(e)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=s.Ob({token:e,factory:e.\u0275fac}),e})()},"4CIq":function(e,t,i){"use strict";i.d(t,"a",(function(){return u}));var n=i("m8I0"),s=i("9Vyx"),a=i("fXoL"),o=i("ofXK"),r=i("NFeN");function c(e,t){1&e&&(a.Yb(0,"span",5),a.Tb(1,"span",6),a.Tb(2,"span",6),a.Tb(3,"span",6),a.Xb())}function l(e,t){if(1&e&&a.Tb(0,"mat-icon",7),2&e){const e=a.lc();a.sc("svgIcon",e.matSvgIcon)}}function d(e,t){if(1&e&&a.Tb(0,"i",8),2&e){const e=a.lc();a.Ib("fa-fw",e.displayName),a.sc("ngClass",e.styleClassIcon)}}function h(e,t){if(1&e&&(a.Yb(0,"span",9),a.Uc(1),a.Xb()),2&e){const e=a.lc();a.Eb(1),a.Wc(" ",e.displayName," ")}}let u=(()=>{class e extends s.a{constructor(){super(...arguments),this.type=n.a.Plain}}return e.\u0275fac=function(t){return p(t||e)},e.\u0275cmp=a.Mb({type:e,selectors:[["sda-button-plain"]],features:[a.Bb],decls:5,vars:23,consts:[["type","button",1,"button",3,"ngClass","disabled","click"],["class","button-loader",4,"ngIf"],["class","button__mat-icon",3,"svgIcon",4,"ngIf"],["class","button__icon","role","icon","aria-hidden","true",3,"fa-fw","ngClass",4,"ngIf"],["class","button__name",4,"ngIf"],[1,"button-loader"],[1,"button-loader__bar"],[1,"button__mat-icon",3,"svgIcon"],["role","icon","aria-hidden","true",1,"button__icon",3,"ngClass"],[1,"button__name"]],template:function(e,t){1&e&&(a.Yb(0,"button",0),a.hc("click",(function(e){return t.onClick.emit(e)})),a.Sc(1,c,4,0,"span",1),a.Sc(2,l,1,1,"mat-icon",2),a.Sc(3,d,1,3,"i",3),a.Sc(4,h,2,1,"span",4),a.Xb()),2&e&&(a.Ib("button--compact",t.isCompact)("button--default","Default"===t.type)("button--primary","Primary"===t.type)("button--neutral","Neutral"===t.type)("button--success","Success"===t.type)("button--destroy","Destroy"===t.type)("button--abort","Abort"===t.type)("button--plain","Plain"===t.type),a.sc("ngClass",t.styleClassButton)("disabled",t.isDisabled),a.Fb("title",t.title),a.Eb(1),a.sc("ngIf",t.isLoading),a.Eb(1),a.sc("ngIf",t.matSvgIcon&&!t.isLoading),a.Eb(1),a.sc("ngIf",t.styleClassIcon&&!t.isLoading),a.Eb(1),a.sc("ngIf",t.displayName))},directives:[o.q,o.t,r.a],styles:[".button[_ngcontent-%COMP%]{display:flex;align-items:center;flex:1 1 auto;min-width:40px;height:34px;padding:0 12px;font-size:14px;transition:all 175ms cubic-bezier(.1,.65,.1,.65);box-shadow:none;text-shadow:none;border-radius:3px}.button--compact[_ngcontent-%COMP%]{min-width:30px;height:30px;padding-right:10px;padding-left:10px}.button[disabled][_ngcontent-%COMP%]   *[_ngcontent-%COMP%]{opacity:.4;pointer-events:none}.button[disabled][_ngcontent-%COMP%]:active{background-color:initial}.button__icon[_ngcontent-%COMP%]{flex-shrink:0;color:inherit}.button__icon[_ngcontent-%COMP%]:only-child{font-size:18px}.button__icon[_ngcontent-%COMP%]:not(:only-child){font-size:14px}.button__mat-icon[_ngcontent-%COMP%]{width:20px;height:20px}.button__name[_ngcontent-%COMP%]{color:inherit}.button__name[_ngcontent-%COMP%]:not(:only-child){margin-left:8px}.button[_ngcontent-%COMP%]     svg[role=icon]{color:inherit;width:20px;height:auto}.button-loader[_ngcontent-%COMP%]{display:flex;justify-content:space-between;flex-basis:18px}@-webkit-keyframes bars{0%,to{opacity:1;-webkit-transform:scaleY(1);transform:scaleY(1)}35%{opacity:.5}50%{-webkit-transform:scaleY(1.8);transform:scaleY(1.8)}65%{opacity:1}}@keyframes bars{0%,to{opacity:1;-webkit-transform:scaleY(1);transform:scaleY(1)}35%{opacity:.5}50%{-webkit-transform:scaleY(1.8);transform:scaleY(1.8)}65%{opacity:1}}.button-loader__bar[_ngcontent-%COMP%]{width:4px;height:10px;background-color:#fff;-webkit-animation:bars 1s ease-in-out infinite;animation:bars 1s ease-in-out infinite}.button-loader__bar[_ngcontent-%COMP%]:first-child{-webkit-animation-delay:.15s;animation-delay:.15s}.button-loader__bar[_ngcontent-%COMP%]:nth-child(2){-webkit-animation-delay:.3s;animation-delay:.3s}.button-loader__bar[_ngcontent-%COMP%]:nth-child(3){-webkit-animation-delay:.45s;animation-delay:.45s}",".button--plain[_ngcontent-%COMP%]{color:#333;background:transparent;border-color:transparent}.button--plain[_ngcontent-%COMP%]:not([disabled]):hover{background:#ebedf0;border-color:transparent}"]}),e})();const p=a.ac(u)},"4ZEd":function(e,t,i){"use strict";i.d(t,"a",(function(){return E}));var n=i("tk/3"),s=i("2Vo4"),a=i("XNiG"),o=i("LRne"),r=i("cp0P"),c=i("IzEk"),l=i("5+tZ"),d=i("ONOH"),h=i("xc+7"),u=i("DgwV"),p=i("4vCl"),g=i("A3La"),f=i("Phab"),m=i("4x+t"),b=i("f8sK"),S=i("XwBL"),v=i("YsXg"),_=i("KIpx"),O=i("TvZe"),I=i("Sj5/"),C=i("ghPn"),T=i("fXoL");let E=(()=>{class e{constructor(e,t,i,n,o){this.metadataService=e,this.featureSetService=t,this.configService=i,this.odataService=n,this.urlFilterFactory=o,this.featureSetsUpdating=new s.a(!1),this.featureSets=new Array,this.clearTopBarSearch=new a.a,this.featureSetService.featureSetsUpdatedSubject.value&&this.getFeatureSets(),this.featureSetsUpdatedSubscription=this.featureSetService.featureSetsUpdatedSubject.subscribe(e=>{e?this.getFeatureSets():(this.featureSetsUpdating.next(!0),this.featureSets=new Array)})}ngOnDestroy(){this.featureSetsUpdatedSubscription&&this.featureSetsUpdatedSubscription.unsubscribe()}getFeatureSets(){if(0===this.featureSets.length){const e=this.featureSetService.getSearchFeatureSets();e&&(this.featureSets=new Array,e.forEach(e=>{let t=0;e.groupedFeatures.forEach(i=>{i.displayItems.forEach(n=>{const s=new C.b(S.a.replaceSpace(n.setName),n.displayName,t,i.name);s.peekCount=n.peekCount,s.equalToSearchByDefault=!!n.equalToSearchByDefault&&n.equalToSearchByDefault,this.updateEntitiesFeatureSetByID(this.featureSets,s,e.name),t++})})}))}this.featureSetsUpdating.next(!1)}getSearchProperties(e){const t=this.metadataService.getObjectProperties(e),i=[];return t&&Object.entries(t).forEach(([e,t])=>{if("Edm.String"===t.type&&"UID"!==e&&"Id"!==e){const e=S.a.replaceSpace(t.name);i.push(new I.a(e,t.displayName,t.includeInSearchFilters,t.includeInSearchFilters,"Exclude from filter"===t.searchFilterBehaviour))}}),i}getSearchPropertiesDefaultName(e){const t=this.getSearchProperties(e),i=t.filter(e=>!e.hidden);return 0===i.length?t.forEach(e=>{"Name"===e.name&&(e.hidden=!1,e.selected=!0,e.defaultSelected=!0)}):1===i.length?t.forEach(e=>{e.hidden||(e.hidden=!1,e.selected=!0,e.defaultSelected=!0)}):i.length>1&&(t.some(e=>e.selected)||t.forEach(e=>{e.name===i[0].name&&(e.selected=!0,e.defaultSelected=!0)})),t}featureSearchToOdataSettings(e){let t=m.a.CONTAINS;Object(_.c)(e)&&(t=f.a.EQUAL);const i=[];e.selectedFilters&&e.selectedFilters.forEach(e=>{i.push(e.name)});const n=this.urlFilterFactory.createFilterSetting(i,t,e.searchTerm);return e.activeChips&&e.activeChips.length>0&&(n.entityType=e.activeChips[0].uid),Object(_.e)(e)&&(n.includeSharepoint=!0),n}oDataPeekFunction(e,t=Object(_.c)(e),i="Name",s=this.configService.selectedQueryConfigs){let a=Object(o.a)(new O.a(void 0));if(1===s.length){let o;if(e&&e.selectedFilters&&e.selectedFilters.length>0){let d,h="";e.activeChips&&e.activeChips.length&&(h=e.activeChips[0].uid,d=e.activeChips[0].params);const u=e.searchTerm.replace(/'/g,"''");o=h+"?$filter=",e.selectedFilters.forEach(i=>{0!==e.selectedFilters.indexOf(i)&&(o+=b.a.OR);const n=S.a.replaceSpace(i.name);o+=t?"("+n+" "+f.a.EQUAL+" '"+encodeURIComponent(u)+"')":"("+m.a.CONTAINS+"("+n+",'"+encodeURIComponent(u)+"'))"});const g=o+`&$top=4&$select=${i}&$count=false`,v=o+`&$top=0&$select=${i}&$count=true`,_=s[0],O=d?this.odataService.post(v,d,_):this.odataService.get(v,_),I=d?this.odataService.post(g,d,_):this.odataService.get(g,_);a=Object(r.a)(O,I).pipe(Object(c.a)(1),Object(l.a)(([e,t])=>{const s=new p.a(new n.e);return s.count=e.count,s.value=t.value,this.convertPeekSearchFunctionResults(s,i)}))}}return a}updateEntitiesFeatureSetByID(e,t,i){const n=e.map(e=>e.id).indexOf(i);if(n>-1)t.parentGroupId=e[n].id,t.parentGroupDisplayName=e[n].displayName,e[n].childFlatList.push(t);else{const n=this.featureSetService.getFeatureSetByName(i);if(n){t.parentGroupId=n.name,t.parentGroupDisplayName=n.displayName;const i=new C.a(n.name,n.displayName,[t]);i.orderValue=n.searchOrder,e.push(i)}}return e}convertPeekSearchFunctionResults(e,t){const i=new O.a(void 0),n=new Array;return e.value&&e.value.forEach(e=>{n.push(new C.b(e[t]))}),i.results=n,i.totalCount=e.count,Object(o.a)(i)}}return e.\u0275fac=function(t){return new(t||e)(T.dc(u.a),T.dc(h.a),T.dc(d.a),T.dc(g.a),T.dc(v.a))},e.\u0275prov=T.Ob({token:e,factory:e.\u0275fac}),e})()},"4vCl":function(e,t,i){"use strict";i.d(t,"a",(function(){return n}));class n{constructor(e){this.originalResponse=e,this.parseResponse(e)}parseResponse(e){if(e){let t=e.status>=200&&e.status<300;e.body&&(t=e.body,this.count=e.body["@odata.count"],this.link=e.body["@odata.link"],e.body.hasOwnProperty("value")&&"[object Array]"===Object.prototype.toString.call(e.body.value)&&(t=e.body.value)),this.value=t}}}},"4vbe":function(e,t,i){"use strict";i.d(t,"a",(function(){return d}));var n=i("Ejbi"),s=i("ftI+"),a=i("fXoL"),o=i("ofXK"),r=i("NFeN");function c(e,t){if(1&e&&(a.Yb(0,"span",6),a.Uc(1),a.Xb()),2&e){const e=t.$implicit;a.Eb(1),a.Vc(e)}}function l(e,t){if(1&e&&(a.Yb(0,"div",1),a.Tb(1,"mat-icon",2),a.Yb(2,"div",3),a.Yb(3,"span",4),a.Uc(4),a.Xb(),a.Sc(5,c,2,1,"span",5),a.Xb(),a.Xb()),2&e){const e=a.lc();a.sc("title",e.selectedFiltersTitle),a.Eb(4),a.Wc("",e.selectedOptionsTitle,":"),a.Eb(1),a.sc("ngForOf",e.selectedFilters)}}let d=(()=>{class e{constructor(e){this.sdaTranslateService=e,this.filters=[],this.options=[],this.selectedFilters=[],this.selectedFiltersTitle="",this.equalToFilterTitle=this.sdaTranslateService.get("EQUALS","Equals"),this.containsFilterTitle=this.sdaTranslateService.get("CONTAINS","Contains")}ngOnInit(){this.setFilterOptionsTitle()}ngOnChanges(e){if(e.filters){const t=[];e.filters.currentValue&&e.filters.currentValue.forEach(e=>{e.selected&&t.push(e.displayName)}),this.selectedFilters=t,this.setFiltersTitle()}e.options&&this.setFilterOptionsTitle()}setFiltersTitle(){this.selectedFilters&&this.selectedFilters.length>0&&(this.selectedFiltersTitle=this.selectedFilters.join(", "))}setFilterOptionsTitle(){if(this.options&&this.options.length){const e=this.options.find(e=>e.name===s.a.EQUAL_TO);this.selectedOptionsTitle=e&&e.selected?this.equalToFilterTitle:this.containsFilterTitle}else this.selectedOptionsTitle=this.containsFilterTitle}}return e.\u0275fac=function(t){return new(t||e)(a.Sb(n.a))},e.\u0275cmp=a.Mb({type:e,selectors:[["sda-search-selected-filters"]],inputs:{filters:"filters",options:"options"},features:[a.Cb],decls:1,vars:1,consts:[["class","search-panel-filters",3,"title",4,"ngIf"],[1,"search-panel-filters",3,"title"],["svgIcon","filter",1,"search-panel-filters__icon"],[1,"search-panel-filters__content"],[1,"search-panel-filters__selected-option"],["class","search-panel-filters__selected-filter",4,"ngFor","ngForOf"],[1,"search-panel-filters__selected-filter"]],template:function(e,t){1&e&&a.Sc(0,l,6,3,"div",0),2&e&&a.sc("ngIf",t.selectedFilters&&t.selectedFilters.length>0)},directives:[o.t,r.a,o.s],styles:['.search-panel-filters__content[_ngcontent-%COMP%]{overflow:hidden;white-space:nowrap;text-overflow:ellipsis}.search-panel-filters[_ngcontent-%COMP%]{display:flex;align-items:center;padding:8px 10px;color:#a9b4be;border-bottom:1px solid #ebedf0}.search-panel-filters__icon[_ngcontent-%COMP%]{flex-shrink:0;width:14px;height:14px;margin-right:5px}.search-panel-filters__content[_ngcontent-%COMP%]{width:100%;line-height:1}.search-panel-filters__selected-filter[_ngcontent-%COMP%]{font-size:12px;margin-right:5px}.search-panel-filters__selected-filter[_ngcontent-%COMP%]:not(:last-child):after{content:","}.search-panel-filters__selected-option[_ngcontent-%COMP%]{font-size:12px;font-style:italic;margin-right:5px}']}),e})()},"4x+t":function(e,t,i){"use strict";i.d(t,"a",(function(){return n}));let n=(()=>{class e{}return e.CONTAINS="contains",e.STARTS_WITH="startswith",e.ENDS_WITH="endswith",e})()},"5G0X":function(e,t,i){"use strict";i.d(t,"a",(function(){return n}));class n{constructor(e,t,i,n){this.displayName=e,this.name=t,this.clientAPI=i,this.numberOfObjectsRestrictedTo=n}}},"5Viu":function(e,t,i){"use strict";i.d(t,"a",(function(){return o}));var n=i("2Vo4"),s=i("orEM"),a=i("fXoL");let o=(()=>{class e{constructor(){this.isInitialized=new n.a(new s.a(!1,"")),this.isInitializedState=!1}updateStatus(e,t){const i=new s.a(e,t);this.isInitializedState=e,this.isInitialized.next(i)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=a.Ob({token:e,factory:e.\u0275fac}),e})()},"5iMO":function(e,t,i){"use strict";i.d(t,"a",(function(){return f}));var n=i("LRne"),s=i("EY2u"),a=i("JIr8"),o=i("lJxs"),r=i("Z9D8"),c=i("LUpO"),l=i("8IK6"),d=i("Ejbi"),h=i("+eYH"),u=i("NEWU"),p=i("fXoL"),g=i("tyNb");let f=(()=>{class e{constructor(e,t,i,n){this.objectItemsHelperService=e,this.sdaTranslateService=t,this.exceptionService=i,this.router=n,this.nonSPFObjectsList=["No_Markup_Selected"],this.ERROR_LOADING_ITEM=this.sdaTranslateService.get("ERROR_LOADING_ITEM","Specified item not found. <BR/><BR/>This could be because the item doesn't exist or because you don't have permission to view it. Please contact your administrator for more information.")}resolve(e){if(e.paramMap.has(u.u)){const t=JSON.parse(e.paramMap.get(u.u)),i=JSON.parse(e.paramMap.get(u.t));return this.resolveContextObjects(t,i,!0)}return Object(n.a)(void 0)}resolveContextObjects(e,t,i){return this.objectItemsHelperService.getCompleteObjectsUsingIds(e,t&&1===t.length?t[0]:void 0).pipe(Object(a.a)(()=>this.handleResolveError(i)),Object(o.a)(t=>t&&0!==t.length?(this.nonSPFObjectsList.forEach(i=>{e.includes(i)&&t.push(new h.a(i,"",""))}),t):this.handleResolveError(i)))}handleResolveError(e){return this.exceptionService.handleException(new r.a(this.ERROR_LOADING_ITEM)),e&&this.router.navigate([]),Object(s.b)()}}return e.\u0275fac=function(t){return new(t||e)(p.dc(l.a),p.dc(d.a),p.dc(c.a),p.dc(g.g))},e.\u0275prov=p.Ob({token:e,factory:e.\u0275fac}),e})()},"5vhC":function(e,t,i){"use strict";i.d(t,"a",(function(){return s}));var n=i("fXoL");let s=(()=>{class e{constructor(){this.selectedRoles=[]}clearSelectedRoles(){for(;this.selectedRoles.length>0;)this.selectedRoles.pop()}adjustSelectedRoles(e,t){if(e){const i=this.findRoleByName(e.RoleUID),n=t||!1;i>-1?n||this.selectedRoles.splice(i,1):n&&this.selectedRoles.push(e)}}findRoleByName(e){let t=-1;const i=this.selectedRoles.length;for(let n=0;n<i&&-1===t;n++)this.selectedRoles[n].RoleUID===e&&(t=n);return t}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=n.Ob({token:e,factory:e.\u0275fac}),e})()},"69YF":function(e,t,i){"use strict";i.d(t,"a",(function(){return o}));var n=i("K8SQ"),s=i("oCVS"),a=i("fXoL");let o=(()=>{class e{}return e.\u0275mod=a.Qb({type:e}),e.\u0275inj=a.Pb({factory:function(t){return new(t||e)},imports:[[n.a,s.a]]}),e})()},"6JPj":function(e,t,i){"use strict";i.d(t,"a",(function(){return gn}));var n=i("XNiG"),s=i("VRyK"),a=i("4B5/");class o{constructor(e,t,i){this.action=e,this.icon=t,this.disabled=!1,i&&(this.tooltip=i.tooltip,this.disabled=!!i.disabled)}}var r=i("fXoL");class c{constructor(e,t){this.title=e,this.iconPath=t}}class l{constructor(e){this.sdaTranslateService=e,this.closeMenuEmitter=new r.o,this.menuHeaderEmitter=new r.o,this.useDefaultHeader=!0,this.CLOSE_TEXT=this.sdaTranslateService.get("CLOSE","Close")}closeMenu(){this.closeMenuEmitter.emit()}setMenuHeader(e,t){this.menuHeaderEmitter.emit(new c(e,t))}}var d=i("eruR"),h=i("C4gn"),u=i("xc+7"),p=i("jNCI");class g{constructor(e,t,i){this.id=e,this.name=t,this.description=i,this.buttons=[],this.isSelected=!1,this.isActive=!1,this.pulloutActive=!1}}var f=i("UPSG"),m=i("Ejbi"),b=i("ONOH"),S=i("fKP2"),v=i("ofXK"),_=i("TLn4"),O=i("STbY"),I=i("zCQ7"),C=i("4CIq"),T=i("NFeN"),E=i("6sHd");function y(e,t){if(1&e){const e=r.Zb();r.Yb(0,"div",3),r.hc("click",(function(){return r.Kc(e),r.lc().toggle()})),r.Tb(1,"mat-icon",4),r.Xb()}if(2&e){const e=r.lc();r.sc("title",e.item.itemOptionsButtonText),r.Eb(1),r.sc("svgIcon",e.item.pulloutActive?"close":"overflow")}}function P(e,t){if(1&e){const e=r.Zb();r.Yb(0,"div",5),r.hc("click",(function(i){r.Kc(e);const n=t.$implicit;return r.lc().buttonAction(n.action,i)})),r.Tb(1,"mat-icon",4),r.Xb()}if(2&e){const e=t.$implicit;r.sc("title",e.tooltip),r.Eb(1),r.sc("svgIcon",e.icon)}}let x=(()=>{class e{constructor(){this.pulloutActiveChange=new r.o}buttonAction(e,t){e(t),this.pulloutActiveChange.emit(!1)}toggle(){this.item.pulloutActive=!this.item.pulloutActive,this.pulloutActiveChange.emit(this.item.pulloutActive)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=r.Mb({type:e,selectors:[["sda-pullout-buttons"]],inputs:{item:"item"},outputs:{pulloutActiveChange:"pulloutActiveChange"},decls:3,vars:4,consts:[["class","pullout-trigger",3,"title","click",4,"ngIf"],[1,"pullout-slide"],["class","pullout-slide-button",3,"title","click",4,"ngFor","ngForOf"],[1,"pullout-trigger",3,"title","click"],[1,"pullout-icon",3,"svgIcon"],[1,"pullout-slide-button",3,"title","click"]],template:function(e,t){1&e&&(r.Sc(0,y,2,2,"div",0),r.Yb(1,"div",1),r.Sc(2,P,2,2,"div",2),r.Xb()),2&e&&(r.sc("ngIf",t.item.buttons.length>1),r.Eb(1),r.Rc("width",t.item.pulloutActive?50*t.item.buttons.length:0,"px"),r.Eb(1),r.sc("ngForOf",t.item.buttons))},directives:[v.t,v.s,T.a],styles:["[_nghost-%COMP%]{position:relative;display:flex;color:#5c5c5c}.pullout-trigger[_ngcontent-%COMP%]{display:flex;flex-shrink:0;align-items:center;justify-content:center;width:50px;height:50px;background-color:#f1f1f1;border-left:1px solid #e4e4e4;border-right:1px solid #e4e4e4;z-index:100!important}.pullout-trigger--active[_ngcontent-%COMP%]{background-color:#dedede}.pullout-slide[_ngcontent-%COMP%]{position:absolute;top:0;right:48px;display:flex;flex-flow:row nowrap;height:50px;transition:width .25s linear}.pullout-slide-button[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;flex:0 0 50px;background-color:#f1f1f1;cursor:pointer}.pullout-slide-button[_ngcontent-%COMP%]:first-of-type{border-left:1px solid #e4e4e4}.pullout-slide-button[_ngcontent-%COMP%]:hover{background-color:#d0d0d0}.pullout-icon[_ngcontent-%COMP%]{width:20px;height:20px}"]}),e})();function A(e,t){if(1&e){const e=r.Zb();r.Yb(0,"uxt-checkbox",6),r.hc("isActiveChange",(function(t){return r.Kc(e),r.lc().isSelectedChange.emit(t)}))("click",(function(t){return r.Kc(e),r.lc().checkboxAction(t)})),r.Xb()}if(2&e){const e=r.lc();r.sc("isActive",e.isSelected)}}function w(e,t){if(1&e){const e=r.Zb();r.Yb(0,"sda-pullout-buttons",7),r.hc("pulloutActiveChange",(function(t){return r.Kc(e),r.lc().pulloutActiveChange.emit(t)})),r.Xb()}if(2&e){const e=r.lc();r.sc("item",e.item)}}let M=(()=>{class e{constructor(){this.selectionModeActive=!1,this.isSelected=!1,this.isActive=!1,this.isSelectedChange=new r.o,this.pulloutActiveChange=new r.o}performAction(e){this.selectionModeActive?(this.isSelected=!this.isSelected,this.isSelectedChange.emit(this.isSelected)):this.action&&(this.action(e),this.pulloutActiveChange.emit(!1))}checkboxAction(e){e.stopPropagation()}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=r.Mb({type:e,selectors:[["sda-pullout-item"]],inputs:{name:"name",description:"description",secondaryDescription:"secondaryDescription",action:"action",item:"item",selectionModeActive:"selectionModeActive",isSelected:"isSelected",isActive:"isActive"},outputs:{isSelectedChange:"isSelectedChange",pulloutActiveChange:"pulloutActiveChange"},decls:10,vars:10,consts:[[1,"pullout-item",3,"click"],[3,"isActive","isActiveChange","click",4,"ngIf"],[1,"pullout-info"],[1,"pullout-info__title",3,"title"],[1,"pullout-info__description",3,"title"],[3,"item","pulloutActiveChange",4,"ngIf"],[3,"isActive","isActiveChange","click"],[3,"item","pulloutActiveChange"]],template:function(e,t){1&e&&(r.Yb(0,"div",0),r.hc("click",(function(e){return t.performAction(e)})),r.Sc(1,A,1,1,"uxt-checkbox",1),r.Yb(2,"div",2),r.Yb(3,"h4",3),r.Uc(4),r.Xb(),r.Yb(5,"p",4),r.Uc(6),r.Xb(),r.Yb(7,"p",4),r.Uc(8),r.Xb(),r.Xb(),r.Xb(),r.Sc(9,w,1,1,"sda-pullout-buttons",5)),2&e&&(r.Ib("pullout-item--active",t.isActive),r.Eb(1),r.sc("ngIf",t.selectionModeActive),r.Eb(2),r.sc("title",t.name),r.Eb(1),r.Wc(" ",t.name," "),r.Eb(1),r.sc("title",t.description),r.Eb(1),r.Wc(" ",t.description," "),r.Eb(1),r.sc("title",t.secondaryDescription),r.Eb(1),r.Wc(" ",t.secondaryDescription," "),r.Eb(1),r.sc("ngIf",!t.selectionModeActive&&!!t.item.buttons.length))},directives:[v.t,E.a,x],styles:[".pullout-info__description[_ngcontent-%COMP%], .pullout-info__title[_ngcontent-%COMP%]{overflow:hidden;white-space:nowrap;text-overflow:ellipsis}[_nghost-%COMP%]{display:flex;border-bottom:1px solid #e4e4e4;cursor:pointer}.pullout-item[_ngcontent-%COMP%]{display:flex;flex:1;align-items:center;height:50px;transition:background-color .2s;overflow:hidden;-webkit-backface-visibility:hidden;backface-visibility:hidden}.pullout-item[_ngcontent-%COMP%]:hover{background-color:#afe5ff}.pullout-item[_ngcontent-%COMP%]:hover   .pullout-info__title[_ngcontent-%COMP%]{color:#1f2429}.pullout-item--active[_ngcontent-%COMP%], .pullout-item--active[_ngcontent-%COMP%]:hover{background-color:#02adff}.pullout-item--active[_ngcontent-%COMP%]     .uxt-checkbox-core, .pullout-item--active[_ngcontent-%COMP%]:hover     .uxt-checkbox-core{border-color:#fff}.pullout-item--active[_ngcontent-%COMP%]     .uxt-checkbox-core__check, .pullout-item--active[_ngcontent-%COMP%]:hover     .uxt-checkbox-core__check{background-color:#fff}.pullout-item--active[_ngcontent-%COMP%]     .uxt-checkbox-core__check__glyph, .pullout-item--active[_ngcontent-%COMP%]:hover     .uxt-checkbox-core__check__glyph{border-left-color:#02adff;border-bottom-color:#02adff}.pullout-item--active[_ngcontent-%COMP%]   .pullout-info__description[_ngcontent-%COMP%], .pullout-item--active[_ngcontent-%COMP%]   .pullout-info__title[_ngcontent-%COMP%], .pullout-item--active[_ngcontent-%COMP%]:hover   .pullout-info__description[_ngcontent-%COMP%], .pullout-item--active[_ngcontent-%COMP%]:hover   .pullout-info__title[_ngcontent-%COMP%]{color:#fff}.pullout-item[_ngcontent-%COMP%]   uxt-checkbox[_ngcontent-%COMP%]{align-self:center;margin-left:10px}.pullout-item[_ngcontent-%COMP%]   uxt-checkbox[_ngcontent-%COMP%]     .uxt-checkbox-core{margin-right:0}.pullout-info[_ngcontent-%COMP%]{padding-right:8px;padding-left:8px;overflow:hidden}.pullout-info__title[_ngcontent-%COMP%]{width:100%;color:#02adff;font-weight:500;font-size:14px;transition:color .2s}.pullout-info__description[_ngcontent-%COMP%]{margin-top:2px;font-size:10px;transition:color .2s}"]}),e})();function D(e,t){if(1&e){const e=r.Zb();r.Yb(0,"sda-button",11),r.hc("onClick",(function(t){return r.Kc(e),r.lc(3).firstButtonAction(t)})),r.Xb()}if(2&e){const e=r.lc(3);r.sc("displayName",e.firstButtonText)("isDisabled",!e.firstButtonEnabled)}}function N(e,t){if(1&e&&r.Tb(0,"sda-button-plain",12),2&e){r.lc();const e=r.Hc(4);r.sc("matMenuTriggerFor",e)("matSvgIcon","overflow")}}function R(e,t){if(1&e&&(r.Yb(0,"button",13),r.hc("click",(function(){return t.$implicit.action()})),r.Uc(1),r.Xb()),2&e){const e=t.$implicit;r.Eb(1),r.Wc(" ",e.text," ")}}function L(e,t){if(1&e&&(r.Yb(0,"div",5),r.Sc(1,D,1,2,"sda-button",6),r.Sc(2,N,1,2,"sda-button-plain",7),r.Yb(3,"mat-menu",null,8),r.Yb(5,"div",9),r.Sc(6,R,2,1,"button",10),r.Xb(),r.Xb(),r.Xb()),2&e){const e=r.lc(2);r.Eb(1),r.sc("ngIf",e.firstButtonVisible),r.Eb(1),r.sc("ngIf",e.selectionModeAvailable),r.Eb(4),r.sc("ngForOf",e.overflowItems)}}function F(e,t){if(1&e){const e=r.Zb();r.Yb(0,"div",5),r.Yb(1,"mat-icon",14),r.hc("click",(function(){return r.Kc(e),r.lc(2).selectAllAction()})),r.Xb(),r.Yb(2,"mat-icon",15),r.hc("click",(function(){return r.Kc(e),r.lc(2).stopSelectionMode()})),r.Xb(),r.Yb(3,"mat-icon",16),r.hc("click",(function(){return r.Kc(e),r.lc(2).confirmSelectionMode()})),r.Xb(),r.Xb()}if(2&e){const e=r.lc(2);r.Eb(1),r.sc("title",e.SELECT_ALL),r.Eb(1),r.sc("title",e.selectionModeCancellationText),r.Eb(1),r.Ib("pullout-panel-toolbar__icon--disabled",e.disableConfirmationButton()),r.sc("title",e.selectionModeConfirmationText)}}function k(e,t){if(1&e&&(r.Yb(0,"div",3),r.Sc(1,L,7,3,"div",4),r.Sc(2,F,4,5,"div",4),r.Xb()),2&e){const e=r.lc();r.Eb(1),r.sc("ngIf",!e.selectionModeActive),r.Eb(1),r.sc("ngIf",e.selectionModeActive)}}function U(e,t){if(1&e){const e=r.Zb();r.Yb(0,"sda-pullout-item",19),r.hc("isSelectedChange",(function(i){r.Kc(e);const n=t.$implicit;return r.lc(2).changeItemSelection(n.id,i)}))("pulloutActiveChange",(function(i){r.Kc(e);const n=t.$implicit;return r.lc(2).updateActivePulloutStates(i,n)})),r.Xb()}if(2&e){const e=t.$implicit,i=r.lc(2);r.sc("name",e.name)("description",e.description)("secondaryDescription",e.secondaryDescription)("action",e.action)("item",e)("selectionModeActive",i.selectionModeActive)("isSelected",e.isSelected)("isActive",e.isActive&&i.clickHighlighted)}}function j(e,t){if(1&e&&(r.Yb(0,"div",17),r.Sc(1,U,1,8,"sda-pullout-item",18),r.Xb()),2&e){const e=r.lc();r.Eb(1),r.sc("ngForOf",e.items)}}function B(e,t){if(1&e&&(r.Yb(0,"div",20),r.Uc(1),r.Xb()),2&e){const e=r.lc();r.Eb(1),r.Wc(" ",e.emptyListText,"\n")}}let G=(()=>{class e{constructor(e){this.sdaTranslateService=e,this.displayToolbar=!1,this.firstButtonVisible=!1,this.firstButtonEnabled=!0,this.selectionModeAvailable=!1,this.selectionModeActivationText=this.sdaTranslateService.get("SELECTION_MODE_ENTER","Select multiple items"),this.selectionModeConfirmationText=this.sdaTranslateService.get("SELECTION_MODE_CONFIRM","Confirm Selection"),this.selectionModeCancellationText=this.sdaTranslateService.get("SELECTION_MODE_CANCEL","Cancel Selection"),this.clickHighlighted=!1,this.itemsSelectedChange=new r.o,this.allSelected=!1,this.selectionModeActive=!1,this.SELECT_ALL=this.sdaTranslateService.get("SELECT_ALL","Select All"),this.overflowItems=[{text:this.selectionModeActivationText,action:()=>this.startSelectionMode()}],this.selectedItems=[]}ngOnChanges(e){e.selectionModeActivationText&&(this.overflowItems[0].text=e.selectionModeActivationText.currentValue)}disableConfirmationButton(){return!this.selectedItems.length}confirmSelectionMode(){this.itemsSelectedChange.emit(this.selectedItems),this.stopSelectionMode()}stopSelectionMode(){this.selectionModeActive=!1,this.selectAll(!1)}selectAllAction(){this.selectAll(!this.allSelected)}changeItemSelection(e,t){const i=this.items.findIndex(t=>t.id===e);this.items[i].isSelected=t,t?this.selectedItems.push(e):this.selectedItems.splice(this.selectedItems.indexOf(e),1),this.allSelected=this.items.length===this.selectedItems.length}updateActivePulloutStates(e,t){this.items.forEach(i=>i.pulloutActive=i===t&&e)}startSelectionMode(){this.selectionModeActive=!0}selectAll(e){this.allSelected=e,this.selectedItems=[],this.items.forEach(e=>{e.isSelected=this.allSelected,this.allSelected&&this.selectedItems.push(e.id)})}}return e.\u0275fac=function(t){return new(t||e)(r.Sb(m.a))},e.\u0275cmp=r.Mb({type:e,selectors:[["sda-pullout-list"]],inputs:{displayToolbar:"displayToolbar",firstButtonVisible:"firstButtonVisible",firstButtonEnabled:"firstButtonEnabled",firstButtonText:"firstButtonText",firstButtonAction:"firstButtonAction",selectionModeAvailable:"selectionModeAvailable",selectionModeActivationText:"selectionModeActivationText",selectionModeConfirmationText:"selectionModeConfirmationText",selectionModeCancellationText:"selectionModeCancellationText",items:"items",clickHighlighted:"clickHighlighted",emptyListText:"emptyListText"},outputs:{itemsSelectedChange:"itemsSelectedChange"},features:[r.Cb],decls:3,vars:3,consts:[["class","pullout-panel-toolbar",4,"ngIf"],["class","pullout-list",4,"ngIf"],["class","pullout-list__empty",4,"ngIf"],[1,"pullout-panel-toolbar"],["class","pullout-panel-toolbar__block",4,"ngIf"],[1,"pullout-panel-toolbar__block"],["class","pullout-panel-toolbar__button",3,"displayName","isDisabled","onClick",4,"ngIf"],["class","pullout-panel-toolbar__overflow",3,"matMenuTriggerFor","matSvgIcon",4,"ngIf"],["menu","matMenu"],[1,"menu-options"],["mat-menu-item","","class","menu-options__btn",3,"click",4,"ngFor","ngForOf"],[1,"pullout-panel-toolbar__button",3,"displayName","isDisabled","onClick"],[1,"pullout-panel-toolbar__overflow",3,"matMenuTriggerFor","matSvgIcon"],["mat-menu-item","",1,"menu-options__btn",3,"click"],["svgIcon","multiselect",1,"pullout-panel-toolbar__icon",3,"title","click"],["svgIcon","close",1,"pullout-panel-toolbar__icon",3,"title","click"],["svgIcon","check",1,"pullout-panel-toolbar__icon","pullout-panel-toolbar__icon--confirm",3,"title","click"],[1,"pullout-list"],[3,"name","description","secondaryDescription","action","item","selectionModeActive","isSelected","isActive","isSelectedChange","pulloutActiveChange",4,"ngFor","ngForOf"],[3,"name","description","secondaryDescription","action","item","selectionModeActive","isSelected","isActive","isSelectedChange","pulloutActiveChange"],[1,"pullout-list__empty"]],template:function(e,t){1&e&&(r.Sc(0,k,3,2,"div",0),r.Sc(1,j,2,1,"div",1),r.Sc(2,B,2,1,"div",2)),2&e&&(r.sc("ngIf",t.displayToolbar),r.Eb(1),r.sc("ngIf",t.items&&t.items.length),r.Eb(1),r.sc("ngIf",!t.items||!t.items.length))},directives:[v.t,O.e,v.s,I.a,C.a,O.d,O.b,T.a,M],styles:[".pullout-list[_ngcontent-%COMP%]{overflow-x:hidden;overflow-y:auto}[_nghost-%COMP%]{display:flex;flex-direction:column;height:100%}.pullout-panel-toolbar[_ngcontent-%COMP%]{flex-shrink:0;height:48px;padding:0 8px;border-bottom:1px solid #e4e4e4}.pullout-panel-toolbar[_ngcontent-%COMP%], .pullout-panel-toolbar__block[_ngcontent-%COMP%]{display:flex;align-items:center;background-color:#fff}.pullout-panel-toolbar__block[_ngcontent-%COMP%]{flex-grow:1}.pullout-panel-toolbar__overflow[_ngcontent-%COMP%]{margin-left:auto}.pullout-panel-toolbar__overflow[_ngcontent-%COMP%]     .button{padding:0}.pullout-panel-toolbar__overflow[_ngcontent-%COMP%]     .button:not([disabled]):hover{background-color:initial}.pullout-panel-toolbar__overflow[_ngcontent-%COMP%]     .button__mat-icon{width:24px;height:24px;color:#697a8b}.pullout-panel-toolbar__icon[_ngcontent-%COMP%]{width:40px;height:40px;padding:8px;color:#5c5c5c;cursor:pointer}.pullout-panel-toolbar__icon--confirm[_ngcontent-%COMP%]{margin-left:auto}.pullout-panel-toolbar__icon--disabled[_ngcontent-%COMP%]{opacity:.4;pointer-events:none}.pullout-list__empty[_ngcontent-%COMP%]{height:100px;text-align:center;padding-top:40px;font-size:14px;color:rgba(0,0,0,.7)}.menu-options[_ngcontent-%COMP%]{max-height:300px}.menu-options__btn[_ngcontent-%COMP%]{text-transform:none}.menu-options__btn[_ngcontent-%COMP%]:hover{background-color:#afe5ff}"]}),e})();function V(e,t){1&e&&r.Tb(0,"sda-loading-indicator",2),2&e&&r.sc("centered",!0)}function X(e,t){if(1&e){const e=r.Zb();r.Yb(0,"sda-pullout-list",3),r.hc("itemsSelectedChange",(function(t){return r.Kc(e),r.lc().removeItem(t)})),r.Xb()}if(2&e){const e=r.lc();r.sc("displayToolbar",!0)("firstButtonVisible",!0)("firstButtonEnabled",e.claimItems&&e.claimItems.length>0)("firstButtonText",e.CLAIMS_MENU_CLAIM)("firstButtonAction",e.claimAllItems)("selectionModeAvailable",!0)("selectionModeActivationText",e.CLAIMS_MENU_SELECT_ITEMS_TO_REMOVE)("selectionModeConfirmationText",e.CLAIMS_MENU_GROUP_REMOVE_SELECTED)("items",e.claimItems)("emptyListText",e.CLAIMS_MENU_NO_ITEMS)}}let H=(()=>{class e extends l{constructor(e,t,i,n,s,a,o,r,c){super(e),this.sdaTranslateService=e,this.actionMenuProvider=t,this.configService=i,this.claimboardService=n,this.infomapNavigationService=s,this.featureSetNavigationService=a,this.featureSetService=o,this.featureSetDataService=r,this.modalService=c,this.CLAIMS_MENU_CLAIM=this.sdaTranslateService.get("CLAIMBOARD_PROCEED","Proceed to Claim"),this.CLAIMS_MENU_SELECT_ITEMS_TO_REMOVE=this.sdaTranslateService.get("SELECT_REMOVE_ITEMS","Select items to remove"),this.CLAIMS_MENU_GROUP_REMOVE_SELECTED=this.sdaTranslateService.get("REMOVE_SELECTED_ITEMS","Remove selected items"),this.CLAIMS_MENU_NO_ITEMS=this.sdaTranslateService.get("CLAIMS_MENU_NO_ITEMS","No items on Claimboard"),this.claimItems=[],this.CLAIMS_MENU_REMOVE=this.sdaTranslateService.get("REMOVE_ITEM","Remove item"),this.ACTIONS_MENU_TITLE=this.sdaTranslateService.get("ACTIONS_MENU_TITLE","Actions"),this.ACTIONS_MENU_INFOMAP_SHORTCUT=this.sdaTranslateService.get("ACTIONS_MENU_INFOMAP_SHORTCUT","Show Info Map"),this.SIDE_MENU_ITEM_OPTIONS=this.sdaTranslateService.get("SIDE_MENU_ITEM_OPTIONS","Toggle item options"),this.claimAllItems=()=>{this.featureSetDataService.getClientApiMethods("ClaimObj").subscribe(e=>{if(e&&e.length){const t=this.featureSetService.convertToFeature(e[0]);this.contentMenuService.toggleClaimboardMenu(),this.featureSetNavigationService.navigateToFeature(t)}else this.modalService.alert(this.sdaTranslateService.get("NO_ACCESS_TO_CLAIM_OBJECT","You do not have access for claiming objects. Please contact your system administrator."),this.sdaTranslateService.get("TODO_ACTIONS_ACCESS_DENIED","Access Denied"))})}}ngOnInit(){this.loadingItems=!0,this.setMenuHeader(this.sdaTranslateService.getFormatted("CLAIMBOARD_TITLE","Claimboard for {0}",[this.configService.getConfigByUid(this.configService.selectedCreateConfig).DisplayName])),this.itemChangesSubscription=this.claimboardService.claimItemsChange$.subscribe(e=>{this.claimItems=this.convertToMenuItems(e)}),this.itemsUpdatingSubscription=this.claimboardService.claimsUpdating$.subscribe(e=>{this.loadingItems=e}),this.claimboardService.refreshClaims()}ngOnDestroy(){this.itemChangesSubscription&&this.itemChangesSubscription.unsubscribe(),this.itemsUpdatingSubscription&&this.itemsUpdatingSubscription.unsubscribe()}onResize(){}removeItem(e){this.claimboardService.deleteClaims(e)}convertToMenuItems(e){const t=[];return e.forEach(e=>{const i=new o(()=>{this.removeItem(e.obid)},"remove_claim",{tooltip:this.CLAIMS_MENU_REMOVE}),n=new o(()=>{this.toggleActionsMenu(e)},"list",{tooltip:this.ACTIONS_MENU_TITLE}),s=new o(()=>{this.openInfoMap(e)},"nodemap",{tooltip:this.ACTIONS_MENU_INFOMAP_SHORTCUT}),a=this.configService.currentConfigs.find(t=>t.ConfigUID===e.config),r=new g(e.obid,e.name,e.displayAs||"");r.buttons=[i,n,s],r.action=()=>{this.handleItemPress(e)},r.itemOptionsButtonText=this.SIDE_MENU_ITEM_OPTIONS,r.secondaryDescription=a.DisplayName,t.push(r)}),t}toggleActionsMenu(e){this.actionMenuProvider.clearItems(),this.actionMenuProvider.addItem(e),this.contentMenuService.showActionsMenu(!0)}openInfoMap(e){this.infomapNavigationService.navigateToInfoMap(e.obid,e.config)}handleItemPress(e){this.claimboardService.viewItemDetails(e)}}return e.\u0275fac=function(t){return new(t||e)(r.Sb(m.a),r.Sb(a.a),r.Sb(b.a),r.Sb(S.a),r.Sb(f.a),r.Sb(h.a),r.Sb(u.a),r.Sb(d.a),r.Sb(p.a))},e.\u0275cmp=r.Mb({type:e,selectors:[["sda-claimboard"]],features:[r.Bb],decls:2,vars:2,consts:[[3,"centered",4,"ngIf"],[3,"displayToolbar","firstButtonVisible","firstButtonEnabled","firstButtonText","firstButtonAction","selectionModeAvailable","selectionModeActivationText","selectionModeConfirmationText","items","emptyListText","itemsSelectedChange",4,"ngIf"],[3,"centered"],[3,"displayToolbar","firstButtonVisible","firstButtonEnabled","firstButtonText","firstButtonAction","selectionModeAvailable","selectionModeActivationText","selectionModeConfirmationText","items","emptyListText","itemsSelectedChange"]],template:function(e,t){1&e&&(r.Sc(0,V,1,1,"sda-loading-indicator",0),r.Sc(1,X,1,10,"sda-pullout-list",1)),2&e&&(r.sc("ngIf",t.loadingItems),r.Eb(1),r.sc("ngIf",!t.loadingItems))},directives:[v.t,_.a,G],styles:["[_nghost-%COMP%]{display:flex;flex:1 0 auto;flex-direction:column;height:100%;font-size:14px}"]}),e})();var Y=i("LUpO"),q=i("PEjJ"),W=i("Y9Bn"),z=i("tyNb"),$=i("bv9b"),Q=i("uFRd");function K(e,t){1&e&&r.Tb(0,"mat-progress-bar",6)}function J(e,t){if(1&e){const e=r.Zb();r.Yb(0,"div",7),r.hc("click",(function(){return r.Kc(e),r.lc().showAll()})),r.Uc(1),r.Xb()}if(2&e){const e=r.lc();r.Eb(1),r.Wc(" ",e.SEE_ALL_NOTIFICATIONS,"\n")}}function Z(e,t){if(1&e&&(r.Yb(0,"div",8),r.Uc(1),r.Xb()),2&e){const e=r.lc();r.Eb(1),r.Wc(" ",e.EMPTY_NOTIFICATIONS," ")}}function ee(e,t){if(1&e){const e=r.Zb();r.Yb(0,"sda-notification",9),r.hc("delete",(function(t){return r.Kc(e),r.lc().deleteNotification(t)})),r.Xb()}2&e&&r.sc("notification",t.$implicit)("isSelected",!1)}let te=(()=>{class e extends l{constructor(e,t,i,n,s){super(i),this.router=e,this.exceptionService=t,this.sdaTranslateService=i,this.notificationsService=n,this.dataRefreshService=s,this.open=!1,this.isReloading=!1,this.notifications=[],this.EMPTY_NOTIFICATIONS=this.sdaTranslateService.get("EMPTY_NOTIFICATIONS","There are no notifications"),this.NOTIFICATIONS_STRING=this.sdaTranslateService.get("NOTIFICATIONS","Notifications"),this.SEE_ALL_NOTIFICATIONS=this.sdaTranslateService.get("SEE_ALL_NOTIFICATIONS","See all notifications")}ngOnInit(){this.setMenuHeader(this.NOTIFICATIONS_STRING),this.notificationsService.reloadingSubscription.subscribe(e=>{this.isReloading=e}),this.notificationsService.notificationsSubscription.subscribe(e=>{this.notifications=e.slice(0,10).map(e=>(e.isNew&&!e.hasTimeout&&(e.hasTimeout=!0,setTimeout(()=>e.isNew=!1,6e3)),e))})}deleteNotification(e){e.isDeleting=!0,this.notificationsService.deleteNotifications([e.OBID]).subscribe(t=>{let i=!0;t.forEach(t=>{(t.statusCode<200||t.statusCode>=300)&&(this.exceptionService.handleException(t.data),i=!1,e.isDeleting=!1)}),i&&(this.dataRefreshService.notifyItemsRemoved([e.OBID]),this.notificationsService.removeNotifications([e.OBID]))})}reloadNotifications(){this.isReloading||this.notificationsService.getNotifications(Settings.application.defaultPageSize,0)}showAll(){this.router.navigate(["notifications"]),this.closeMenu()}notificationTrackBy(e){return e.OBID}onResize(){}}return e.\u0275fac=function(t){return new(t||e)(r.Sb(z.g),r.Sb(Y.a),r.Sb(m.a),r.Sb(W.a),r.Sb(q.a))},e.\u0275cmp=r.Mb({type:e,selectors:[["sda-notifications-menu"]],inputs:{open:"open"},features:[r.Bb],decls:6,vars:4,consts:[["svgIcon","refresh",1,"notifications-menu__refresh",3,"click"],["mode","indeterminate",4,"ngIf"],["class","notifications-menu__show-all",3,"click",4,"ngIf"],[1,"notifications-menu__list"],["class","notifications-menu__empty",4,"ngIf"],[3,"notification","isSelected","delete",4,"ngFor","ngForOf"],["mode","indeterminate"],[1,"notifications-menu__show-all",3,"click"],[1,"notifications-menu__empty"],[3,"notification","isSelected","delete"]],template:function(e,t){1&e&&(r.Yb(0,"mat-icon",0),r.hc("click",(function(){return t.reloadNotifications()})),r.Xb(),r.Sc(1,K,1,0,"mat-progress-bar",1),r.Sc(2,J,2,1,"div",2),r.Yb(3,"div",3),r.Sc(4,Z,2,1,"div",4),r.Sc(5,ee,1,2,"sda-notification",5),r.Xb()),2&e&&(r.Eb(1),r.sc("ngIf",t.isReloading),r.Eb(1),r.sc("ngIf",t.notifications.length),r.Eb(2),r.sc("ngIf",!t.notifications.length),r.Eb(1),r.sc("ngForOf",t.notifications))},directives:[T.a,v.t,v.s,$.a,Q.a],styles:["[_nghost-%COMP%]{display:flex;flex-direction:column;height:100%;overflow:hidden}[_nghost-%COMP%]     .notification{box-shadow:none}[_nghost-%COMP%]     .notification:last-child{border-bottom:none}[_nghost-%COMP%]     .notification:focus .notification__buttons, [_nghost-%COMP%]     .notification:hover .notification__buttons{-webkit-transform:translateX(0);transform:translateX(0)}[_nghost-%COMP%]     .notification__select{display:none}[_nghost-%COMP%]     .notification__buttons{position:absolute;right:0;flex-direction:column;width:38px;height:100%;background-color:hsla(0,0%,93.3%,.95);-webkit-transform:translateX(50px);transform:translateX(50px);transition:-webkit-transform .2s linear .15s;transition:transform .2s linear .15s;transition:transform .2s linear .15s,-webkit-transform .2s linear .15s}[_nghost-%COMP%]     .notification__button{flex:1 1 auto!important}[_nghost-%COMP%]     .notification .notification__info{min-height:95px;margin-left:0;padding:15px 10px;-webkit-user-select:none;-ms-user-select:none;user-select:none}[_nghost-%COMP%]     .notification .notification__type{margin-right:2px;font-size:10px}.notifications-menu__refresh[_ngcontent-%COMP%]{position:absolute;top:14px;right:50px;width:20px;height:20px;color:#fff;cursor:pointer}.notifications-menu__empty[_ngcontent-%COMP%]{height:100px;text-align:center;padding-top:40px;font-size:14px;color:rgba(0,0,0,.7)}.notifications-menu__list[_ngcontent-%COMP%]{overflow-x:hidden;overflow-y:auto}.notifications-menu__list[_ngcontent-%COMP%]   sda-notification[_ngcontent-%COMP%]{display:flex}.notifications-menu__list[_ngcontent-%COMP%]   sda-notification[_ngcontent-%COMP%]:not(:first-child){border-top:1px solid rgba(0,0,0,.1)}.notifications-menu__show-all[_ngcontent-%COMP%]{display:flex;justify-content:center;padding:8px 0;font-size:14px;color:rgba(0,0,0,.6);border-bottom:1px solid rgba(0,0,0,.1);cursor:pointer}.notifications-menu__show-all[_ngcontent-%COMP%]:hover{color:#188ddd}mat-progress-bar[_ngcontent-%COMP%]{position:absolute;height:3px}"]}),e})();var ie=i("yAwn"),ne=i("d2KQ"),se=i("NFsq"),ae=i("IzEk"),oe=i("Spnr"),re=i("+eYH"),ce=i("FedY"),le=i("Xfz+"),de=i("biIz");class he{constructor(){this.configs=[],this.classDefs=[],this.overDueCount=0,this.myAssignedTasksCount=0,this.myNonClaimedTasksCount=0,this.totalCount=0}}class ue{constructor(e,t,i,n){this.color=e,this.name=t,this.displayName=i,this.count=n}}var pe=i("C4jX"),ge=i("I5S5"),fe=i("7LiV"),me=i("7zfz"),be=i("8gPv");const Se=["Mychart"];function ve(e,t){if(1&e&&r.Tb(0,"sda-loading-indicator",10),2&e){const e=r.lc();r.sc("centered","true")("message",e.TODO_LIST_FETCHING_TASKS)}}function _e(e,t){if(1&e){const e=r.Zb();r.Yb(0,"section",11),r.Yb(1,"p-chart",12,13),r.hc("onDataSelect",(function(t){return r.Kc(e),r.lc().selectPieChart(t)})),r.Xb(),r.Xb()}if(2&e){const e=r.lc();r.Eb(1),r.sc("data",e.pieChartData)("responsive",!1)}}function Oe(e,t){if(1&e&&(r.Yb(0,"section",14),r.Yb(1,"span",15),r.Uc(2),r.Xb(),r.Xb()),2&e){const e=r.lc();r.Eb(2),r.Vc(e.TODO_NO_ITEMS_FOUND)}}function Ie(e,t){if(1&e&&(r.Yb(0,"section",16),r.Yb(1,"p-accordion",17),r.Yb(2,"p-accordionTab",18),r.Yb(3,"p-header",19),r.Tb(4,"mat-icon",20),r.Yb(5,"span",21),r.Uc(6),r.Xb(),r.Xb(),r.Tb(7,"sda-chip-list-view",22),r.Xb(),r.Xb(),r.Xb()),2&e){const e=r.lc();r.Eb(1),r.sc("multiple",!0),r.Eb(5),r.Vc(e.getCurrentScopeHeader()),r.Eb(1),r.sc("chips",e.configChips)}}function Ce(e,t){if(1&e){const e=r.Zb();r.Yb(0,"button",24),r.hc("click",(function(){return r.Kc(e),r.lc(2).showTodoListForOverDueItems()})),r.Yb(1,"span",15),r.Uc(2),r.Xb(),r.Yb(3,"span",27),r.Uc(4),r.Xb(),r.Xb()}if(2&e){const e=r.lc(2);r.Eb(2),r.Vc(e.OVERDUE_WORKFLOW_ITEMS_TITLE),r.Eb(2),r.Vc(e.chartModel.overDueCount)}}function Te(e,t){if(1&e){const e=r.Zb();r.Yb(0,"button",24),r.hc("click",(function(){return r.Kc(e),r.lc(2).showTodoListForAssignedToMeItems()})),r.Yb(1,"span",15),r.Uc(2),r.Xb(),r.Yb(3,"span",28),r.Uc(4),r.Xb(),r.Xb()}if(2&e){const e=r.lc(2);r.Eb(2),r.Vc(e.MYASSIGNED_ITEMS_TITLE),r.Eb(2),r.Vc(e.chartModel.myAssignedTasksCount)}}function Ee(e,t){if(1&e){const e=r.Zb();r.Yb(0,"button",24),r.hc("click",(function(){return r.Kc(e),r.lc(2).showTodoListForAssignedToRoleItems()})),r.Yb(1,"span",15),r.Uc(2),r.Xb(),r.Yb(3,"span",28),r.Uc(4),r.Xb(),r.Xb()}if(2&e){const e=r.lc(2);r.Eb(2),r.Vc(e.MYNONCLAIMED_ITEMS_TITLE),r.Eb(2),r.Vc(e.chartModel.myNonClaimedTasksCount)}}function ye(e,t){if(1&e){const e=r.Zb();r.Yb(0,"section",23),r.Yb(1,"button",24),r.hc("click",(function(){return r.Kc(e),r.lc().showAll()})),r.Yb(2,"span",15),r.Uc(3),r.Xb(),r.Yb(4,"span",25),r.Uc(5),r.Xb(),r.Xb(),r.Sc(6,Ce,5,2,"button",26),r.Sc(7,Te,5,2,"button",26),r.Sc(8,Ee,5,2,"button",26),r.Xb()}if(2&e){const e=r.lc();r.Eb(3),r.Vc(e.ALL_WORKFLOW_ITEMS_TITLE),r.Eb(2),r.Vc(e.chartModel.totalCount),r.Eb(1),r.sc("ngIf",e.chartModel.overDueCount>0),r.Eb(1),r.sc("ngIf",e.chartModel.myAssignedTasksCount>0),r.Eb(1),r.sc("ngIf",e.chartModel.myNonClaimedTasksCount>0)}}function Pe(e,t){if(1&e){const e=r.Zb();r.Yb(0,"button",24),r.hc("click",(function(){r.Kc(e);const i=t.$implicit;return r.lc(2).showTodoListForClassDef(i)})),r.Yb(1,"span",15),r.Uc(2),r.Xb(),r.Yb(3,"span",25),r.Uc(4),r.Xb(),r.Xb()}if(2&e){const e=t.$implicit;r.Eb(2),r.Vc(e.displayName),r.Eb(1),r.Rc("background-color",e.color),r.Eb(1),r.Wc(" ",e.count," ")}}function xe(e,t){if(1&e&&(r.Yb(0,"section",29),r.Sc(1,Pe,5,4,"button",30),r.Xb()),2&e){const e=r.lc();r.Eb(1),r.sc("ngForOf",e.chartModel.classDefs)}}let Ae=(()=>{class e extends l{constructor(e,t,i,n,s,a,o){super(e),this.sdaTranslateService=e,this.featureSetService=t,this.featureSetNavigationService=i,this.todoListConfigService=n,this.todoListService=s,this.dataRefreshService=a,this.exceptionService=o,this.SIDE_MENU_TODOS_DISPLAY=this.sdaTranslateService.get("SIDE_MENU_TODOS_DISPLAY","To Do List: Overview"),this.ALL_WORKFLOW_ITEMS_TITLE=this.sdaTranslateService.get("ALL","All"),this.OVERDUE_WORKFLOW_ITEMS_TITLE=this.sdaTranslateService.get("OVER_DUE_ITEMS","Overdue"),this.MYASSIGNED_ITEMS_TITLE=this.sdaTranslateService.get("MYASSIGNEDTASKS","My Assigned/Claimed Tasks"),this.MYNONCLAIMED_ITEMS_TITLE=this.sdaTranslateService.get("MYNONCLAIMEDTASKS","My Non-claimed Tasks"),this.TODO_NO_ITEMS_FOUND=this.sdaTranslateService.get("TODO_NO_ITEMS_FOUND","No to do list items found"),this.TODO_LIST_FETCHING_TASKS=this.sdaTranslateService.get("TODO_LIST_FETCHING_TASKS","Retrieving available tasks"),this.showLoadingIndicator=!1,this.accessableConfigs=[],this.pieChartData={labels:[],datasets:[]},this.configChips=[],Chart.defaults.global.legend.display=!1}ngOnInit(){this.initialiseChart(),this.setupRefreshSubscription()}showAll(){this.navigateToTodoListItems(this.chartModel.configs.map(e=>e.config),[],pe.a.ALL)}selectPieChart(e){const t=e.element._model.label,i=this.chartModel.classDefs.filter(e=>e.displayName===t)[0].name;this.navigateToTodoListItems(this.chartModel.configs.map(e=>e.config),[i])}showTodoListForOverDueItems(){this.navigateToTodoListItems(this.chartModel.configs.map(e=>e.config),[],pe.a.OVER_DUE)}showTodoListForAssignedToMeItems(){this.navigateToTodoListItems(this.chartModel.configs.map(e=>e.config),[],pe.a.MY_ASSIGNED_TASKS)}showTodoListForAssignedToRoleItems(){this.navigateToTodoListItems(this.chartModel.configs.map(e=>e.config),[],pe.a.MY_NON_CLAIMED_TASKS)}showTodoListForClassDef(e){this.navigateToTodoListItems(this.chartModel.configs.map(e=>e.config),[e.name])}onResize(){}getCurrentScopeHeader(){return this.sdaTranslateService.getFormatted("TODO_MENU_ITEM_CURRENT_SELECTED_SCOPE","{0} selected",[this.chartModel.configs.length.toString()])}ngOnDestroy(){this.refreshSubscription&&this.refreshSubscription.unsubscribe()}setupRefreshSubscription(){this.refreshSubscription=Object(s.a)(this.dataRefreshService.refreshData$,this.todoListService.refreshToDoListCount$).subscribe(()=>{this.todoListConfigService.refreshTodoListOverView&&this.initialiseChart()})}setConfigClassCounts(e,t){e.map(e=>{e.classDefs=[],t.filter(t=>t.Key===e.configUID).map(t=>{t.Value.map(t=>{e.classDefs.filter(e=>e.Classdef===t.Classdef&&e.DisplayName===t.DisplayName).length>0||e.classDefs.push(t)})})})}resetChart(){this.chartModel=new he,this.pieChartData={labels:[],datasets:[]}}initialiseChart(){this.resetChart(),this.showLoadingIndicator=!0,this.accessableConfigs=this.todoListConfigService.availableConfigs,this.accessableConfigs.length>0?this.todoListService.getToDolistItemsCountByConfigandClassDef().pipe(Object(ae.a)(1)).subscribe(e=>{this.refreshPieChart(e)},e=>{this.showLoadingIndicator=!1,this.exceptionService.handleException(e)}):this.refreshPieChart([])}refreshPieChart(e){this.setConfigClassCounts(this.accessableConfigs,e),this.chartModel=this.createChartModel(this.accessableConfigs,new he),this.chartModel.configs.length>0&&(this.configChips=this.chartModel.configs.map(e=>new oe.a(e,!1,!1)),this.pieChartData={labels:this.chartModel.classDefs.map(e=>e.displayName),datasets:[{data:this.chartModel.classDefs.map(e=>e.count),backgroundColor:this.chartModel.classDefs.map(e=>e.color),hoverBackgroundColor:this.chartModel.classDefs.map(e=>e.color)}]},this.chart&&(this.chart.data=this.pieChartData,this.chart.refresh())),this.todoListService.toDoListStepsCount$.next(this.chartModel.totalCount),this.showLoadingIndicator=!1}createChartModel(e,t){return e.forEach(e=>{let i=0;e.classDefs&&e.classDefs.length>0&&(e.classDefs.every(e=>"OVERDUE"!==e.DisplayName)||(t.overDueCount+=e.classDefs.filter(e=>"OVERDUE"===e.DisplayName)[0].Count),e.classDefs.every(e=>"MYASSIGNEDTASKS"!==e.DisplayName)||(t.myAssignedTasksCount+=e.classDefs.filter(e=>"MYASSIGNEDTASKS"===e.DisplayName)[0].Count),e.classDefs.every(e=>"MYNONCLAIMEDTASKS"!==e.DisplayName)||(t.myNonClaimedTasksCount+=e.classDefs.filter(e=>"MYNONCLAIMEDTASKS"===e.DisplayName)[0].Count),e.classDefs.forEach(e=>{if("OVERDUE"!==e.DisplayName&&"MYASSIGNEDTASKS"!==e.DisplayName&&"MYNONCLAIMEDTASKS"!==e.DisplayName){if(Object(se.a)(t.classDefs.map(e=>e.name),e.Classdef))t.classDefs.filter(t=>t.name===e.Classdef)[0].count+=e.Count;else{const i=new ue(this.getColorFromClassDef(e.Classdef),e.Classdef,e.DisplayName,e.Count);i.columnsetUID=e.ColumnSetUID,t.classDefs.push(i)}t.totalCount+=e.Count,i+=e.Count}})),t.configs.push(new re.a("",e.name+" ("+i+")",e.configUID))}),t.classDefs.sort((e,t)=>ce.a.sortByString(e.displayName,t.displayName)),t}navigateToTodoListItems(e,t,i){this.todoListConfigService.getClientAPIFeaturesInConfig(e[0]).subscribe(n=>{if(n&&n.length){const s=this.featureSetService.convertToFeature(n[0]);s.data={selectedClassDefs:t,selectedConfigs:e,targetdatetype:i},this.featureSetNavigationService.navigateToFeature(s)}})}getColorFromClassDef(e){let t=0;for(let s=0;s<e.length;s++)t=e.charCodeAt(s)+(t*Math.pow(2,3)-t);let i=Math.abs(t).toString(16);i=i.replace(/[^0-9A-Fa-f]/g,"");let n="#";return i.length<6?n=n+"000000".substring(0,6-i.length)+i:n+=i.substring(0,6),n}}return e.\u0275fac=function(t){return new(t||e)(r.Sb(m.a),r.Sb(u.a),r.Sb(h.a),r.Sb(le.a),r.Sb(de.a),r.Sb(q.a),r.Sb(Y.a))},e.\u0275cmp=r.Mb({type:e,selectors:[["sda-todo-list-view"]],viewQuery:function(e,t){var i;1&e&&r.bd(Se,!0),2&e&&r.Gc(i=r.ic())&&(t.chart=i.first)},features:[r.Bb],decls:11,vars:8,consts:[[1,"content-header"],[1,"content-header__title"],[1,"todo-list-icons"],["svgIcon","close",1,"content-header__icon",3,"title","click"],[3,"centered","message",4,"ngIf"],["class","todo-section todo-section--chart",4,"ngIf"],["class","todo-section todo-section--empty",4,"ngIf"],["class","todo-section todo-section--scope",4,"ngIf"],["class","todo-section todo-section--notice",4,"ngIf"],["class","todo-section",4,"ngIf"],[3,"centered","message"],[1,"todo-section","todo-section--chart"],["type","pie","height","180","width","180",3,"data","responsive","onDataSelect"],["Mychart",""],[1,"todo-section","todo-section--empty"],[1,"todo-title"],[1,"todo-section","todo-section--scope"],[1,"selected-scopes",3,"multiple"],[1,"selected-scopes__content"],[1,"selected-scopes__header"],["svgIcon","plant",1,"selected-scopes__icon"],[1,"selected-scopes__title"],[3,"chips"],[1,"todo-section","todo-section--notice"],[1,"todo-item",3,"click"],[1,"todo-count"],["class","todo-item",3,"click",4,"ngIf"],[1,"todo-count","todo-count--overdue"],[1,"todo-count","todo-count--tasks"],[1,"todo-section"],["class","todo-item",3,"click",4,"ngFor","ngForOf"]],template:function(e,t){1&e&&(r.Yb(0,"header",0),r.Yb(1,"h2",1),r.Uc(2),r.Xb(),r.Yb(3,"div",2),r.Yb(4,"mat-icon",3),r.hc("click",(function(){return t.closeMenu()})),r.Xb(),r.Xb(),r.Xb(),r.Sc(5,ve,1,2,"sda-loading-indicator",4),r.Sc(6,_e,3,2,"section",5),r.Sc(7,Oe,3,1,"section",6),r.Sc(8,Ie,8,3,"section",7),r.Sc(9,ye,9,5,"section",8),r.Sc(10,xe,2,1,"section",9)),2&e&&(r.Eb(2),r.Vc(t.SIDE_MENU_TODOS_DISPLAY),r.Eb(2),r.sc("title",t.CLOSE_TEXT),r.Eb(1),r.sc("ngIf",t.showLoadingIndicator),r.Eb(1),r.sc("ngIf",(null==t.chartModel?null:t.chartModel.totalCount)>0),r.Eb(1),r.sc("ngIf",0===(null==t.chartModel?null:t.chartModel.totalCount)&&!t.showLoadingIndicator),r.Eb(1),r.sc("ngIf",(null==t.chartModel?null:t.chartModel.configs.length)>0),r.Eb(1),r.sc("ngIf",(null==t.chartModel?null:t.chartModel.totalCount)>0),r.Eb(1),r.sc("ngIf",t.chartModel))},directives:[T.a,v.t,_.a,ge.b,fe.a,fe.c,me.b,be.a,v.s],styles:[".sda-config__header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:10px;border-bottom:1px solid #a9b4be}.sda-config__header[_ngcontent-%COMP%], .sda-config__header__text[_ngcontent-%COMP%]{padding-right:8px;padding-left:8px}[_nghost-%COMP%]{display:flex;flex-direction:column}[_nghost-%COMP%]     .ui-treetable table thead{display:none}[_nghost-%COMP%]     .ui-accordion{border:none!important;border-bottom:1px solid rgba(107,140,173,.1)!important;border-radius:0}[_nghost-%COMP%]     .ui-accordion-header{display:flex;align-items:center;margin:0!important}[_nghost-%COMP%]     .ui-accordion-header a{padding:.5em .7em .5em 2.2em}[_nghost-%COMP%]     .ui-widget-content{padding:10px!important}.todo-list-icons[_ngcontent-%COMP%]{display:flex;flex-shrink:0;align-items:center}.todo-section[_ngcontent-%COMP%]{padding:0}.todo-section--empty[_ngcontent-%COMP%]{padding:10px;text-align:center;font-size:14px}.todo-section--chart[_ngcontent-%COMP%]{margin:10px 0}.todo-section--chart[_ngcontent-%COMP%]   p-chart[_ngcontent-%COMP%]     canvas{max-width:70%;height:auto!important;margin:15px auto}.todo-section--scope[_ngcontent-%COMP%]{margin-bottom:10px}.todo-section--notice[_ngcontent-%COMP%]{margin-bottom:6px;padding-bottom:6px;border-bottom:1px solid rgba(107,140,173,.1)}.selected-scopes__header[_ngcontent-%COMP%]{display:flex;flex:1;align-items:center}.selected-scopes__icon[_ngcontent-%COMP%]{width:16px;height:16px}.selected-scopes__title[_ngcontent-%COMP%]{margin-left:6px}.todo-item[_ngcontent-%COMP%]{display:flex;justify-content:flex-start;align-items:center;width:100%;min-width:40px;height:auto;padding:6px 15px;font-size:13px;font-weight:400;line-height:1.15;border:none;border-radius:0;text-transform:none}.todo-item[_ngcontent-%COMP%]:hover{background-color:rgba(235,237,240,.7)}.todo-count[_ngcontent-%COMP%]{min-width:30px;padding:3px 2px;background-color:#000;border:none;border-radius:5px;font-size:12px;color:#fff;line-height:1}.todo-count--tasks[_ngcontent-%COMP%]{background-color:#515e6b}.todo-count--overdue[_ngcontent-%COMP%]{background-color:#d7142c}.todo-title[_ngcontent-%COMP%]{flex-grow:1;margin-right:8px;text-align:left}",".content-body[_ngcontent-%COMP%]{overflow-x:hidden;overflow-y:auto}.content-header__title[_ngcontent-%COMP%]{overflow:hidden;white-space:nowrap;text-overflow:ellipsis}[_nghost-%COMP%]{position:relative;height:100%;z-index:200!important}@media screen and (max-width:1199px){[_nghost-%COMP%]{z-index:900!important}}.content-menu[_ngcontent-%COMP%]{position:relative;display:flex;flex:1 0 100%;flex-direction:column;overflow:hidden}.k-safari.k-mobile[_nghost-%COMP%]   .content-menu[_ngcontent-%COMP%], .k-safari.k-mobile   [_nghost-%COMP%]   .content-menu[_ngcontent-%COMP%]{transition:none}.content-menu--open[_ngcontent-%COMP%]{position:absolute;max-width:286px;height:100%;background-color:#fff}@media screen and (min-width:1200px){.content-menu--open[_ngcontent-%COMP%]{position:relative;min-width:286px;max-width:33.33333vw;padding-right:10px;box-shadow:0 3px 5px -1px rgba(0,0,0,.2),0 6px 10px 0 rgba(0,0,0,.14),0 1px 18px 0 rgba(0,0,0,.12)}}.content-menu--closed[_ngcontent-%COMP%]{max-width:0!important}.content-header[_ngcontent-%COMP%]{display:flex;flex-shrink:0;align-items:center;justify-content:space-between;width:100%;height:48px;background-color:#6b8cad;color:#fff;padding:0 10px;border-bottom:1px solid rgba(0,58,85,.5)}.content-header__icon[_ngcontent-%COMP%]{flex-shrink:0;cursor:pointer}.content-header__icon[_ngcontent-%COMP%]:not(:only-of-type):first-of-type{margin-right:5px}.content-header__title[_ngcontent-%COMP%]{width:100%;color:#fff;font-size:16px;font-weight:500;line-height:1.2}.content-body[_ngcontent-%COMP%]{height:100%}.content-menu-resize-handle[_ngcontent-%COMP%]{display:none}@media screen and (min-width:1200px){.content-menu-resize-handle[_ngcontent-%COMP%]{position:absolute;top:0;right:0;display:flex;align-items:center;justify-content:center;width:10px;height:100%;background-color:#fff;border-left:1px solid #cad0d7;cursor:col-resize}}.content-menu-icon-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;width:inherit;color:#515e6b}.content-menu-icon-container__resizing-icon[_ngcontent-%COMP%]{width:20px;height:20px}"]}),e})();var we=i("FvrZ"),Me=i("LRne"),De=i("EY2u"),Ne=i("eIep"),Re=i("JIr8"),Le=i("vkgz"),Fe=i("Z9D8"),ke=i("5G0X"),Ue=i("tqyv"),je=i("v6r/"),Be=i("blvr"),Ge=i("Xfrm"),Ve=i("nqum"),Xe=i("/6HS"),He=i("MAKR"),Ye=i("U7l/"),qe=i("UETY"),We=i("YkmU"),ze=i("8yBR");function $e(e,t){1&e&&r.Tb(0,"mat-progress-bar",4)}function Qe(e,t){if(1&e){const e=r.Zb();r.Yb(0,"div",9),r.hc("click",(function(){return r.Kc(e),r.lc(2).openInfoMap()})),r.Tb(1,"mat-icon",10),r.Xb()}if(2&e){const e=r.lc(2);r.sc("title",e.ACTIONS_MENU_INFOMAP_SHORTCUT)}}function Ke(e,t){if(1&e){const e=r.Zb();r.Yb(0,"div",9),r.hc("click",(function(){r.Kc(e);const i=t.$implicit;return r.lc(2).onShortcutSelected(i)})),r.Tb(1,"img",11),r.Xb()}if(2&e){const e=t.$implicit;r.sc("title",e.shortcut.tooltip),r.Eb(1),r.sc("src",e.shortcut.icon,r.Mc)("alt",e.shortcut.displayName)}}function Je(e,t){if(1&e){const e=r.Zb();r.Yb(0,"div",9),r.hc("click",(function(){return r.Kc(e),r.lc(2).addToClaimboard()})),r.Tb(1,"mat-icon",12),r.Xb()}if(2&e){const e=r.lc(2);r.sc("title",e.ACTIONS_MENU_ADD_CLAIMBOARD)}}function Ze(e,t){if(1&e&&(r.Yb(0,"div",5),r.Tb(1,"sda-pins-group-selector",6),r.Sc(2,Qe,2,1,"div",7),r.Sc(3,Ke,2,3,"div",8),r.mc(4,"async"),r.Sc(5,Je,2,1,"div",7),r.Xb()),2&e){const e=r.lc();r.Eb(1),r.sc("pinToGroupMode",!0)("itemsToPin",e.selectedObjects)("iconOnlyMode",!0)("fixedWidth",230),r.Eb(1),r.sc("ngIf",e.displayInfomap),r.Eb(1),r.sc("ngForOf",r.nc(4,7,e.shortcuts$)),r.Eb(2),r.sc("ngIf",e.displayAddToClaimboard)}}function et(e,t){if(1&e){const e=r.Zb();r.Yb(0,"mat-icon",21),r.hc("click",(function(t){r.Kc(e);const i=r.lc().$implicit;return r.lc(2).onSelectedActionChanged(i,!0,t)})),r.Xb()}if(2&e){const e=r.lc().$implicit,t=r.lc(2);r.sc("svgIcon",e.buttonIcon)("title",t.ACTIONS_MENU_OPEN_IN_NEW_TAB),r.Fb("aria-label",t.ACTIONS_MENU_OPEN_IN_NEW_TAB)}}function tt(e,t){if(1&e){const e=r.Zb();r.Yb(0,"mat-tree-node",16),r.hc("click",(function(){r.Kc(e);const i=t.$implicit;return r.lc(2).onSelectedActionChanged(i)})),r.Yb(1,"li",17),r.Tb(2,"div",18),r.Yb(3,"p",19),r.Uc(4),r.Xb(),r.Sc(5,et,1,3,"mat-icon",20),r.Xb(),r.Xb()}if(2&e){const e=t.$implicit;r.sc("title",e.displayName),r.Fb("aria-label",e.displayName),r.Eb(4),r.Vc(e.displayName),r.Eb(1),r.sc("ngIf",e.displayButton)}}function it(e,t){if(1&e){const e=r.Zb();r.Yb(0,"mat-nested-tree-node",22),r.Yb(1,"li",23),r.Yb(2,"div",24),r.hc("click",(function(){r.Kc(e);const i=t.$implicit,n=r.lc(2);return n.toggleItem(n.actionsTreeControl,i)})),r.Yb(3,"div",25),r.Tb(4,"mat-icon",26),r.Xb(),r.Yb(5,"p",27),r.Uc(6),r.Xb(),r.Xb(),r.Yb(7,"ul"),r.Ub(8,28),r.Xb(),r.Xb(),r.Xb()}if(2&e){const e=t.$implicit,i=r.lc(2);r.sc("title",e.displayName),r.Fb("aria-label",e.displayName),r.Eb(4),r.sc("svgIcon",i.actionsTreeControl.isExpanded(e)?"chevron-down":"chevron-right"),r.Eb(2),r.Vc(e.displayName),r.Eb(1),r.Rc("display",i.actionsTreeControl.isExpanded(e)?"block":"none")}}function nt(e,t){if(1&e&&(r.Yb(0,"mat-tree",13),r.Sc(1,tt,6,4,"mat-tree-node",14),r.Sc(2,it,9,6,"mat-nested-tree-node",15),r.Xb()),2&e){const e=t.ngIf,i=r.lc();r.sc("dataSource",e)("treeControl",i.actionsTreeControl),r.Eb(2),r.sc("matTreeNodeDefWhen",i.hasChild)}}function st(e,t){if(1&e){const e=r.Zb();r.Yb(0,"mat-icon",21),r.hc("click",(function(t){r.Kc(e);const i=r.lc().$implicit;return r.lc(2).onSelectedRelationshipChanged(i,!0,t)})),r.Xb()}if(2&e){const e=r.lc().$implicit,t=r.lc(2);r.sc("svgIcon",e.buttonIcon)("title",t.ACTIONS_MENU_OPEN_IN_NEW_TAB),r.Fb("aria-label",t.ACTIONS_MENU_OPEN_IN_NEW_TAB)}}function at(e,t){if(1&e){const e=r.Zb();r.Yb(0,"mat-tree-node",16),r.hc("click",(function(){r.Kc(e);const i=t.$implicit;return r.lc(2).onSelectedRelationshipChanged(i)})),r.Yb(1,"li",17),r.Tb(2,"div",18),r.Yb(3,"p",19),r.Uc(4),r.Xb(),r.Sc(5,st,1,3,"mat-icon",20),r.Xb(),r.Xb()}if(2&e){const e=t.$implicit;r.sc("title",e.displayName),r.Fb("aria-label",e.displayName),r.Eb(4),r.Vc(e.displayName),r.Eb(1),r.sc("ngIf",e.displayButton)}}function ot(e,t){if(1&e){const e=r.Zb();r.Yb(0,"mat-nested-tree-node",22),r.Yb(1,"li",23),r.Yb(2,"div",24),r.hc("click",(function(){r.Kc(e);const i=t.$implicit,n=r.lc(2);return n.toggleItem(n.relsTreeControl,i)})),r.Yb(3,"div",25),r.Tb(4,"mat-icon",26),r.Xb(),r.Yb(5,"p",27),r.Uc(6),r.Xb(),r.Xb(),r.Yb(7,"ul"),r.Ub(8,28),r.Xb(),r.Xb(),r.Xb()}if(2&e){const e=t.$implicit,i=r.lc(2);r.sc("title",e.displayName),r.Fb("aria-label",e.displayName),r.Eb(4),r.sc("svgIcon",i.relsTreeControl.isExpanded(e)?"chevron-down":"chevron-right"),r.Eb(2),r.Vc(e.displayName),r.Eb(1),r.Rc("display",i.relsTreeControl.isExpanded(e)?"block":"none")}}function rt(e,t){if(1&e&&(r.Yb(0,"mat-tree",13),r.Sc(1,at,6,4,"mat-tree-node",14),r.Sc(2,ot,9,6,"mat-nested-tree-node",15),r.Xb()),2&e){const e=t.ngIf,i=r.lc();r.sc("dataSource",e)("treeControl",i.relsTreeControl),r.Eb(2),r.sc("matTreeNodeDefWhen",i.hasChild)}}let ct=(()=>{class e{constructor(e,t,i,n,s,a,o,c,l,d,h,u,p,g,f){this.actionMenuProvider=e,this.sdaTranslateService=t,this.modalService=i,this.featureSetService=n,this.featureSetNavigationService=s,this.exceptionService=a,this.viewNativeDataService=o,this.router=c,this.relationshipService=l,this.resourceLocalizationService=d,this.clientApiService=h,this.infomapNavigationService=u,this.claimboardService=p,this.changeDetectorRef=g,this.actionsMenuService=f,this.selectedObjects=new Array,this.isWFItem=!1,this.updatingData=new r.o,this.showProgressIndicator=!0,this.localLoadingState=!0,this.displayInfomap=!1,this.displayShortcuts=!1,this.displayAddToClaimboard=!1,this.ACTIONS_MENU_PINBOARD_DISPLAY=this.sdaTranslateService.get("ACTIONS_MENU_PINBOARD_DISPLAY","Add to Pinboard"),this.ACTIONS_MENU_INFOMAP_SHORTCUT=this.sdaTranslateService.get("INFOMAP_LAUNCH","Show Info Map"),this.ACTIONS_MENU_ADD_CLAIMBOARD=this.sdaTranslateService.get("ACTIONS_MENU_ADD_CLAIMBOARD","Add to Claimboard"),this.ACTIONS_MENU_FILE_SHORTCUT=this.sdaTranslateService.get("ACTIONS_MENU_FILE_SHORTCUT","View File"),this.ACTIONS_MENU_OPEN_IN_NEW_TAB=this.sdaTranslateService.get("ACTIONS_MENU_OPEN_IN_NEW_TAB","Open in new tab"),this.ACTIONS_MENU_SHOW_SHORTCUTS_ERROR=this.sdaTranslateService.get("ACTIONS_MENU_SHOW_SHORTCUTS_ERROR","An error occurred retrieving the shortcuts for this object"),this.ACTIONS_MENU_SHORCUT_NOT_VALID_FOR_CONDITION=this.sdaTranslateService.get("ACTIONS_MENU_SHORCUT_NOT_VALID_FOR_CONDITION","One or more selected items are not valid for this action"),this.ACTIONS_MENU_SHOW_CONDITIONS_ERROR=this.sdaTranslateService.get("ACTIONS_MENU_SHOW_CONDITIONS_ERROR","An error occurred evaluating shortcut availability"),this.ACTIONS_MENU_RELATIONSHIP_DISPLAY_NAME_PREFIX=this.sdaTranslateService.get("ACTIONS_MENU_RELATIONSHIP_DISPLAY_NAME_PREFIX-ACTION_NAME-ITEM_COUNT","Show {0} ({1})"),this.ACTIONS_MENU_ACTION_TITLE=this.sdaTranslateService.get("ACTIONS_MENU_ACTION_TITLE","Actions"),this.ACTIONS_MENU_RELATIONSHIP_TITLE=this.sdaTranslateService.get("ACTIONS_MENU_RELATIONSHIP_TITLE","Relationships"),this.ACTIONS_MENU_SHOW_RELATIONSHIPS_ERROR=this.sdaTranslateService.get("ACTIONS_MENU_SHOW_RELATIONSHIPS_ERROR","An error occurred retrieving the relationships for this object"),this.ACTIONS_MENU_SHOW_ACTIONS_MENU_ERROR=this.sdaTranslateService.get("ACTIONS_MENU_SHOW_ACTIONS_MENU_ERROR","An error occurred retrieving the actions for this object"),this.ACTIONS_MENU_CLAIM_ALERT_TEXT=this.sdaTranslateService.get("ACTIONS_MENU_CLAIM_ALERT_TEXT","Claiming single objects is currently not supported. Proceed by using ADD TO CLAIMBOARD."),this.WARNING=this.sdaTranslateService.get("WARNING","Warning"),this.retrievingShortcuts=!0,this.retrievingActions=!0,this.retrievingRelationships=!0,this.claimboardReady=!1,this.closeActionMenuProviderSubscription=this.actionMenuProvider.closeActionMenuSubject.subscribe(()=>{this.clearMenu()}),this.actionsTreeControl=new we.k(e=>e.children),this.relsTreeControl=new we.k(e=>e.children)}ngOnChanges(e){e.selectedObjects&&(this.clearMenu(),this.selectedObjects&&this.selectedObjects.length>0&&(this.isWFItem?this.actionsMenuService.userHasAccessToToDoActionsMenu().pipe(Object(ae.a)(1)).subscribe(e=>{e?this.getMenuData():this.getReassignMethod()}):this.getMenuData())),e.triggerLoadingState&&!e.triggerLoadingState.firstChange&&(this.triggerLoadingState&&this.clearMenu(),this.checkOverallLoadingState())}ngOnDestroy(){this.closeActionMenuProviderSubscription.unsubscribe()}hasChild(e,t){return t.children&&t.children.length>0}toggleItem(e,t){e.toggle(t)}addToClaimboard(){this.claimboardService.addToClaimsList(this.selectedObjects)}openInfoMap(){this.itemClicked(!1),this.infomapNavigationService.navigateToInfoMap(this.selectedObjects[0].obid,this.selectedObjects[0].queryContextConfig,!1)}viewFile(){this.itemClicked(!1),this.viewNativeDataService.viewFile(this.selectedObjects[0].obid,this.selectedObjects[0].config)}onShortcutSelected(e){e instanceof ke.a&&this.featureSetService.getShortcutConditionResult(e).pipe(Object(ae.a)(1)).subscribe(t=>{t&&t.length?(this.modalService.alert(this.ACTIONS_MENU_SHORCUT_NOT_VALID_FOR_CONDITION,e.displayName),this.actionMenuProvider.clearAndCloseActionsMenu()):this.onShortcutNavigateToFeature(e)},e=>{const t=new Fe.a(e,this.ACTIONS_MENU_SHOW_CONDITIONS_ERROR,"ActionsMenuContentComponent","onShortcutSelected");this.exceptionService.handleException(t)})}onSelectedRelationshipChanged(e,t=!1,i){i&&i.stopPropagation(),!e||!e.object||e.children&&0!==e.children.length||(this.itemClicked(t,e),this.navigateToRelatedItems(e.object,t))}onSelectedActionChanged(e,t=!1,i){i&&i.stopPropagation(),e&&e.object&&e.object instanceof ke.a&&("ClaimObj"!==e.object.clientAPI?(this.itemClicked(t,e),this.featureSetNavigationService.navigateToFeature(e.object,t)):this.modalService.alert(this.ACTIONS_MENU_CLAIM_ALERT_TEXT,this.WARNING))}getReassignMethod(){this.setLocalLoadingState(!0),this.retrievingShortcuts=!1,this.retrievingActions=!0,this.retrievingRelationships=!1,this.actions$=this.getActions(void 0,["MultiStepReAssign"])}getMenuData(){this.setLocalLoadingState(!0),this.retrievingShortcuts=!0,this.retrievingActions=!0,this.retrievingRelationships=!0;const e=this.getCustomActions();this.claimboardReady=!e&&this.claimboardService.checkObjectClaimsButtonState(this.selectedObjects),this.shortcuts$=this.getShortcuts(!!e),this.actions$=this.getActions(e),this.relationships$=this.getRelationships(!!e)}getShortcuts(e){let t=Object(Me.a)(void 0);return e?(this.retrievingShortcuts=!1,this.checkEverythingLoaded()):(this.displayShortcuts=!0,this.displayInfomap=this.singleObjectSelected(),t=this.featureSetService.getShortcutFeaturesByObject(this.selectedObjects).pipe(Object(Ne.a)(e=>Object(Me.a)(this.populateShortcuts(e))),Object(Re.a)(e=>{const t=new Fe.a(e,this.ACTIONS_MENU_SHOW_SHORTCUTS_ERROR,"ActionsMenuContentComponent","getShortcuts");return this.exceptionService.handleException(t),Object(Me.a)(void 0)}))),t.pipe(Object(Le.a)(()=>{this.retrievingShortcuts=!1,this.checkEverythingLoaded()}))}getActions(e,t=this.clientApiService.getAvailableClientApis()){let i;return i=e?Object(Me.a)(this.populateCustomActions(e)):this.featureSetService.getActionMenuItemsByObject(this.selectedObjects,t).pipe(Object(Ne.a)(e=>(this.flatActions=e.flatList?e.flatList:[],this.addClaimboardToShortcuts(),Object(Me.a)(this.createTreeListWithParent(!0,e.treeList,this.actionsTreeControl)))),Object(Re.a)(e=>{const t=new Fe.a(e,this.ACTIONS_MENU_SHOW_ACTIONS_MENU_ERROR,"ActionsMenuContentComponent","getActions");return this.exceptionService.handleException(t),Object(Me.a)(void 0)})),i.pipe(Object(Le.a)(()=>{this.retrievingActions=!1,this.checkEverythingLoaded()}))}getRelationships(e){let t=Object(Me.a)(void 0);if(!e&&1===this.selectedObjects.length){const e=this.selectedObjects[0];t=this.relationshipService.getNavigationOptions(e.obid,e.queryContextConfig).pipe(Object(Ne.a)(e=>Object(Me.a)(this.populateRelationships(e))),Object(Re.a)(e=>{const t=new Fe.a(e,this.ACTIONS_MENU_SHOW_RELATIONSHIPS_ERROR,"ActionsMenuContentComponent","getRelationships");return this.exceptionService.handleException(t),Object(Me.a)(void 0)}))}return t.pipe(Object(Le.a)(()=>{this.retrievingRelationships=!1,this.checkEverythingLoaded()}))}populateShortcuts(e){const t=(e=e||[]).findIndex(e=>"ShareUrl"===e.clientAPI);if(t>-1){const i=Array.from(new Set(this.selectedObjects.map(e=>e.data?e.data.supportsShareUrl:"false")));1===i.length&&"true"===i[0]||e.splice(t,1)}return this.currentShortcuts=e,this.addClaimboardToShortcuts(),e}populateRelationships(e){let t=[];if(e&&e.length){let i=this.buildGroupedRelationshipMenuItems(e);i=i.concat(this.buildUngroupedRelationshipMenuItems(e)),t=this.createTreeListWithParent(!1,i,this.relsTreeControl)}return t}addClaimboardToShortcuts(){this.claimboardReady&&this.flatActions&&this.currentShortcuts&&(this.flatActions.concat(this.currentShortcuts),this.displayAddToClaimboard=this.flatActions.some(e=>"ClaimObj"===e.clientAPI))}populateCustomActions(e){return this.selectedObjects.length>1&&(e=e.filter(e=>1!==e.object.numberOfObjectsRestrictedTo)),e.forEach(e=>e.object.objects=this.selectedObjects),this.createTreeListWithParent(!0,e,this.actionsTreeControl)}createTreeListWithParent(e,t,i){let n=[];if(t&&t.length){const s=new He.a(e?this.ACTIONS_MENU_ACTION_TITLE:this.ACTIONS_MENU_RELATIONSHIP_TITLE);s.children=e?this.sortTreeListItems(t):t,n=[s],i.expand(s),this.addNewTabButtonToTreeItems(n,e)}return n}checkEverythingLoaded(){this.retrievingShortcuts||this.retrievingActions||this.retrievingRelationships||this.setLocalLoadingState(!1)}setLocalLoadingState(e){this.updatingData.emit(e),this.localLoadingState=e,this.checkOverallLoadingState()}checkOverallLoadingState(){this.showProgressIndicator=this.triggerLoadingState||this.localLoadingState,this.changeDetectorRef.detectChanges()}onShortcutNavigateToFeature(e){this.itemClicked(!1),this.featureSetNavigationService.navigateToFeature(e)}itemClicked(e,t){this.notifyShortcutClicked(),e||(t&&t.displayButton?this.actionMenuProvider.clearAndCloseActionsMenu():this.actionMenuProvider.closeActionMenu())}notifyShortcutClicked(){this.actionMenuProvider.notifyShortcutClickedForItem(this.selectedObjects.map(e=>e.obid))}clearMenu(){this.shortcuts$=De.a,this.actions$=De.a,this.relationships$=De.a,this.currentShortcuts=[],this.displayShortcuts=!1,this.displayInfomap=!1,this.displayAddToClaimboard=!1,this.flatActions=void 0}navigateToRelatedItems(e,t){let i="";1===this.selectedObjects.length&&this.selectedObjects[0].name&&(i=this.selectedObjects[0].name),i+=" "+e.displayName.replace(/_/g," ");const n=new Be.a;n.pageSize=Settings.application.defaultPageSize,n.page=1,n.columnSet=e.columnSet,n.endInterface=e.endInterface,n.expandFromObjectId=e.objectObid,n.navigation=e.navigation,n.ignoreQueryBySelectedConfig=!0;let s=Ye.b;e.config&&(s=e.config),e.link&&(n.hasLink=!0);const a=["/results",{queryFilter:JSON.stringify(n),config:JSON.stringify([s]),title:i,requestConfigOnly:JSON.stringify(!0)}];if(t){const e=this.router.createUrlTree(a),t=this.router.serializeUrl(e),i=new Ge.a(void 0,t);this.featureSetNavigationService.navigateViaRoute(void 0,i,!0,!1)}else this.router.navigate(a)}sortTreeListItems(e){return e.forEach(e=>{e.children.length>0&&(e.children=this.sortTreeListItems(e.children))}),e.sort((e,t)=>ce.a.sortByString(e.displayName,t.displayName)),e}buildGroupedRelationshipMenuItems(e){const t=[];return e.filter(e=>!!e.groupingId).forEach(e=>{let i;const n=this.resourceLocalizationService.resolveResource(e.groupingId);t.some(e=>e.displayName===n)?i=t.filter(e=>e.displayName===n)[0]:(i=new He.a(n,e),t.push(i)),i.children.push(new He.a(this.sdaTranslateService.getFormattedByString(this.ACTIONS_MENU_RELATIONSHIP_DISPLAY_NAME_PREFIX,[e.displayName,e.count.toString()]),e))}),t.sort((e,t)=>ce.a.sortByString(e.displayName,t.displayName)),t}buildUngroupedRelationshipMenuItems(e){return e.filter(e=>!e.groupingId).map(e=>new He.a(this.sdaTranslateService.getFormattedByString(this.ACTIONS_MENU_RELATIONSHIP_DISPLAY_NAME_PREFIX,[e.displayName,e.count.toString()]),e)).sort((e,t)=>ce.a.sortByString(e.displayName,t.displayName))}addNewTabButtonToTreeItems(e,t){e.forEach(e=>{if(e.children&&e.children.length)this.addNewTabButtonToTreeItems(e.children,t);else if(t){const t=e.object;t&&t instanceof ke.a&&this.clientApiService.getClientApi(t.clientAPI,t.showInModal).options.canOpenInNewTab&&this.addNewTabButton(e)}else this.addNewTabButton(e)})}addNewTabButton(e){e.displayButton=!0,e.buttonIcon="external-link"}singleObjectSelected(){return!!this.selectedObjects&&1===this.selectedObjects.length}getCustomActions(){let e;return!this.selectedObjects[0].data||this.selectedObjects[0].data.Id||this.selectedObjects[0].data.OBID||(e=this.actionMenuProvider.customActions),e}}return e.\u0275fac=function(t){return new(t||e)(r.Sb(a.a),r.Sb(m.a),r.Sb(p.a),r.Sb(u.a),r.Sb(h.a),r.Sb(Y.a),r.Sb(Ue.a),r.Sb(z.g),r.Sb(Ve.a),r.Sb(Xe.a),r.Sb(je.a),r.Sb(f.a),r.Sb(S.a),r.Sb(r.h),r.Sb(qe.a))},e.\u0275cmp=r.Mb({type:e,selectors:[["sda-actions-content-menu"]],inputs:{selectedObjects:"selectedObjects",triggerLoadingState:"triggerLoadingState",isWFItem:"isWFItem"},outputs:{updatingData:"updatingData"},features:[r.Cb],decls:7,vars:8,consts:[["mode","indeterminate",4,"ngIf"],["class","shortcut-list",4,"ngIf"],[1,"actions-and-rels"],[3,"dataSource","treeControl",4,"ngIf"],["mode","indeterminate"],[1,"shortcut-list"],[3,"pinToGroupMode","itemsToPin","iconOnlyMode","fixedWidth"],["class","shortcut-list__button",3,"title","click",4,"ngIf"],["class","shortcut-list__button",3,"title","click",4,"ngFor","ngForOf"],[1,"shortcut-list__button",3,"title","click"],["svgIcon","nodemap"],["height","24","width","24",3,"src","alt"],["svgIcon","add_claim"],[3,"dataSource","treeControl"],[3,"title","click",4,"matTreeNodeDef"],[3,"title",4,"matTreeNodeDef","matTreeNodeDefWhen"],[3,"title","click"],[1,"actions-and-rels__tree-node"],[1,"actions-and-rels__indentation"],[1,"actions-and-rels__display-name"],["class","actions-and-rels__external-icon",3,"svgIcon","title","click",4,"ngIf"],[1,"actions-and-rels__external-icon",3,"svgIcon","title","click"],[3,"title"],[1,"actions-and-rels__nested-tree-node"],[1,"mat-tree-node","actions-and-rels__title-node",3,"click"],[1,"actions-and-rels__icon-container"],[1,"actions-and-rels__expansion-icon",3,"svgIcon"],[1,"actions-and-rels__title"],["matTreeNodeOutlet",""]],template:function(e,t){1&e&&(r.Sc(0,$e,1,0,"mat-progress-bar",0),r.Sc(1,Ze,6,9,"div",1),r.Yb(2,"div",2),r.Sc(3,nt,3,3,"mat-tree",3),r.mc(4,"async"),r.Sc(5,rt,3,3,"mat-tree",3),r.mc(6,"async"),r.Xb()),2&e&&(r.sc("ngIf",t.showProgressIndicator),r.Eb(1),r.sc("ngIf",t.displayShortcuts),r.Eb(2),r.sc("ngIf",r.nc(4,4,t.actions$)),r.Eb(2),r.sc("ngIf",r.nc(6,6,t.relationships$)))},directives:[v.t,$.a,We.a,v.s,T.a,ze.b,ze.h,ze.g,ze.a,ze.i],pipes:[v.b],styles:["[_nghost-%COMP%]   .actions-and-rels[_ngcontent-%COMP%]{overflow-x:hidden;overflow-y:auto}[_nghost-%COMP%]   .actions-and-rels__display-name[_ngcontent-%COMP%], [_nghost-%COMP%]   .actions-and-rels__title[_ngcontent-%COMP%]{overflow:hidden;white-space:nowrap;text-overflow:ellipsis}[_nghost-%COMP%]{position:relative;display:flex;flex:1;flex-shrink:0;flex-direction:column;height:100%;overflow:hidden}[_nghost-%COMP%]   mat-progress-bar[_ngcontent-%COMP%]{position:absolute;height:3px}[_nghost-%COMP%]   sda-pins-group-selector[_ngcontent-%COMP%]{margin-right:5px}[_nghost-%COMP%]   sda-pins-group-selector[_ngcontent-%COMP%]     .quick-select-toggle{height:32px;padding:0;border:1px solid transparent;border-radius:5px;color:rgba(0,0,0,.54)}[_nghost-%COMP%]   sda-pins-group-selector[_ngcontent-%COMP%]     .quick-select-toggle__text{display:flex;align-items:center;height:100%;padding:0}[_nghost-%COMP%]   sda-pins-group-selector[_ngcontent-%COMP%]     .quick-select-toggle__text:hover{background-color:#ebedf0}[_nghost-%COMP%]   sda-pins-group-selector[_ngcontent-%COMP%]     .quick-select-toggle__button{width:14px;height:100%}[_nghost-%COMP%]   sda-pins-group-selector[_ngcontent-%COMP%]     .quick-select-toggle__button:hover{background-color:#ebedf0}[_nghost-%COMP%]   sda-pins-group-selector[_ngcontent-%COMP%]     .quick-select-toggle--selected{border-color:#ebedf0}[_nghost-%COMP%]   sda-pins-group-selector[_ngcontent-%COMP%]     .quick-select-toggle--selected .quick-select-toggle__button{background-color:#ebedf0}[_nghost-%COMP%]   sda-pins-group-selector[_ngcontent-%COMP%]     .quick-select-toggle:not(.quick-select-toggle--disabled):hover{border-color:#ebedf0}[_nghost-%COMP%]   .shortcut-list[_ngcontent-%COMP%]{display:flex;flex-shrink:0;flex-flow:row wrap;align-items:center;min-height:40px;padding:0 5px}[_nghost-%COMP%]   .shortcut-list__button[_ngcontent-%COMP%]{display:flex;align-items:center;height:32px;margin:5px 4px 5px 0;padding:0 5px;color:rgba(0,0,0,.54);cursor:pointer}[_nghost-%COMP%]   .shortcut-list__button[_ngcontent-%COMP%]:hover{background-color:#ebedf0;border-radius:5px}[_nghost-%COMP%]   .actions-and-rels[_ngcontent-%COMP%]{display:flex;flex-direction:column;height:100%;border-top:1px solid #dce0e5}[_nghost-%COMP%]   .actions-and-rels__tree-node[_ngcontent-%COMP%]{position:relative;display:flex;align-items:center;flex:1;padding-right:36px;padding-left:10px;overflow:hidden}[_nghost-%COMP%]   .actions-and-rels__indentation[_ngcontent-%COMP%]{flex-shrink:0;width:30px;height:36px}[_nghost-%COMP%]   .actions-and-rels__display-name[_ngcontent-%COMP%], [_nghost-%COMP%]   .actions-and-rels__title[_ngcontent-%COMP%]{margin-right:10px}[_nghost-%COMP%]   .actions-and-rels__expansion-icon[_ngcontent-%COMP%], [_nghost-%COMP%]   .actions-and-rels__external-icon[_ngcontent-%COMP%]{flex-shrink:0;width:16px;height:16px;color:#000}[_nghost-%COMP%]   .actions-and-rels__external-icon[_ngcontent-%COMP%]{position:absolute;top:50%;right:10px;-webkit-transform:translateY(-50%);transform:translateY(-50%)}[_nghost-%COMP%]   .actions-and-rels__nested-tree-node[_ngcontent-%COMP%]   .actions-and-rels__nested-tree-node[_ngcontent-%COMP%]   .actions-and-rels__title-node[_ngcontent-%COMP%]{padding-left:10px}[_nghost-%COMP%]   .actions-and-rels__nested-tree-node[_ngcontent-%COMP%]   .actions-and-rels__nested-tree-node[_ngcontent-%COMP%]   .actions-and-rels__title[_ngcontent-%COMP%]{font-weight:400}[_nghost-%COMP%]   .actions-and-rels[_ngcontent-%COMP%]   .mat-tree-node[_ngcontent-%COMP%]{height:36px;min-height:0;cursor:pointer}[_nghost-%COMP%]   .actions-and-rels[_ngcontent-%COMP%]   .mat-tree-node[_ngcontent-%COMP%]:hover{background-color:#afe5ff}[_nghost-%COMP%]   .actions-and-rels__icon-container[_ngcontent-%COMP%]{display:flex;flex-shrink:0;align-items:center;justify-content:center;width:30px;height:36px}[_nghost-%COMP%]   .actions-and-rels__title[_ngcontent-%COMP%]{font-weight:500}[_nghost-%COMP%]   .mat-tree[_ngcontent-%COMP%]{border-bottom:1px solid #dce0e5}"]}),e})(),lt=(()=>{class e extends l{constructor(e,t){super(t),this.actionMenuProvider=e,this.sdaTranslateService=t,this.selectedObjects=new Array,this.ACTIONS_MENU_TITLE=this.sdaTranslateService.get("ACTIONS_MENU_TITLE","Actions"),this.closeActionMenuProviderSubscription=this.actionMenuProvider.closeActionMenuSubject.subscribe(()=>{this.closeMenu()}),this.refreshActionMenuProviderSubscription=this.actionMenuProvider.onActionMenuItemsUpdated$.subscribe(()=>this.onDataChange())}ngOnInit(){this.setMenuHeader(this.ACTIONS_MENU_TITLE),this.onDataChange()}ngOnDestroy(){this.closeActionMenuProviderSubscription.unsubscribe(),this.refreshActionMenuProviderSubscription.unsubscribe()}onResize(){}onDataChange(){this.selectedObjects=this.actionMenuProvider.getItems()?Array.from(this.actionMenuProvider.getItems()):[],this.configureTitle()}configureTitle(){let e;this.selectedObjects.length&&(1!==this.selectedObjects.length||this.isDataCustom()?this.selectedObjects.length>1&&(e=this.selectedObjects.length.toString(),e=this.sdaTranslateService.getFormatted("NUMBER_OF_ITEMS_SELECTED","{0} items selected",[e])):e=this.selectedObjects[0].name),e||(e=this.ACTIONS_MENU_TITLE),this.setMenuHeader(e)}isDataCustom(){return this.selectedObjects[0].data&&!this.selectedObjects[0].data.Id&&!this.selectedObjects[0].data.OBID}}return e.\u0275fac=function(t){return new(t||e)(r.Sb(a.a),r.Sb(m.a))},e.\u0275cmp=r.Mb({type:e,selectors:[["sda-actions-menu"]],features:[r.Bb],decls:2,vars:1,consts:[[1,"actions-menu"],[3,"selectedObjects"]],template:function(e,t){1&e&&(r.Yb(0,"div",0),r.Tb(1,"sda-actions-content-menu",1),r.Xb()),2&e&&(r.Eb(1),r.sc("selectedObjects",t.selectedObjects))},directives:[ct],styles:["[_nghost-%COMP%]{overflow-x:hidden;overflow-y:auto;flex:1;flex-shrink:0;flex-direction:column}.actions-menu[_ngcontent-%COMP%], [_nghost-%COMP%]{display:flex;height:100%}.actions-menu[_ngcontent-%COMP%]{flex-direction:column;overflow:hidden}.actions-menu[_ngcontent-%COMP%]:not(:first-of-type):not(:only-child){margin-top:15px}.actions-menu[_ngcontent-%COMP%]:not(:first-of-type):not(:only-child)   .content-header[_ngcontent-%COMP%]{height:38px}"]}),e})();var dt=i("lJxs"),ht=i("08BJ"),ut=i("JrsU"),pt=i("OEdT"),gt=i("lV1b");function ft(e,t){if(1&e){const e=r.Zb();r.Yb(0,"mat-icon",9),r.hc("click",(function(){return r.Kc(e),r.lc().returnToFeatureSets()})),r.Xb()}if(2&e){const e=r.lc();r.sc("title",e.SIDE_MENU_BACK_DISPLAY)}}function mt(e,t){1&e&&r.Tb(0,"mat-progress-bar",10)}function bt(e,t){if(1&e&&(r.Yb(0,"div",11),r.Uc(1),r.Xb()),2&e){const e=r.lc();r.Eb(1),r.Wc(" ",e.NO_FEATURE_SETS_AVAILABLE," ")}}function St(e,t){if(1&e){const e=r.Zb();r.Yb(0,"button",18),r.hc("click",(function(){r.Kc(e);const t=r.lc().$implicit;return r.lc(3).selectFeatureSet(t)})),r.Yb(1,"span",19),r.Uc(2),r.Xb(),r.Xb()}if(2&e){const e=r.lc().$implicit;r.Eb(2),r.Vc(e.displayName)}}function vt(e,t){if(1&e&&(r.Wb(0),r.Sc(1,St,3,1,"button",17),r.Vb()),2&e){const e=t.$implicit;r.Eb(1),r.sc("ngIf",!e.hideFromHomePage)}}function _t(e,t){if(1&e&&(r.Yb(0,"div",14),r.Yb(1,"div",15),r.Sc(2,vt,2,1,"ng-container",16),r.Xb(),r.Xb()),2&e){const e=r.lc(2);r.Eb(2),r.sc("ngForOf",e.featureSets)}}function Ot(e,t){1&e&&r.Tb(0,"mat-icon",29)}function It(e,t){1&e&&r.Tb(0,"mat-icon",30)}function Ct(e,t){1&e&&r.Tb(0,"mat-icon",31)}function Tt(e,t){1&e&&r.Tb(0,"mat-icon",32)}function Et(e,t){if(1&e&&r.Tb(0,"mat-icon",33),2&e){const e=r.lc().$implicit;r.sc("svgIcon",e.icon)}}function yt(e,t){if(1&e){const e=r.Zb();r.Yb(0,"button",23),r.hc("click",(function(){r.Kc(e);const i=t.$implicit;return r.lc(4).selectFeature(i)})),r.Sc(1,Ot,1,0,"mat-icon",24),r.Sc(2,It,1,0,"mat-icon",25),r.Sc(3,Ct,1,0,"mat-icon",26),r.Sc(4,Tt,1,0,"mat-icon",27),r.Sc(5,Et,1,1,"mat-icon",28),r.Yb(6,"span",19),r.Uc(7),r.Xb(),r.Xb()}if(2&e){const e=t.$implicit,i=r.lc(4);r.sc("id",e.name),r.Eb(1),r.sc("ngIf",e.setName&&!e.redirectToSearch),r.Eb(1),r.sc("ngIf",e.setName&&e.redirectToSearch),r.Eb(1),r.sc("ngIf","LaunchURLFromFeatureSet"===e.clientAPI),r.Eb(1),r.sc("ngIf",i.isSummaryReport(e.reportType)),r.Eb(1),r.sc("ngIf",i.isAdhocReport(e.reportType)),r.Eb(2),r.Vc(e.displayName)}}function Pt(e,t){if(1&e&&(r.Yb(0,"div",15),r.Sc(1,yt,8,7,"button",22),r.Xb()),2&e){const e=t.$implicit;r.Eb(1),r.sc("ngForOf",e.displayItems)}}function xt(e,t){if(1&e&&(r.Yb(0,"div",20),r.Sc(1,Pt,2,1,"div",21),r.Xb()),2&e){const e=r.lc(2);r.Eb(1),r.sc("ngForOf",e.selectedFeatureSet.groupedFeatures)}}function At(e,t){if(1&e&&(r.Yb(0,"div"),r.Sc(1,_t,3,1,"div",12),r.Sc(2,xt,2,1,"div",13),r.Xb()),2&e){const e=r.lc();r.Eb(1),r.sc("ngIf",!e.selectedFeatureSet&&e.featureSets),r.Eb(1),r.sc("ngIf",!!e.selectedFeatureSet)}}let wt=(()=>{class e extends l{constructor(e,t,i,n,s){super(i),this.featureSetService=e,this.reportsService=t,this.sdaTranslateService=i,this.exceptionService=n,this.featureSetNavigationService=s,this.isLoading=!0,this.SIDE_MENU_ALLFEATURESETS_DISPLAY=this.sdaTranslateService.get("SIDE_MENU_ALLFEATURESETS_DISPLAY","All feature sets"),this.NO_FEATURE_SETS_AVAILABLE=this.sdaTranslateService.get("NO_FEATURE_SETS_AVAILABLE","No feature sets available"),this.SIDE_MENU_BACK_DISPLAY=this.sdaTranslateService.get("SIDE_MENU_BACK_DISPLAY","Back"),this.useDefaultHeader=!1}ngOnInit(){this.featureSetSelectedSubscription=this.featureSetService.selectedFeatureSetSubject.subscribe(e=>this.featureSetChanged(e)),this.featureSetUpdatedSubscription=this.featureSetService.featureSetsUpdatedSubject.subscribe(e=>{e?this.featureSetService.getHomeFeatureSets():this.isLoading=!0}),this.getHomeFeatureSetsSubscription=this.featureSetService.getHomeFeatureSetsSubject.subscribe(e=>{this.featureSets=e,this.updateSelectedFeatureSet(),this.featureSetChanged(this.featureSetService.selectedFeatureSetSubject.value),this.isLoading=!1})}ngOnDestroy(){this.featureSetSelectedSubscription.unsubscribe(),this.featureSetUpdatedSubscription.unsubscribe(),this.getHomeFeatureSetsSubscription.unsubscribe()}selectFeatureSet(e){this.featureSets&&1===this.featureSets.length?this.selectedFeatureSet=this.featureSets[0]:this.selectedFeatureSet!==e&&(this.selectedFeatureSet=e),this.featureSetMenuTitle=this.selectedFeatureSet?this.selectedFeatureSet.displayName:this.SIDE_MENU_ALLFEATURESETS_DISPLAY}selectFeature(e){this.checkAndExecuteSelectedFeature(e).subscribe(()=>{const t=new ut.a(this.selectedFeatureSet,e);this.featureSetService.selectFeatureSet(t),this.closeMenu()},e=>{const t=new Fe.a(e);this.exceptionService.handleException(t)})}returnToFeatureSets(){this.selectedFeatureSet=void 0,this.featureSetMenuTitle=this.SIDE_MENU_ALLFEATURESETS_DISPLAY}onResize(){}isAdhocReport(e){return e===pt.a.Adhoc}isSummaryReport(e){return e===pt.a.Summary}checkAndExecuteSelectedFeature(e){return e instanceof gt.a?this.reportsService.getReportDetails(e.reportObid).pipe(Object(dt.a)(e=>this.reportsService.runReport(e.value))):Object(Me.a)(this.featureSetNavigationService.navigateByDisplayItem(e))}featureSetChanged(e){e&&e.key&&this.featureSets?this.selectNewFeatureSet(e.key.name):e&&e.key||this.selectFeatureSet(void 0)}updateSelectedFeatureSet(){this.selectedFeatureSet&&this.featureSets?this.selectNewFeatureSet(this.selectedFeatureSet.name):this.selectFeatureSet(void 0)}selectNewFeatureSet(e){const t=this.featureSets.map(e=>e.name).indexOf(e);this.selectFeatureSet(-1===t?void 0:this.featureSets[t])}}return e.\u0275fac=function(t){return new(t||e)(r.Sb(u.a),r.Sb(ht.a),r.Sb(m.a),r.Sb(Y.a),r.Sb(h.a))},e.\u0275cmp=r.Mb({type:e,selectors:[["sda-feature-set-menu"]],features:[r.Bb],decls:10,vars:6,consts:[[1,"content-header"],[1,"feature-header"],["svgIcon","arrow-left","class","feature-header__icon",3,"title","click",4,"ngIf"],[1,"content-header__title"],["svgIcon","close",1,"content-header__icon",3,"title","click"],[1,"feature-body"],["mode","indeterminate",4,"ngIf"],["class","feature-body__notice",4,"ngIf"],[4,"ngIf"],["svgIcon","arrow-left",1,"feature-header__icon",3,"title","click"],["mode","indeterminate"],[1,"feature-body__notice"],["class","feature-group",4,"ngIf"],["class","feature-group feature-group--selected",4,"ngIf"],[1,"feature-group"],[1,"feature-set-group"],[4,"ngFor","ngForOf"],["class","feature-item",3,"click",4,"ngIf"],[1,"feature-item",3,"click"],[1,"feature-item__title"],[1,"feature-group","feature-group--selected"],["class","feature-set-group",4,"ngFor","ngForOf"],["class","feature-item",3,"id","click",4,"ngFor","ngForOf"],[1,"feature-item",3,"id","click"],["svgIcon","search","class","feature-item__icon",4,"ngIf"],["svgIcon","bar-search","class","feature-item__icon",4,"ngIf"],["svgIcon","external-link","class","feature-item__icon",4,"ngIf"],["svgIcon","report","class","feature-item__icon",4,"ngIf"],["class","feature-item__icon",3,"svgIcon",4,"ngIf"],["svgIcon","search",1,"feature-item__icon"],["svgIcon","bar-search",1,"feature-item__icon"],["svgIcon","external-link",1,"feature-item__icon"],["svgIcon","report",1,"feature-item__icon"],[1,"feature-item__icon",3,"svgIcon"]],template:function(e,t){1&e&&(r.Yb(0,"header",0),r.Yb(1,"div",1),r.Sc(2,ft,1,1,"mat-icon",2),r.Yb(3,"h2",3),r.Uc(4),r.Xb(),r.Xb(),r.Yb(5,"mat-icon",4),r.hc("click",(function(){return t.closeMenu()})),r.Xb(),r.Xb(),r.Yb(6,"div",5),r.Sc(7,mt,1,0,"mat-progress-bar",6),r.Sc(8,bt,2,1,"div",7),r.Sc(9,At,3,2,"div",8),r.Xb()),2&e&&(r.Eb(2),r.sc("ngIf",!!t.selectedFeatureSet),r.Eb(2),r.Vc(t.featureSetMenuTitle),r.Eb(1),r.sc("title",t.CLOSE_TEXT),r.Eb(2),r.sc("ngIf",t.isLoading),r.Eb(1),r.sc("ngIf",!t.featureSets||!t.featureSets.length),r.Eb(1),r.sc("ngIf",t.featureSets&&t.featureSets.length>0&&!t.isLoading))},directives:[v.t,T.a,$.a,v.s],styles:[".feature-body[_ngcontent-%COMP%]{overflow-x:hidden;overflow-y:auto}.feature-item__title[_ngcontent-%COMP%]{overflow:hidden;white-space:nowrap;text-overflow:ellipsis}[_nghost-%COMP%]{display:flex;flex-direction:column;height:100%;background-color:#fff}.feature-header[_ngcontent-%COMP%]{display:flex;align-items:center;width:90%}.feature-header__icon[_ngcontent-%COMP%]{flex-shrink:0;margin-right:5px;cursor:pointer}.feature-body__notice[_ngcontent-%COMP%]{padding-top:40px;font-size:13px;text-align:center}.feature-group[_ngcontent-%COMP%]{flex-basis:100%;overflow-x:hidden;overflow-y:auto}.feature-group--selected[_ngcontent-%COMP%]   .feature-item__title[_ngcontent-%COMP%]{padding-left:34px}.feature-set-group[_ngcontent-%COMP%]{flex:1}.feature-set-group[_ngcontent-%COMP%]:not(:first-of-type):not(:only-of-type){border-top:1px solid #bac4d1}.feature-item[_ngcontent-%COMP%]{position:relative;display:flex;justify-content:flex-start;width:100%;height:auto;padding:0;text-align:left;text-transform:none;border-radius:0;border:0;background:transparent;transition:none}.feature-item[_ngcontent-%COMP%]:hover{background-color:rgba(235,237,240,.7)}.feature-item[_ngcontent-%COMP%]:hover   .feature-item__icon[_ngcontent-%COMP%]{fill:#005d96}.feature-item[_ngcontent-%COMP%]:not(:first-child){border-top:1px solid rgba(107,140,173,.1)}.feature-item__icon[_ngcontent-%COMP%]{position:absolute;top:50%;left:8px;display:inherit;width:16px;height:16px;-webkit-transform:translate3d(0,-50%,0);transform:translate3d(0,-50%,0)}.feature-item__title[_ngcontent-%COMP%]{flex:1 1 100%;padding:8px 15px;font-size:13px;font-weight:400;line-height:1.15}mat-progress-bar[_ngcontent-%COMP%]{position:absolute;height:3px}",".content-body[_ngcontent-%COMP%]{overflow-x:hidden;overflow-y:auto}.content-header__title[_ngcontent-%COMP%]{overflow:hidden;white-space:nowrap;text-overflow:ellipsis}[_nghost-%COMP%]{position:relative;height:100%;z-index:200!important}@media screen and (max-width:1199px){[_nghost-%COMP%]{z-index:900!important}}.content-menu[_ngcontent-%COMP%]{position:relative;display:flex;flex:1 0 100%;flex-direction:column;overflow:hidden}.k-safari.k-mobile[_nghost-%COMP%]   .content-menu[_ngcontent-%COMP%], .k-safari.k-mobile   [_nghost-%COMP%]   .content-menu[_ngcontent-%COMP%]{transition:none}.content-menu--open[_ngcontent-%COMP%]{position:absolute;max-width:286px;height:100%;background-color:#fff}@media screen and (min-width:1200px){.content-menu--open[_ngcontent-%COMP%]{position:relative;min-width:286px;max-width:33.33333vw;padding-right:10px;box-shadow:0 3px 5px -1px rgba(0,0,0,.2),0 6px 10px 0 rgba(0,0,0,.14),0 1px 18px 0 rgba(0,0,0,.12)}}.content-menu--closed[_ngcontent-%COMP%]{max-width:0!important}.content-header[_ngcontent-%COMP%]{display:flex;flex-shrink:0;align-items:center;justify-content:space-between;width:100%;height:48px;background-color:#6b8cad;color:#fff;padding:0 10px;border-bottom:1px solid rgba(0,58,85,.5)}.content-header__icon[_ngcontent-%COMP%]{flex-shrink:0;cursor:pointer}.content-header__icon[_ngcontent-%COMP%]:not(:only-of-type):first-of-type{margin-right:5px}.content-header__title[_ngcontent-%COMP%]{width:100%;color:#fff;font-size:16px;font-weight:500;line-height:1.2}.content-body[_ngcontent-%COMP%]{height:100%}.content-menu-resize-handle[_ngcontent-%COMP%]{display:none}@media screen and (min-width:1200px){.content-menu-resize-handle[_ngcontent-%COMP%]{position:absolute;top:0;right:0;display:flex;align-items:center;justify-content:center;width:10px;height:100%;background-color:#fff;border-left:1px solid #cad0d7;cursor:col-resize}}.content-menu-icon-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;width:inherit;color:#515e6b}.content-menu-icon-container__resizing-icon[_ngcontent-%COMP%]{width:20px;height:20px}"]}),e})();var Mt=i("wZkO"),Dt=i("PK7q");class Nt{constructor(e,t,i){this.id=e,this.name=t,this.description=i,this.buttons=[],this.isSelected=!1,this.hasObjectIcon=!1}}class Rt extends o{constructor(e,t,i){super(e,t,{tooltip:i}),this.alwaysEnable=!1}}var Lt=i("n01O"),Ft=i("em9o"),kt=i("JSP6"),Ut=i("Qi+w"),jt=i("0IaG"),Bt=i("gSF1"),Gt=i("FcA5");function Vt(e,t){if(1&e&&r.Tb(0,"sda-loading-indicator",6),2&e){const e=r.lc();r.sc("centered",!0)("message",e.CREATE_OBJ_FROM_PINS_LOADING_MESSAGE)}}function Xt(e,t){if(1&e&&(r.Yb(0,"option",12),r.Uc(1),r.Xb()),2&e){const e=r.lc(3);r.Eb(1),r.Vc(e.CREATE_OBJ_FROM_PINS_DROPDOWN_PLACE_HOLDER)}}function Ht(e,t){if(1&e&&(r.Yb(0,"option",13),r.Uc(1),r.Xb()),2&e){const e=t.$implicit,i=r.lc(3);r.sc("value",e.methodOBID)("selected",1===i.targetObjectTypes.length),r.Eb(1),r.Wc(" ",e.displayName," ")}}function Yt(e,t){if(1&e){const e=r.Zb();r.Yb(0,"div"),r.Yb(1,"div",8),r.Uc(2),r.Yb(3,"select",9),r.hc("change",(function(t){return r.Kc(e),r.lc(2).selectObjectType(t.target.value)})),r.Sc(4,Xt,2,1,"option",10),r.Sc(5,Ht,2,3,"option",11),r.Xb(),r.Xb(),r.Xb()}if(2&e){const e=r.lc(2);r.Eb(2),r.Wc(" ",e.CREATE_OBJ_FROM_PIN_SELECT_OBJ_TYPE," "),r.Eb(2),r.sc("ngIf",e.targetObjectTypes.length>1),r.Eb(1),r.sc("ngForOf",e.targetObjectTypes)}}function qt(e,t){if(1&e&&(r.Yb(0,"div",14),r.Uc(1),r.Xb()),2&e){const e=r.lc(2);r.Eb(1),r.Wc(" ",e.CREATE_OBJ_FROM_PINS_ERROR_MESSAGE," ")}}function Wt(e,t){if(1&e&&(r.Yb(0,"mat-dialog-content"),r.Sc(1,Yt,6,3,"div",2),r.Sc(2,qt,2,1,"div",7),r.Xb()),2&e){const e=r.lc();r.Eb(1),r.sc("ngIf",!e.CREATE_OBJ_FROM_PINS_ERROR_MESSAGE),r.Eb(1),r.sc("ngIf",e.CREATE_OBJ_FROM_PINS_ERROR_MESSAGE)}}let zt=(()=>{class e{constructor(e,t,i,n,s,a,o,r,c){this.data=e,this.dialogRef=t,this.sdaTranslateService=i,this.clientApiService=n,this.featureSetDataService=s,this.exceptionService=a,this.pinsHelperService=o,this.featureSetNavigationService=r,this.featureSetService=c,this.isLoading=!0,this.targetObjectTypes=[],this.CREATE_OBJ_FROM_PINS_TITLE=this.sdaTranslateService.get("CREATE_OBJ_FROM_SELECTED_PINS","Create an object from selected pins"),this.CREATE_OBJ_FROM_PINS_LOADING_MESSAGE=this.sdaTranslateService.get("LOADING_ELLIPSIS","Loading..."),this.CREATE_OBJ_FROM_PINS_DONE_TEXT=this.sdaTranslateService.get("DONE","Done"),this.CREATE_OBJ_FROM_PINS_CANCEL_TEXT=this.sdaTranslateService.get("CANCEL","Cancel"),this.CREATE_OBJ_FROM_PIN_SELECT_OBJ_TYPE=this.sdaTranslateService.get("SELECT_OBJ_TYPE","Select an object type:"),this.CREATE_OBJ_FROM_PINS_DROPDOWN_PLACE_HOLDER=this.sdaTranslateService.get("DROPDOWN_PLACE_HOLDER","Please select..."),this.ERROR_RETRIEVING_OBJ_TYPES=this.sdaTranslateService.get("ERROR_RETRIEVING_OBJ_TYPES","An error occurred whilst trying to retrieve object types")}ngOnInit(){if(this.selectedPins=this.data.pinObjects,this.setTranslationsBasedOnPinsLength(),this.pinsHelperService.checkPinsAreOfCreateConfig(this.selectedPins)){const e=this.selectedPins.map(e=>e.obid);this.featureSetDataService.getFeatureSetsByObjectOBIDs(this.clientApiService.getAvailableClientApis(),e,this.selectedPins[0].config).pipe(Object(ae.a)(1)).subscribe(e=>{this.filterOutApisFromFeatureSets(e),this.targetObjectTypes.length?1===this.targetObjectTypes.length&&(this.selectedObjectType=this.targetObjectTypes[0]):this.CREATE_OBJ_FROM_PINS_ERROR_MESSAGE=this.sdaTranslateService.get("CREATE_OBJ_FROM_PINS_NO_OBJECT_TYPES","No object types available for the selected pins or the currently selected role(s)"),this.isLoading=!1},e=>{this.exceptionService.handleException(new Fe.a(e,this.ERROR_RETRIEVING_OBJ_TYPES,"create-object-from-pins.component","ngOnInit")),this.onCancel()})}else this.CREATE_OBJ_FROM_PINS_ERROR_MESSAGE=this.sdaTranslateService.get("CREATE_OBJ_FROM_PINS_WRONG_CONFIG","Objects can only be created using pins saved to the current create configuration"),this.isLoading=!1}selectObjectType(e){this.selectedObjectType=this.targetObjectTypes.find(t=>e===t.methodOBID)}onCancel(){this.dialogRef.close(!1)}onDone(){this.featureSetNavigationService.navigateToFeature(this.selectedObjectType,!1),this.dialogRef.close(!0)}setTranslationsBasedOnPinsLength(){1===this.selectedPins.length?this.CREATE_OBJ_FROM_PINS_TITLE=this.sdaTranslateService.get("CREATE_OBJ_FROM_PIN","Create object from 1 pin"):this.selectedPins.length>1&&(this.CREATE_OBJ_FROM_PINS_TITLE=this.sdaTranslateService.getFormatted("CREATE_OBJ_FROM_PINS","Create object from {0} pins",[this.selectedPins.length.toString()]))}filterOutApisFromFeatureSets(e){e&&e.length&&e.forEach(e=>{this.filterOutApisFromFeatureSets(e.FeatureSets),e.Features&&e.Features.length&&e.Features.forEach(e=>{"CreateObjectFromSelectedObjects"===e.ClientAPI&&this.targetObjectTypes.push(this.featureSetService.convertToFeature(e))})})}}return e.\u0275fac=function(t){return new(t||e)(r.Sb(jt.a),r.Sb(jt.f),r.Sb(m.a),r.Sb(je.a),r.Sb(d.a),r.Sb(Y.a),r.Sb(kt.a),r.Sb(h.a),r.Sb(u.a))},e.\u0275cmp=r.Mb({type:e,selectors:[["sda-create-object-from-pins"]],decls:7,vars:6,consts:[["mat-dialog-title",""],[3,"centered","message",4,"ngIf"],[4,"ngIf"],[1,"dialog-controls"],[1,"dialog-controls__button",3,"displayName","click"],[1,"dialog-controls__button",3,"displayName","isDisabled","click"],[3,"centered","message"],["class","create-object-from-pins-options-error-message",4,"ngIf"],[1,"create-object-from-pins-options-content"],[1,"create-object-from-pins-options-content__select",3,"change"],["value","","disabled","","selected","",4,"ngIf"],[3,"value","selected",4,"ngFor","ngForOf"],["value","","disabled","","selected",""],[3,"value","selected"],[1,"create-object-from-pins-options-error-message"]],template:function(e,t){1&e&&(r.Yb(0,"h2",0),r.Uc(1),r.Xb(),r.Sc(2,Vt,1,2,"sda-loading-indicator",1),r.Sc(3,Wt,3,2,"mat-dialog-content",2),r.Yb(4,"div",3),r.Yb(5,"sda-button-abort",4),r.hc("click",(function(){return t.onCancel()})),r.Xb(),r.Yb(6,"sda-button-primary",5),r.hc("click",(function(){return t.onDone()})),r.Xb(),r.Xb()),2&e&&(r.Eb(1),r.Vc(t.CREATE_OBJ_FROM_PINS_TITLE),r.Eb(1),r.sc("ngIf",t.isLoading),r.Eb(1),r.sc("ngIf",!t.isLoading),r.Eb(2),r.sc("displayName",t.CREATE_OBJ_FROM_PINS_CANCEL_TEXT),r.Eb(1),r.sc("displayName",t.CREATE_OBJ_FROM_PINS_DONE_TEXT)("isDisabled",!t.selectedObjectType))},directives:[jt.g,v.t,Bt.a,Gt.a,_.a,jt.d,v.s],styles:["[_nghost-%COMP%]{display:flex;flex-direction:column}[_nghost-%COMP%], [_nghost-%COMP%]   sda-loading-indicator[_ngcontent-%COMP%]{height:100%}[_nghost-%COMP%]   .mat-dialog-content[_ngcontent-%COMP%]{display:flex;flex-direction:column}[_nghost-%COMP%]   .create-object-from-pins-options-content[_ngcontent-%COMP%]{display:flex;flex-direction:column;width:50%;margin-left:5px}[_nghost-%COMP%]   .create-object-from-pins-options-content__select[_ngcontent-%COMP%]{width:100%;height:40px;margin-top:10px;border:1px solid #a9b4be;border-radius:2px;cursor:pointer}[_nghost-%COMP%]   .create-object-from-pins-options-error-message[_ngcontent-%COMP%]{display:flex;justify-content:center;margin:20px 0}[_nghost-%COMP%]   .dialog-controls[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;align-items:center;justify-content:flex-end;margin-bottom:0;padding-top:12px}[_nghost-%COMP%]   .dialog-controls__button[_ngcontent-%COMP%]{margin-left:5px}"]}),e})();var $t=i("+0xr"),Qt=i("A1MZ"),Kt=i("A2Nf"),Jt=i("3Pt+"),Zt=i("Qu3c");const ei=["renamegrouptext"],ti=["table"];function ii(e,t){if(1&e&&r.Tb(0,"sda-loading-indicator",5),2&e){const e=r.lc();r.sc("centered",!0)("message",e.PINS_MODIFY_LISTS_LOADING_MESSAGE)}}function ni(e,t){if(1&e&&(r.Yb(0,"div",22),r.Yb(1,"span",23),r.Uc(2),r.Xb(),r.Yb(3,"span",23),r.Uc(4),r.Xb(),r.Xb()),2&e){const e=r.lc().$implicit;r.Eb(1),r.sc("title",e.name),r.Eb(1),r.Vc(e.name),r.Eb(1),r.sc("title",e.configName),r.Eb(1),r.Vc(e.configName)}}function si(e,t){if(1&e){const e=r.Zb();r.Wb(0),r.Yb(1,"input",24,25),r.hc("ngModelChange",(function(t){return r.Kc(e),r.lc(3).inputValue=t}))("keyup.enter",(function(){r.Kc(e);const t=r.lc().$implicit;return r.lc(2).renameGroup(t)})),r.Xb(),r.Vb()}if(2&e){const e=r.lc().$implicit,t=r.lc(2);r.Eb(1),r.sc("ngModel",t.inputValue)("value",e.name)("maxlength",t.pinsMenuService.maxGroupNameLength)}}function ai(e,t){if(1&e&&(r.Yb(0,"mat-cell",20),r.Sc(1,ni,5,4,"div",21),r.Sc(2,si,3,3,"ng-container",2),r.Xb()),2&e){const e=t.$implicit,i=r.lc(2);r.Ib("edit-pin-name-cell--disabled",e.markedForDeletion)("edit-pin-name-cell--created",e.created),r.Eb(1),r.sc("ngIf",!i.modifiedGroup||!e.obid||e.obid!==i.modifiedGroup.obid),r.Eb(1),r.sc("ngIf",i.modifiedGroup&&e.obid&&e.obid===i.modifiedGroup.obid)}}function oi(e,t){if(1&e&&(r.Yb(0,"mat-cell",26),r.Uc(1),r.Xb()),2&e){const e=t.$implicit;r.Rc("display",e.name!==e.oldName?"block":"none"),r.sc("title",e.oldName),r.Eb(1),r.Vc(e.oldName)}}function ri(e,t){if(1&e){const e=r.Zb();r.Wb(0),r.Yb(1,"mat-icon",29),r.hc("click",(function(){r.Kc(e);const t=r.lc(2).$implicit;return r.lc(2).editGroup(t)})),r.Xb(),r.Yb(2,"mat-icon",30),r.hc("click",(function(){r.Kc(e);const t=r.lc(2).$implicit;return r.lc(2).deleteGroup(t,!0)})),r.Xb(),r.Vb()}if(2&e){const e=r.lc(4);r.Eb(1),r.Ib("edit-pin-actions-cell__icon--disabled",e.editing),r.sc("title",e.PINS_RENAME_LIST),r.Eb(1),r.Ib("edit-pin-actions-cell__icon--disabled",e.editing),r.sc("title",e.PINS_DELETE_LIST)}}function ci(e,t){if(1&e){const e=r.Zb();r.Wb(0),r.Yb(1,"mat-icon",31),r.hc("click",(function(){r.Kc(e);const t=r.lc(2).$implicit;return r.lc(2).renameGroup(t)})),r.Xb(),r.Yb(2,"mat-icon",32),r.hc("click",(function(){r.Kc(e);const t=r.lc(2).$implicit;return r.lc(2).cancelGroupChanges(t)})),r.Xb(),r.Vb()}if(2&e){const e=r.lc(4);r.Eb(1),r.Ib("edit-pin-actions-cell__icon--disabled",""===e.inputValue.trim()),r.sc("title",e.PINS_SAVE_TEXT),r.Eb(1),r.sc("title",e.PINS_CANCEL_TEXT)}}function li(e,t){if(1&e){const e=r.Zb();r.Yb(0,"mat-icon",33),r.hc("click",(function(){r.Kc(e);const t=r.lc(2).$implicit;return r.lc(2).deleteGroup(t,!1)})),r.Xb()}if(2&e){const e=r.lc(4);r.Ib("edit-pin-actions-cell__icon--disabled",e.editing),r.sc("title",e.PINS_UNDO_DELETE)}}function di(e,t){if(1&e&&(r.Wb(0),r.Sc(1,ri,3,6,"ng-container",2),r.Sc(2,ci,3,4,"ng-container",2),r.Sc(3,li,1,3,"mat-icon",28),r.Vb()),2&e){const e=r.lc().$implicit,t=r.lc(2);r.Eb(1),r.sc("ngIf",!(t.modifiedGroup&&e.obid&&e.obid===t.modifiedGroup.obid||e.markedForDeletion)),r.Eb(1),r.sc("ngIf",t.modifiedGroup&&e.obid&&e.obid===t.modifiedGroup.obid),r.Eb(1),r.sc("ngIf",e.markedForDeletion)}}function hi(e,t){if(1&e){const e=r.Zb();r.Wb(0),r.Yb(1,"mat-icon",34,35),r.hc("click",(function(){return r.Kc(e),r.Hc(2).toggle()})),r.Xb(),r.Vb()}if(2&e){const e=r.lc().$implicit;r.Eb(1),r.sc("matTooltip",e.readonlyText)}}function ui(e,t){if(1&e&&(r.Yb(0,"mat-cell",27),r.Sc(1,di,4,3,"ng-container",2),r.Sc(2,hi,3,1,"ng-container",2),r.Xb()),2&e){const e=t.$implicit;r.Eb(1),r.sc("ngIf",!e.readonly),r.Eb(1),r.sc("ngIf",e.readonly)}}function pi(e,t){if(1&e&&(r.Yb(0,"mat-cell",36),r.Yb(1,"span",37),r.Uc(2),r.Xb(),r.Xb()),2&e){const e=t.$implicit,i=r.lc(2);r.Ib("edit-pin-count-cell--disabled",e.markedForDeletion),r.Fb("colspan",i.displayedColumns.length),r.Eb(1),r.sc("title",e.pinsCountText),r.Eb(1),r.Wc(" ",e.pinsCountText,"")}}function gi(e,t){if(1&e&&r.Tb(0,"mat-row"),2&e){const e=t.$implicit;r.Ib("edit-pin-table-row",!e.created&&!e.readonly)}}function fi(e,t){1&e&&r.Tb(0,"mat-row",38)}const mi=function(){return["expandedDetail"]};function bi(e,t){if(1&e){const e=r.Zb();r.Yb(0,"mat-dialog-content"),r.Yb(1,"div",6),r.hc("click",(function(){return r.Kc(e),r.lc().addGroup()})),r.Tb(2,"mat-icon",7),r.Uc(3),r.Xb(),r.Yb(4,"mat-table",8,9),r.Wb(6,10),r.Sc(7,ai,3,6,"mat-cell",11),r.Vb(),r.Wb(8,12),r.Sc(9,oi,2,4,"mat-cell",13),r.Vb(),r.Wb(10,14),r.Sc(11,ui,3,2,"mat-cell",15),r.Vb(),r.Wb(12,16),r.Sc(13,pi,3,5,"mat-cell",17),r.Vb(),r.Sc(14,gi,1,2,"mat-row",18),r.Sc(15,fi,1,0,"mat-row",19),r.Xb(),r.Xb()}if(2&e){const e=r.lc();r.Eb(1),r.Ib("edit-pin-add-group--disabled",e.editing),r.sc("title",e.PINS_ADD_NEW_LIST),r.Eb(2),r.Wc(" ",e.PINS_ADD_NEW_LIST," "),r.Eb(1),r.sc("dataSource",e.dataSource),r.Eb(10),r.sc("matRowDefColumns",e.displayedColumns),r.Eb(1),r.sc("matRowDefColumns",r.wc(8,mi))("matRowDefWhen",e.itemNotReadOnly)}}let Si=(()=>{class e{constructor(e,t,i,n,s,a){this.dialogRef=e,this.guidService=t,this.sdaTranslateService=i,this.pinsMenuService=n,this.exceptionService=s,this.configService=a,this.doneEnabled=!1,this.cancelEnabled=!0,this.isLoading=!0,this.editing=!1,this.PINS_MODIFY_LISTS_LOADING_MESSAGE=this.sdaTranslateService.get("LOADING_ELLIPSIS","Loading..."),this.PINS_MODIFY_LISTS_TITLE=this.sdaTranslateService.get("PINS_MODIFY_LISTS_TITLE","Modify Pins Lists"),this.PINS_DELETE_LIST=this.sdaTranslateService.get("PINS_DELETE_LIST","Delete List"),this.PINS_RENAME_LIST=this.sdaTranslateService.get("PINS_RENAME_LIST","Rename List"),this.PINS_UNDO_DELETE=this.sdaTranslateService.get("PINS_UNDO_DELETE","Undo Delete"),this.PINS_ADD_NEW_LIST=this.sdaTranslateService.get("PINS_ADD_NEW_LIST","Add New List"),this.PINS_CANCEL_TEXT=this.sdaTranslateService.get("CANCEL","Cancel"),this.PINS_SAVE_TEXT=this.sdaTranslateService.get("SAVE","Save"),this.PINS_MODIFY_LISTS_ONE_PIN_EXISTS_TOOLTIP=this.sdaTranslateService.get("PINS_MODIFY_LISTS_ONE_PIN_EXISTS_TOOLTIP","1 pin saved across all configurations"),this.LIST_NAME_EMPTY=this.sdaTranslateService.get("LIST_NAME_EMPTY","List name cannot be empty or consist only of white space"),this.LIST_NAME_EXISTS=this.sdaTranslateService.get("LIST_NAME_EXISTS","A pins list with this name already exists on the create configuration")}get inputValue(){return this.inputValueObj}set inputValue(e){this.inputValueObj=e}ngOnInit(){this.displayedColumns=["groupName","groupOldName","groupActions"],this.dataSource=new $t.k,this.pinsMenuService.getPinGroups(!1,!0).pipe(Object(ae.a)(1)).subscribe(e=>{const t=e.map(e=>{const t=new Kt.a(e.obid,e.name,e.config,e.config!==this.configService.selectedCreateConfig);return t.configName=e.configName,t.pinsCount=e.pinsCount,t.isOriginalPinboardGroup?(t.readonly=!0,t.readonlyText=this.sdaTranslateService.get("DEFAULT_PINS_LIST_READONLY","The default pins list cannot be modified")):t.readonly&&(t.readonlyText=this.sdaTranslateService.getFormatted("PINS_LIST_CHANGE_SCOPE","Change scope to {0} to modify this pins list",[t.configName])),t.pinsCountText=1===e.pinsCount?this.PINS_MODIFY_LISTS_ONE_PIN_EXISTS_TOOLTIP:this.sdaTranslateService.getFormatted("PINS_MODIFY_LISTS_PINS_EXIST_TOOLTIP","{0} pins saved across all configurations",[e.pinsCount?e.pinsCount.toString():"0"]),t});this.dataSource=new $t.k(t),this.isLoading=!1},e=>{this.exceptionService.handleException(new Fe.a(e,this.sdaTranslateService.get("PINS_LIST_FETCH_ERROR","An error occurred whilst trying to retrieve pins lists"),"edit-pin-groups.component","ngOnInit")),this.onCancel()})}deleteGroup(e,t){if(e.created){const t=this.dataSource.data.indexOf(this.dataSource.data.find(t=>t.obid===e.obid));t>-1&&(this.dataSource.data.splice(t,1),this.table.renderRows())}else e.markedForDeletion=t;this.checkSaveState()}renameGroup(e){const t=this.inputValueObj?this.inputValueObj.trim():void 0;t&&""!==t?this.dataSource.data.some(i=>i.config===this.configService.selectedCreateConfig&&(i.name===t||i.oldName===t)&&i.obid!==e.obid)?(this.renamegrouptext.nativeElement.setCustomValidity(this.LIST_NAME_EXISTS),this.renamegrouptext.nativeElement.reportValidity()):(e.name=t,this.modifiedGroup=void 0,this.inputValueObj="",e.created&&(e.oldName=e.name),this.renamegrouptext.nativeElement.setCustomValidity(""),this.renamegrouptext.nativeElement.reportValidity(),this.setEditingMode(!1)):(this.renamegrouptext.nativeElement.setCustomValidity(this.LIST_NAME_EMPTY),this.renamegrouptext.nativeElement.reportValidity())}cancelGroupChanges(e){if(e.created){const t=this.dataSource.data.indexOf(this.dataSource.data.find(t=>t.obid===e.obid));t>-1&&(this.dataSource.data.splice(t,1),this.table.renderRows())}else this.modifiedGroup=void 0,this.inputValueObj="";this.setEditingMode(!1)}addGroup(){this.setEditingMode(!0);const e=new Kt.a("tempOBID"+this.guidService.getGuid(),"",this.configService.selectedCreateConfig);e.configName=this.configService.getConfigByUid(e.config).DisplayName,e.created=!0,this.dataSource.data[0].isOriginalPinboardGroup?this.dataSource.data.splice(1,0,e):this.dataSource.data.unshift(e),this.editGroup(e),this.table.renderRows()}editGroup(e){this.setEditingMode(!0),this.inputValueObj=e.name,this.modifiedGroup=e&&e.obid?e:void 0,setTimeout(()=>{this.renamegrouptext.nativeElement.focus()})}onCancel(){this.dialogRef.close(!1)}onDone(){this.doneEnabled=!1,this.cancelEnabled=!1,this.PINS_MODIFY_LISTS_LOADING_MESSAGE=this.sdaTranslateService.get("SAVING_UPPERCASE","SAVING..."),this.isLoading=!0;const e=this.filterNewGroups(),t=this.filterDeletedGroups(),i=this.filterRenamedGroups();this.pinsMenuService.modifyPinGroups(e,t,i).pipe(Object(ae.a)(1)).subscribe(e=>{e&&e.some(e=>e.hasErrored)?(this.isLoading=!1,this.doneEnabled=!0,this.cancelEnabled=!0):this.dialogRef.close(!0)},e=>{this.exceptionService.handleException(new Fe.a(e,this.sdaTranslateService.get("PINS_LIST_UPDATE_ERROR","An error occurred whilst trying to update pins lists"),"edit-pin-groups.component","onDone")),this.isLoading=!1,this.doneEnabled=!0,this.cancelEnabled=!0})}itemNotReadOnly(e,t){return!t.created&&!t.readonly}filterNewGroups(){return this.dataSource.data.filter(e=>!e.markedForDeletion&&e.created).map(e=>e.name)}filterDeletedGroups(){return this.dataSource.data.filter(e=>e.markedForDeletion&&!e.created).map(e=>e.obid)}filterRenamedGroups(){return this.dataSource.data.filter(e=>!e.markedForDeletion&&!e.created&&e.name!==e.oldName).map(e=>({obid:e.obid,name:e.name}))}setEditingMode(e){this.editing=e,this.editing?this.doneEnabled=!1:this.checkSaveState()}checkSaveState(){this.doneEnabled=this.dataSource.data.some(e=>e.markedForDeletion||e.created||e.name!==e.oldName)}}return e.\u0275fac=function(t){return new(t||e)(r.Sb(jt.f),r.Sb(Qt.a),r.Sb(m.a),r.Sb(Ut.a),r.Sb(Y.a),r.Sb(b.a))},e.\u0275cmp=r.Mb({type:e,selectors:[["sda-edit-pin-groups"]],viewQuery:function(e,t){var i;1&e&&(r.bd(ei,!0),r.bd(ti,!0)),2&e&&(r.Gc(i=r.ic())&&(t.renamegrouptext=i.first),r.Gc(i=r.ic())&&(t.table=i.first))},decls:7,vars:7,consts:[["mat-dialog-title",""],[3,"centered","message",4,"ngIf"],[4,"ngIf"],[1,"dialog-controls"],[1,"dialog-controls__button",3,"displayName","isDisabled","click"],[3,"centered","message"],[1,"edit-pin-add-group",3,"title","click"],["svgIcon","add_circle",1,"edit-pin-add-group__icon"],["multiTemplateDataRows","",3,"dataSource"],["table",""],["matColumnDef","groupName"],["class","edit-pin-name-cell",3,"edit-pin-name-cell--disabled","edit-pin-name-cell--created",4,"matCellDef"],["matColumnDef","groupOldName"],["class","edit-pin-old-name-cell",3,"display","title",4,"matCellDef"],["matColumnDef","groupActions"],["class","edit-pin-actions-cell",4,"matCellDef"],["matColumnDef","expandedDetail"],["class","edit-pin-count-cell",3,"edit-pin-count-cell--disabled",4,"matCellDef"],[3,"edit-pin-table-row",4,"matRowDef","matRowDefColumns"],["class","edit-pin-table-detail-row",4,"matRowDef","matRowDefColumns","matRowDefWhen"],[1,"edit-pin-name-cell"],["class","edit-pin-name-cell-text",4,"ngIf"],[1,"edit-pin-name-cell-text"],[1,"edit-pin-name-cell-text__line",3,"title"],["type","text",1,"edit-pin-name-cell__input",3,"ngModel","value","maxlength","ngModelChange","keyup.enter"],["renamegrouptext",""],[1,"edit-pin-old-name-cell",3,"title"],[1,"edit-pin-actions-cell"],["svgIcon","undo","class","edit-pin-actions-cell__icon",3,"edit-pin-actions-cell__icon--disabled","title","click",4,"ngIf"],["svgIcon","edit",1,"edit-pin-actions-cell__icon",3,"title","click"],["svgIcon","trash",1,"edit-pin-actions-cell__icon",3,"title","click"],["svgIcon","check",1,"edit-pin-actions-cell__icon",3,"title","click"],["svgIcon","close",1,"edit-pin-actions-cell__icon",3,"title","click"],["svgIcon","undo",1,"edit-pin-actions-cell__icon",3,"title","click"],["svgIcon","info","matTooltipClass","edit-pin-tooltip","matTooltipPosition","left",1,"edit-pin-actions-cell__icon","edit-pin-actions-cell__info-icon",3,"matTooltip","click"],["tooltip","matTooltip"],[1,"edit-pin-count-cell"],[1,"edit-pin-count-cell__text",3,"title"],[1,"edit-pin-table-detail-row"]],template:function(e,t){1&e&&(r.Yb(0,"h2",0),r.Uc(1),r.Xb(),r.Sc(2,ii,1,2,"sda-loading-indicator",1),r.Sc(3,bi,16,9,"mat-dialog-content",2),r.Yb(4,"div",3),r.Yb(5,"sda-button-abort",4),r.hc("click",(function(){return t.onCancel()})),r.Xb(),r.Yb(6,"sda-button-primary",4),r.hc("click",(function(){return t.onDone()})),r.Xb(),r.Xb()),2&e&&(r.Eb(1),r.Vc(t.PINS_MODIFY_LISTS_TITLE),r.Eb(1),r.sc("ngIf",t.isLoading),r.Eb(1),r.sc("ngIf",!t.isLoading),r.Eb(2),r.sc("displayName",t.PINS_CANCEL_TEXT)("isDisabled",!t.cancelEnabled),r.Eb(1),r.sc("displayName",t.PINS_SAVE_TEXT)("isDisabled",!t.doneEnabled))},directives:[jt.g,v.t,Bt.a,Gt.a,_.a,jt.d,T.a,$t.j,$t.c,$t.b,$t.i,$t.a,Jt.c,Jt.p,Jt.s,Jt.k,Zt.a,$t.h],styles:["[_nghost-%COMP%]   .mat-table[_ngcontent-%COMP%]{overflow-x:hidden;overflow-y:auto}[_nghost-%COMP%]   .mat-table[_ngcontent-%COMP%]   .edit-pin-count-cell__text[_ngcontent-%COMP%], [_nghost-%COMP%]   .mat-table[_ngcontent-%COMP%]   .edit-pin-name-cell-text__line[_ngcontent-%COMP%], [_nghost-%COMP%]   .mat-table[_ngcontent-%COMP%]   .edit-pin-old-name-cell[_ngcontent-%COMP%]{overflow:hidden;white-space:nowrap;text-overflow:ellipsis}[_nghost-%COMP%]{display:flex;flex-direction:column}[_nghost-%COMP%], [_nghost-%COMP%]   sda-loading-indicator[_ngcontent-%COMP%]{height:100%}[_nghost-%COMP%]   .mat-dialog-content[_ngcontent-%COMP%]{display:flex;flex-direction:column}[_nghost-%COMP%]   .edit-pin-add-group[_ngcontent-%COMP%]{display:flex;align-items:center;flex-shrink:0;height:30px;cursor:pointer}[_nghost-%COMP%]   .edit-pin-add-group__icon[_ngcontent-%COMP%]{flex-shrink:0;margin-right:5px;color:#007faa}[_nghost-%COMP%]   .edit-pin-add-group--disabled[_ngcontent-%COMP%]{opacity:.4;pointer-events:none}[_nghost-%COMP%]   .mat-table[_ngcontent-%COMP%]{margin-top:10px;border:1px solid rgba(0,0,0,.12)}[_nghost-%COMP%]   .mat-table[_ngcontent-%COMP%]   .mat-row[_ngcontent-%COMP%]:hover{background-color:#fff}[_nghost-%COMP%]   .mat-table[_ngcontent-%COMP%]   .edit-pin-table-row[_ngcontent-%COMP%]{border:none}[_nghost-%COMP%]   .mat-table[_ngcontent-%COMP%]   .edit-pin-table-row[_ngcontent-%COMP%]   .edit-pin-actions-cell[_ngcontent-%COMP%], [_nghost-%COMP%]   .mat-table[_ngcontent-%COMP%]   .edit-pin-table-row[_ngcontent-%COMP%]   .edit-pin-name-cell[_ngcontent-%COMP%], [_nghost-%COMP%]   .mat-table[_ngcontent-%COMP%]   .edit-pin-table-row[_ngcontent-%COMP%]   .edit-pin-old-name-cell[_ngcontent-%COMP%]{padding-bottom:0!important}[_nghost-%COMP%]   .mat-table[_ngcontent-%COMP%]   .edit-pin-table-detail-row[_ngcontent-%COMP%]{min-height:0}[_nghost-%COMP%]   .mat-table[_ngcontent-%COMP%]   .mat-cell[_ngcontent-%COMP%]{padding:8px!important}[_nghost-%COMP%]   .mat-table[_ngcontent-%COMP%]   .edit-pin-name-cell__input[_ngcontent-%COMP%]{width:100%;height:28px;line-height:1}[_nghost-%COMP%]   .mat-table[_ngcontent-%COMP%]   .edit-pin-name-cell--disabled[_ngcontent-%COMP%]{opacity:.4}[_nghost-%COMP%]   .mat-table[_ngcontent-%COMP%]   .edit-pin-name-cell--created[_ngcontent-%COMP%]{border-left:2px solid #007faa}[_nghost-%COMP%]   .mat-table[_ngcontent-%COMP%]   .edit-pin-name-cell-text[_ngcontent-%COMP%]{display:flex;flex-direction:column;width:100%;overflow:hidden}[_nghost-%COMP%]   .mat-table[_ngcontent-%COMP%]   .edit-pin-name-cell-text__line[_ngcontent-%COMP%]:not(:first-of-type){margin-top:2px;font-size:12px;font-style:italic}[_nghost-%COMP%]   .mat-table[_ngcontent-%COMP%]   .edit-pin-old-name-cell[_ngcontent-%COMP%]{color:#cad0d7}[_nghost-%COMP%]   .mat-table[_ngcontent-%COMP%]   .edit-pin-actions-cell[_ngcontent-%COMP%]{flex:0 0 75px;color:rgba(0,0,0,.54)}[_nghost-%COMP%]   .mat-table[_ngcontent-%COMP%]   .edit-pin-actions-cell__icon[_ngcontent-%COMP%]{flex-shrink:0;cursor:pointer}[_nghost-%COMP%]   .mat-table[_ngcontent-%COMP%]   .edit-pin-actions-cell__icon--disabled[_ngcontent-%COMP%]{opacity:.4;pointer-events:none}[_nghost-%COMP%]   .mat-table[_ngcontent-%COMP%]   .edit-pin-actions-cell__icon[_ngcontent-%COMP%]:last-child{margin-left:auto}[_nghost-%COMP%]   .mat-table[_ngcontent-%COMP%]   .edit-pin-actions-cell__info-icon[_ngcontent-%COMP%]{color:#75d2ff}[_nghost-%COMP%]   .mat-table[_ngcontent-%COMP%]   .edit-pin-count-cell[_ngcontent-%COMP%]{padding-top:0!important}[_nghost-%COMP%]   .mat-table[_ngcontent-%COMP%]   .edit-pin-count-cell--disabled[_ngcontent-%COMP%]{opacity:.4}[_nghost-%COMP%]   .dialog-controls[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;align-items:center;justify-content:flex-end;margin-bottom:0;padding-top:12px}[_nghost-%COMP%]   .dialog-controls__button[_ngcontent-%COMP%]{margin-left:5px}"]}),e})();var vi=i("QibW"),_i=i("JQef"),Oi=i("bSwM");function Ii(e,t){if(1&e&&r.Tb(0,"sda-loading-indicator",5),2&e){const e=r.lc();r.sc("centered",!0)("message",e.MOVE_PINS_LOADING_MESSAGE)}}function Ci(e,t){if(1&e){const e=r.Zb();r.Yb(0,"div",8),r.Yb(1,"div",9),r.Yb(2,"div",10),r.Yb(3,"mat-radio-button",11,12),r.hc("change",(function(){return r.Kc(e),r.lc(2).toggleCreateList()})),r.Xb(),r.Yb(5,"div",13),r.Yb(6,"div",14),r.Uc(7),r.Xb(),r.Yb(8,"sda-quick-select",15),r.hc("itemSelected",(function(t){return r.Kc(e),r.lc(2).selectList(t)})),r.Xb(),r.Xb(),r.Xb(),r.Yb(9,"div",10),r.Yb(10,"mat-radio-button",16,17),r.hc("change",(function(){return r.Kc(e),r.lc(2).toggleCreateList(!0)})),r.Xb(),r.Yb(12,"div",13),r.Yb(13,"div",14),r.Uc(14),r.Xb(),r.Yb(15,"input",18),r.hc("ngModelChange",(function(t){return r.Kc(e),r.lc(2).onNewNameChange(t)})),r.Xb(),r.Xb(),r.Xb(),r.Xb(),r.Yb(16,"mat-checkbox",19),r.hc("change",(function(t){return r.Kc(e),r.lc(2).toggleMove(t.checked)})),r.Uc(17),r.Xb(),r.Yb(18,"mat-checkbox",19),r.hc("change",(function(t){return r.Kc(e),r.lc(2).toggleListChange(t.checked)})),r.Uc(19),r.Xb(),r.Xb()}if(2&e){const e=r.Hc(4),t=r.Hc(11),i=r.lc(2);r.Eb(3),r.sc("disabled",i.selectionBoxItems.length<1)("checked",!i.createNewGroup),r.Eb(2),r.Ib("move-pins-options-content--disabled",!e.checked),r.Eb(2),r.Vc(i.MOVE_PINS_SELECT_TARGET_LIST),r.Eb(1),r.sc("items",i.selectionBoxItems)("selectedItem",i.selectedItem),r.Eb(2),r.sc("checked",i.createNewGroup),r.Eb(2),r.Ib("move-pins-options-content--disabled",!t.checked),r.Eb(2),r.Vc(i.MOVE_PINS_NEW_LIST_NAME),r.Eb(1),r.sc("ngModel",i.newGroupNameText)("maxlength",i.pinsMenuService.maxGroupNameLength),r.Eb(1),r.sc("checked",i.copyMode)("title",i.MOVE_PINS_DUPLICATE_PINS_BOX),r.Eb(1),r.Vc(i.MOVE_PINS_DUPLICATE_PINS_BOX),r.Eb(1),r.sc("checked",i.switchGroup)("title",i.MOVE_PINS_CHANGE_LIST_BOX),r.Eb(1),r.Vc(i.MOVE_PINS_CHANGE_LIST_BOX)}}function Ti(e,t){if(1&e&&(r.Yb(0,"div",20),r.Uc(1),r.Xb()),2&e){const e=r.lc(2);r.Eb(1),r.Wc(" ",e.MOVE_PINS_ERROR_MESSAGE," ")}}function Ei(e,t){if(1&e&&(r.Yb(0,"mat-dialog-content"),r.Sc(1,Ci,20,19,"div",6),r.Sc(2,Ti,2,1,"div",7),r.Xb()),2&e){const e=r.lc();r.Eb(1),r.sc("ngIf",!e.MOVE_PINS_ERROR_MESSAGE),r.Eb(1),r.sc("ngIf",e.MOVE_PINS_ERROR_MESSAGE)}}let yi=(()=>{class e{constructor(e,t,i,n,s,a){this.data=e,this.dialogRef=t,this.sdaTranslateService=i,this.pinsMenuService=n,this.pinsHelperService=s,this.exceptionService=a,this.doneEnabled=!1,this.cancelEnabled=!0,this.isLoading=!0,this.selectionBoxItems=[],this.createNewGroup=!1,this.copyMode=!1,this.switchGroup=!1,this.MOVE_PINS_LOADING_MESSAGE=this.sdaTranslateService.get("LOADING_ELLIPSIS","Loading..."),this.MOVE_PINS_TITLE=this.sdaTranslateService.get("MOVE_PINS_TITLE_NO_PINS","Move or copy selected pins"),this.MOVE_PINS_SELECT_TARGET_LIST=this.sdaTranslateService.get("MOVE_PINS_SELECT_PINS_TARGET_LIST","Select a target list to move the pins to:"),this.MOVE_PINS_NEW_LIST_NAME=this.sdaTranslateService.get("MOVE_PINS_NEW_PINS_LIST_NAME","Enter a name for the new list the pins will be moved to:"),this.MOVE_PINS_DUPLICATE_PINS_BOX=this.sdaTranslateService.get("MOVE_PINS_DUPLICATE_PINS_BOX","Retain pins in current list"),this.MOVE_PINS_CHANGE_LIST_BOX=this.sdaTranslateService.get("MOVE_PINS_CHANGE_LIST_BOX","Open target list after move"),this.MOVE_PINS_DONE_TEXT=this.sdaTranslateService.get("DONE","Done"),this.MOVE_PINS_CANCEL_TEXT=this.sdaTranslateService.get("CANCEL","Cancel"),this.MOVE_PINS_LIST_NOT_FOUND=this.sdaTranslateService.get("PINS_LIST_NOT_FOUND","The currently selected pins list cannot be found"),this.MOVE_PINS_LIST_FETCH_ERROR=this.sdaTranslateService.get("PINS_LIST_FETCH_ERROR","An error occurred whilst trying to retrieve pins lists"),this.MOVE_PINS_MOVE_PIN_ERROR=this.sdaTranslateService.get("MOVE_PINS_MOVE_PIN_ERROR","An error occurred whilst trying to move/copy the pin(s)")}ngOnInit(){this.selectedPins=this.data.pinObjects,this.pinObids=this.selectedPins.map(e=>e.obid),this.isPinBoardPin=this.data.isPinBoardPin,this.currentGroupObid=this.data.currentGroupObid,this.setTranslationsBasedOnPinsLength(),!this.isPinBoardPin||this.pinsHelperService.checkPinsAreOfRequiredConfig(this.selectedPins)?(this.pinsMenuService.pinGroupsChanges$.pipe(Object(ae.a)(1)).subscribe(e=>{this.setSelectionBoxItems(e),this.isLoading=!1},e=>{this.exceptionService.handleException(new Fe.a(e,this.MOVE_PINS_LIST_FETCH_ERROR,"move-pins.component","ngOnInit")),this.onCancel()}),this.pinsMenuService.refreshPinGroups(!1)):(this.MOVE_PINS_ERROR_MESSAGE=this.sdaTranslateService.get("MOVE_PINS_ERROR_MESSAGE","You can only move pinned items if they are in the current create configuration or its parent configuration(s)"),this.isLoading=!1)}toggleCreateList(e=!1){this.createNewGroup=e,this.enableDone()}onNewNameChange(e){this.newGroupNameText=e,this.enableDone()}selectList(e){this.selectedItem=e,this.targetGroupObid=e.id,this.enableDone()}toggleMove(e){this.copyMode=e}toggleListChange(e){this.switchGroup=e}onCancel(){this.dialogRef.close(!1)}onDone(){let e;this.doneEnabled=!1,this.cancelEnabled=!1,this.MOVE_PINS_LOADING_MESSAGE=this.sdaTranslateService.get("SAVING_UPPERCASE","SAVING..."),this.isLoading=!0,e=this.isPinBoardPin?this.createNewGroup&&this.newGroupNameText?this.pinsMenuService.movePinsToNewGroup(this.pinObids,this.currentGroupObid,this.newGroupNameText,this.copyMode,this.switchGroup):this.pinsMenuService.movePinsBetweenGroups(this.pinObids,this.currentGroupObid,this.targetGroupObid,this.copyMode,this.switchGroup):this.createNewGroup&&this.newGroupNameText?this.pinsMenuService.moveNewItemsToNewGroup(this.pinObids,this.newGroupNameText,!this.copyMode,this.switchGroup):this.pinsMenuService.moveNewItemsToExistingGroup(this.pinObids,this.targetGroupObid,!this.copyMode,this.switchGroup),e.pipe(Object(ae.a)(1)).subscribe(()=>{this.dialogRef.close(!0)},e=>{this.exceptionService.handleException(new Fe.a(e,this.MOVE_PINS_MOVE_PIN_ERROR,"move-pins.component","onDone")),this.isLoading=!1,this.doneEnabled=!0,this.cancelEnabled=!0})}setTranslationsBasedOnPinsLength(){1===this.selectedPins.length?(this.MOVE_PINS_TITLE=this.sdaTranslateService.get("MOVE_PINS_TITLE_SINGLE_PIN","Move or copy 1 pin"),this.MOVE_PINS_DUPLICATE_PINS_BOX=this.sdaTranslateService.get("MOVE_PINS_DUPLICATE_PIN_BOX","Retain pin in current list"),this.MOVE_PINS_SELECT_TARGET_LIST=this.sdaTranslateService.get("MOVE_PINS_SELECT_PIN_TARGET_LIST","Select a target list to move the pin to:"),this.MOVE_PINS_NEW_LIST_NAME=this.sdaTranslateService.get("MOVE_PINS_NEW_PIN_LIST_NAME","Enter a name for the new list the pin will be moved to:")):this.selectedPins.length>1&&(this.MOVE_PINS_TITLE=this.sdaTranslateService.getFormatted("MOVE_PINS_TITLE_MULTI_PINS","Move or copy {0} pins",[this.selectedPins.length.toString()]))}setSelectionBoxItems(e){const t=[...e],i=t.find(e=>e.obid===this.currentGroupObid);i||!this.isPinBoardPin?(this.isPinBoardPin&&t.splice(t.indexOf(i),1),this.selectionBoxItems=this.pinsHelperService.filterPinGroupsByObjectItemConfigs(t,this.selectedPins).map(e=>{const t=new Lt.a(e.obid,e.name);return t.secondaryText=e.configName,t}),this.selectionBoxItems.length<1?this.createNewGroup=!0:1===this.selectionBoxItems.length&&this.selectList(this.selectionBoxItems[0])):(this.exceptionService.handleException(new Fe.a(void 0,this.MOVE_PINS_LIST_NOT_FOUND,"move-pins.component","onDone")),this.onCancel())}enableDone(){this.doneEnabled=this.createNewGroup?!!this.newGroupNameText&&!!this.newGroupNameText.length:!!this.targetGroupObid}}return e.\u0275fac=function(t){return new(t||e)(r.Sb(jt.a),r.Sb(jt.f),r.Sb(m.a),r.Sb(Ut.a),r.Sb(kt.a),r.Sb(Y.a))},e.\u0275cmp=r.Mb({type:e,selectors:[["sda-move-pins"]],decls:7,vars:7,consts:[["mat-dialog-title",""],[3,"centered","message",4,"ngIf"],[4,"ngIf"],[1,"dialog-controls"],[1,"dialog-controls__button",3,"displayName","isDisabled","click"],[3,"centered","message"],["class","move-pins-content",4,"ngIf"],["class","move-pins-error-message",4,"ngIf"],[1,"move-pins-content"],[1,"move-pins-content__selection"],[1,"move-pins-options"],[3,"disabled","checked","change"],["selectTargetListOption",""],[1,"move-pins-options-content"],[1,"move-pins-options-content__text"],[3,"items","selectedItem","itemSelected"],[3,"checked","change"],["createNewListOption",""],["type","text",1,"move-pins-options-content__input",3,"ngModel","maxlength","ngModelChange"],[3,"checked","title","change"],[1,"move-pins-error-message"]],template:function(e,t){1&e&&(r.Yb(0,"h2",0),r.Uc(1),r.Xb(),r.Sc(2,Ii,1,2,"sda-loading-indicator",1),r.Sc(3,Ei,3,2,"mat-dialog-content",2),r.Yb(4,"div",3),r.Yb(5,"sda-button-abort",4),r.hc("click",(function(){return t.onCancel()})),r.Xb(),r.Yb(6,"sda-button-primary",4),r.hc("click",(function(){return t.onDone()})),r.Xb(),r.Xb()),2&e&&(r.Eb(1),r.Vc(t.MOVE_PINS_TITLE),r.Eb(1),r.sc("ngIf",t.isLoading),r.Eb(1),r.sc("ngIf",!t.isLoading),r.Eb(2),r.sc("displayName",t.MOVE_PINS_CANCEL_TEXT)("isDisabled",!t.cancelEnabled),r.Eb(1),r.sc("displayName",t.MOVE_PINS_DONE_TEXT)("isDisabled",!t.doneEnabled))},directives:[jt.g,v.t,Bt.a,Gt.a,_.a,jt.d,vi.a,_i.a,Jt.c,Jt.p,Jt.s,Jt.k,Oi.a],styles:["[_nghost-%COMP%]{display:flex;flex-direction:column}[_nghost-%COMP%], [_nghost-%COMP%]   sda-loading-indicator[_ngcontent-%COMP%]{height:100%}[_nghost-%COMP%]   .mat-dialog-content[_ngcontent-%COMP%], [_nghost-%COMP%]   .move-pins-content[_ngcontent-%COMP%]{display:flex;flex-direction:column}[_nghost-%COMP%]   .move-pins-content__selection[_ngcontent-%COMP%]{margin:10px 0}[_nghost-%COMP%]   .move-pins-options[_ngcontent-%COMP%]{display:flex;margin-bottom:10px}[_nghost-%COMP%]   .move-pins-options-content[_ngcontent-%COMP%]{width:50%;margin-left:5px}[_nghost-%COMP%]   .move-pins-options-content__input[_ngcontent-%COMP%]{width:100%}[_nghost-%COMP%]   .move-pins-options-content__text[_ngcontent-%COMP%]{margin-bottom:10px}[_nghost-%COMP%]   .move-pins-options-content--disabled[_ngcontent-%COMP%]{opacity:.4;pointer-events:none}[_nghost-%COMP%]   .move-pins-error-message[_ngcontent-%COMP%]{display:flex;justify-content:center;margin:20px 0}[_nghost-%COMP%]   .dialog-controls[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;align-items:center;justify-content:flex-end;margin-bottom:0;padding-top:12px}[_nghost-%COMP%]   .dialog-controls__button[_ngcontent-%COMP%]{margin-left:5px}"]}),e})();var Pi=i("TU8p"),xi=i("MutI"),Ai=i("Jgl7");const wi=["matselectionlist"];function Mi(e,t){if(1&e){const e=r.Zb();r.Yb(0,"mat-icon",12),r.hc("click",(function(){r.Kc(e);const i=t.$implicit;return r.lc(3).selectionButtonAction(i)})),r.Xb()}if(2&e){const e=t.$implicit,i=r.lc(3);r.Ib("quick-list-actions__icon--disabled",i.disabled||e.disabled||!e.alwaysEnable&&!i.selectedItems.length),r.sc("svgIcon",e.icon)("title",e.tooltip),r.Fb("aria-label",e.tooltip)}}function Di(e,t){1&e&&r.Tb(0,"div",13)}function Ni(e,t){if(1&e&&(r.Yb(0,"div",9),r.Sc(1,Mi,1,5,"mat-icon",10),r.Sc(2,Di,1,0,"div",11),r.Xb()),2&e){const e=t.$implicit,i=r.lc(2);r.Eb(1),r.sc("ngForOf",e),r.Eb(1),r.sc("ngIf",e!==i.selectionBarButtons[i.selectionBarButtons.length-1])}}function Ri(e,t){if(1&e){const e=r.Zb();r.Yb(0,"div",6),r.Yb(1,"mat-checkbox",7),r.hc("change",(function(t){return r.Kc(e),r.lc().selectAllClicked(t)})),r.Uc(2),r.Xb(),r.Sc(3,Ni,3,2,"div",8),r.Xb()}if(2&e){const e=r.lc();r.Eb(1),r.sc("disabled",e.disabled||!e.items||!e.items.length)("checked",e.allSelected)("title",e.SELECT_ALL)("matBadge",e.items&&e.items.length<100?e.items.length:"99+"),r.Eb(1),r.Wc("",e.ALL," "),r.Eb(1),r.sc("ngForOf",e.selectionBarButtons)}}function Li(e,t){if(1&e&&r.Tb(0,"mat-icon",23),2&e){const e=r.lc().$implicit;r.sc("svgIcon",e.icon)("title",e.icon)}}function Fi(e,t){if(1&e&&r.Tb(0,"sda-object-icon",24),2&e){const e=r.lc().$implicit;r.sc("imageName",e.icon)}}function ki(e,t){if(1&e){const e=r.Zb();r.Yb(0,"mat-icon",25),r.hc("click",(function(t){r.Kc(e);const i=r.lc().$implicit;return r.lc(2).onOverflowClick(i.buttons,t)})),r.Xb()}if(2&e){const e=r.lc(3),t=r.Hc(5);r.sc("matMenuTriggerFor",t)("title",e.MORE_ACTIONS),r.Fb("aria-label",e.MORE_ACTIONS)}}function Ui(e,t){if(1&e&&(r.Yb(0,"mat-list-option",17),r.Sc(1,Li,1,2,"mat-icon",18),r.Sc(2,Fi,1,1,"sda-object-icon",19),r.Yb(3,"div",20),r.Yb(4,"div",21),r.Uc(5),r.Xb(),r.Yb(6,"div",21),r.Uc(7),r.Xb(),r.Yb(8,"div",21),r.Uc(9),r.Xb(),r.Xb(),r.Sc(10,ki,1,3,"mat-icon",22),r.Xb()),2&e){const e=t.$implicit;r.sc("value",e)("selected",e.isSelected),r.Eb(1),r.sc("ngIf",e.icon&&!e.hasObjectIcon),r.Eb(1),r.sc("ngIf",e.icon&&e.hasObjectIcon),r.Eb(1),r.sc("title",e.tooltip),r.Eb(2),r.Vc(e.name),r.Eb(2),r.Vc(e.description),r.Eb(2),r.Vc(e.secondaryDescription),r.Eb(1),r.sc("ngIf",e.buttons)}}function ji(e,t){if(1&e){const e=r.Zb();r.Yb(0,"mat-selection-list",14,15),r.hc("selectionChange",(function(t){return r.Kc(e),r.lc().selectionChange(t)})),r.Sc(2,Ui,11,9,"mat-list-option",16),r.Xb()}if(2&e){const e=r.lc();r.sc("disabled",e.disabled),r.Eb(2),r.sc("ngForOf",e.items)}}function Bi(e,t){if(1&e&&(r.Yb(0,"div",26),r.Uc(1),r.Xb()),2&e){const e=r.lc();r.Eb(1),r.Wc(" ",e.emptyListText," ")}}function Gi(e,t){if(1&e){const e=r.Zb();r.Yb(0,"button",27),r.hc("click",(function(i){r.Kc(e);const n=t.$implicit;return r.lc().itemButtonAction(n.action,i)})),r.Tb(1,"mat-icon",28),r.Uc(2),r.Xb()}if(2&e){const e=t.$implicit;r.sc("disabled",e.disabled)("title",e.tooltip),r.Fb("aria-label",e.tooltip),r.Eb(1),r.sc("svgIcon",e.icon),r.Eb(1),r.Wc(" ",e.tooltip," ")}}let Vi=(()=>{class e{constructor(e){this.sdaTranslateService=e,this.disabled=!1,this.selectedItemsChange=new r.o,this.currentMenu=[],this.allSelected=!1,this.selectedItems=[],this.ALL=this.sdaTranslateService.get("ALL","All"),this.MORE_ACTIONS=this.sdaTranslateService.get("MORE_ACTIONS","More actions")}ngOnChanges(e){e.items&&(this.items?(this.items.forEach(e=>{e.tooltip=this.getTooltip(e)}),this.selectedItems=this.items.filter(e=>!0===e.isSelected),this.SELECT_ALL=1===this.items.length?this.sdaTranslateService.get("SELECT_1_ITEM","Select 1 item"):this.sdaTranslateService.getFormatted("SELECT_ALL_ITEMS","Select {0} items",[this.items.length.toString()])):this.selectedItems=[],this.selectedItemsChange.emit(this.selectedItems),this.verifyAllSelected())}onOverflowClick(e,t){t.stopPropagation(),this.currentMenu=e}selectionButtonAction(e){this.isButtonDisabled(e)||e.action(this.selectedItems)}itemButtonAction(e,t){e(t)}selectAllClicked(e){this.allSelected=e.checked,this.allSelected?(this.selectionList.selectAll(),this.items.map(e=>e.isSelected=!0),this.selectedItems=[...this.items]):(this.selectionList.deselectAll(),this.items.map(e=>e.isSelected=!1),this.selectedItems=[]),this.selectedItemsChange.emit(this.selectedItems)}selectionChange(e){const t=e.option.value,i=this.selectedItems.indexOf(t);-1!==i?(t.isSelected=!1,this.selectedItems.splice(i,1)):(t.isSelected=!0,this.selectedItems.push(t)),this.selectedItemsChange.emit(this.selectedItems),this.verifyAllSelected()}getTooltip(e){let t=e.tooltip;return t||(t="",e.name&&(t+=e.name+"\n"),e.description&&(t+=e.description+"\n"),e.secondaryDescription&&(t+=e.secondaryDescription)),t}verifyAllSelected(){this.allSelected=!!this.items&&!!this.items.length&&this.selectedItems.length===this.items.length}isButtonDisabled(e){return this.disabled||e.disabled||!e.alwaysEnable&&!this.selectedItems.length}}return e.\u0275fac=function(t){return new(t||e)(r.Sb(m.a))},e.\u0275cmp=r.Mb({type:e,selectors:[["sda-quick-list"]],viewQuery:function(e,t){var i;1&e&&r.bd(wi,!0),2&e&&r.Gc(i=r.ic())&&(t.selectionList=i.first)},inputs:{items:"items",selectionBarButtons:"selectionBarButtons",emptyListText:"emptyListText",disabled:"disabled"},outputs:{selectedItemsChange:"selectedItemsChange"},features:[r.Cb],decls:7,vars:4,consts:[[1,"quick-list"],["class","quick-list__bar",4,"ngIf"],["class","quick-list__selection-list",3,"disabled","selectionChange",4,"ngIf"],["class","quick-list__empty",4,"ngIf"],["pinsMenu","matMenu"],["mat-menu-item","",3,"disabled","title","click",4,"ngFor","ngForOf"],[1,"quick-list__bar"],["matBadgeSize","small",1,"quick-list-all-selection",3,"disabled","checked","title","matBadge","change"],["class","quick-list-actions",4,"ngFor","ngForOf"],[1,"quick-list-actions"],["class","quick-list-actions__icon",3,"svgIcon","quick-list-actions__icon--disabled","title","click",4,"ngFor","ngForOf"],["class","quick-list-actions__separator",4,"ngIf"],[1,"quick-list-actions__icon",3,"svgIcon","title","click"],[1,"quick-list-actions__separator"],[1,"quick-list__selection-list",3,"disabled","selectionChange"],["matselectionlist",""],["class","quick-list-option","checkboxPosition","before",3,"value","selected",4,"ngFor","ngForOf"],["checkboxPosition","before",1,"quick-list-option",3,"value","selected"],["class","quick-list-option__icon",3,"svgIcon","title",4,"ngIf"],["class","quick-list-option__icon",3,"imageName",4,"ngIf"],[1,"quick-list-content",3,"title"],[1,"quick-list-content__line"],["svgIcon","overflow","class","quick-list-option__overflow",3,"matMenuTriggerFor","title","click",4,"ngIf"],[1,"quick-list-option__icon",3,"svgIcon","title"],[1,"quick-list-option__icon",3,"imageName"],["svgIcon","overflow",1,"quick-list-option__overflow",3,"matMenuTriggerFor","title","click"],[1,"quick-list__empty"],["mat-menu-item","",3,"disabled","title","click"],[3,"svgIcon"]],template:function(e,t){1&e&&(r.Yb(0,"div",0),r.Sc(1,Ri,4,6,"div",1),r.Sc(2,ji,3,2,"mat-selection-list",2),r.Sc(3,Bi,2,1,"div",3),r.Xb(),r.Yb(4,"mat-menu",null,4),r.Sc(6,Gi,3,5,"button",5),r.Xb()),2&e&&(r.Eb(1),r.sc("ngIf",t.selectionBarButtons&&t.selectionBarButtons.length),r.Eb(1),r.sc("ngIf",t.items&&t.items.length),r.Eb(1),r.sc("ngIf",!t.items||!t.items.length),r.Eb(3),r.sc("ngForOf",t.currentMenu))},directives:[v.t,O.e,v.s,Oi.a,Pi.a,T.a,xi.g,xi.e,Ai.a,O.d,O.b],styles:["[_nghost-%COMP%]   .quick-list__selection-list[_ngcontent-%COMP%]{overflow-x:hidden;overflow-y:auto}[_nghost-%COMP%]   .quick-list[_ngcontent-%COMP%]   .quick-list-all-selection[_ngcontent-%COMP%]     .mat-checkbox-label, [_nghost-%COMP%]   .quick-list[_ngcontent-%COMP%]   .quick-list-content__line[_ngcontent-%COMP%]{overflow:hidden;white-space:nowrap;text-overflow:ellipsis}[_nghost-%COMP%], [_nghost-%COMP%]   .quick-list[_ngcontent-%COMP%]{display:flex;flex-direction:column;height:100%;overflow:hidden}[_nghost-%COMP%]   .quick-list__bar[_ngcontent-%COMP%]{display:flex;flex-shrink:0;align-items:center;height:45px;padding:0 6px;border-bottom:1px solid #e4e4e4}[_nghost-%COMP%]   .quick-list__bar[_ngcontent-%COMP%]     .mat-badge-content{right:-16px;background-color:#6fbf50}[_nghost-%COMP%]   .quick-list[_ngcontent-%COMP%]   .quick-list-all-selection[_ngcontent-%COMP%]{margin-right:auto}[_nghost-%COMP%]   .quick-list[_ngcontent-%COMP%]   .quick-list-all-selection[_ngcontent-%COMP%]     .mat-checkbox-label{min-width:20px;max-width:50px}[_nghost-%COMP%]   .quick-list[_ngcontent-%COMP%]   .quick-list-actions[_ngcontent-%COMP%]{display:flex;align-items:center}[_nghost-%COMP%]   .quick-list[_ngcontent-%COMP%]   .quick-list-actions__icon[_ngcontent-%COMP%]{color:rgba(0,0,0,.54);cursor:pointer}[_nghost-%COMP%]   .quick-list[_ngcontent-%COMP%]   .quick-list-actions__icon--disabled[_ngcontent-%COMP%]{opacity:.4}[_nghost-%COMP%]   .quick-list[_ngcontent-%COMP%]   .quick-list-actions__icon[_ngcontent-%COMP%]:not(:last-child){margin-right:5px}[_nghost-%COMP%]   .quick-list[_ngcontent-%COMP%]   .quick-list-actions__separator[_ngcontent-%COMP%]{width:1px;height:15px;margin:0 5px;background-color:rgba(0,0,0,.54)}[_nghost-%COMP%]   .quick-list__selection-list[_ngcontent-%COMP%]{display:flex;flex-direction:column;height:100%;padding:0}[_nghost-%COMP%]   .quick-list[_ngcontent-%COMP%]   .quick-list-option[_ngcontent-%COMP%]{height:55px;border-bottom:1px solid #f1f1f1}[_nghost-%COMP%]   .quick-list[_ngcontent-%COMP%]   .quick-list-option__icon[_ngcontent-%COMP%]{display:flex;flex-shrink:0;align-items:center}[_nghost-%COMP%]   .quick-list[_ngcontent-%COMP%]   .quick-list-option__overflow[_ngcontent-%COMP%]{height:100%;color:rgba(0,0,0,.54);cursor:pointer}[_nghost-%COMP%]   .quick-list[_ngcontent-%COMP%]   .quick-list-content[_ngcontent-%COMP%]{display:flex;flex-direction:column;width:100%;padding-top:5px!important;font-size:14px;overflow:hidden}[_nghost-%COMP%]   .quick-list[_ngcontent-%COMP%]   .quick-list-content__line[_ngcontent-%COMP%]:not(:first-of-type){font-size:12px}[_nghost-%COMP%]   .quick-list__empty[_ngcontent-%COMP%]{height:100px;text-align:center;padding-top:40px;font-size:14px;color:rgba(0,0,0,.7)}[_nghost-%COMP%]     .mat-list-item-content{padding:0 6px!important}[_nghost-%COMP%]     .mat-list-text{flex-direction:row!important;height:100%;padding-left:6px!important}"]}),e})();function Xi(e,t){1&e&&r.Tb(0,"sda-loading-indicator",7),2&e&&r.sc("centered",!0)}function Hi(e,t){if(1&e&&(r.Yb(0,"span",9),r.Uc(1),r.Xb()),2&e){const e=r.lc(2);r.Eb(1),r.Vc(e.newItemsCount)}}function Yi(e,t){if(1&e&&(r.Uc(0),r.Sc(1,Hi,2,1,"span",8)),2&e){const e=r.lc();r.Wc(" ",e.PINS_NEW_ITEMS," "),r.Eb(1),r.sc("ngIf",e.newItemsCount)}}function qi(e,t){if(1&e&&r.Tb(0,"sda-quick-list",10),2&e){const e=r.lc();r.sc("items",e.newItemPins)("selectionBarButtons",e.newItemsTopBarButtons)("emptyListText",e.PINS_NEW_ITEMS_EMPTY)}}function Wi(e,t){if(1&e){const e=r.Zb();r.Yb(0,"sda-quick-select",11),r.hc("itemSelected",(function(t){return r.Kc(e),r.lc().selectGroup(t)})),r.Xb()}if(2&e){const e=r.lc();r.sc("items",e.selectionBoxItems)("selectedItem",e.selectedQuickSelectGroup)("bottomButton",e.selectionBoxButton)}}let zi=(()=>{class e extends l{constructor(e,t,i,n,s,a,o){super(e),this.sdaTranslateService=e,this.pinsMenuService=t,this.pinsHelperService=i,this.router=n,this.actionMenuProvider=s,this.dialog=a,this.changeDetectorRef=o,this.selectedTabIndex=0,this.selectionBoxItems=[],this.PINBOARD_ITEMS_LABEL=this.sdaTranslateService.get("PINS_PINBOARD","Pinboard"),this.PINS_NEW_ITEMS_EMPTY=this.sdaTranslateService.get("PINS_NEW_ITEMS_EMPTY","No new items to display"),this.PINS_PINBOARD_EMPTY=this.sdaTranslateService.get("PINS_PINBOARD_EMPTY","No pins to display"),this.PINS_NEW_ITEMS=this.sdaTranslateService.get("PINS_NEW_ITEMS","New Items"),this.ACTIONS_MENU_TITLE=this.sdaTranslateService.get("ACTIONS_MENU_TITLE","Actions"),this.ACTIONS_MENU_INFOMAP_SHORTCUT=this.sdaTranslateService.get("ACTIONS_MENU_INFOMAP_SHORTCUT","Show Info Map"),this.PINS_PINS=this.sdaTranslateService.get("PINS_PINS","Pins"),this.MOVE_PINS_TOOLTIP=this.sdaTranslateService.get("MOVE_PINS_TOOLTIP","Move or copy selected pins"),this.MOVE_PIN_TOOLTIP=this.sdaTranslateService.get("MOVE_PIN_TOOLTIP","Move or copy pin"),this.CREATE_OBJ_FROM_PINS=this.sdaTranslateService.get("CREATE_OBJ_FROM_SELECTED_PINS","Create an object from selected pins"),this.DETAIL_FORM_TOOLTIP=this.sdaTranslateService.get("DETAIL_FORM_TOOLTIP","Show the detail form"),this.PINS_MENU_GROUP_VIEW_IN_GRID=this.sdaTranslateService.get("PINS_MENU_GROUP_VIEW_IN_GRID","View In Grid"),this.PINS_UNPIN=this.sdaTranslateService.get("PINS_UNPIN","Unpin"),this.MOVE_PINS_DISABLED_MESSAGE=this.sdaTranslateService.get("MOVE_PINS_ERROR_MESSAGE","You can only move pinned items if they are in the current create configuration or its parent configuration(s)"),this.CREATE_OBJ_FROM_PINS_DISABLED_MESSAGE=this.sdaTranslateService.get("CREATE_OBJ_FROM_PINS_WRONG_CONFIG","Objects can only be created using pins saved to the current create configuration"),this.unpinIcon="unpin",this.moveIcon="copy",this.pinGroups=[],this.unconvertedPinboardPins=[],this.selectedSelectionBoxItems=[]}ngOnInit(){this.loadingNewItems=!0,this.loadingPinboardItems=!0,this.selectMenu(),this.setMenuHeader(this.PINS_PINS);const e=this.sdaTranslateService.get("PINS_MODIFY_LIST_BUTTON","Modify Lists");this.selectionBoxButton=new Dt.a(()=>this.modifyPinLists(),{displayName:e,tooltip:e}),this.pinboardTopBarButtons=this.populateTopMenu(!0),this.newItemsTopBarButtons=this.populateTopMenu(!1),this.pinGroupChangesSubscription=this.pinsMenuService.pinGroupsChanges$.subscribe(e=>{this.pinGroups=e||[],this.selectionBoxItems=this.pinGroups.map(e=>{const t=new Lt.a(e.obid,e.name);return t.secondaryText=e.configName,t.badgeCount=e.pinsCount,t.isDefaultItem=e.isOriginalPinboardGroup,t})}),this.pinboardItemChangesSubscription=this.pinsMenuService.selectedPinGroupPinsChanges$.subscribe(e=>{this.selectedSelectionBoxItems=[],this.unconvertedPinboardPins=e,this.pinboardPins=this.convertPinsToMenuItems(e,Ft.a.Pinboard),this.updateSelectionButtons(),this.selectMenu()}),this.pinboardItemRetrievingSubscription=this.pinsMenuService.selectedPinGroupPinsRetrieving$.subscribe(e=>{this.loadingPinboardItems=e,this.changeDetectorRef.detectChanges()}),this.newItemPinsChangesSubscription=this.pinsMenuService.newItemPinsChanges$.subscribe(e=>{this.unconvertedNewItems=e,this.newItemPins=this.convertPinsToMenuItems(e,Ft.a.NewItems),this.newItemsCount=this.newItemPins.length,this.selectMenu()}),this.newItemsRetrievingSubscription=this.pinsMenuService.newItemPinsRetrieving$.subscribe(e=>{this.loadingNewItems=e}),this.pinsMenuService.refreshPinGroupsAndPins()}ngOnDestroy(){this.pinboardItemChangesSubscription&&this.pinboardItemChangesSubscription.unsubscribe(),this.pinGroupChangesSubscription&&this.pinGroupChangesSubscription.unsubscribe(),this.selectedGroupChangedSubscription&&this.selectedGroupChangedSubscription.unsubscribe(),this.pinboardItemRetrievingSubscription&&this.pinboardItemRetrievingSubscription.unsubscribe(),this.newItemsRetrievingSubscription&&this.newItemsRetrievingSubscription.unsubscribe(),this.newItemPinsChangesSubscription&&this.newItemPinsChangesSubscription.unsubscribe(),this.refreshSubscription&&this.refreshSubscription.unsubscribe()}onResize(){this.mtg.realignInkBar()}handleSelectedTabIndexChanged(e){this.selectedTabIndex=e,this.pinsMenuService.changePinsMenuTab(0===e?Ft.a.NewItems:Ft.a.Pinboard)}selectGroup(e){this.selectedQuickSelectGroup=e,this.selectedQuickSelectGroup&&(this.pinsMenuService.selectedPinGroupObid=this.selectedQuickSelectGroup.id)}onPinSelection(e){this.selectedSelectionBoxItems=e,this.updateSelectionButtons()}updateSelectionButtons(){const e=this.pinsMenuService.selectedPinGroupValue;e&&(this.selectedQuickSelectGroup=this.selectionBoxItems.find(t=>t.id===e.obid));const t=this.unconvertedPinboardPins.filter(e=>this.selectedSelectionBoxItems.some(t=>e.obid===t.id)),i=this.pinsHelperService.checkPinsAreOfRequiredConfig(t),n=this.pinsHelperService.checkPinsAreOfCreateConfig(t);this.movePinsButton&&(i?(this.movePinsButton.disabled=!1,this.movePinsButton.tooltip=this.MOVE_PINS_TOOLTIP):(this.movePinsButton.disabled=!0,this.movePinsButton.tooltip=this.MOVE_PINS_DISABLED_MESSAGE)),this.newObjectButton&&(n?(this.newObjectButton.disabled=!1,this.newObjectButton.tooltip=this.CREATE_OBJ_FROM_PINS):(this.newObjectButton.disabled=!0,this.newObjectButton.tooltip=this.CREATE_OBJ_FROM_PINS_DISABLED_MESSAGE))}movePins(e,t){this.dialog.open(yi,{minWidth:"500px",width:"50vw",maxWidth:"600px",minHeight:"250px",height:"50vh",disableClose:!0,data:{pinObjects:e,currentGroupObid:this.pinsMenuService.selectedPinGroupObid,isPinBoardPin:t}})}createObjectFromPins(e,t){const i=this.findPinItemsFromQuickItems(e,t);this.dialog.open(zt,{minWidth:"500px",width:"50vw",maxWidth:"600px",minHeight:"250px",height:"50vh",disableClose:!0,data:{pinObjects:i}})}populateTopMenu(e){const t=[],i=new Rt(()=>this.viewItemsInGrid(e),"table",this.PINS_MENU_GROUP_VIEW_IN_GRID);i.alwaysEnable=!0,t.push(i);const n=[],s=new Rt(t=>this.unpin(this.retrieveObidsFromQuickListItems(t),e),this.unpinIcon,this.PINS_UNPIN),a=new Rt(t=>this.movePins(this.findPinItemsFromQuickItems(t,e),e),this.moveIcon,this.MOVE_PINS_TOOLTIP),o=new Rt(t=>this.createObjectFromPins(t,e),"create-new-relation",this.CREATE_OBJ_FROM_PINS);return n.push(s,a,o),e&&(this.movePinsButton=a,this.newObjectButton=o),[t,n]}convertPinsToMenuItems(e,t){const i=[];return e.forEach(e=>{const n=new o(()=>{this.unpin(e.obid,t===Ft.a.Pinboard)},this.unpinIcon,{tooltip:this.PINS_UNPIN}),s=new o(()=>{this.toggleActionsMenu(e)},"list",{tooltip:this.ACTIONS_MENU_TITLE}),a=new o(()=>{this.openInfoMap(e)},"nodemap",{tooltip:this.ACTIONS_MENU_INFOMAP_SHORTCUT}),r=new o(()=>{this.handleItemPress(e)},"object-details",{tooltip:this.DETAIL_FORM_TOOLTIP}),c=new Nt(e.obid,e.name,e.displayAs||"");if(c.buttons=[n,s,a,r],c.secondaryDescription=e.configName,c.config=e.config,c.icon=e.icon,c.hasObjectIcon=!0,this.pinsHelperService.checkPinsAreOfRequiredConfig([e])){const i=new o(()=>{this.movePins([e],t===Ft.a.Pinboard)},this.moveIcon,{tooltip:this.MOVE_PIN_TOOLTIP});c.buttons.push(i)}i.push(c)}),i}modifyPinLists(){this.dialog.open(Si,{minWidth:"500px",width:"50vw",maxWidth:"600px",minHeight:"250px",height:"50vh",disableClose:!0})}findPinItemsFromQuickItems(e,t){const i=t?this.unconvertedPinboardPins:this.unconvertedNewItems;return e.map(e=>i.find(t=>e.id===t.obid))}retrieveObidsFromQuickListItems(e){return e.map(e=>e.id)}viewItemsInGrid(e){this.viewInGrid(e?Ft.a.Pinboard:Ft.a.NewItems)}unpin(e,t){t?this.pinsMenuService.unpinFromPinGroup(e):this.pinsMenuService.unpinFromNewItems(e)}toggleActionsMenu(e){this.actionMenuProvider.clearItems(),this.actionMenuProvider.addItem(e),this.contentMenuService.showActionsMenu(!0)}openInfoMap(e){const t=JSON.stringify([e.config]);this.router.navigate(["/infomap-viewer",{obid:e.obid,config:t}])}handleItemPress(e){this.pinsMenuService.viewPinItemDetails(e)}viewInGrid(e){const t=["/pinsGrid",e];e===Ft.a.Pinboard&&t.push({selectedGroup:this.selectedQuickSelectGroup.id}),this.router.navigate(t)}selectMenu(){this.selectedTabIndex=this.pinsMenuService.lastOpenedMenu===Ft.a.NewItems?0:1,this.pinsMenuService.changePinsMenuTab(this.pinsMenuService.lastOpenedMenu)}}return e.\u0275fac=function(t){return new(t||e)(r.Sb(m.a),r.Sb(Ut.a),r.Sb(kt.a),r.Sb(z.g),r.Sb(a.a),r.Sb(jt.b),r.Sb(r.h))},e.\u0275cmp=r.Mb({type:e,selectors:[["sda-pins-menu"]],viewQuery:function(e,t){var i;1&e&&r.bd(Mt.c,!0),2&e&&r.Gc(i=r.ic())&&(t.mtg=i.first)},features:[r.Bb],decls:8,vars:10,consts:[[3,"centered",4,"ngIf"],[3,"selectedIndex","selectedIndexChange"],["mat-tab-label",""],[3,"items","selectionBarButtons","emptyListText",4,"ngIf"],[3,"label"],[3,"items","selectedItem","bottomButton","itemSelected",4,"ngIf"],[3,"disabled","hidden","items","selectionBarButtons","emptyListText","selectedItemsChange"],[3,"centered"],["class","pins-menu-new-items-count",4,"ngIf"],[1,"pins-menu-new-items-count"],[3,"items","selectionBarButtons","emptyListText"],[3,"items","selectedItem","bottomButton","itemSelected"]],template:function(e,t){1&e&&(r.Sc(0,Xi,1,1,"sda-loading-indicator",0),r.Yb(1,"mat-tab-group",1),r.hc("selectedIndexChange",(function(e){return t.handleSelectedTabIndexChanged(e)})),r.Yb(2,"mat-tab"),r.Sc(3,Yi,2,2,"ng-template",2),r.Sc(4,qi,1,3,"sda-quick-list",3),r.Xb(),r.Yb(5,"mat-tab",4),r.Sc(6,Wi,1,3,"sda-quick-select",5),r.Yb(7,"sda-quick-list",6),r.hc("selectedItemsChange",(function(e){return t.onPinSelection(e)})),r.Xb(),r.Xb(),r.Xb()),2&e&&(r.sc("ngIf",t.loadingPinboardItems||t.loadingNewItems),r.Eb(1),r.sc("selectedIndex",t.selectedTabIndex),r.Eb(3),r.sc("ngIf",!t.loadingNewItems),r.Eb(1),r.sc("label",t.PINBOARD_ITEMS_LABEL),r.Eb(1),r.sc("ngIf",!t.loadingPinboardItems),r.Eb(1),r.sc("disabled",t.loadingPinboardItems)("hidden",t.loadingPinboardItems)("items",t.pinboardPins)("selectionBarButtons",t.pinboardTopBarButtons)("emptyListText",t.PINS_PINBOARD_EMPTY))},directives:[v.t,Mt.c,Mt.a,Mt.d,Vi,_.a,_i.a],styles:["[_nghost-%COMP%]     .mat-tab-label{flex-grow:1;padding:0 10px}[_nghost-%COMP%]     .mat-tab-body-content{position:relative;display:flex;flex-direction:column;overflow:hidden}[_nghost-%COMP%]   .pins-menu-new-items-count[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;width:20px;height:20px;background-color:#03a9f4;color:#fff;border-radius:50%;margin-left:5px;font-size:12px}[_nghost-%COMP%]   sda-quick-select[_ngcontent-%COMP%]{margin:5px}"]}),e})();var $i=i("Cfvw"),Qi=i("gcYM"),Ki=i("Vwje"),Ji=i("QtV5"),Zi=i("yRyI"),en=i("EcfP"),tn=i("bm9C"),nn=i("c+03");let sn=(()=>{class e extends l{constructor(e,t,i,a,o,r,c){super(a),this.queriesMenuService=e,this.queriesCrudService=t,this.queryService=i,this.sdaTranslateService=a,this.loadingOverlayService=o,this.confirmService=r,this.oDataGridLoadingService=c,this.NEW_QUERY=this.sdaTranslateService.get("NEW_QUERY","New Query"),this.PLAY_TEXT=this.sdaTranslateService.get("RUN_QUERY","Run Query"),this.DELETE_NOTIFICATION=this.sdaTranslateService.get("QUERY_DELETE_NOTIFICATION","Queries deleted successfully"),this.EDIT_TEXT=this.sdaTranslateService.get("EDIT_QUERY","Edit Query"),this.DELETE_SELECTION_TEXT=this.sdaTranslateService.get("DELETE_QUERY","Delete Queries"),this.DELETE_SELECTION_CONFIRM=this.sdaTranslateService.get("DELETE","Delete"),this.DELETE_SELECTION_CANCEL=this.sdaTranslateService.get("CANCEL","Cancel"),this.QUERIES_MENU_TITLE=this.sdaTranslateService.get("QUERIES_MENU_TITLE","Saved Queries"),this.isClickable=!0,this.clicks=new n.a,this.routeToNewQuery=()=>{this.highlight(""),this.queriesMenuService.routeToQueries()},this.queriesCrudService.updateQueries$.subscribe(e=>{this.convertQueriesToMenuItems(e)}),Object(s.a)(this.oDataGridLoadingService.isODataGridLoading,this.queryService.isQueryLoading).subscribe(e=>this.isClickable=!e),this.clicks.pipe(Object(Qi.a)(200)).subscribe(e=>{e.obid&&(this.isClickable=!1,"routeToQueryPage"===e.clickAction?this.handleQueryRoutingAndHighlight(e):"routeToResultsPage"===e.clickAction&&this.highlight(e.obid)&&this.queriesMenuService.playQuery(JSON.parse(e.data.url).run))})}onResize(){}ngOnInit(){this.setMenuHeader(this.QUERIES_MENU_TITLE),this.queryChangedSubscription=this.queriesCrudService.queryChanged$.subscribe(e=>{this.getQueries(e)})}ngOnDestroy(){this.queryChangedSubscription&&this.queryChangedSubscription.unsubscribe()}handleItemPress(e){Array.isArray(e)?this.deleteItems(e):e&&this.clicks.next(Object.assign(Object.assign({},e),{clickAction:"routeToQueryPage"}))}playButtonPressed(e){this.clicks.next(Object.assign(Object.assign({},e),{clickAction:"routeToResultsPage"}))}getQueries(e){this.loadingOverlayService.showLoadingOverlay(),this.queriesCrudService.queries$.pipe(Object(ae.a)(1)).subscribe(t=>{this.convertQueriesToMenuItems(t),e&&e.obid&&this.highlight(e.obid),this.loadingOverlayService.hideLoadingOverlay()},()=>this.loadingOverlayService.hideLoadingOverlay())}handleQueryRoutingAndHighlight(e){this.highlight(e.obid)?e.hasOwnProperty("data")&&this.queriesMenuService.routeToQueries(Object.assign({obid:e.obid},JSON.parse(e.data.url).edit)):e.hasOwnProperty("deleteData")&&this.queriesMenuService.routeToQueries(e.deleteData)}convertQueriesToMenuItems(e){this.queries=[],e&&e.forEach(e=>{const t=new o(()=>{this.playButtonPressed(e)},"play",{tooltip:this.PLAY_TEXT}),i=new g(e.obid,e.name,e.displayAs);i.buttons=[t],i.action=()=>this.handleItemPress(e),i.itemOptionsButtonText="",this.queries.push(i)})}deleteItems(e){this.getDeleteConfirmation(e).pipe(Object(ae.a)(1)).subscribe(t=>{t&&(this.loadingOverlayService.showLoadingOverlay(),this.queriesCrudService.delete(e).subscribe(()=>{this.deleteCallback(e),this.loadingOverlayService.hideLoadingOverlay()},e=>{this.queriesCrudService.queryException(e),this.loadingOverlayService.hideLoadingOverlay()}))})}getDeleteConfirmation(e){const t=this.sdaTranslateService.get("QUERY","query"),i=this.sdaTranslateService.get("QUERIES","queries"),n=this.sdaTranslateService.getFormatted("QUERY_DELETE_CONFIRMATION_MSG","Are you sure you want to delete selected {0}?",e.length>1?[i]:[t]),s=this.sdaTranslateService.get("DELETE","Delete"),a=this.sdaTranslateService.get("CANCEL","Cancel");return Object($i.a)(this.confirmService.confirm({submitText:s,message:n,cancelText:a}))}deleteCallback(e){const t=this.queriesCrudService.selectedQuery&&this.queriesCrudService.selectedQuery.obid,i=this.queriesCrudService.selectedQuery&&this.queriesCrudService.selectedQuery.data;let n,s=!0;t&&e.includes(t)?n={obid:t,deleteData:Object.assign({},JSON.parse(i.url).edit)}:(n=t?{obid:t}:{obid:""},s=!1),this.queriesCrudService.updateQueryComponents(n,this.DELETE_NOTIFICATION,{},s).pipe(Object(ae.a)(1)).subscribe()}highlight(e){let t=!1;return this.queries.forEach(i=>{i.isActive=!1,i.id===e&&(i.isActive=!0,t=!0)}),t}}return e.\u0275fac=function(t){return new(t||e)(r.Sb(tn.a),r.Sb(Ki.a),r.Sb(Ji.a),r.Sb(m.a),r.Sb(nn.a),r.Sb(en.a),r.Sb(Zi.a))},e.\u0275cmp=r.Mb({type:e,selectors:[["sda-queries-menu"]],features:[r.Bb],decls:1,vars:13,consts:[[3,"displayToolbar","firstButtonVisible","firstButtonEnabled","firstButtonText","firstButtonAction","selectionModeAvailable","selectionModeActivationText","selectionModeConfirmationText","selectionModeCancellationText","items","clickHighlighted","itemsSelectedChange"]],template:function(e,t){1&e&&(r.Yb(0,"sda-pullout-list",0),r.hc("itemsSelectedChange",(function(e){return t.handleItemPress(e)})),r.Xb()),2&e&&(r.Rc("pointer-events",t.isClickable?"auto":"none"),r.sc("displayToolbar",!0)("firstButtonVisible",!0)("firstButtonEnabled",!0)("firstButtonText",t.NEW_QUERY)("firstButtonAction",t.routeToNewQuery)("selectionModeAvailable",!0)("selectionModeActivationText",t.DELETE_SELECTION_TEXT)("selectionModeConfirmationText",t.DELETE_SELECTION_CONFIRM)("selectionModeCancellationText",t.DELETE_SELECTION_CANCEL)("items",t.queries)("clickHighlighted",!0))},directives:[G],styles:["[_nghost-%COMP%]{display:flex;flex:1 0 auto;flex-direction:column;height:100%;font-size:14px}"]}),e})();var an=i("Kj3r"),on=i("41Lq");function rn(e,t){if(1&e&&(r.Yb(0,"span",2),r.Uc(1),r.Xb()),2&e){const e=r.lc();r.sc("title",e.TODOLIST_TAB_TASK),r.Eb(1),r.Vc(e.TODOLIST_TAB_TASK)}}function cn(e,t){if(1&e){const e=r.Zb();r.Yb(0,"div",3),r.Yb(1,"sda-actions-content-menu",4),r.hc("updatingData",(function(t){return r.Kc(e),r.lc().setActionsFetchStatus(t)})),r.Xb(),r.Xb()}if(2&e){const e=r.lc();r.Eb(1),r.sc("selectedObjects",e.selectedObjects)("triggerLoadingState",e.isLoading)("isWFItem",!0)}}function ln(e,t){1&e&&r.Tb(0,"sda-loading-indicator",7),2&e&&r.sc("size",14)("centered",!0)}function dn(e,t){if(1&e&&(r.Yb(0,"span",5),r.Uc(1),r.Xb(),r.Sc(2,ln,1,2,"sda-loading-indicator",6)),2&e){const e=r.lc();r.sc("title",e.TODOLIST_TAB_TASK_ITEM_LABEL),r.Eb(1),r.Vc(e.TODOLIST_TAB_TASK_ITEM_LABEL),r.Eb(1),r.sc("ngIf",e.showLoadingIndicator)}}function hn(e,t){if(1&e){const e=r.Zb();r.Yb(0,"div",3),r.Yb(1,"sda-actions-content-menu",8),r.hc("updatingData",(function(t){return r.Kc(e),r.lc().setWFObjActionsFetchStatus(t)})),r.Xb(),r.Xb()}if(2&e){const e=r.lc();r.Eb(1),r.sc("selectedObjects",e.relatedWFObjects)("triggerLoadingState",e.isLoading)}}let un=(()=>{class e extends l{constructor(e,t,i,s,a,o){super(t),this.actionMenuProvider=e,this.sdaTranslateService=t,this.actionsMenuService=i,this.notificationService=s,this.todoListConfigService=a,this.todoListService=o,this.relatedWFObjects=new Array,this.selectedObjects=new Array,this.userHasAccessToToDoActionsMenu=!1,this.ACTIONS_MENU_TITLE=this.sdaTranslateService.get("ACTIONS_MENU_TITLE","Actions"),this.ACTIONS_MENU_RELATED_OBJECTS_TEXT=this.sdaTranslateService.get("ACTIONS_MENU_RELATED_OBJECTS_TEXT","Related Objects"),this.ACTIONS_MENU_TITLE_MULTI_MODE=this.sdaTranslateService.get("ACTIONS_MENU_TITLE_MULTI_MODE","Multiple items"),this.TODOLIST_TAB_TASK=this.sdaTranslateService.get("TODOLIST_TAB_TASK","Task"),this.showLoadingIndicator=!1,this.showToDoActionsMenuSubject=new n.a,this.closeActionMenuProviderSubscription=this.actionMenuProvider.closeActionMenuSubject.subscribe(()=>this.closeMenu()),this.refreshActionMenuProviderSubscription=this.actionMenuProvider.onActionMenuItemsUpdated$.subscribe(e=>{e.length>0&&this.onDataChange(!1)}),this.setMenuHeader(this.ACTIONS_MENU_TITLE),this.showToDoActionsMenuSubjectSubscription=this.showToDoActionsMenuSubject.pipe(Object(an.a)(250),Object(Le.a)(()=>{this.selectedObjects=[],this.setupSelectedObjectsAndWFObjects()})).subscribe()}ngOnInit(){this.onDataChange(!0)}ngOnDestroy(){this.closeActionMenuProviderSubscription.unsubscribe(),this.refreshActionMenuProviderSubscription.unsubscribe(),this.showToDoActionsMenuSubject.unsubscribe(),this.showToDoActionsMenuSubjectSubscription.unsubscribe()}setActionsFetchStatus(e){this.actionsFetchStatus=e,this.onCompleteAsyncRequest()}setWFObjActionsFetchStatus(e){this.wfObjActionsFetchStatus=e,this.onCompleteAsyncRequest()}onResize(){}onDataChange(e){this.isLoading=!0,e?(this.selectedObjects=[],this.setupSelectedObjectsAndWFObjects()):(this.selectedObjects=[],this.relatedWFObjects=[],this.showToDoActionsMenuSubject.next())}setupSelectedObjectsAndWFObjects(){Object(Me.a)(this.actionMenuProvider.getItems()).pipe(Object(Ne.a)(e=>{this.setRelatedWFObjectsInSameConfig(e);const t=this.getRevisionObjectsFromSetps(e);return this.areRelatedWFObjectsInSameConfig?this.todoListService.getVersionObjects(t):Object(Me.a)([])})).subscribe(e=>{this.relatedWFObjects=e,this.configureTitle(),this.setTheTaskItemTitle()})}setTheTaskItemTitle(){this.TODOLIST_TAB_TASK_ITEM_LABEL="",this.relatedWFObjects.length>1?this.TODOLIST_TAB_TASK_ITEM_LABEL=this.sdaTranslateService.get("TODOLIST_TAB_TASK_MULTIPLE_ITEMS","Multiple Items"):1===this.relatedWFObjects.length?(this.showLoadingIndicator=!0,this.todoListConfigService.getTaskItemTitle(this.relatedWFObjects[0].obid,this.relatedWFObjects[0].config).subscribe(e=>{this.TODOLIST_TAB_TASK_ITEM_LABEL=e||this.sdaTranslateService.get("TODOLIST_TAB_TASK_ITEM","Task Item"),this.showLoadingIndicator=!1})):this.TODOLIST_TAB_TASK_ITEM_LABEL=this.sdaTranslateService.get("TODOLIST_TAB_TASK_ITEM","Task Item")}configureTitle(){this.actionMenuProvider.getItems().length>1?this.setMenuHeader(this.sdaTranslateService.getFormatted("NUMBER_OF_ITEMS_SELECTED","{0} items selected",[this.actionMenuProvider.getItems().length.toString()])):this.setMenuHeader(this.relatedWFObjects.length?this.relatedWFObjects[0].name:this.actionMenuProvider.getItem(0).name)}setRelatedWFObjectsInSameConfig(e){const t=e[0].config;this.areRelatedWFObjectsInSameConfig=!0;const i=e.filter(e=>e.config!==t);i&&i.length>0&&(this.areRelatedWFObjectsInSameConfig=!1)}getRevisionObjectsFromSetps(e){const t=new Array;return e.forEach(e=>{this.actionsMenuService.hasWorkflowItemData(e)||this.actionsMenuService.checkIfPinnedAndAddWFItemInfo(e),e.config=e.config?e.config:Ye.b,this.selectedObjects.push(e),t.push(new re.a(e.data.DynWorkflowItemOBID,e.data.DynWorkflowItemName,e.data.DynWorkflowItemConfig))}),t}onCompleteAsyncRequest(){this.actionsFetchStatus||this.wfObjActionsFetchStatus||(this.isLoading=!1,this.areRelatedWFObjectsInSameConfig||this.notificationService.warning(this.sdaTranslateService.get("ACTIONS_MENU_MULTI_CONFIG_RELATED_ITEMS","Actions of related objects are not retrieved as selected related objects belong to different configurations.")))}}return e.\u0275fac=function(t){return new(t||e)(r.Sb(a.a),r.Sb(m.a),r.Sb(qe.a),r.Sb(on.a),r.Sb(le.a),r.Sb(de.a))},e.\u0275cmp=r.Mb({type:e,selectors:[["sda-todo-actions-menu"]],features:[r.Bb],decls:7,vars:2,consts:[["matTabLabel",""],["class","actions-menu",4,"ngIf"],[3,"title"],[1,"actions-menu"],[3,"selectedObjects","triggerLoadingState","isWFItem","updatingData"],[1,"task-item-label",3,"title"],[3,"size","centered",4,"ngIf"],[3,"size","centered"],[3,"selectedObjects","triggerLoadingState","updatingData"]],template:function(e,t){1&e&&(r.Yb(0,"mat-tab-group"),r.Yb(1,"mat-tab"),r.Sc(2,rn,2,2,"ng-template",0),r.Sc(3,cn,2,3,"div",1),r.Xb(),r.Yb(4,"mat-tab"),r.Sc(5,dn,3,3,"ng-template",0),r.Sc(6,hn,2,2,"div",1),r.Xb(),r.Xb()),2&e&&(r.Eb(3),r.sc("ngIf",null==t.selectedObjects?null:t.selectedObjects.length),r.Eb(3),r.sc("ngIf",null==t.relatedWFObjects?null:t.relatedWFObjects.length))},directives:[Mt.c,Mt.a,Mt.d,v.t,ct,_.a],styles:["[_nghost-%COMP%]   .task-item-label[_ngcontent-%COMP%], [_nghost-%COMP%]     .mat-tab-label-content{overflow:hidden;white-space:nowrap;text-overflow:ellipsis}[_nghost-%COMP%]     .mat-tab-list{overflow:hidden}[_nghost-%COMP%]     .mat-tab-header-pagination{display:none!important}","[_nghost-%COMP%]{overflow-x:hidden;overflow-y:auto;flex:1;flex-shrink:0;flex-direction:column}.actions-menu[_ngcontent-%COMP%], [_nghost-%COMP%]{display:flex;height:100%}.actions-menu[_ngcontent-%COMP%]{flex-direction:column;overflow:hidden}.actions-menu[_ngcontent-%COMP%]:not(:first-of-type):not(:only-child){margin-top:15px}.actions-menu[_ngcontent-%COMP%]:not(:first-of-type):not(:only-child)   .content-header[_ngcontent-%COMP%]{height:38px}",".content-body[_ngcontent-%COMP%]{overflow-x:hidden;overflow-y:auto}.content-header__title[_ngcontent-%COMP%]{overflow:hidden;white-space:nowrap;text-overflow:ellipsis}[_nghost-%COMP%]{position:relative;height:100%;z-index:200!important}@media screen and (max-width:1199px){[_nghost-%COMP%]{z-index:900!important}}.content-menu[_ngcontent-%COMP%]{position:relative;display:flex;flex:1 0 100%;flex-direction:column;overflow:hidden}.k-safari.k-mobile[_nghost-%COMP%]   .content-menu[_ngcontent-%COMP%], .k-safari.k-mobile   [_nghost-%COMP%]   .content-menu[_ngcontent-%COMP%]{transition:none}.content-menu--open[_ngcontent-%COMP%]{position:absolute;max-width:286px;height:100%;background-color:#fff}@media screen and (min-width:1200px){.content-menu--open[_ngcontent-%COMP%]{position:relative;min-width:286px;max-width:33.33333vw;padding-right:10px;box-shadow:0 3px 5px -1px rgba(0,0,0,.2),0 6px 10px 0 rgba(0,0,0,.14),0 1px 18px 0 rgba(0,0,0,.12)}}.content-menu--closed[_ngcontent-%COMP%]{max-width:0!important}.content-header[_ngcontent-%COMP%]{display:flex;flex-shrink:0;align-items:center;justify-content:space-between;width:100%;height:48px;background-color:#6b8cad;color:#fff;padding:0 10px;border-bottom:1px solid rgba(0,58,85,.5)}.content-header__icon[_ngcontent-%COMP%]{flex-shrink:0;cursor:pointer}.content-header__icon[_ngcontent-%COMP%]:not(:only-of-type):first-of-type{margin-right:5px}.content-header__title[_ngcontent-%COMP%]{width:100%;color:#fff;font-size:16px;font-weight:500;line-height:1.2}.content-body[_ngcontent-%COMP%]{height:100%}.content-menu-resize-handle[_ngcontent-%COMP%]{display:none}@media screen and (min-width:1200px){.content-menu-resize-handle[_ngcontent-%COMP%]{position:absolute;top:0;right:0;display:flex;align-items:center;justify-content:center;width:10px;height:100%;background-color:#fff;border-left:1px solid #cad0d7;cursor:col-resize}}.content-menu-icon-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;width:inherit;color:#515e6b}.content-menu-icon-container__resizing-icon[_ngcontent-%COMP%]{width:20px;height:20px}"]}),e})();class pn{constructor(e,t,i=!0){this.id=e,this.component=t,this.toggleMenu=i}}let gn=(()=>{class e{constructor(e,t){this.configDataService=e,this.rolesDataService=t,this.actionsMenu=new pn("Actions",lt,!1),this.toDoActionsMenu=new pn("ToDoActions",un,!1),this.pinsMenu=new pn("Pins",zi),this.todoListMenuItem=new pn("TODOListItem",Ae,!0),this.notificationsMenu=new pn("Notifications",te),this.featureSetMenu=new pn("featureset",wt),this.queriesMenu=new pn("QUERYListItem",sn),this.claimboardMenu=new pn("Claimboard",H),this.contentMenuSubject=new n.a,this.configRoleSubscription=Object(s.a)(this.configDataService.setConfigChange$,this.rolesDataService.setRolesChange$).subscribe(()=>{this.closeContentMenu()})}get contentMenuChanges$(){return this.contentMenuSubject.asObservable()}ngOnDestroy(){this.configRoleSubscription.unsubscribe()}showActionsMenu(e=!1){this.actionsMenu.toggleMenu=e,this.contentMenuSubject.next(this.actionsMenu)}showToDoActionsMenu(e=!1){this.toDoActionsMenu.toggleMenu=e,this.contentMenuSubject.next(this.toDoActionsMenu)}togglePinsMenu(){this.contentMenuSubject.next(this.pinsMenu)}toggleClaimboardMenu(){this.contentMenuSubject.next(this.claimboardMenu)}toggleNotificationsMenu(){this.contentMenuSubject.next(this.notificationsMenu)}toggleFeatureSetMenu(){this.contentMenuSubject.next(this.featureSetMenu)}showTodoListMenu(){this.contentMenuSubject.next(this.todoListMenuItem)}isToDoActionsMenuOpen(){return this.currentContentMenuItem===this.toDoActionsMenu}isActionsMenuOpen(){return this.currentContentMenuItem===this.actionsMenu}toggleQueriesMenu(){this.contentMenuSubject.next(this.queriesMenu)}isQueriesMenuOpen(){return this.currentContentMenuItem===this.queriesMenu}closeContentMenu(){this.contentMenuSubject.next(void 0)}}return e.\u0275fac=function(t){return new(t||e)(r.dc(ie.a),r.dc(ne.a))},e.\u0275prov=r.Ob({token:e,factory:e.\u0275fac}),e})()},"6sHd":function(e,t,i){"use strict";i.d(t,"a",(function(){return o}));var n=i("fXoL"),s=i("ofXK");function a(e,t){if(1&e&&(n.Yb(0,"span",4),n.Uc(1),n.Xb()),2&e){const e=n.lc();n.Eb(1),n.Wc(" ",e.text,"\n")}}let o=(()=>{class e{constructor(){this.isDisabled=!1,this.isActiveChange=new n.o,this.className=!0}get isDisabledClass(){return this.isDisabled}get isActiveClass(){return this.isActive}get isInactiveClass(){return!this.isActive}get classListIsInverted(){return this.isInverted&&this.isActive}tabIndex(){return this.isDisabled?-1:0}click(){this.isActiveChange.emit(!this.isActive)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=n.Mb({type:e,selectors:[["uxt-checkbox"]],hostVars:11,hostBindings:function(e,t){1&e&&n.hc("click",(function(){return t.click()}))("keyup.enter",(function(){return t.click()})),2&e&&(n.bc("tabIndex",t.tabIndex),n.Ib("uxt-checkbox",t.className)("uxt-checkbox--disabled",t.isDisabledClass)("uxt-checkbox--active",t.isActiveClass)("uxt-checkbox--inactive",t.isInactiveClass)("uxt-checkbox--inverted",t.classListIsInverted))},inputs:{isActive:"isActive",isDisabled:"isDisabled",isInverted:"isInverted",text:"text"},outputs:{isActiveChange:"isActiveChange"},decls:4,vars:1,consts:[[1,"uxt-checkbox-core"],[1,"uxt-checkbox-core__check"],[1,"uxt-checkbox-core__check__glyph"],["class","uxt-checkbox__text",4,"ngIf"],[1,"uxt-checkbox__text"]],template:function(e,t){1&e&&(n.Yb(0,"div",0),n.Yb(1,"div",1),n.Tb(2,"div",2),n.Xb(),n.Xb(),n.Sc(3,a,2,1,"span",3)),2&e&&(n.Eb(3),n.sc("ngIf",t.text))},directives:[s.t],styles:[".uxt-checkbox{display:flex;align-items:center;flex-shrink:0;cursor:pointer;height:34px}.uxt-checkbox__text{font-size:14px;color:#1f2429;transition:color .25s ease}.uxt-checkbox--active .uxt-checkbox-core{border-color:#02adff}.uxt-checkbox--active .uxt-checkbox-core__check{opacity:1;-webkit-transform:scale(1);transform:scale(1)}.uxt-checkbox--disabled{pointer-events:none}.uxt-checkbox--disabled .uxt-checkbox-core{border-color:#cad0d7;color:#8997a5}.uxt-checkbox--disabled .uxt-checkbox-core__check{background-color:#cad0d7}.uxt-checkbox--disabled .uxt-checkbox__text{color:#8997a5}.uxt-checkbox--inverted .uxt-checkbox-core{border-color:#fff}.uxt-checkbox--inverted .uxt-checkbox-core__check{background-color:#fff}.uxt-checkbox--inverted .uxt-checkbox-core__check__glyph{border-color:#1f2429}.uxt-checkbox-core{display:flex;flex-shrink:0;width:18px;height:18px;margin-right:12px;background-color:initial;border:2px solid #cad0d7;border-radius:2px;transition:border-color .25s ease}.uxt-checkbox-core:not(.uxt-checkbox--inverted):focus{border-color:#02adff}.uxt-checkbox-core__check{flex-grow:1;background-color:#02adff;opacity:0;-webkit-transform:scale(0);transform:scale(0);transition:background-color .25s ease,opacity .25s ease,-webkit-transform .25s ease;transition:background-color .25s ease,opacity .25s ease,transform .25s ease;transition:background-color .25s ease,opacity .25s ease,transform .25s ease,-webkit-transform .25s ease}.uxt-checkbox-core__check__glyph{width:12px;height:6px;border:2px solid #fff;border-top:none;border-right:none;-webkit-transform:translate(1px,3px) rotate(-45deg);transform:translate(1px,3px) rotate(-45deg)}"],encapsulation:2,changeDetection:0}),e})()},"71wh":function(e,t,i){"use strict";i.d(t,"a",(function(){return c}));var n=i("lJxs"),s=i("Z9D8"),a=i("A3La"),o=i("lycW"),r=i("fXoL");let c=(()=>{class e{constructor(e,t){this.odataService=e,this.fileUploadLoggerService=t}getProgressObject(e){return e.progress.csvValidationProgress}execute(e){this.fileUploadLoggerService.logToConsole("Starting csv validation: "+e.file.name);const t=[];return t.push({UploadID:e.uploadID,TempFileName:e.tempFileName,FileName:e.file&&e.file.fileData?e.file.fileData.name:""}),this.odataService.post("GetCSVFileValidation",JSON.stringify({Classification:e.args.csvLoaderClassification,FilesToValidate:t})).pipe(Object(n.a)(t=>{const i=t.value[0];if(""!==i.FailureMessage)throw this.fileUploadLoggerService.logToConsole("csv validation failed: "+i.FailureMessage),new s.a(i.FailureMessage);this.fileUploadLoggerService.logToConsole("csv validation successful: "+e.file.name)})).toPromise()}}return e.\u0275fac=function(t){return new(t||e)(r.dc(a.a),r.dc(o.a))},e.\u0275prov=r.Ob({token:e,factory:e.\u0275fac}),e})()},"7Ihv":function(e,t,i){"use strict";i.d(t,"a",(function(){return s}));var n=i("fXoL");let s=(()=>{class e{constructor(){this.TRUNCATE_PIPE_DEFAULT_SUFFIX="..."}transform(e,t,i){let n;if(e){let s,a;a=t||e.length,(a<=0||a===1/0||isNaN(a))&&(a=e.length),s=i||this.TRUNCATE_PIPE_DEFAULT_SUFFIX,n=e.length<=a?e:e.substring(0,a).trim()+s}return n}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275pipe=n.Rb({name:"sdaTruncate",type:e,pure:!0}),e})()},"83Gb":function(e,t,i){"use strict";i.d(t,"a",(function(){return a}));var n=i("ofXK"),s=i("fXoL");let a=(()=>{class e{}return e.\u0275mod=s.Qb({type:e}),e.\u0275inj=s.Pb({factory:function(t){return new(t||e)},imports:[[n.c]]}),e})()},"8Bmj":function(e,t,i){"use strict";i.d(t,"a",(function(){return a}));var n=i("k1up"),s=i("fXoL");let a=(()=>{class e{constructor(){this.telemetryEnabled=!1}get enabled(){return this.telemetryEnabled}initialize(e,t){e.LicenseTrackingID&&(this.telemetryEnabled=!0,this.userInfo=e,Settings.telemetrySettings&&(this.setLogToMessage(),this.setSendToReceiver()),ppm.telemetry.AddLicenseTrackingUuid(e.LicenseTrackingID),ppm.telemetry.Initialize({application:t.WebClientApplicationShortName,version:this.getVersion(t.FormattedVersion),organizationId:ppm.telemetry.Organization.PPMOrganizationId}))}sendDiscreteEvent(e){if(this.enabled){const t=Object.assign(Object.assign({},e),{eventType:this.convertEnumToPPMEventType(e.eventType),username:this.userInfo.UserName});ppm.telemetry.SendDiscreteEvent(t)}}trackPageView(e){this.enabled&&this.sendDiscreteEvent({eventName:"UserNavigated",eventType:n.a.Feature,eventData:Object.assign({route:e.path},e.parameters),component:"UserAction"})}startTrackEvent(e){return this.enabled?ppm.telemetry.TrackEvent(Object.assign(Object.assign({},e),{eventType:this.convertEnumToPPMEventType(e.eventType),username:this.userInfo.UserName})):new Function}getVersion(e){let t=e;if(e){const i=e.match(/\(([^()]*)\)/g);i&&1===i.length&&(t=i[0].replace("(","").replace(")",""))}return t}convertEnumToPPMEventType(e){return ppm.telemetry.EventType[n.a[e]]}setLogToMessage(){let e=!1;void 0!==Settings.telemetrySettings.logMessages&&(e=Settings.telemetrySettings.logMessages),ppm.telemetry.LogMessages(e)}setSendToReceiver(){let e=!0;void 0!==Settings.telemetrySettings.sendToReceiver&&(e=Settings.telemetrySettings.sendToReceiver),ppm.telemetry.SendToReceiver(e)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=s.Ob({token:e,factory:e.\u0275fac}),e})()},"8IK6":function(e,t,i){"use strict";i.d(t,"a",(function(){return b}));var n=i("tk/3"),s=i("fujP"),a=i("LRne"),o=i("lJxs"),r=i("JIr8"),c=i("SxV6"),l=i("ONOH"),d=i("+eYH"),h=i("U7l/"),u=i("DG5G"),p=i("A3La"),g=i("Z9D8"),f=i("HLw3"),m=i("fXoL");let b=(()=>{class e{constructor(e,t,i,n){this.oDataService=e,this.configService=t,this.filterQueryService=i,this.batchRequestFactory=n}getCompleteObjects(e){if(Object(s.a)(e))return Object(a.a)(e);const t=this.filterQueryService.getOBIDFilterURL(e.map(e=>e.obid));try{return this.getObjects(t,void 0,void 0,e)}catch(i){return Object(a.a)(e)}}getCompleteObjectsUsingIds(e,t){if(Object(s.a)(e))return Object(a.a)([]);const i=this.batchRequestFactory.createBatchRequest();return e.length>300?e.reduce((e,t,i,n)=>i%300?e:e.concat([n.slice(i,i+300)]),[]).forEach(e=>{this.buildObidRequestForBatch(i,e,t)}):this.buildObidRequestForBatch(i,e,t),i.execute().pipe(Object(o.a)(e=>{this.checkForErrors(e);const i=[];return e&&e.length>0&&e.forEach(e=>{e.data&&e.data.value.length>0&&e.data.value.forEach(e=>{i.push(new d.a(e.OBID,e.Name,t||e.Config||e.CI_Config||this.configService.selectedCreateConfig||h.b,e.CI_Description,e.Class,void 0))})}),i}),Object(r.a)(e=>Object(a.a)({})))}doesObjectExist(e,t){return this.oDataService.get(`Objects?$filter=OBID eq '${e}'&$top=0&$count=true`,t).pipe(Object(o.a)(e=>e.count>0))}getObjects(e,t,i,n){return this.oDataService.get(e,i||this.configService.selectedCreateConfig,void 0,"CS_SPFObject",t).pipe(Object(c.a)(),Object(o.a)(e=>(Array.isArray(e.value)?e.value:[e.value]).map(e=>new d.a(e.OBID,e.Name,i||e.Config||e.CI_Config||this.configService.selectedCreateConfig||h.b,e.CI_Description,e.Class,n&&n.length?this.getDataFromOrignalItem(e.OBID,n):void 0))))}getDataFromOrignalItem(e,t){const i=t.filter(t=>t.obid===e);return i.length>0?i[0].data:void 0}buildObidRequestForBatch(e,t,i,s){s||(s=(s=new n.d).append("SPFResolveDocumentsToVersion","false"));const a=this.filterQueryService.getOBIDFilterURL(t);e.addGetRequest(a,!0,i||this.configService.selectedCreateConfig,!1,void 0,s)}checkForErrors(e){e&&e.length>0&&e.forEach(e=>{if(200!==e.statusCode&&e.hasErrored)throw new g.a(e.exception,e.exception.message,"ObjectItemsHelperService","getCompleteObjectsUsingIds")})}}return e.\u0275fac=function(t){return new(t||e)(m.dc(p.a),m.dc(l.a),m.dc(u.a),m.dc(f.a))},e.\u0275prov=m.Ob({token:e,factory:e.\u0275fac}),e})()},"8NKS":function(e,t,i){"use strict";i.d(t,"a",(function(){return n}));class n{constructor(e,t=!0){this.interfaceDefUID=e,this.add=t}}},"8RLy":function(e,t,i){"use strict";i.d(t,"a",(function(){return n}));var n=function(e){return e[e.Create=0]="Create",e[e.Copy=1]="Copy",e[e.Update=2]="Update",e[e.Detail=3]="Detail",e[e.Revise=4]="Revise",e}({})},"8U5n":function(e,t,i){"use strict";i.d(t,"a",(function(){return n}));class n{constructor(e,t,i,n,s,a,o,r){this.displayName=e,this.name=t,this.description=i,this.level=n,this.object=s,this.children=a,this.selectable=o,this.iconName=r,this.selectable=void 0===o||o,a||(this.children=new Array)}}},"8gPv":function(e,t,i){"use strict";i.d(t,"a",(function(){return u}));var n=i("I2fW"),s=i("fXoL"),a=i("ofXK"),o=i("Jgl7");function r(e,t){if(1&e){const e=s.Zb();s.Yb(0,"span",10),s.hc("click",(function(){s.Kc(e);const t=s.lc().$implicit;return s.lc().expand(t)})),s.Tb(1,"i",11),s.Xb()}if(2&e){const e=s.lc().$implicit;s.Eb(1),s.Ib("fa-caret-right",!e.isExpanded)("fa-caret-down",e.isExpanded)}}function c(e,t){if(1&e&&s.Tb(0,"sda-object-icon",12),2&e){const e=s.lc().$implicit;s.sc("imageName",e.icon)}}function l(e,t){if(1&e){const e=s.Zb();s.Yb(0,"span",13),s.hc("click",(function(t){s.Kc(e);const i=s.lc().$implicit;return s.lc().onDeleteChip(t,i)})),s.Tb(1,"i",14),s.Xb()}}function d(e,t){if(1&e){const e=s.Zb();s.Yb(0,"sda-chip-list-view",15),s.hc("chipsChange",(function(t){return s.Kc(e),s.lc().$implicit.children=t})),s.Xb()}if(2&e){const e=s.lc().$implicit;s.sc("chips",e.children)}}function h(e,t){if(1&e){const e=s.Zb();s.Yb(0,"li",2),s.hc("click",(function(i){s.Kc(e);const n=t.$implicit;return s.lc().onSelectChip(i,n)})),s.Yb(1,"div",3),s.Sc(2,r,2,4,"span",4),s.Yb(3,"div",5),s.Sc(4,c,1,1,"sda-object-icon",6),s.Yb(5,"span",7),s.Uc(6),s.Xb(),s.Xb(),s.Sc(7,l,2,0,"span",8),s.Xb(),s.Sc(8,d,1,1,"sda-chip-list-view",9),s.Xb()}if(2&e){const e=t.$implicit;s.Ib("chips-list--expanded",(null==e.children?null:e.children.length)>0&&e.isExpanded),s.Eb(1),s.Ib("chip--expanded",e.isExpanded&&e.children.length>0)("chip--disabled",!e.isSelectable),s.Eb(1),s.sc("ngIf",(null==e.children?null:e.children.length)>0),s.Eb(2),s.sc("ngIf",e.showIcon&&e.icon),s.Eb(2),s.Wc(" ",e.object.name," "),s.Eb(1),s.sc("ngIf",e.isEditable),s.Eb(1),s.sc("ngIf",(null==e.children?null:e.children.length)>0&&e.isExpanded)}}let u=(()=>{class e{constructor(e){this.iconService=e}ngOnInit(){this.initialise()}ngOnChanges(e){this.initialise()}onSelectChip(e,t){e.stopPropagation(),t.onClickEvent&&t.onClickEvent(t.object)}onDeleteChip(e,t){e.stopPropagation(),t.onTerminateEvent&&t.onTerminateEvent(t.object)}expand(e){e.isExpanded=!e.isExpanded}initialise(){if(this.chips&&this.chips.some(e=>e.showIcon)){const e=this.chips.filter(e=>!e.icon).map(e=>e.object.obid);e.length>0&&this.iconService.getIconNames(e).subscribe(e=>{this.setIconNames(e)})}}setIconNames(e){e.forEach(e=>{this.chips.forEach(t=>{t.object.obid===e.OBID&&(t.icon=e.IconName)})})}}return e.\u0275fac=function(t){return new(t||e)(s.Sb(n.a))},e.\u0275cmp=s.Mb({type:e,selectors:[["sda-chip-list-view"]],inputs:{chips:"chips"},features:[s.Cb],decls:2,vars:1,consts:[[1,"chips"],["class","chips-list",3,"chips-list--expanded","click",4,"ngFor","ngForOf"],[1,"chips-list",3,"click"],[1,"chip"],["class","chip__action chip__action--expander",3,"click",4,"ngIf"],[1,"chip__content"],[3,"imageName",4,"ngIf"],[1,"chip__name"],["class","chip__action",3,"click",4,"ngIf"],[3,"chips","chipsChange",4,"ngIf"],[1,"chip__action","chip__action--expander",3,"click"],[1,"fa"],[3,"imageName"],[1,"chip__action",3,"click"],[1,"fa","fa-times-circle"],[3,"chips","chipsChange"]],template:function(e,t){1&e&&(s.Yb(0,"ul",0),s.Sc(1,h,9,11,"li",1),s.Xb()),2&e&&(s.Eb(1),s.sc("ngForOf",t.chips))},directives:[a.s,a.t,o.a,e],styles:[".chip__name[_ngcontent-%COMP%]{overflow-wrap:break-word;word-wrap:break-word;word-break:break-word}.chips-list--expanded[_ngcontent-%COMP%]   .chips[_ngcontent-%COMP%]{overflow-x:hidden;overflow-y:auto}.chips-list[_ngcontent-%COMP%]{display:inline-block;max-width:100%;margin:0 5px 8px 0}.chips-list--expanded[_ngcontent-%COMP%]{width:100%;margin-bottom:15px}.chips-list--expanded[_ngcontent-%COMP%]   .chips[_ngcontent-%COMP%]{max-height:200px;background-color:#f0f2f4;padding:8px}.chips-list--expanded[_ngcontent-%COMP%]   .chips[_ngcontent-%COMP%]   .chip[_ngcontent-%COMP%]{background-color:#e8f7ff;border-color:#afe5ff}.chips-list--expanded[_ngcontent-%COMP%]   .chips[_ngcontent-%COMP%]   .chip[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:hover{background-color:#ceefff;border-color:#75d2ff}.chips-list--expanded[_ngcontent-%COMP%]   .chips[_ngcontent-%COMP%]   .chip--disabled[_ngcontent-%COMP%]{background:#d9dde2;border-color:#a9b4be;cursor:auto}.chips-list--expanded[_ngcontent-%COMP%]   .chips[_ngcontent-%COMP%]   .chip--disabled[_ngcontent-%COMP%]   .chip__content[_ngcontent-%COMP%]{pointer-events:none;opacity:.8}.chip[_ngcontent-%COMP%]{display:inline-flex;align-self:flex-start;align-items:center;min-height:34px;padding:6px 8px;background-color:#bfeaff;border:1px solid #75d2ff;border-radius:3px;font-size:13px;color:#1f2429;cursor:pointer}.chip--expanded[_ngcontent-%COMP%], .chip[_ngcontent-%COMP%]:not(.chip--disabled):hover{background:#95ddff}.chip--expanded[_ngcontent-%COMP%]{border-bottom-left-radius:0;border-bottom-right-radius:0}.chip--disabled[_ngcontent-%COMP%]{background:#d9dde2;border-color:#a9b4be;cursor:auto}.chip--disabled[_ngcontent-%COMP%]   .chip__content[_ngcontent-%COMP%]{pointer-events:none;opacity:.8}.chip__name[_ngcontent-%COMP%]{display:inline-block;margin-top:2px;line-height:1.2}.chip__action[_ngcontent-%COMP%]{flex-shrink:0;align-self:flex-start;width:20px;height:20px;margin-left:15px;font-size:16px;color:#38414a;text-align:center;cursor:pointer}.chip__action[_ngcontent-%COMP%]:hover{color:#070809}.chip__action--expander[_ngcontent-%COMP%]{margin-right:5px;margin-left:0}"]}),e})()},"8ihU":function(e,t,i){"use strict";i.d(t,"a",(function(){return r}));var n=i("XNiG"),s=i("IUya"),a=i("jNCI"),o=i("fXoL");let r=(()=>{class e{constructor(e){this.modalService=e,this.closeModal=new n.a,this.loading=new n.a,this.changeOkayButtonEnabledState=new n.a,this.changeThirdButtonEnabledState=new n.a,this.changeOkayButtonText=new n.a}ok(){this.closeModal.next(new s.a(!0))}cancel(){this.closeModal.next(new s.a(!1))}thirdBtn(){this.closeModal.next(new s.a(!0))}getData(){return this.modalService.modalData}showLoadingIndicator(){this.loading.next(!0)}hideLoadingIndicator(){this.loading.next(!1)}disableOkayButton(){this.changeOkayButtonEnabledState.next(!0)}enableOkayButton(){this.changeOkayButtonEnabledState.next(!1)}disableThirdButton(){this.changeThirdButtonEnabledState.next(!0)}enableThirdButton(){this.changeThirdButtonEnabledState.next(!1)}updateButtonText(e){this.changeOkayButtonText.next(e)}}return e.\u0275fac=function(t){return new(t||e)(o.Sb(a.a))},e.\u0275dir=o.Nb({type:e}),e})()},"8xM1":function(e,t,i){"use strict";i.d(t,"a",(function(){return f}));var n=i("tyNb"),s=i("LRne"),a=i("vkgz"),o=i("pLZG"),r=i("Kj3r"),c=i("eIep"),l=i("ONOH"),d=i("NEWU"),h=i("HLw3"),u=i("F8JD"),p=i("J7mc"),g=i("fXoL");let f=(()=>{class e{constructor(e,t,i,n,s){this.batchRequestFactory=e,this.configService=t,this.methodService=i,this.dataService=n,this.router=s,this.isAuditEnabled=!1}initialise(){return this.dataService.get("IsAuditEnabled").pipe(Object(a.a)(e=>{this.isAuditEnabled=e.value,this.listenToRouterChange()}))}executeAudit(e){return this.isAuditEnabled&&e.isAuditRequired&&e.contextObjectOBIDs&&e.contextObjectOBIDs.length>0?this.callAuditService(e.contextObjectOBIDs,e.methodOBID):Object(s.a)([])}callAuditService(e,t){const i=this.batchRequestFactory.createBatchRequest();return e.forEach(e=>{i.addPostRequest("ExecuteAudit",!0,this.configService.selectedCreateConfig,JSON.stringify({objectOBID:e,methodOBID:t}))}),i.execute()}listenToRouterChange(){this.isAuditEnabled&&this.router.events.pipe(Object(o.a)(e=>e instanceof n.d),Object(r.a)(300),Object(c.a)(e=>{const t=this.router.parseUrl(e.urlAfterRedirects).root.children[n.f].segments;return e.urlAfterRedirects.includes("ClientAPI")&&t[0].parameters[d.u]?this.readParamsAndExecute(t[0].parameters):Object(s.a)([])})).subscribe()}readParamsAndExecute(e){return this.getMethodDetailsAndExecuteAudit(JSON.parse(e[d.u]),e[d.y])}getMethodDetailsAndExecuteAudit(e,t){return e&&e.length>0&&t?this.methodService.getMethodAndExpandToClientAPI("OBID",t,this.configService.selectedCreateConfig,!1).pipe(Object(c.a)(i=>i&&i.length>0&&i[0].SDxIsAuditRequired?this.callAuditService(e,t):Object(s.a)([]))):Object(s.a)([])}}return e.\u0275fac=function(t){return new(t||e)(g.dc(h.a),g.dc(l.a),g.dc(u.a),g.dc(p.a),g.dc(n.g))},e.\u0275prov=g.Ob({token:e,factory:e.\u0275fac}),e})()},"9Abt":function(e,t,i){"use strict";i.d(t,"a",(function(){return a}));var n=i("ofXK"),s=i("fXoL");let a=(()=>{class e{}return e.\u0275mod=s.Qb({type:e}),e.\u0275inj=s.Pb({factory:function(t){return new(t||e)},imports:[[n.c]]}),e})()},"9JZq":function(e,t,i){"use strict";i.d(t,"a",(function(){return g}));var n=i("Cfvw"),s=i("LRne"),a=i("bOdf"),o=i("JIr8"),r=i("IzEk"),c=i("lJxs"),l=i("SXtU"),d=i("hqbt"),h=i("Ejbi"),u=i("lycW"),p=i("fXoL");let g=(()=>{class e{constructor(e,t,i,n){this.odataService=e,this.fileUploadLoggerService=t,this.sdaTranslateService=i,this.securityService=n,this.REMOVED_RENAMED_EMPTY=this.sdaTranslateService.get("FILE_REMOVED_RENAMED_EMPTY","File has been removed, renamed or empty."),this.GENERIC_ERROR_UPLOADING_FILE=this.sdaTranslateService.get("ERROR_UPLOADING_FILE","Error occurred while uploading file")}getProgressObject(e){return e.progress.fileUploadProgress}execute(e){return this.uploadChunks(e).then(()=>this.completeFileUpload(e))}uploadChunks(e){const t=[];let i=e.getNextChunkAndSetupBlob();for(;i;)t.push(i),i=e.getNextChunkAndSetupBlob();return t.length>1?Object(n.a)(t).pipe(Object(a.a)(t=>this.uploadChunkWithRetry(t,e))).toPromise().then(()=>{}):Promise.all(t.map(t=>this.uploadFileChunk(t,e))).then(()=>{})}uploadChunkWithRetry(e,t){return Object(n.a)(this.uploadFileChunk(e,t)).pipe(Object(o.a)(i=>{if("401"===i.message)return e.state="Started",this.securityService.preemptiveRefreshToken().pipe(Object(r.a)(1),Object(a.a)(()=>Object(n.a)(this.uploadFileChunk(e,t)))).toPromise();throw Object(s.a)(i)}))}uploadFileChunk(e,t){return new Promise((i,n)=>{if(e.fileItemReference.progress.fileUploadProgress.isCancelled)return void e.fileItemReference.chunkError(e);if(this.fileUploadLoggerService.logToConsole("uploadFileChunk started: "+e.chunkName+" ("+e.chunkNumber+") (Chunk state: "+e.state+")"),"Started"!==e.state&&"ReStarted"!==e.state)return;if(0===e.blob.size)return n(new Error(this.REMOVED_RENAMED_EMPTY)),void e.fileItemReference.chunkError(e);const s=new FormData;s.append("file",e.blob,e.chunkName);let a="FileMgmt/UploadFile?type=resume";a+="&part="+(e.chunkNumber+1),t.uploadID&&(a+="&UploadId="+t.uploadID),this.fileUploadLoggerService.logToConsole("Chunk URL: "+a);const o=this.odataService.getPostFormRequest(a);o.withCredentials=e.withCredentials,o.onerror=()=>{e.fileItemReference.chunkError(e),this.fileUploadLoggerService.logToConsole("Chunk failed to send: "+e.chunkNumber),n(new Error(this.GENERIC_ERROR_UPLOADING_FILE))},o.onload=()=>{if(401===o.status)this.fileUploadLoggerService.logToConsole("Failed Chunk retrying : "+e.chunkNumber),n(new Error(o.status.toString()));else if(o.status>=200&&o.status<300||304===o.status){const s=JSON.parse(o.responseText);t.uploadID=s.UploadId,this.fileUploadLoggerService.logToConsole("Upload Id: "+s.UploadId),this.fileUploadLoggerService.logToConsole("Chunk successful: "+e.chunkNumber),e.isError()?n(new Error(e.fileItemReference.exceptionMessage)):(this.fileUploadLoggerService.logToConsole("finished chunk: "+e.chunkName+" ("+e.chunkNumber+")"),t.chunkSuccess(e),i());const a=t.getChunkProgress(),r=t.getChunkErrorPercentage();t.progress.fileUploadProgress.progressPercent=a,t.progress.fileUploadProgress.errorProgressPercent=r,t.checkComplete()&&(this.fileUploadLoggerService.logToConsole("Finished all chunks: (Chunk: "+e.chunkName+")"),this.fileUploadLoggerService.logToConsole(t.getStatusString())),t.progress.fileUploadProgress.isPartialSuccess()&&(this.fileUploadLoggerService.logToConsole("Partially sent file: "+t.file.name),this.fileUploadLoggerService.logToConsole(t.getStatusString()),t.progress.fileUploadProgress.setFailureAndRetry("Partially sent file: "+t.file.name))}else e.fileItemReference.chunkError(e),this.fileUploadLoggerService.logToConsole("Chunk failed to send: "+e.chunkNumber),n(new Error(o.responseText))},this.fileUploadLoggerService.logToConsole("sending chunk: (Chunk: "+e.chunkName+")"),o.send(s)})}completeFileUpload(e){return this.odataService.post("FileMgmt/UploadFile?type=commit&UploadId="+e.uploadID,"").pipe(Object(c.a)(()=>{this.fileUploadLoggerService.logToConsole("UploadComplete has finished for file name : "+e.file.name)})).toPromise()}}return e.\u0275fac=function(t){return new(t||e)(p.dc(l.a),p.dc(u.a),p.dc(h.a),p.dc(d.a))},e.\u0275prov=p.Ob({token:e,factory:e.\u0275fac}),e})()},"9LP0":function(e,t,i){"use strict";i.d(t,"a",(function(){return l}));var n=i("C8de"),s=i("Z9D8"),a=i("LUpO"),o=i("JrsU"),r=i("Ejbi"),c=i("fXoL");let l=(()=>{class e{constructor(e,t){this.exceptionService=e,this.sdaTranslateService=t}applyStringPictureMask(e,t){return e&&t&&"U"===t&&(e=e.toUpperCase()),e}getDatePictureMask(e){const t=new o.a(void 0,void 0);if(e){const i=new Date;switch(e.toUpperCase()){case"TODAY":t.key=i,t.value=i;break;case"FUTUREONLY":t.key=i,t.key.setDate(i.getDate()+1);break;case"PASTONLY":t.value=i,t.value.setDate(i.getDate()-1);break;case"NOTFUTURE":t.value=i;break;case"NOTPAST":t.key=i}}return t}unsupportedMaskCheck(e,t){let i;return e&&(e.toUpperCase().startsWith("DATE")?i=this.sdaTranslateService.getFormatted("PICTURE_MASK_DATE_UNSUPPORTED","Picture mask '{0}' is invalid. 'DATE' picture masks are not currently supported in the web client. Validation will not be applied.",[e]):this.isDateValidationMask(e)&&t!==n.a.DATE_TIME_TYPE&&t!==n.a.YMD_TYPE&&(i=this.sdaTranslateService.getFormatted("PICTURE_MASK_DATE_VALIDATION_WARNING","Picture mask '{0}' is invalid for this type. Date validation picture masks should only be used for date fields. Validation will not be applied.",[e]))),i}verifyAgainstMask(e,t,i){let n=!0;if(e&&t&&!t.toUpperCase().startsWith("DATE")&&!this.isDateValidationMask(t)){const s=this.getPictureMaskRegex(t,i);n=!!s&&s.test(e)}return n}getPictureMaskRegex(e,t){let i,n;if(e){"U"===e?n="^[^a-z]*$":e.toUpperCase().startsWith("NEW")?n=e.substring(3):(n=e.replace(new RegExp("#","g"),"[0-9]"),n=n.replace(new RegExp("\\?","g"),"."),n=n.replace(new RegExp("\\*","g"),".*"),n=n.replace(new RegExp("\\[!","g"),"[^"),n="^"+n+"$");try{i=n.includes("p{")?new RegExp(n,"u"):new RegExp(n)}catch(a){const i=this.sdaTranslateService.getFormatted("PICTURE_MASK_INVALID","Invalid picture mask '{0}' in field the '{1}'",[e,t]),n=new s.a(a,i,"PictureMaskService","getPictureMaskRegex");this.exceptionService.handleException(n)}}return i}isDateValidationMask(e){let t=!1;switch(e.toUpperCase()){case"TODAY":case"FUTUREONLY":case"PASTONLY":case"NOTFUTURE":case"NOTPAST":t=!0}return t}}return e.\u0275fac=function(t){return new(t||e)(c.dc(a.a),c.dc(r.a))},e.\u0275prov=c.Ob({token:e,factory:e.\u0275fac}),e})()},"9NXz":function(e,t,i){"use strict";i.d(t,"a",(function(){return a}));var n=i("ofXK"),s=i("fXoL");let a=(()=>{class e{}return e.\u0275mod=s.Qb({type:e}),e.\u0275inj=s.Pb({factory:function(t){return new(t||e)},imports:[[n.c]]}),e})()},"9Vyx":function(e,t,i){"use strict";i.d(t,"a",(function(){return s}));var n=i("fXoL");let s=(()=>{class e{constructor(){this.isLoading=!1,this.onClick=new n.o}ngOnInit(){this.fontAwesomeCheck(this.styleClassIcon)}ngOnChanges(e){e.styleClassIcon&&this.fontAwesomeCheck(e.styleClassIcon.currentValue)}fontAwesomeCheck(e){this.styleClassIcon=e&&e.includes("fa-")?"fa "+e:e}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275dir=n.Nb({type:e,inputs:{isDisabled:"isDisabled",isCompact:"isCompact",displayName:"displayName",title:"title",isLoading:"isLoading",styleClassButton:"styleClassButton",styleClassIcon:"styleClassIcon",matSvgIcon:"matSvgIcon"},outputs:{onClick:"onClick"},features:[n.Cb]}),e})()},"9v9d":function(e,t,i){"use strict";i.d(t,"a",(function(){return b}));var n=i("LRne"),s=i("lJxs"),a=i("JIr8"),o=i("vkgz"),r=i("Z9D8"),c=i("LUpO"),l=i("PEjJ"),d=i("SXtU"),h=i("Ejbi"),u=i("+eYH"),p=i("4B5/"),g=i("Qi+w"),f=i("41Lq"),m=i("fXoL");let b=(()=>{class e{constructor(e,t,i,n,s,a,o){this.rootdataService=e,this.exceptionService=t,this.notificationService=i,this.sdaTranslateService=n,this.dataRefreshService=s,this.pinsMenuService=a,this.actionMenuProvider=o,this.editFilesSuccessMessage=this.sdaTranslateService.get("EDIT_FILES_SUCCESS_MESSAGE","Selected files are checked out to download location"),this.undoEditSuccessMessage=this.sdaTranslateService.get("UNDO_EDIT_FILES_SUCCESS_MESSAGE","Undo edit is completed")}EditFiles(e,t,i,o){return this.CheckOut(e,t,i,o).pipe(Object(s.a)(e=>{this.dataRefreshService.refreshData(),this.notificationService.success(this.editFilesSuccessMessage),this.pinsMenuService.addToNewItems(this.getVersionObjectCollection(e))}),Object(a.a)(e=>(e.message=this.sdaTranslateService.getFormatted("EDIT_FILES_ERROR_MESSAGE-EXCEPTION","Error occurred during edit files: {0}",[e.message]),this.exceptionService.handleException(new r.a(e,e.message,"EditUndoEditFileService","EditFiles")),Object(n.a)(void 0))))}UndoEditFiles(e,t,i,s,c){return this.UndoCheckOut(e,t,i,s,c).pipe(Object(o.a)(()=>{this.dataRefreshService.refreshData(),this.dataRefreshService.notifyItemsRemoved(e),this.actionMenuProvider.removeItem(new u.a(e[0],void 0,void 0)),this.notificationService.success(this.undoEditSuccessMessage)}),Object(a.a)(e=>(e.message=this.sdaTranslateService.getFormatted("UNDO_EDIT_FILES_ERROR_MESSAGE-EXCEPTION","Error occurred during undo edit files: {0}",[e.message]),this.exceptionService.handleException(new r.a(e,e.message,"EditUndoEditFileService","UndoEditFiles")),Object(n.a)(void 0))))}CheckOut(e,t,i,n){return this.rootdataService.post("FileMgmt/EditFiles",JSON.stringify({ObjectOBIDs:e,MethodOBID:t,FilesOBIDs:i,UndoEdit:n,DeleteLatestRevision:!1}))}UndoCheckOut(e,t,i,n,s){return this.rootdataService.post("FileMgmt/EditFiles",JSON.stringify({ObjectOBIDs:e,MethodOBID:t,FilesOBIDs:i,UndoEdit:n,DeleteLatestRevision:s}))}getVersionObjectCollection(e){const t=[];return e.forEach(e=>{t.push(new u.a(e.OBID,e.Name,e.Config,e.Description,void 0))}),t}}return e.\u0275fac=function(t){return new(t||e)(m.dc(d.a),m.dc(c.a),m.dc(f.a),m.dc(h.a),m.dc(l.a),m.dc(g.a),m.dc(p.a))},e.\u0275prov=m.Ob({token:e,factory:e.\u0275fac}),e})()},A1MZ:function(e,t,i){"use strict";i.d(t,"a",(function(){return s}));var n=i("fXoL");let s=(()=>{class e{getGuid(){return this.getGuidPart(!1)+this.getGuidPart(!0)+this.getGuidPart(!0)+this.getGuidPart(!1)}getGuidPart(e){const t=(Math.random().toString(16)+"000000000").substr(2,8);return e?`-${t.substr(0,4)}-${t.substr(4,4)}`:t}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=n.Ob({token:e,factory:e.\u0275fac}),e})()},A2Nf:function(e,t,i){"use strict";i.d(t,"b",(function(){return n})),i.d(t,"a",(function(){return s}));class n{constructor(e,t,i){this.obid=e,this.name=t,this.config=i,this.selected=!1,this.pinsCount=0,this.isOriginalPinboardGroup=!1,this.isOriginalPinboardGroup="PINBOARD"===e}}class s extends n{constructor(e,t,i,n=!1){super(e,t,i),this.readonly=n,this.created=!1,this.renaming=!1,this.markedForDeletion=!1,this.oldName=t}}},A3La:function(e,t,i){"use strict";i.d(t,"a",(function(){return u}));var n=i("tk/3"),s=i("z6cu"),a=i("lJxs"),o=i("JIr8"),r=i("ONOH"),c=i("Z9D8"),l=i("/XUs"),d=i("4vCl"),h=i("fXoL");let u=(()=>{class e{constructor(e,t){this.httpService=e,this.configService=t,this.baseUrl=Settings.odata.url}get(e,t,i,n,s,a){return this.send("GET",this.baseUrl,e,void 0,s,i,n,t,a)}post(e,t,i,n,s,a,o,r){return this.send("POST",this.baseUrl,e,t,a,n,s,i,o,r)}put(e,t,i,n,s,a,o){return this.send("PUT",this.baseUrl,e,t,a,n,s,i,o)}patch(e,t,i,n,s,a,o){return this.send("PATCH",this.baseUrl,e,t,a,n,s,i,o)}delete(e,t,i,s,a,o,r){return t||(r?r.get("SPFDeleteTransition")||(r=r.append("SPFDeleteTransition","Deleted")):r=new n.d({SPFDeleteTransition:"Deleted"})),this.send("DELETE",this.baseUrl,e,i,r,a,o,s)}getPostFormRequest(e){let t=this.baseUrl;return e&&(t+="/"+e),this.httpService.getPostFormRequest(t)}send(e,t,i,n,r,l,h,u,p,g){let f=t;return i&&(f+="/"+i),r=this.setHeaders(r,l,h,u,p),this.httpService.send(e,f,n,r,g,"response",!0).pipe(Object(a.a)(e=>new d.a(e)),Object(o.a)(e=>{const t=new c.a(e,void 0,"odata.service","send");return Object(s.a)(t)}))}setHeaders(e,t,i,s,a){let o=new n.d;return e&&e.keys().forEach(t=>{o=o.append(t,e.getAll(t))}),t?o=o.append("Accept","application/json,application/vnd.intergraph.data+json"):i&&(o=o.append("Accept",`application/json,application/vnd.intergraph.columnset.${encodeURIComponent(i)}+json`)),s&&(o=this.addSPFHeaders(o,s,a)),o}addSPFHeaders(e,t,i){return e=e.append("SPFQueryConfigUID",encodeURIComponent(t)),this.configService.selectedCreateConfig&&(e=e.append("SPFCreateConfigUID",encodeURIComponent(this.configService.selectedCreateConfig))),!this.configService.queryBySelectedConfigs||void 0!==i&&i||(e=e.append("SPFQuerySelectedConfigOnly",this.configService.queryBySelectedConfigs.toString())),e}}return e.\u0275fac=function(t){return new(t||e)(h.dc(l.a),h.dc(r.a))},e.\u0275prov=h.Ob({token:e,factory:e.\u0275fac}),e})()},"AK/3":function(e,t,i){"use strict";i.d(t,"a",(function(){return a}));var n=i("5yfG"),s=i("fXoL");let a=(()=>{class e{constructor(){this.telemetryEnabled=!1}get enabled(){return this.telemetryEnabled}initialize(e,t){if(Settings.telemetrySettings&&Settings.telemetrySettings.instrumentationKey){if(this.appInsights=this.createAppInsightsFactory(Settings.telemetrySettings.instrumentationKey),this.appInsights.loadAppInsights(),this.appInsights.clearAuthenticatedUserContext(),e.UserTrackingID){const t=e.UserTrackingID.replace(/[,;=| ]+/g,"_");this.appInsights.setAuthenticatedUserContext(t,"",!0)}this.appInsights.trackEvent({name:"HxGN app info",properties:t}),this.telemetryEnabled=!0}}trackEvent(e,t){this.enabled&&this.appInsights.trackEvent({name:e,properties:t})}trackPageView(e,t){this.enabled&&this.appInsights.trackPageView({name:e.path,uri:t,properties:e.parameters})}startTrackEvent(e){this.enabled&&this.appInsights.startTrackEvent(e)}stopTrackEvent(e){this.enabled&&this.appInsights.stopTrackEvent(e)}trackException(e){this.enabled&&this.appInsights.trackException({exception:e})}createAppInsightsFactory(e){return new n.a({config:{instrumentationKey:e}})}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=s.Ob({token:e,factory:e.\u0275fac}),e})()},AvVi:function(e,t,i){"use strict";i.d(t,"a",(function(){return n}));var n=function(e){return e[e.UNRELATED=0]="UNRELATED",e[e.EQUAL=1]="EQUAL",e[e.CURRENT_IS_CONFIG_TOP=2]="CURRENT_IS_CONFIG_TOP",e[e.TARGET_IS_CONFIG_TOP=3]="TARGET_IS_CONFIG_TOP",e[e.PARENT_OF_TARGET=4]="PARENT_OF_TARGET",e[e.CHILD_OF_TARGET=5]="CHILD_OF_TARGET",e}({})},BLbD:function(e,t,i){"use strict";i.d(t,"a",(function(){return o}));var n=i("fXoL"),s=i("ofXK");function a(e,t){if(1&e&&n.Tb(0,"div",1),2&e){const e=n.lc();n.Ib("blanket--fixed",e.positionState)("blanket--absolute",!e.positionState),n.sc("ngClass",e.styleMode)}}let o=(()=>{class e{constructor(){this.mode="black",this.position="fixed"}ngOnInit(){this.styleMode="blanket--"+this.mode}get positionState(){return"absolute"!==this.position}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=n.Mb({type:e,selectors:[["sda-blanket"]],inputs:{toggle:"toggle",mode:"mode",position:"position"},decls:1,vars:1,consts:[["class","blanket",3,"ngClass","blanket--fixed","blanket--absolute",4,"ngIf"],[1,"blanket",3,"ngClass"]],template:function(e,t){1&e&&n.Sc(0,a,1,5,"div",0),2&e&&n.sc("ngIf",t.toggle)},directives:[s.t,s.q],styles:[".blanket[_ngcontent-%COMP%]{top:0;left:0;display:block}.blanket--black[_ngcontent-%COMP%]{background-color:rgba(0,0,0,.7)}.blanket--light-grey[_ngcontent-%COMP%]{background-color:rgba(0,0,0,.1)}.blanket--white[_ngcontent-%COMP%]{background-color:hsla(0,0%,100%,.7)}.blanket--fixed[_ngcontent-%COMP%]{position:fixed;width:100vw;height:100vh}.blanket--absolute[_ngcontent-%COMP%]{position:absolute;width:100%;height:100%}"]}),e})()},BLqR:function(e,t,i){"use strict";i.d(t,"a",(function(){return l}));var n=i("tyNb"),s=i("pLZG"),a=i("8ihU"),o=i("IUya"),r=i("jNCI"),c=i("fXoL");let l=(()=>{class e extends a.a{constructor(e,t){super(e),this.router=t;const i=this.router.events.pipe(Object(s.a)(e=>e instanceof n.d)).subscribe(()=>{i.unsubscribe(),this.closeModal.next(new o.a(!0))})}ngOnInit(){this.object=this.getData()}}return e.\u0275fac=function(t){return new(t||e)(c.Sb(r.a),c.Sb(n.g))},e.\u0275cmp=c.Mb({type:e,selectors:[["ng-component"]],features:[c.Bb],decls:1,vars:2,consts:[[3,"id","config"]],template:function(e,t){1&e&&c.Tb(0,"sda-object-details",0),2&e&&c.sc("id",t.object.obid)("config",t.object.config)},encapsulation:2}),e})()},BltP:function(e,t,i){"use strict";i.d(t,"a",(function(){return n}));var n=function(e){return e[e.CONFIG_TOP=0]="CONFIG_TOP",e[e.PLANT=1]="PLANT",e[e.PROJECT=2]="PROJECT",e}({})},C4gn:function(e,t,i){"use strict";i.d(t,"a",(function(){return E}));var n=i("XNiG"),s=i("ONOH"),a=i("Z9D8"),o=i("LUpO"),r=i("8xM1"),c=i("dEBh"),l=i("v6r/"),d=i("NYVZ"),h=i("blvr"),u=i("P83J"),p=i("Xfrm"),g=i("Ejbi"),f=i("JrsU"),m=i("swmP"),b=i("5G0X"),S=i("EbyY"),v=i("gxu3"),_=i("xc+7"),O=i("t2XF"),I=i("fXoL"),C=i("tyNb"),T=i("ofXK");let E=(()=>{class e{constructor(e,t,i,s,a,o,r,c,l,d,h,u){this.router=e,this.windowService=t,this.clientApiService=i,this.configService=s,this.locationService=a,this.exceptionService=o,this.dynamicLoader=r,this.sdaTranslateService=c,this.featureSetService=l,this.featureSetNavigationParamsService=d,this.featureSetTelemetryService=h,this.auditService=u,this.ENTRY_POINT_SEARCH_ERROR=this.sdaTranslateService.get("ENTRY_POINT_SEARCH_ERROR","An error occurred whilst searching via entry point"),this.SUMMARY_REPORT_EXECUTE_ERROR=this.sdaTranslateService.get("SUMMARY_REPORT_EXECUTE_ERROR","An error occurred whilst executing summary report"),this.CHANGE_SCOPE_TITLE=this.sdaTranslateService.get("CHANGE_SCOPE_TITLE","Change Create Scope"),this.CHANGE_SCOPE_MESSAGE=this.sdaTranslateService.get("CHANGE_SCOPE_MESSAGE","To continue you must change create scope to match the current query scope"),this.CHANGE_SCOPE_TOAST=this.sdaTranslateService.get("CHANGE_SCOPE_TOAST","Create scope has been updated"),this.focusSearchBar=new n.a,this.navigationHistory=[]}navigateByDisplayItem(e){e instanceof b.a?this.navigateToFeature(e):e instanceof m.a?this.navigateToEntryPoint(e):e instanceof S.a&&this.navigateToSummaryReport(e)}navigateToFeature(e,t=!1){this.navigate(e,t)}navigateToEntryPoint(e){if(e.setName=e.setName.replace(/\s+/g,"_"),e.redirectToSearch)this.focusSearchBar.next();else{const t=new h.a;t.entityType=e.setName,this.router.navigate(["/results",{queryFilter:JSON.stringify(t),config:JSON.stringify(this.configService.selectedQueryConfigs),title:e.displayName}]).catch(e=>{const t=new a.a(e,this.ENTRY_POINT_SEARCH_ERROR,"feature-set.service","navigateToEntryPoint");this.exceptionService.handleException(t)})}}navigateToSummaryReport(e){e.hasPrompt?this.router.navigate([`/summary-reports/${e.reportObid}/enter-params`]).catch(e=>{const t=new a.a(e,this.SUMMARY_REPORT_EXECUTE_ERROR,"feature-set.service","navigateToSummaryReport");this.exceptionService.handleException(t)}):this.router.navigate([`/summary-reports/${e.reportObid}/view-report`]).catch(e=>{const t=new a.a(e,this.SUMMARY_REPORT_EXECUTE_ERROR,"feature-set.service","navigateToSummaryReport");this.exceptionService.handleException(t)})}navigateBack(e=!1){e?this.jumpBackToTodoListOrHome():this.navigationHistory.length>0?this.navigateBackToPreviousRoute():this.locationService.back()}navigateBackToPreviousRoute(){const e=this.navigationHistory[this.navigationHistory.length-1];e?e.value===this.windowService.Window.location.href.split("#")[1]?(this.navigationHistory.pop(),this.navigateBack(!1)):this.router.navigateByUrl(e.value).then(e=>{e&&this.navigationHistory.pop()}):this.router.navigate(["/home"])}navigateViaRoute(e,t,i,n=!0){n&&(e.objects&&e.objects.length&&(e.config||(e.config=[e.objects[0].config]),e.contextObjectOBIDs&&e.contextObjectOBIDs.length||(e.contextObjectOBIDs=e.objects.map(e=>e.obid))),e.objects=void 0),i?this.navigateToFeatureRouteInNewTab(e,t,n):(this.addFeatureToHistory(e),this.navigateToFeatureRoute(e,t))}addFeatureToHistory(e){e.showInRelativeRoute||this.navigationHistory.push(new f.a(e,this.windowService.Window.location.href.split("#")[1]))}removeCurrentRouteFromHistory(){this.navigationHistory.length>0&&this.navigationHistory[this.navigationHistory.length-1].value===this.windowService.Window.location.href.split("#")[1]&&this.navigationHistory.pop()}unsubscribeFocusSearch(){this.focusSearchBar.unsubscribe()}navigateViaAction(e,t,i){this.auditService.executeAudit(e).subscribe(),t.options&&t.options.canOpenInNewTab&&this.addFeatureToHistory(e),this.featureSetTelemetryService.sendClientAPIAction(e),this.dynamicLoader.loadClientApiFeature(e,t,i)}jumpBackToTodoListOrHome(){if(this.navigationHistory.some(e=>"home"===e.value.substring(1,5)||"todo-list"===e.value.substring(1,10))){let e;do{e=this.navigationHistory.pop()}while(!this.isHomeOrTodoList(e.value)&&this.navigationHistory.length>0);this.router.navigateByUrl(e.value)}else this.navigationHistory.length>0?this.navigateBackToPreviousRoute():this.featureSetService.getClientApiMethods("ShowInbox").subscribe(e=>{e&&e.length>0?this.navigateToFeature(e[0]):this.router.navigate(["/home",!0])})}isHomeOrTodoList(e){let t=!1;return(e.length>=5&&"home"===e.substring(1,5)||e.length>=10&&"todo-list"===e.substring(1,10))&&(t=!0),t}navigate(e,t=!1){const i=this.clientApiService.getClientApi(e.clientAPI,e.showInModal);i instanceof p.a?this.navigateViaRoute(e,i,t):i instanceof u.a&&this.navigateViaAction(e,i,{openInNewTab:t})}navigateToFeatureRoute(e,t){const i=this.featureSetNavigationParamsService.getNavigationArgsForClientApi(e);this.router.navigate([t.route,i],t.extras)}navigateToFeatureRouteInNewTab(e,t,i){let n=this.windowService.Window.location.origin;n+=this.windowService.Window.location.pathname,n+="#",n+=t.route,i&&(n+=";",n+=this.getFeatureUrl(e)),this.windowService.Window.open(n)}getFeatureUrl(e){let t="";const i=this.featureSetNavigationParamsService.getNavigationArgsForClientApi(e);for(const n in i)i.hasOwnProperty(n)&&(t+=n,t+="=",t+=encodeURIComponent(i[n]),t+=";");return t}}return e.\u0275fac=function(t){return new(t||e)(I.dc(C.g),I.dc(c.a),I.dc(l.a),I.dc(s.a),I.dc(T.n),I.dc(o.a),I.dc(d.a),I.dc(g.a),I.dc(_.a),I.dc(v.a),I.dc(O.a),I.dc(r.a))},e.\u0275prov=I.Ob({token:e,factory:e.\u0275fac}),e})()},C4jX:function(e,t,i){"use strict";i.d(t,"a",(function(){return n}));var n=function(e){return e.ALL="ALL",e.OVER_DUE="OVERDUE",e.MY_ASSIGNED_TASKS="MY_ASSIGNED_TASKS",e.MY_NON_CLAIMED_TASKS="MY_NON_CLAIMED_TASKS",e}({})},C8de:function(e,t,i){"use strict";i.d(t,"a",(function(){return n}));let n=(()=>{class e{}return e.BOOLEAN_TYPE="BooleanType",e.INTERFACE_DEF="InterfaceDef",e.DOUBLE_TYPE="DoubleType",e.STRING_TYPE="StringType",e.INT_TYPE="IntType",e.ENUM_LIST_TYPE="EnumListType",e.URL_TYPE="URLType",e.ENUM_LIST_LEVEL_TYPE="EnumListLevelType",e.DATE_TIME_TYPE="DateTimeType",e.GRAPH_DEF_TYPE="GraphDefType",e.YMD_TYPE="YMDType",e.UOM_LIST_TYPE="UoMListType",e.OBJECTS_TYPE="ObjectsType",e.VIEW_PROPS_DEF_TYPE="ViewPropsDefType",e.PROP_COMPARISONS_TYPE="PropComparisonsType",e.PATH_DEF_TYPE="PathDefType",e.REL_DEF="RelDef",e.RELATIONSHIP_FIND="RelationshipFind",e.RELATIONSHIP_FIND_MULTISELECT="RelationshipFindMultiselect",e.RELATIONSHIP_MULTI_QUERY="RelationshipMultiQuery",e.RELATIONSHIP_MULTI_QUERY_FIND="RelationshipMultiQueryFind",e.RELATIONSHIP_NAME_DESC="RelationshipNameDesc",e.RELATIONSHIP_MAINTENANCE="RelationshipMaintenance",e.RELATIONSHIP_FILTER="RelationshipFilter",e.MAJOR_MINOR_REVISION="MajorMinorRevision",e.PBS_TREE_TYPE="PBSTreeType",e.WBS_TREE_TYPE="WBSTreeType",e.ENS_TYPE="EnsType",e.NONE="None",e})()},Cun8:function(e,t,i){"use strict";i.d(t,"a",(function(){return c}));const n=[{path:"settings",loadChildren:()=>i.e(146).then(i.bind(null,"a0ec")).then(e=>e.SettingsRoutingModule)},{path:"objects",loadChildren:()=>Promise.all([i.e(56),i.e(87)]).then(i.bind(null,"f0c/")).then(e=>e.DetailsFormRoutingModule)},{path:"results",loadChildren:()=>Promise.all([i.e(0),i.e(1),i.e(7),i.e(9),i.e(61),i.e(139)]).then(i.bind(null,"0yA3")).then(e=>e.ResultsRoutingModule)},{path:"listEdit",loadChildren:()=>Promise.all([i.e(0),i.e(1),i.e(2),i.e(3),i.e(4),i.e(8),i.e(25),i.e(32),i.e(48),i.e(125)]).then(i.bind(null,"0fk9")).then(e=>e.ListEditGridRoutingModule)},{path:"distribution-matix",loadChildren:()=>Promise.all([i.e(0),i.e(1),i.e(2),i.e(3),i.e(4),i.e(5),i.e(8),i.e(10),i.e(15),i.e(16),i.e(25),i.e(32),i.e(60),i.e(21),i.e(127)]).then(i.bind(null,"KNIX")).then(e=>e.MatrixGridRoutingModule)},{path:"filemanagement",loadChildren:()=>Promise.all([i.e(0),i.e(1),i.e(2),i.e(3),i.e(4),i.e(5),i.e(6),i.e(7),i.e(9),i.e(11),i.e(10),i.e(13),i.e(14),i.e(18),i.e(31),i.e(37),i.e(115)]).then(i.bind(null,"VKTV")).then(e=>e.FileManagementRoutingModule)},{path:"createObj",loadChildren:()=>Promise.all([i.e(0),i.e(1),i.e(2),i.e(3),i.e(4),i.e(5),i.e(6),i.e(7),i.e(8),i.e(9),i.e(11),i.e(10),i.e(13),i.e(12),i.e(14),i.e(15),i.e(16),i.e(17),i.e(18),i.e(19),i.e(20),i.e(22),i.e(23),i.e(24),i.e(27),i.e(28),i.e(84)]).then(i.bind(null,"5V2r")).then(e=>e.CreateObjRoutingModule)},{path:"createObjAndRel",loadChildren:()=>Promise.all([i.e(0),i.e(1),i.e(2),i.e(3),i.e(4),i.e(5),i.e(6),i.e(7),i.e(8),i.e(9),i.e(11),i.e(10),i.e(13),i.e(12),i.e(14),i.e(15),i.e(16),i.e(17),i.e(18),i.e(19),i.e(20),i.e(22),i.e(23),i.e(24),i.e(27),i.e(28),i.e(54),i.e(21),i.e(83)]).then(i.bind(null,"fXZK")).then(e=>e.CreateObjAndRelRoutingModule)},{path:"createClassObj",loadChildren:()=>Promise.all([i.e(0),i.e(1),i.e(2),i.e(3),i.e(4),i.e(5),i.e(6),i.e(7),i.e(8),i.e(9),i.e(11),i.e(10),i.e(13),i.e(12),i.e(14),i.e(15),i.e(16),i.e(17),i.e(18),i.e(19),i.e(20),i.e(22),i.e(23),i.e(24),i.e(27),i.e(28),i.e(30),i.e(82)]).then(i.bind(null,"VOaT")).then(e=>e.CreateClassObjRoutingModule)},{path:"createClassObjAndRel",loadChildren:()=>Promise.all([i.e(0),i.e(1),i.e(2),i.e(3),i.e(4),i.e(5),i.e(6),i.e(7),i.e(8),i.e(9),i.e(11),i.e(10),i.e(13),i.e(12),i.e(14),i.e(15),i.e(16),i.e(17),i.e(18),i.e(19),i.e(20),i.e(22),i.e(23),i.e(24),i.e(27),i.e(28),i.e(30),i.e(38),i.e(21),i.e(81)]).then(i.bind(null,"V1Dz")).then(e=>e.CreateClassObjAndRelRoutingModule)},{path:"createObjectFromSelectedObjects",loadChildren:()=>Promise.all([i.e(0),i.e(1),i.e(2),i.e(3),i.e(4),i.e(5),i.e(6),i.e(7),i.e(8),i.e(9),i.e(11),i.e(10),i.e(13),i.e(12),i.e(14),i.e(15),i.e(16),i.e(17),i.e(18),i.e(19),i.e(20),i.e(22),i.e(23),i.e(24),i.e(25),i.e(27),i.e(28),i.e(30),i.e(32),i.e(43),i.e(55),i.e(21),i.e(85)]).then(i.bind(null,"OgC1")).then(e=>e.CreateObjectFromSelectedObjectsRoutingModule)},{path:"copyObj",loadChildren:()=>Promise.all([i.e(0),i.e(1),i.e(2),i.e(3),i.e(4),i.e(5),i.e(6),i.e(7),i.e(8),i.e(9),i.e(11),i.e(10),i.e(13),i.e(12),i.e(14),i.e(15),i.e(16),i.e(17),i.e(18),i.e(19),i.e(20),i.e(27),i.e(42),i.e(79)]).then(i.bind(null,"Tr9F")).then(e=>e.CopyObjRoutingModule)},{path:"createClassObjAndLoad",loadChildren:()=>Promise.all([i.e(0),i.e(1),i.e(2),i.e(3),i.e(4),i.e(5),i.e(6),i.e(7),i.e(8),i.e(9),i.e(11),i.e(10),i.e(13),i.e(12),i.e(14),i.e(15),i.e(16),i.e(17),i.e(18),i.e(19),i.e(20),i.e(22),i.e(23),i.e(24),i.e(27),i.e(28),i.e(30),i.e(21),i.e(80)]).then(i.bind(null,"DGtQ")).then(e=>e.CreateClassObjAndLoadRoutingModule)},{path:"createWizardClassObj",loadChildren:()=>Promise.all([i.e(0),i.e(1),i.e(2),i.e(3),i.e(4),i.e(5),i.e(6),i.e(7),i.e(8),i.e(9),i.e(11),i.e(10),i.e(13),i.e(12),i.e(14),i.e(15),i.e(16),i.e(17),i.e(18),i.e(19),i.e(20),i.e(22),i.e(23),i.e(24),i.e(25),i.e(27),i.e(28),i.e(30),i.e(32),i.e(43),i.e(55)]).then(i.bind(null,"yFeZ")).then(e=>e.CreateWizardClassObjRoutingModule)},{path:"reviseObj",loadChildren:()=>Promise.all([i.e(0),i.e(1),i.e(2),i.e(3),i.e(4),i.e(5),i.e(6),i.e(7),i.e(8),i.e(9),i.e(11),i.e(10),i.e(13),i.e(12),i.e(14),i.e(15),i.e(16),i.e(17),i.e(18),i.e(19),i.e(20),i.e(31),i.e(44),i.e(21),i.e(90)]).then(i.bind(null,"4rwV")).then(e=>e.ReviseObjRoutingModule)},{path:"insert-historical-revision",loadChildren:()=>Promise.all([i.e(0),i.e(1),i.e(2),i.e(3),i.e(4),i.e(5),i.e(6),i.e(7),i.e(8),i.e(9),i.e(11),i.e(10),i.e(13),i.e(12),i.e(14),i.e(15),i.e(16),i.e(17),i.e(18),i.e(19),i.e(20),i.e(44),i.e(88)]).then(i.bind(null,"JqzB")).then(e=>e.InsertHistoricalRevisionRoutingModule)},{path:"uploadDocument",loadChildren:()=>Promise.all([i.e(0),i.e(1),i.e(2),i.e(3),i.e(4),i.e(5),i.e(6),i.e(7),i.e(8),i.e(9),i.e(11),i.e(10),i.e(13),i.e(12),i.e(14),i.e(15),i.e(16),i.e(17),i.e(18),i.e(19),i.e(20),i.e(44),i.e(21),i.e(94)]).then(i.bind(null,"Qrba")).then(e=>e.UploadDocumentRoutingModule)},{path:"todo-list",loadChildren:()=>Promise.all([i.e(0),i.e(1),i.e(2),i.e(3),i.e(4),i.e(5),i.e(6),i.e(7),i.e(8),i.e(9),i.e(11),i.e(10),i.e(13),i.e(12),i.e(14),i.e(15),i.e(16),i.e(17),i.e(18),i.e(19),i.e(20),i.e(22),i.e(23),i.e(24),i.e(25),i.e(26),i.e(29),i.e(32),i.e(36),i.e(49),i.e(48),i.e(64),i.e(160)]).then(i.bind(null,"hkXX")).then(e=>e.TodoListRoutingModule)},{path:"pinsGrid/:pinsMenuType",loadChildren:()=>Promise.all([i.e(0),i.e(1),i.e(7),i.e(9),i.e(61),i.e(129)]).then(i.bind(null,"5RNm")).then(e=>e.PinsGridRoutingModule)},{path:"infomap-viewer",loadChildren:()=>Promise.all([i.e(0),i.e(1),i.e(2),i.e(3),i.e(4),i.e(5),i.e(6),i.e(7),i.e(8),i.e(9),i.e(11),i.e(10),i.e(13),i.e(12),i.e(14),i.e(15),i.e(16),i.e(17),i.e(18),i.e(19),i.e(20),i.e(22),i.e(23),i.e(24),i.e(36),i.e(120)]).then(i.bind(null,"HKSQ")).then(e=>e.InfoMapRoutingModule)},{path:"relationshipBuilder",loadChildren:()=>Promise.all([i.e(0),i.e(1),i.e(7),i.e(9),i.e(45),i.e(57),i.e(89)]).then(i.bind(null,"o/i9")).then(e=>e.RelationshipBuilderRoutingModule)},{path:"edit-obj",loadChildren:()=>Promise.all([i.e(0),i.e(1),i.e(2),i.e(3),i.e(4),i.e(5),i.e(6),i.e(7),i.e(8),i.e(9),i.e(11),i.e(10),i.e(13),i.e(12),i.e(14),i.e(15),i.e(16),i.e(17),i.e(18),i.e(19),i.e(20),i.e(22),i.e(23),i.e(24),i.e(39),i.e(21),i.e(91)]).then(i.bind(null,"R9Mi")).then(e=>e.EditObjRoutingModule)},{path:"edit-wizard-obj",loadChildren:()=>Promise.all([i.e(0),i.e(1),i.e(2),i.e(3),i.e(4),i.e(5),i.e(6),i.e(7),i.e(8),i.e(9),i.e(11),i.e(10),i.e(13),i.e(12),i.e(14),i.e(15),i.e(16),i.e(17),i.e(18),i.e(19),i.e(20),i.e(22),i.e(23),i.e(24),i.e(25),i.e(32),i.e(39),i.e(43),i.e(93)]).then(i.bind(null,"W5dB")).then(e=>e.EditWizardObjRoutingModule)},{path:"reports",loadChildren:()=>i.e(137).then(i.bind(null,"6Mmv")).then(e=>e.ReportsRoutingModule)},{path:"notifications",loadChildren:()=>i.e(128).then(i.bind(null,"eUDJ")).then(e=>e.NotificationsRoutingModule)},{path:"replacefiles",loadChildren:()=>Promise.all([i.e(0),i.e(1),i.e(2),i.e(3),i.e(4),i.e(5),i.e(6),i.e(7),i.e(9),i.e(11),i.e(10),i.e(13),i.e(14),i.e(18),i.e(31),i.e(116)]).then(i.bind(null,"8HKr")).then(e=>e.ReplaceFilesRoutingModule)},{path:"checkinFile",loadChildren:()=>Promise.all([i.e(0),i.e(1),i.e(2),i.e(3),i.e(4),i.e(5),i.e(6),i.e(7),i.e(9),i.e(11),i.e(10),i.e(13),i.e(14),i.e(18),i.e(31),i.e(21),i.e(114)]).then(i.bind(null,"+HPn")).then(e=>e.CheckinFilesRoutingModule)},{path:"taskreassignment",loadChildren:()=>Promise.all([i.e(0),i.e(4),i.e(15),i.e(56),i.e(153)]).then(i.bind(null,"acjg")).then(e=>e.TaskReassignmentRoutingModule)},{path:"query",loadChildren:()=>Promise.all([i.e(0),i.e(1),i.e(2),i.e(3),i.e(4),i.e(5),i.e(8),i.e(10),i.e(14),i.e(15),i.e(16),i.e(17),i.e(19),i.e(131)]).then(i.bind(null,"PMA5")).then(e=>e.QueryRoutingModule)},{path:"createEntryPointFromQFind",loadChildren:()=>Promise.all([i.e(0),i.e(1),i.e(2),i.e(3),i.e(4),i.e(5),i.e(6),i.e(7),i.e(8),i.e(9),i.e(11),i.e(10),i.e(13),i.e(12),i.e(14),i.e(15),i.e(16),i.e(17),i.e(18),i.e(19),i.e(20),i.e(74)]).then(i.bind(null,"0IOe")).then(e=>e.CreateEntrypointFromQFindRoutingModule)},{path:"adminEntryPoints",loadChildren:()=>Promise.all([i.e(0),i.e(1),i.e(2),i.e(3),i.e(4),i.e(5),i.e(6),i.e(7),i.e(8),i.e(9),i.e(11),i.e(10),i.e(13),i.e(12),i.e(14),i.e(15),i.e(16),i.e(17),i.e(18),i.e(19),i.e(20),i.e(22),i.e(23),i.e(24),i.e(36),i.e(35),i.e(71)]).then(i.bind(null,"R6aW")).then(e=>e.AdminEntryPointsRoutingModule)},{path:"workflow-viewer",loadChildren:()=>Promise.all([i.e(0),i.e(1),i.e(2),i.e(3),i.e(4),i.e(5),i.e(6),i.e(7),i.e(8),i.e(9),i.e(11),i.e(10),i.e(13),i.e(12),i.e(14),i.e(15),i.e(16),i.e(17),i.e(18),i.e(19),i.e(20),i.e(22),i.e(23),i.e(24),i.e(36),i.e(49),i.e(164)]).then(i.bind(null,"BRzy")).then(e=>e.WorkflowViewerRoutingModule)},{path:"ftr",loadChildren:()=>Promise.all([i.e(0),i.e(1),i.e(7),i.e(118)]).then(i.bind(null,"WGZh")).then(e=>e.FtrRoutingModule)},{path:"external",loadChildren:()=>Promise.all([i.e(21),i.e(106)]).then(i.bind(null,"cxnA")).then(e=>e.ExternalRoutingModule)},{path:"databookManagement",loadChildren:()=>Promise.all([i.e(0),i.e(1),i.e(2),i.e(3),i.e(4),i.e(5),i.e(6),i.e(7),i.e(8),i.e(9),i.e(11),i.e(10),i.e(13),i.e(12),i.e(14),i.e(15),i.e(16),i.e(17),i.e(18),i.e(19),i.e(20),i.e(22),i.e(23),i.e(24),i.e(27),i.e(26),i.e(28),i.e(29),i.e(35),i.e(46),i.e(54),i.e(59),i.e(58),i.e(97)]).then(i.bind(null,"7by/")).then(e=>e.DatabookManagementRoutingModule)},{path:"showInboxForObject",loadChildren:()=>Promise.all([i.e(0),i.e(1),i.e(2),i.e(3),i.e(4),i.e(5),i.e(6),i.e(7),i.e(8),i.e(9),i.e(11),i.e(10),i.e(13),i.e(12),i.e(14),i.e(15),i.e(16),i.e(17),i.e(18),i.e(19),i.e(20),i.e(22),i.e(23),i.e(24),i.e(25),i.e(26),i.e(29),i.e(32),i.e(36),i.e(49),i.e(48),i.e(64),i.e(159)]).then(i.bind(null,"j6D3")).then(e=>e.TodoListForObjectRoutingModule)},{path:"copydatabookcontent",loadChildren:()=>Promise.all([i.e(0),i.e(1),i.e(2),i.e(3),i.e(4),i.e(5),i.e(6),i.e(7),i.e(8),i.e(9),i.e(11),i.e(10),i.e(13),i.e(12),i.e(14),i.e(15),i.e(16),i.e(17),i.e(18),i.e(19),i.e(20),i.e(27),i.e(42),i.e(96)]).then(i.bind(null,"eIex")).then(e=>e.CopyDatabookRoutingModule)},{path:"copymatrixcontent",loadChildren:()=>Promise.all([i.e(0),i.e(1),i.e(2),i.e(3),i.e(4),i.e(5),i.e(6),i.e(7),i.e(8),i.e(9),i.e(11),i.e(10),i.e(13),i.e(12),i.e(14),i.e(15),i.e(16),i.e(17),i.e(18),i.e(19),i.e(20),i.e(25),i.e(27),i.e(42),i.e(60),i.e(126)]).then(i.bind(null,"dz/f")).then(e=>e.CopyMatrixRoutingModule)},{path:"user-management",loadChildren:()=>Promise.all([i.e(0),i.e(1),i.e(2),i.e(3),i.e(4),i.e(5),i.e(6),i.e(7),i.e(8),i.e(9),i.e(11),i.e(10),i.e(13),i.e(12),i.e(14),i.e(15),i.e(16),i.e(17),i.e(18),i.e(19),i.e(20),i.e(22),i.e(23),i.e(24),i.e(26),i.e(29),i.e(21),i.e(162)]).then(i.bind(null,"vjjw")).then(e=>e.UserRoleAssignmentRoutingModule)},{path:"launch/:view",loadChildren:()=>i.e(121).then(i.bind(null,"bkPF")).then(e=>e.LaunchRoutingModule)},{path:"error",loadChildren:()=>i.e(70).then(i.bind(null,"D11Q")).then(e=>e.ExceptionPageRoutingModule)},{path:"enterprise-view-create",loadChildren:()=>Promise.all([i.e(0),i.e(1),i.e(2),i.e(3),i.e(4),i.e(5),i.e(6),i.e(8),i.e(12),i.e(22),i.e(25),i.e(26),i.e(33),i.e(40),i.e(47),i.e(21),i.e(102)]).then(i.bind(null,"efLo")).then(e=>e.EnterpriseViewCreateRoutingModule)},{path:"enterprise-view-update",loadChildren:()=>Promise.all([i.e(0),i.e(1),i.e(2),i.e(3),i.e(4),i.e(5),i.e(6),i.e(8),i.e(12),i.e(22),i.e(25),i.e(26),i.e(33),i.e(40),i.e(47),i.e(21),i.e(103)]).then(i.bind(null,"x6Gf")).then(e=>e.EnterpriseViewUpdateRoutingModule)},{path:"enterprise-view",loadChildren:()=>Promise.all([i.e(0),i.e(1),i.e(2),i.e(3),i.e(4),i.e(5),i.e(6),i.e(8),i.e(12),i.e(22),i.e(25),i.e(26),i.e(33),i.e(40),i.e(47),i.e(104)]).then(i.bind(null,"vLWg")).then(e=>e.EnterpriseViewApiModule)},{path:"multi-step-reassign",loadChildren:()=>Promise.all([i.e(0),i.e(1),i.e(2),i.e(3),i.e(4),i.e(5),i.e(8),i.e(10),i.e(12),i.e(15),i.e(16),i.e(22),i.e(23),i.e(63),i.e(158)]).then(i.bind(null,"FOCb")).then(e=>e.ReAssignStepModule)},{path:"add-recipient",loadChildren:()=>Promise.all([i.e(0),i.e(1),i.e(2),i.e(3),i.e(4),i.e(5),i.e(8),i.e(10),i.e(12),i.e(15),i.e(16),i.e(22),i.e(23),i.e(63),i.e(157)]).then(i.bind(null,"5I6m")).then(e=>e.AddRecipientsModule)},{path:"expand-nested-structure",loadChildren:()=>Promise.all([i.e(11),i.e(21),i.e(99)]).then(i.bind(null,"gqau")).then(e=>e.ExpandNestedStructureRoutingModule)},{path:"tab-outlet",loadChildren:()=>i.e(152).then(i.bind(null,"093N")).then(e=>e.TabOutletLayoutRoutingModule)},{path:"dashboards",loadChildren:()=>Promise.all([i.e(0),i.e(1),i.e(2),i.e(3),i.e(4),i.e(5),i.e(6),i.e(8),i.e(12),i.e(22),i.e(25),i.e(26),i.e(33),i.e(40),i.e(95)]).then(i.bind(null,"pCLu")).then(e=>e.DashboardApiModule)},{path:"feature-sets",loadChildren:()=>i.e(107).then(i.bind(null,"qA4p")).then(e=>e.FeatureSetRoutingModule)}],s=[{path:"review-details",loadChildren:()=>Promise.all([i.e(0),i.e(1),i.e(2),i.e(3),i.e(4),i.e(5),i.e(6),i.e(7),i.e(8),i.e(9),i.e(11),i.e(10),i.e(13),i.e(12),i.e(14),i.e(15),i.e(16),i.e(17),i.e(18),i.e(19),i.e(20),i.e(22),i.e(23),i.e(24),i.e(31),i.e(37),i.e(66),i.e(173)]).then(i.bind(null,"i8eU")).then(e=>e.ReviewDetailsRoutingModule)},{path:"review",loadChildren:()=>Promise.all([i.e(0),i.e(1),i.e(2),i.e(3),i.e(4),i.e(5),i.e(6),i.e(7),i.e(8),i.e(9),i.e(11),i.e(10),i.e(13),i.e(12),i.e(14),i.e(15),i.e(16),i.e(17),i.e(18),i.e(19),i.e(20),i.e(22),i.e(23),i.e(24),i.e(31),i.e(37),i.e(66),i.e(174)]).then(i.bind(null,"nVmg")).then(e=>e.ReviewRoutingModule)},{path:"manage-review-plan",loadChildren:()=>Promise.all([i.e(0),i.e(1),i.e(2),i.e(3),i.e(4),i.e(5),i.e(6),i.e(7),i.e(8),i.e(9),i.e(11),i.e(10),i.e(13),i.e(12),i.e(14),i.e(15),i.e(16),i.e(17),i.e(18),i.e(19),i.e(20),i.e(22),i.e(23),i.e(24),i.e(25),i.e(45),i.e(21),i.e(167)]).then(i.bind(null,"7Cbk")).then(e=>e.ManageReviewPlanRoutingModule)},{path:"response-management-details",loadChildren:()=>Promise.all([i.e(0),i.e(1),i.e(2),i.e(3),i.e(4),i.e(5),i.e(6),i.e(7),i.e(8),i.e(9),i.e(11),i.e(10),i.e(13),i.e(12),i.e(14),i.e(15),i.e(16),i.e(17),i.e(18),i.e(19),i.e(20),i.e(22),i.e(23),i.e(24),i.e(31),i.e(37),i.e(46),i.e(65),i.e(171)]).then(i.bind(null,"YyPJ")).then(e=>e.ResponseManagementDetailsRoutingModule)},{path:"response-management",loadChildren:()=>Promise.all([i.e(0),i.e(1),i.e(2),i.e(3),i.e(4),i.e(5),i.e(6),i.e(7),i.e(8),i.e(9),i.e(11),i.e(10),i.e(13),i.e(12),i.e(14),i.e(15),i.e(16),i.e(17),i.e(18),i.e(19),i.e(20),i.e(22),i.e(23),i.e(24),i.e(31),i.e(37),i.e(46),i.e(65),i.e(59),i.e(172)]).then(i.bind(null,"21DL")).then(e=>e.ResponseManagementRoutingModule)},{path:"impact-analysis",loadChildren:()=>Promise.all([i.e(0),i.e(1),i.e(2),i.e(3),i.e(4),i.e(5),i.e(6),i.e(7),i.e(8),i.e(9),i.e(11),i.e(10),i.e(13),i.e(12),i.e(14),i.e(15),i.e(16),i.e(17),i.e(18),i.e(19),i.e(20),i.e(22),i.e(23),i.e(24),i.e(26),i.e(29),i.e(45),i.e(57),i.e(169)]).then(i.bind(null,"UH3R")).then(e=>e.ImpactAnalysisApiModule)},{path:"conflict-resolution",loadChildren:()=>Promise.all([i.e(0),i.e(1),i.e(2),i.e(3),i.e(4),i.e(5),i.e(6),i.e(7),i.e(8),i.e(9),i.e(11),i.e(10),i.e(13),i.e(12),i.e(14),i.e(15),i.e(16),i.e(17),i.e(18),i.e(19),i.e(20),i.e(22),i.e(23),i.e(24),i.e(25),i.e(26),i.e(29),i.e(53),i.e(168)]).then(i.bind(null,"VgGA")).then(e=>e.ConflictResolutionApiModule)}],a=[{path:"unclaim-dependencies",loadChildren:()=>Promise.all([i.e(0),i.e(1),i.e(2),i.e(3),i.e(4),i.e(5),i.e(6),i.e(7),i.e(8),i.e(9),i.e(11),i.e(10),i.e(13),i.e(12),i.e(14),i.e(15),i.e(16),i.e(17),i.e(18),i.e(19),i.e(20),i.e(22),i.e(23),i.e(24),i.e(26),i.e(29),i.e(67),i.e(179)]).then(i.bind(null,"H3ll")).then(e=>e.UnClaimDependenciesRoutingModule)},{path:"claim-obj",loadChildren:()=>Promise.all([i.e(0),i.e(1),i.e(2),i.e(3),i.e(4),i.e(5),i.e(6),i.e(7),i.e(8),i.e(9),i.e(11),i.e(10),i.e(13),i.e(12),i.e(14),i.e(15),i.e(16),i.e(17),i.e(18),i.e(19),i.e(20),i.e(22),i.e(23),i.e(24),i.e(26),i.e(29),i.e(67),i.e(177)]).then(i.bind(null,"eTiB")).then(e=>e.ClaimDependenciesRoutingModule),canDeactivate:[i("quZr").a]},{path:"merge-config",loadChildren:()=>Promise.all([i.e(0),i.e(1),i.e(2),i.e(3),i.e(4),i.e(5),i.e(6),i.e(7),i.e(8),i.e(9),i.e(11),i.e(10),i.e(13),i.e(12),i.e(14),i.e(15),i.e(16),i.e(17),i.e(18),i.e(19),i.e(20),i.e(22),i.e(23),i.e(24),i.e(25),i.e(26),i.e(29),i.e(53),i.e(76)]).then(i.bind(null,"om4l")).then(e=>e.ConflictsMergeRoutingModule)}],o=[{path:"ViewConsolidatedData",loadChildren:()=>Promise.all([i.e(0),i.e(1),i.e(2),i.e(3),i.e(192)]).then(i.bind(null,"A03V")).then(e=>e.ViewConsolidatedDataRoutingModule)},{path:"ViewSharedData",loadChildren:()=>Promise.all([i.e(0),i.e(1),i.e(2),i.e(3),i.e(192)]).then(i.bind(null,"A03V")).then(e=>e.ViewConsolidatedDataRoutingModule)},{path:"CreateWorkAreaDefinition",loadChildren:()=>Promise.all([i.e(0),i.e(1),i.e(2),i.e(3),i.e(4),i.e(5),i.e(6),i.e(7),i.e(8),i.e(9),i.e(11),i.e(10),i.e(13),i.e(12),i.e(14),i.e(15),i.e(16),i.e(17),i.e(18),i.e(19),i.e(20),i.e(24),i.e(28),i.e(30),i.e(21),i.e(182)]).then(i.bind(null,"kXpE")).then(e=>e.CreateAdvanced3DFilterRoutingModule)},{path:"EditWorkAreaDefinition",loadChildren:()=>Promise.all([i.e(0),i.e(1),i.e(2),i.e(3),i.e(4),i.e(5),i.e(6),i.e(7),i.e(8),i.e(9),i.e(11),i.e(10),i.e(13),i.e(12),i.e(14),i.e(15),i.e(16),i.e(17),i.e(18),i.e(19),i.e(20),i.e(22),i.e(23),i.e(24),i.e(39),i.e(21),i.e(183)]).then(i.bind(null,"6dR8")).then(e=>e.EditAdvanced3DFilterRoutingModule)}],r=[{path:"sdv-job-management",loadChildren:()=>Promise.all([i.e(0),i.e(1),i.e(7),i.e(9),i.e(21),i.e(198)]).then(i.bind(null,"D9ie")).then(e=>e.SDVJobManagementRoutingModule)}];i("tyNb"),i("fXoL");const c=[...n,{path:"viewAndMarkup",loadChildren:()=>Promise.all([i.e(0),i.e(1),i.e(2),i.e(3),i.e(4),i.e(5),i.e(6),i.e(7),i.e(8),i.e(9),i.e(11),i.e(10),i.e(13),i.e(12),i.e(14),i.e(15),i.e(16),i.e(17),i.e(18),i.e(19),i.e(20),i.e(22),i.e(23),i.e(24),i.e(27),i.e(26),i.e(28),i.e(29),i.e(30),i.e(33),i.e(34),i.e(35),i.e(41),i.e(38),i.e(51),i.e(21),i.e(215)]).then(i.bind(null,"pWIW")).then(e=>e.ViewAndMarkupRoutingModule)},{path:"compareDocuments",loadChildren:()=>Promise.all([i.e(0),i.e(1),i.e(2),i.e(3),i.e(4),i.e(5),i.e(6),i.e(7),i.e(8),i.e(9),i.e(11),i.e(10),i.e(13),i.e(12),i.e(14),i.e(15),i.e(16),i.e(17),i.e(18),i.e(19),i.e(20),i.e(22),i.e(23),i.e(24),i.e(27),i.e(28),i.e(30),i.e(33),i.e(34),i.e(35),i.e(41),i.e(38),i.e(51),i.e(21),i.e(212)]).then(i.bind(null,"4e3x")).then(e=>e.CompareDocumentsRoutingModule)},{path:"compareFiles",loadChildren:()=>Promise.all([i.e(0),i.e(1),i.e(2),i.e(3),i.e(4),i.e(5),i.e(6),i.e(7),i.e(8),i.e(9),i.e(11),i.e(10),i.e(13),i.e(12),i.e(14),i.e(15),i.e(16),i.e(17),i.e(18),i.e(19),i.e(20),i.e(22),i.e(23),i.e(24),i.e(27),i.e(28),i.e(30),i.e(33),i.e(34),i.e(35),i.e(41),i.e(38),i.e(51),i.e(21),i.e(213)]).then(i.bind(null,"t4K1")).then(e=>e.CompareFilesRoutingModule)},{path:"createWebGLSchedulerTask",loadChildren:()=>Promise.all([i.e(0),i.e(1),i.e(2),i.e(3),i.e(4),i.e(5),i.e(6),i.e(7),i.e(8),i.e(9),i.e(11),i.e(10),i.e(13),i.e(12),i.e(14),i.e(15),i.e(16),i.e(17),i.e(18),i.e(19),i.e(20),i.e(28),i.e(21),i.e(214)]).then(i.bind(null,"3QQr")).then(e=>e.WebGLSchedulerTaskRoutingModule)},...s,...r,{path:"tvgSiteView",loadChildren:()=>Promise.all([i.e(0),i.e(1),i.e(2),i.e(3),i.e(4),i.e(5),i.e(6),i.e(7),i.e(8),i.e(9),i.e(11),i.e(10),i.e(13),i.e(12),i.e(14),i.e(15),i.e(16),i.e(17),i.e(18),i.e(19),i.e(20),i.e(22),i.e(23),i.e(24),i.e(50),i.e(205)]).then(i.bind(null,"DWK/")).then(e=>e.TruviewRoutingModule)},{path:"tvgScanView",loadChildren:()=>Promise.all([i.e(0),i.e(1),i.e(2),i.e(3),i.e(4),i.e(5),i.e(6),i.e(7),i.e(8),i.e(9),i.e(11),i.e(10),i.e(13),i.e(12),i.e(14),i.e(15),i.e(16),i.e(17),i.e(18),i.e(19),i.e(20),i.e(22),i.e(23),i.e(24),i.e(50),i.e(204)]).then(i.bind(null,"IHjd")).then(e=>e.TruviewScanRoutingModule)},{path:"summary-reports",loadChildren:()=>i.e(200).then(i.bind(null,"KG+a")).then(e=>e.SummaryReportRoutingModule)},...o,...a]},CymU:function(e,t,i){"use strict";i.d(t,"a",(function(){return l}));var n=i("eIep"),s=i("Kj3r"),a=i("lJxs"),o=i("5G0X"),r=i("NEWU"),c=i("fXoL");let l=(()=>{class e{getFeatureFromParams(e){return e.paramMap.pipe(Object(n.a)(t=>e.data.pipe(Object(s.a)(200),Object(a.a)(e=>this.getFeatureFromRouteParams(t,e)))))}getFeatureFromRouteParams(e,t){const i=new o.a("","","");return i.apiParam1=this.resolveValue(e.get(r.a)),i.apiParam2=this.resolveValue(e.get(r.k)),i.apiParam3=this.resolveValue(e.get(r.l)),i.apiParam4=this.resolveValue(e.get(r.m)),i.apiParam5=this.resolveValue(e.get(r.n)),i.apiParam6=this.resolveValue(e.get(r.o)),i.apiParam7=this.resolveValue(e.get(r.p)),i.apiParam8=this.resolveValue(e.get(r.q)),i.apiParam9=this.resolveValue(e.get(r.r)),i.apiParam10=this.resolveValue(e.get(r.b)),i.apiParam11=this.resolveValue(e.get(r.c)),i.apiParam12=this.resolveValue(e.get(r.d)),i.apiParam13=this.resolveValue(e.get(r.e)),i.apiParam14=this.resolveValue(e.get(r.f)),i.apiParam15=this.resolveValue(e.get(r.g)),i.apiParam16=this.resolveValue(e.get(r.h)),i.apiParam17=this.resolveValue(e.get(r.i)),i.apiParam18=this.resolveValue(e.get(r.j)),i.clientAPI=this.resolveValue(e.get(r.s)),i.displayName=this.resolveValue(e.get(r.x)),i.methodOBID=this.resolveValue(e.get(r.y)),i.parentMethodOBID=this.resolveValue(e.get(r.B)),i.parentClientAPI=this.resolveValue(e.get(r.A)),i.config=e.has(r.t)?JSON.parse(e.get(r.t)):[],i.objects=t&&t[r.z]?t[r.z]:e.has(r.z)?JSON.parse(e.get(r.z)):[],i.parentObjects=e.has(r.C)?JSON.parse(e.get(r.C)):[],i.contextObjectOBIDs=e.has(r.u)?JSON.parse(e.get(r.u)):[],i}resolveValue(e){let t;return e&&(t=e.trim()),t}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=c.Ob({token:e,factory:e.\u0275fac}),e})()},D7bQ:function(e,t,i){"use strict";i.d(t,"a",(function(){return n}));var n=function(e){return e[e.FileComposition=0]="FileComposition",e[e.File=1]="File",e[e.Action=2]="Action",e[e.Markup=3]="Markup",e[e.GDSConnection=4]="GDSConnection",e[e.GDSFilter=5]="GDSFilter",e[e.Unknown=6]="Unknown",e}({})},DG5G:function(e,t,i){"use strict";i.d(t,"a",(function(){return m}));var n=i("tk/3"),s=i("LRne"),a=i("lJxs"),o=i("eIep"),r=i("ayYE"),c=i("Phab"),l=i("4x+t"),d=i("f8sK"),h=i("kx0E"),u=i("DgwV"),p=i("b/tf"),g=i("A3La"),f=i("fXoL");let m=(()=>{class e{constructor(e,t,i,n,s){this.metadataService=e,this.dataFormatService=t,this.columnSetRepository=i,this.odataService=n,this.preferencesService=s,this.odataFilters={eq:"eq",neq:"ne",gt:"gt",gte:"ge",lt:"lt",lte:"le",contains:"contains",doesnotcontain:"substringof",endswith:"endswith",startswith:"startswith"}}getURLFromFilters(e,t,i){let n="";return e&&(n=this.createFilterString(e),e&&e.filters&&t&&this.getAllFiltersAsList(e.filters).forEach(e=>{n=this.replaceFiltersStringForDataFormatting(n,e,t)})),i.relatedItemFilters&&i.relatedItemFilters.length>0&&(n?n+=` ${d.a.AND} ${this.getRelatedItemFilterString(i.relatedItemFilters,0,d.a.AND,void 0)}`:n=this.getRelatedItemFilterString(i.relatedItemFilters,0,d.a.AND,void 0)),n}generateModel(e){if(e.columnSet)return this.columnSetRepository.getColumnSetByUID(e.columnSet).pipe(Object(a.a)(e=>this.createGridModel(e)));if(e.hasLink&&e.navigation)return this.columnSetRepository.getColumnSetByRel(e.navigation).pipe(Object(a.a)(e=>this.createGridModel(e)));if(e.endInterface)return this.columnSetRepository.getColumnSetByInterfaceDefUID(e.endInterface).pipe(Object(a.a)(e=>this.createGridModel(e)));if(e.entityType){const t={fields:{}},i=this.metadataService.getObjectProperties(e.entityType);for(const e in i)i.hasOwnProperty(e)&&(t.fields[e]={type:this.parseTypeForGrid(i[e].type),edmModelType:i[e].type});return Object(s.a)(t)}return Object(s.a)({})}createGridModel(e){const t={fields:{}};return e.ColumnItems.forEach(e=>{t.fields[e.PropertyName]={type:this.parseTypeForGrid(e.ScopedByInfo.ScopedById),edmModelType:e.ScopedByInfo.EDMType}}),t}parseTypeForGrid(e){let t=this.parseType(e);return e&&(this.verifyIntegerType(e)||this.verifyDoubleType(e))&&(t="number"),t}parseType(e){let t="string";return e&&(this.verifyIntegerType(e)?t="integer":this.verifyDoubleType(e)?t="double":this.verifyDateType(e)?t="date":this.verifyNullableBooleanType(e)&&(t="nullableBoolean")),t}getObjects(e,t){return this.generateModel(e).pipe(Object(o.a)(i=>{e.page-=1;const n=this.getFullURLWithEndPoint(e,i);return this.callService(n,t,e)}))}getEndpointPath(e){let t="";return e.hasLink?(t+="Objects('"+e.expandFromObjectId+"')",e.navigation&&(t+="/"+e.navigation),e.appendUrl&&(t+=e.appendUrl)):t+=e.startingUrl?decodeURIComponent(e.startingUrl):encodeURIComponent(e.entityType.trim()),t}getFullURLWithEndPoint(e,t){return this.getFullURL(this.getEndpointPath(e),e,t)}getFullURL(e,t,i){let n=e;const s=this.getURLFromFilters(t,i,t);return s&&(n+=this.getFilterPrefix(n)+"$filter="+encodeURIComponent(s)),n+=this.getFilterPrefix(n)+"$count=true",n=this.updatePagingPart(n,t.page,t.pageSize),n+=this.includeOrderByFilter(t),n}callService(e,t,i,n){return this.formatResponseData(this.odataService.get(e,t,void 0,n,this.getHeaders(i),i.ignoreQueryBySelectedConfig))}getRelatedItemFilterString(e,t,i,n){let s="";return e.forEach(e=>{s&&(s+=i),e.negation&&(s+=" not");let a="";if(n&&n.length>0&&(a+=n),e.filters&&e.filters.length>0)if(e.navigation){const i=this.getRelatedItemFilterString(e.filters,t+1,e.logicalOperator,`x${t}/`);s+=` ${a}${e.navigation}/${e.navigationOperator}(x${t}: ${i}) `}else{const i=this.getRelatedItemFilterString(e.filters,t+1,e.logicalOperator,`x${t}/`);s+=` (${i}) `}else if(e.navigation){let i;i=e.field?`x${t}/${this.createQueryFilterString(e.operator,e.field)}'${e.value}'`:"true",s+=` ${a}${e.navigation}/${e.navigationOperator}(x${t}: ${i}) `}else s+=e.field?` ${a}${this.createQueryFilterString(e.operator,e.field)}'${e.value}' `:` ${a}true `}),s}getHeaders(e){let t=new n.d;return!1===e.resolveDocumentsToVersion&&(t=t.append("SPFResolveDocumentsToVersion","false")),e.columnSet&&(t=t.append("Accept",`application/json,application/vnd.intergraph.columnset.${encodeURIComponent(e.columnSet)}+json`)),t}getOBIDFilterURL(e,t=!0){let i="Objects";return e&&e.length>0&&(i+="?$filter="+e.map(e=>`OBID eq '${e}'`).join(" or "),t&&(i+="&$top="+e.length)),i}verifyIntegerType(e){return!!e.match(/edm\.int/i)||!!e.match(/IntType/i)||!!e.match(/edm\.int32/i)}verifyDoubleType(e){return!!(e.match(/edm\.decimal/i)||e.match(/edm\.double/i)||e.match(/edm\.single/i)||e.match(/edm\.float/i)||e.match(/DoubleType/i)||e.match(/LongType/i))}getOBIDURL(e,t="",i=[],n="*",s){let a;if(e&&e.length>0){a="Objects",a+="?$filter="+e.map(e=>`OBID eq '${e}'`).join(" or ");const o=this.preferencesService.getDisplayValue("Name","Description"),r=s?s.$top:void 0,c=s?s.$skip:void 0;""!==t?(a+="&$expand="+t,i&&i.length>0?(a+="($filter="+i.map(e=>`contains(${e}, '${n}')`).join(" or "),r&&(a+=";$top="+r),c&&(a+=";$skip="+c),a+=`;$count=true;$orderby=${o})`):a+=`($count=true;$orderby=${o})`):(r&&(a+="&$top="+r),c&&(a+="&$skip="+c),a+="&$count=true&$orderby="+o)}return a}createQueryFilterString(e,t){return t+" "+this.getOdataGridEquivalentOperator(e)+" "}updatePagingPart(e,t,i){if(t>=0&&i>0){const n=e.indexOf("$skip"),s=e.indexOf("$top");if(n>=0||s>=0){const t=e.split("?"),i=t[1].split("&");e=t[0]+"?";for(let n=0;n<i.length;n++)i[n].indexOf("$top")<0&&i[n].indexOf("$skip")<0&&(n>0&&(e+="&"),e+=i[n])}e+=this.buildPagingClause(t,i)}return e}buildPagingClause(e,t){return`&$skip=${(e*t).toString()}&$top=${t}`}includeOrderByFilter(e){let t="";return e.orderBy&&(t=`&$orderby=${e.orderBy.field} ${e.orderBy.dir}`),t}getOdataGridEquivalentOperator(e){let t;switch(e){case"neq":t=c.a.NOT_EQUAL;break;case"gte":t=c.a.GREATER_THAN_EQUAL;break;case"lte":t=c.a.LESS_THAN_EQUAL;break;default:t=e}return t}verifyDateType(e){return!!(e.match(/edm\.datetime/i)||e.match(/edm\.date/i)||e.match(/DateTimeType/i)||e.match(/YMDType/i))}verifyNullableBooleanType(e){return!!e.match(/edm\.boolean/i)||!!e.match(/BooleanType/i)}createFilterString(e){const t=[];let i="";return e.filters.forEach(e=>{let n=e.field,s=e.value;const a=e.operator;let o;if(e.filters)i=this.createFilterString(e);else{n=n.replace(/\./g,"/");let e=this.odataFilters[a];if("isnull"===a||"isnotnull"===a){e="isnull"===a?"eq":"ne",i=kendo.format("{0} {1} null",n,e);const t=i.match(/\/any\(/g);if(t)for(let e=0;e<t.length;e++)i+=")"}else if("isempty"===a||"isnotempty"===a)e="isempty"===a?"eq":"ne",i=kendo.format("{0} {1} ''",n,e);else if(e&&void 0!==s){const t=$.type(s);if("string"===t?("null"!==a&&"notnull"!==a&&(o="'{1}'"),s=s.replace(/'/g,"''")):"date"===t?(s=kendo.parseDate(s).toISOString(),o="'{1:yyyy-MM-ddTHH:mm:ss+00:00}'"):o="{1}",e.length>3?"substringof"!==e?o="{0}({2},"+o+")":(o="{0}("+o+",{2})","doesnotcontain"===a&&(o="{0}({2},'{1}') eq -1",e="indexof")):o="{2} {0} "+o,-1===n.lastIndexOf(":")||e!==l.a.STARTS_WITH&&e!==l.a.CONTAINS&&e!==l.a.ENDS_WITH)i=kendo.format(o,e,s,n);else{const t=n.split(":");i=t[0]+":"+e+"("+t[1]+", '"+s+"')"}const r=i.match(/\/any\(/g);if(r)for(let e=0;e<r.length;e++)i+=")"}else if("null"===a||"notnull"===a){i=n;const e=i.match(/\/any\(/g);if(e)for(let t=0;t<e.length;t++)i+=")"}}t.push(i)}),i=t.join(" "+e.logic+" "),t.length>1&&(i="("+i+")"),i}getAllFiltersAsList(e){let t=[];for(let i=0;i<e.length;i++)e[i].hasOwnProperty("filters")||t.push(e[i]),e[i].filters&&(t=t.concat(this.getAllFiltersAsList(e[i].filters)));return t}replaceFiltersStringForDataFormatting(e,t,i){if(i.fields.hasOwnProperty(t.field))if("Edm.Date"===i.fields[t.field].edmModelType&&t.value){const i=kendo.parseDate(t.value).toISOString();let n,s;n=this.createQueryFilterString(t.operator,t.field)+"'"+i+"'",s=this.createQueryFilterString(t.operator,t.field)+kendo.toString(new Date(t.value),"yyyy-MM-dd"),e=e.replace(n,s)}else if("Edm.DateTimeOffset"===i.fields[t.field].edmModelType&&t.value){const i=kendo.parseDate(t.value).toISOString();if(this.dataFormatService.isDateAndTime(i)){const n=this.createQueryFilterString(t.operator,t.field)+"'"+i+"'",s=this.createQueryFilterString(t.operator,t.field)+i;e=e.replace(n,s)}}else"Edm.Boolean"===i.fields[t.field].edmModelType&&(e=e.replace("'nullableBooleanTrue'","true").replace("'nullableBooleanFalse'","false").replace("'nullableBooleanNull'","null"));return e}getFilterPrefix(e){let t="?";return e.includes("?")&&(t="&"),t}formatResponseData(e){return e.pipe(Object(a.a)(e=>{let t;return t=204!==e.originalResponse.status&&(e.value.hasOwnProperty("length")?e.value:[e.value]),t}))}}return e.\u0275fac=function(t){return new(t||e)(f.dc(u.a),f.dc(h.a),f.dc(r.a),f.dc(g.a),f.dc(p.a))},e.\u0275prov=f.Ob({token:e,factory:e.\u0275fac}),e})()},DJR3:function(e,t,i){"use strict";i.d(t,"a",(function(){return s}));var n=i("fXoL");let s=(()=>{class e{convertToSPFDateFormat(e,t=!1){let i=e;if(e){const n=new Date(e);let s;s=t?this.getSPFUTCDateString(n):this.getSPFDateString(n),s&&(i=s)}return i}convertToSPFDateTimeFormat(e){let t=e;if(e){const i=new Date(e),n=this.getSPFUTCDateString(i);if(n){const e=i.getUTCHours().toString(),s=i.getUTCMinutes().toString(),a=i.getUTCSeconds().toString();let o=i.getUTCMilliseconds().toString();o=o[1]?s:"0"+o[0],o=o[2]?s:"0"+o,t=n+"-"+(e[1]?e:"0"+e[0])+":"+(s[1]?s:"0"+s[0])+":"+(a[1]?a:"0"+a[0])+":"+o}}return t}convertToNonUTCSPFDateString(e){let t="";const i=e.getFullYear();if(!isNaN(i)){const n=(e.getMonth()+1).toString(),s=e.getDate().toString();t=i.toString()+"/"+(n[1]?n:"0"+n[0])+"/"+(s[1]?s:"0"+s[0])}return t}convertSpfDateTimeToDateString(e){return e&&((e=e.replace(" ","T")).endsWith("Z")||(e+="Z"),3===(e.match(/:/g)||[]).length&&(e=e.replace(/:([^:]*)$/,".$1").replace(/\//g,"-"))),e}getSPFUTCDateString(e){let t="";const i=e.getUTCFullYear();if(!isNaN(i)){const n=(e.getUTCMonth()+1).toString(),s=e.getUTCDate().toString();t=this.getSPFDateFormattedString(i,n,s)}return t}getSPFDateString(e){let t="";const i=e.getFullYear();if(!isNaN(i)){const n=(e.getMonth()+1).toString(),s=e.getDate().toString();t=this.getSPFDateFormattedString(i,n,s)}return t}getSPFDateFormattedString(e,t,i){return e.toString()+"/"+(t[1]?t:"0"+t[0])+"/"+(i[1]?i:"0"+i[0])}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=n.Ob({token:e,factory:e.\u0275fac}),e})()},DgwV:function(e,t,i){"use strict";i.d(t,"a",(function(){return p}));var n=i("tk/3"),s=i("z6cu"),a=i("LRne"),o=i("lJxs"),r=i("JIr8"),c=i("Z9D8");class l{constructor(e,t,i,n){this.entitySetName=e,this.targetProperty=t,this.term=i,this.boolValue=n}}var d=i("J7mc"),h=i("Ejbi"),u=i("fXoL");let p=(()=>{class e{constructor(e,t){this.dataService=e,this.sdaTranslateService=t,this.METADATA_SERVICE_URL_BUILD_ERROR=this.sdaTranslateService.get("METADATA_SERVICE_URL_BUILD_ERROR","An error occurred whilst creating a request url"),this.METADATA_SERVICE_ERROR_RETRIEVING_METADATA=this.sdaTranslateService.get("METADATA_SERVICE_ERROR_RETRIEVING_METADATA","An error occurred retrieving metadata"),this.METADATA_SERVICE_UNAUTHORIZED_RETRIEVING_METADATA=this.sdaTranslateService.get("METADATA_SERVICE_UNAUTHORIZED_RETRIEVING_METADATA","Unauthorized request"),this.NAMESPACE_ALIAS="SDA:",this.getTypeByEntitySet=e=>this.metadataDictionary.entitySets[e].type,this.getEntitySetByType=e=>{for(const t in this.metadataDictionary.entitySets)if(e===this.metadataDictionary.entitySets[t].type)return t}}getEntity(e,t,i,n,a){if(this.metadataDictionary.entitySets.hasOwnProperty(i)){let o="";if(!t||t.length<=0)return Object(s.a)("error");o=this.buildEntityInstanceUrl(i,t);let r=!1;if(n)for(const e in this.metadataDictionary.entitySets[i].navigationProperties)this.metadataDictionary.entitySets[i].navigationProperties.hasOwnProperty(e)&&(r||(o+="?$expand=",r=!0),o+=e+"($count=true),");else if(a)for(let e=0;e<a.length;e++)r||(o+="?$expand=",r=!0),o+=a[e]+"($count=true),";return","===o[o.length-1]&&(o=o.slice(0,o.length-1)),this.dataService.get(o,e)}return Object(s.a)("error")}getEntitySetByName(e){const t=this.metadataDictionary.entitySets;if(t.hasOwnProperty(e))return t[e]}regenerateMetadata(){return this.dataService.post("RegenerateMetadata","")}getFriendlyTypeName(e){const t=e.split(".");return t[t.length-1]}getObjectTypes(){if(!this.objectTypes){this.objectTypes=[];for(const e in this.metadataDictionary.entitySets)this.metadataDictionary.entitySets.hasOwnProperty(e)&&"JsonBlobs"!==e&&this.objectTypes.push({entitySet:e,type:this.metadataDictionary.entitySets[e].type})}return this.objectTypes}getEntitySets(){return this.metadataDictionary.entitySets}getObjectProperties(e){if(this.metadataDictionary.entitySets.hasOwnProperty(e)&&this.metadataDictionary.entitySets[e])return this.metadataDictionary.entitySets[e].properties}getObjectPropertiesByConfig(e,t){const i=e+"_"+t;return this.metadataDictionary.entitySets.hasOwnProperty(i)&&this.metadataDictionary.entitySets[i]?Object(a.a)(this.metadataDictionary.entitySets[i].properties):this.initializeMetadataForOpenType(e,t).pipe(Object(o.a)(()=>{let e;return this.metadataDictionary.entitySets.hasOwnProperty(i)&&this.metadataDictionary.entitySets[i]&&(e=this.metadataDictionary.entitySets[i].properties),e}))}getNavigationProperties(e){if(this.metadataDictionary.entitySets.hasOwnProperty(e)&&this.metadataDictionary.entitySets[e])return this.metadataDictionary.entitySets[e].navigationProperties}getNavigationPropertyType(e,t){if(this.metadataDictionary.entitySets[e]&&this.metadataDictionary.entitySets[e].navigationProperties[t])return this.metadataDictionary.entitySets[e].navigationProperties[t].type}getFullyQualifiedNavPropertyType(e,t){if(this.metadataDictionary.entitySets[e]&&this.metadataDictionary.entitySets[e].navigationProperties[t])return this.metadataDictionary.entitySets[e].navigationProperties[t].fullyQualifiedType}getNavigationPropertyTypes(e){const t=[];if(this.metadataDictionary.entitySets.hasOwnProperty(e))for(const i in this.metadataDictionary.entitySets[e].navigationProperties)this.metadataDictionary.entitySets[e].navigationProperties.hasOwnProperty(i)&&t.indexOf(this.metadataDictionary.entitySets[e].navigationProperties[i].name)<0&&t.push({name:i,entitySet:this.metadataDictionary.entitySets[e].navigationProperties[i].entitySet,type:this.metadataDictionary.entitySets[e].navigationProperties[i].fullyQualifiedType});return t}getNavigationPropertyEntitySetName(e,t){const i=this.metadataDictionary.entitySets[e];if(i&&i.navigationProperties&&i.navigationProperties.hasOwnProperty(t))return i.navigationProperties[t].entitySet}isRelatedToViewableType(e){const t=this.getViewableNavigationProperties(e);return!(!t||t.length<=0)}getViewableNavigationProperties(e){const t=[];if(this.metadataDictionary.entitySets.hasOwnProperty(e)){const i=this.metadataDictionary.entitySets[e];for(const e in i.navigationProperties)i.navigationProperties.hasOwnProperty(e)&&this.metadataDictionary.viewableTypes.hasOwnProperty(i.navigationProperties[e].fullyQualifiedType)&&t.push(e)}return t}findProperties(e,t,i){return this.findPropertiesImpl(e,t,void 0!==i&&i)}getEntitySetUrl(e){return Settings.odata.url+"/"+e}getNavigationUrl(e,t,i){let n=this.buildEntityInstanceUrl(e,t);return n+="/"+i,n}initializeMetadata(){return this.getXml().pipe(Object(o.a)(e=>{let t=!1;return this.metadataDictionary=this.loadMetadata(e),this.metadataDictionary&&(t=!0),t}),Object(r.a)(e=>e.hasOwnProperty("statusCode")&&401===e.statusCode?Object(s.a)(new c.a(e,this.METADATA_SERVICE_UNAUTHORIZED_RETRIEVING_METADATA,"odata.service","initialiseMetadata")):Object(s.a)(new c.a(e,this.METADATA_SERVICE_ERROR_RETRIEVING_METADATA,"odata.service","initialiseMetadata"))))}getXml(){return this.getXmlWithConfig(void 0)}getXmlWithConfig(e){const t=new n.d({"Content-Type":"text/xml",Accept:"text/xml"});return this.dataService.get("$metadata",e,void 0,void 0,t)}initializeMetadataForOpenType(e,t){return this.getXmlWithConfig(t).pipe(Object(o.a)(i=>this.addOpenTypeEntityToMetadataDictionary(i,e,t)),Object(r.a)(e=>e.hasOwnProperty("statusCode")&&401===e.statusCode?Object(s.a)(new c.a(e,this.METADATA_SERVICE_UNAUTHORIZED_RETRIEVING_METADATA,"odata.service","initializeMetadataForOpenType")):Object(s.a)(new c.a(e,this.METADATA_SERVICE_ERROR_RETRIEVING_METADATA,"odata.service","initializeMetadataForOpenType"))))}addOpenTypeEntityToMetadataDictionary(e,t,i){let n;if(!e)return!1;window.hasOwnProperty("DOMParser")?n=(new DOMParser).parseFromString(e,"text/xml"):(n=new ActiveXObject("Microsoft.XMLDOM"),n.async=!1,n.loadXML(e));const s=this.getAnnotations(n),a=n.getElementsByTagName("Schema")[0].attributes.getNamedItem("Namespace").nodeValue,o=n.getElementsByTagName("EntityType");for(let r=0;r<o.length;r++){const e=o[r],c=e.attributes.getNamedItem("Name").nodeValue;let l=a?a+"."+c:c,d=this.getEntitySetName(n,l);if(l+="_"+i,!d||t!==d)continue;const h=d;return d=d+"_"+i,this.metadataDictionary.entitySets[d]={key:"Id",type:l,namespace:a,navigationProperties:{},properties:{}},this.addEntityPropertiesWithOriginalSetName(e,d,h,s),!0}return!1}findPropertiesImpl(e,t,i){if(this.metadataDictionary.entitySets[e]){for(const i in this.metadataDictionary.entitySets[e].properties)if(this.metadataDictionary.entitySets[e].properties.hasOwnProperty(i)&&i.toLowerCase()===t.toLowerCase())return i;if(i)return;for(const i in this.metadataDictionary.entitySets[e].properties)if(this.metadataDictionary.entitySets[e].properties.hasOwnProperty(i)&&i.toLowerCase().indexOf(t.toLowerCase())>-1)return i}}buildEntityInstanceUrl(e,t){let i="";return i=t?this.getKeyType(e).toLowerCase().indexOf("string")>=0?"/"+e+"('"+t+"')":"/"+e+"("+t+")":"/"+e,i}getKeyType(e){if(this.metadataDictionary.entitySets.hasOwnProperty(e)){const t=this.metadataDictionary.entitySets[e].key;if(this.metadataDictionary.entitySets[e].properties.hasOwnProperty(t))return this.metadataDictionary.entitySets[e].properties[t].type;throw this.sdaTranslateService.getFormatted("METADATA_SERVICE_INVALID_KEY_NAME_FOR_ENTITY_SET-KEY_NAME-ENTITY_SET","Invalid key name: {0} for entity set: {1}",[t,e])}throw this.sdaTranslateService.getFormatted("METADATA_SERVICE_INVALID_ENTITY_SET-ENTITY_SET","Invalid entity set: {0}",[e])}loadMetadata(e){if(e){let t;return window.hasOwnProperty("DOMParser")?t=(new DOMParser).parseFromString(e,"text/xml"):(t=new ActiveXObject("Microsoft.XMLDOM"),t.async=!1,t.loadXML(e)),this.buildMetadataDictionary(t)}}buildMetadataDictionary(e){const t=this.getAnnotations(e),i=e.getElementsByTagName("Schema")[0].attributes.getNamedItem("Namespace").nodeValue;this.metadataDictionary={entitySets:{},entities:{},actions:{},namespace:i,viewableTypes:{}};const n=e.getElementsByTagName("EntityType");for(let s=0;s<n.length;s++){const a=n[s],o=a.attributes.getNamedItem("Name").nodeValue,r=i?i+"."+o:o,c=this.getEntitySetName(e,r),l=a.getElementsByTagName("Key");let d="Id";this.metadataDictionary.entities[r]={},this.setBaseType(a,r,c,e),l&&l.length>0&&(d=a.getElementsByTagName("Key")[0].getElementsByTagName("PropertyRef")[0].attributes.getNamedItem("Name").nodeValue),c&&(this.metadataDictionary.entitySets[c]={key:d,type:r,namespace:i,navigationProperties:{},properties:{}},this.metadataDictionary.entities[r]={key:d,namespace:i,navigationProperties:{},properties:{}},this.setIsOpenType(a,r,c),this.setIsInterface(a,r,c),this.setUID(a,r,c),this.setHideFromList(a,r,c),this.setDisplayAs(a,r,c),this.setPropertyDefUID(a,r,c),this.setNavigationPath(a,r,c),this.setQueryDisabled(a,r,c),this.addEntityProperties(a,c,t),this.addEntityNavigationProperties(a,c,e))}return this.addActions(e),this.metadataDictionary}getAnnotations(e){const t=e.getElementsByTagName("Annotations"),i=new Array;for(let n=0;n<t.length;n++){const s=t[n],a=s.attributes.getNamedItem("Target").nodeValue;if(a&&a.length>0&&a.includes("/")&&2===a.split("/").length){const t=a.split("/")[0],n=a.split("/")[1],o=s.getElementsByTagName("Annotation");if(o&&o.length>0)for(let s=0;s<o.length;s++){const a=o[s],r=a.attributes.getNamedItem("Term").nodeValue,c=a.attributes.getNamedItem("Bool").nodeValue;let d=!1;c&&"true"===c&&(d=!0),i.push(new l(this.getEntitySetName(e,t),n,r,d))}}}return i}setBaseType(e,t,i,n){let s="";if(e.attributes.getNamedItem("BaseType")&&(s=e.attributes.getNamedItem("BaseType").nodeValue,this.metadataDictionary.entities[t].baseType=s,!i)){const e=this.getEntitySetName(n,s);this.metadataDictionary.entities[t].entitySet=e}}setIsOpenType(e,t,i){if(e.attributes.getNamedItem("OpenType")){const n="true"===e.attributes.getNamedItem("OpenType").nodeValue;this.metadataDictionary.entities[t].isOpenType=n,i&&(this.metadataDictionary.entitySets[i].isOpenType=n)}}setIsInterface(e,t,i){if(e.attributes.getNamedItem(this.NAMESPACE_ALIAS+"TypeIsInterfaceDef")){const n="true"===e.attributes.getNamedItem(this.NAMESPACE_ALIAS+"TypeIsInterfaceDef").nodeValue;this.metadataDictionary.entities[t].isInterface=n,i&&(this.metadataDictionary.entitySets[i].isInterface=n)}}setUID(e,t,i){if(e.attributes.getNamedItem(this.NAMESPACE_ALIAS+"TypeUID")){const n=e.attributes.getNamedItem(this.NAMESPACE_ALIAS+"TypeUID").nodeValue;this.metadataDictionary.entities[t].typeUID=n,i&&(this.metadataDictionary.entitySets[i].typeUID=n)}}setHideFromList(e,t,i){if(e.attributes.getNamedItem(this.NAMESPACE_ALIAS+"HideFromList")){const n="true"===e.attributes.getNamedItem(this.NAMESPACE_ALIAS+"HideFromList").nodeValue;this.metadataDictionary.entities[t].hideFromList=n,i&&(this.metadataDictionary.entitySets[i].hideFromList=n)}else this.metadataDictionary.entities[t].hideFromList=!1,i&&(this.metadataDictionary.entitySets[i].hideFromList=!1)}setDisplayAs(e,t,i){if(e.attributes.getNamedItem(this.NAMESPACE_ALIAS+"DisplayAs")){const n=e.attributes.getNamedItem(this.NAMESPACE_ALIAS+"DisplayAs").nodeValue;this.metadataDictionary.entities[t].displayAs=n,i&&(this.metadataDictionary.entitySets[i].displayAs=n)}}setPropertyDefUID(e,t,i){if(e.attributes.getNamedItem(this.NAMESPACE_ALIAS+"PropertyDefUID")){const n=e.attributes.getNamedItem(this.NAMESPACE_ALIAS+"PropertyDefUID").nodeValue;this.metadataDictionary.entities[t].propertyDefUID=n,i&&(this.metadataDictionary.entitySets[i].propertyDefUID=n)}}setNavigationPath(e,t,i){if(e.attributes.getNamedItem(this.NAMESPACE_ALIAS+"NavPath")){const n=e.attributes.getNamedItem(this.NAMESPACE_ALIAS+"NavPath").nodeValue;this.metadataDictionary.entities[t].navigationPath=n,i&&(this.metadataDictionary.entitySets[i].navigationPath=n)}}setQueryDisabled(e,t,i){if(e.attributes.getNamedItem(this.NAMESPACE_ALIAS+"QueryDisabled")){const n="true"===e.attributes.getNamedItem(this.NAMESPACE_ALIAS+"QueryDisabled").nodeValue;this.metadataDictionary.entities[t].queryDisabled=n,i&&(this.metadataDictionary.entitySets[i].queryDisabled=n)}else this.metadataDictionary.entities[t].queryDisabled=!1,i&&(this.metadataDictionary.entitySets[i].queryDisabled=!1)}addEntityProperties(e,t,i){return this.addEntityPropertiesWithOriginalSetName(e,t,t,i)}addEntityPropertiesWithOriginalSetName(e,t,i,n){const s=e.getElementsByTagName("Property");for(let a=0;a<s.length;a++){const e=s[a].attributes.getNamedItem("Name").nodeValue,o=s[a].attributes.getNamedItem("Type").nodeValue,r=this.resolveBooleanProperties(s[a].attributes.getNamedItem("SDA:SortableProperty"),!0),c=this.resolveBooleanProperties(s[a].attributes.getNamedItem("SDA:IsDateTimeAsString"),!1),l=this.resolveBooleanProperties(s[a].attributes.getNamedItem("SDA:IsDateAsString"),!1);let d;s[a].attributes.getNamedItem("SDA:SelectList")?d=s[a].attributes.getNamedItem("SDA:SelectList").nodeValue:s[a].attributes.getNamedItem("SDA:UnitCategory")&&(d="");const h=this.resolveStringProperties(s[a].attributes.getNamedItem("SDA:DisplayAs"))||e.split("_").join(" "),u=this.resolveNumberProperties(s[a].attributes.getNamedItem("SDA:ColumnSize")),p=this.resolveBooleanProperties(s[a].attributes.getNamedItem("SDA:DisableInView"),!1),g=this.resolveStringProperties(s[a].attributes.getNamedItem("SDA:PropertyDefUID")),f=this.resolveStringProperties(s[a].attributes.getNamedItem("SDA:NavPath")),m=this.resolveStringProperties(s[a].attributes.getNamedItem("SDA:SearchFilterBehaviour")),b=this.resolveBooleanProperties(s[a].attributes.getNamedItem("SDA:IncludeInSearchFilters"),!1);let S=!1;S=this.getIsURL(n,t!==i?i:t,e),this.metadataDictionary.entitySets[t].properties[e]={type:o,displayName:h,name:e.split("_").join(" "),sortable:r,filterable:""!==d,filterableProperty:d||void 0,dateTimeAsString:c,dateAsString:l,size:u,disableInView:p,propertyDefUID:g,navigationPath:f,includeInSearchFilters:b,searchFilterBehaviour:m,isURL:S}}}getIsURL(e,t,i){let n=!1;if(e&&e.length>0)for(let s=0;s<e.length;s++)e[s]&&e[s].entitySetName===t&&e[s].targetProperty===i&&"Org.OData.Core.V1.IsURL"===e[s].term&&(n=e[s].boolValue);return n}addEntityNavigationProperties(e,t,i){const n=e.getElementsByTagName("NavigationProperty");for(let s=0;s<n.length;s++){const e=n[s],a=e.attributes.getNamedItem("Name").nodeValue;let o,r=e.attributes.getNamedItem("Type").nodeValue;e.attributes.getNamedItem(this.NAMESPACE_ALIAS+"SPFNavigationPath")&&(o=e.attributes.getNamedItem(this.NAMESPACE_ALIAS+"SPFNavigationPath").nodeValue);const c="Collection(";let l=!1;r.indexOf("Collection")>=0&&(r=r.slice(c.length,r.length-1),l=!0);const d=r.split("."),h=d[d.length-1],u=i.getElementsByTagName("EntityType");let p;for(let t=0;t<u.length;t++)u[t].attributes.getNamedItem("Name").nodeValue===h&&(p=u[t]);const g=this.getEntitySetName(i,r,p);this.metadataDictionary.entitySets[t].navigationProperties[a]={entitySet:g,type:h,fullyQualifiedType:r,isCollection:l,spfPropertyPath:o}}}addActions(e){const t=e.getElementsByTagName("Action");for(let i=0;i<t.length;i++){const e=t[i],n=this.metadataDictionary.namespace+"."+e.attributes.getNamedItem("Name").nodeValue,s=e.getElementsByTagName("Parameter"),a=e.getElementsByTagName("ReturnType"),o=!!e.attributes.getNamedItem("IsBound")&&e.attributes.getNamedItem("IsBound").nodeValue,r={},c=a.length>0?a[0].attributes.getNamedItem("Type").nodeValue:void 0;let l="";for(let t=0;t<s.length;t++)if(o&&0===t)l=s[t].attributes.getNamedItem("Type").nodeValue;else{const e=s[t].attributes.getNamedItem("Name").nodeValue,i=s[t].attributes.getNamedItem("Type").nodeValue;r[e]={type:i}}this.metadataDictionary.actions[n]={boundBy:l,parameters:r,returnType:c},n===this.metadataDictionary.namespace+".RetrieveFileURLs"&&l&&(this.metadataDictionary.viewableTypes[l]={entitySet:this.getEntitySetByType(l)})}}getEntitySetName(e,t,i){const n=e.getElementsByTagName("EntitySet");for(let s=0;s<n.length;s++){const e=n[s];if(e.attributes.getNamedItem("EntityType").nodeValue===t)return e.attributes.getNamedItem("Name").nodeValue}if(i&&i.attributes.getNamedItem("BaseType")){const t=i.attributes.getNamedItem("BaseType").nodeValue;return this.getEntitySetName(e,t)}}XMLDecode(e){let t=e;return t=t.replace(/&amp;/g,"&"),t=t.replace(/&quot;/g,'"'),t=t.replace(/&gt;/g,">"),t=t.replace(/&lt;/g,""),t=t.replace(/&apos;/g,"'"),t}resolveBooleanProperties(e,t){return e?"true"===e.nodeValue:t}resolveStringProperties(e){return e?this.XMLDecode(e.nodeValue):""}resolveNumberProperties(e){return e?parseInt(e.nodeValue,10):0}}return e.\u0275fac=function(t){return new(t||e)(u.dc(d.a),u.dc(h.a))},e.\u0275prov=u.Ob({token:e,factory:e.\u0275fac}),e})()},"DjP+":function(e,t,i){"use strict";i.d(t,"a",(function(){return o}));var n=i("fXoL");const s=[[["uxt-property-section"]]],a=["uxt-property-section"];let o=(()=>{class e{constructor(){this.className=!0}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=n.Mb({type:e,selectors:[["uxt-property-grid"]],hostVars:2,hostBindings:function(e,t){2&e&&n.Ib("uxt-property-grid",t.className)},ngContentSelectors:a,decls:2,vars:0,consts:[[1,"uxt-property-grid__table"]],template:function(e,t){1&e&&(n.rc(s),n.Yb(0,"div",0),n.qc(1),n.Xb())},styles:[".uxt-property-grid{display:flex;overflow:hidden}.uxt-property-grid__table{flex-grow:1;width:100%;overflow:hidden}"],encapsulation:2}),e})()},DxXH:function(e,t,i){"use strict";i.d(t,"a",(function(){return c}));var n=i("tk/3"),s=i("kx0E"),a=i("J7mc"),o=i("Tx8r"),r=i("fXoL");let c=(()=>{class e{constructor(e,t){this.dataFormatService=e,this.dataService=t,this.containsOnlyPPM2DPPM3DFileTypes=!1}static getFileTypeCategory(e){let t;const i=this.getFileType(e);switch(i&&i.toLowerCase()){case"igr":case"sha":case"sma":case"pid":case"zyq":case"spe":t=o.a.PPM2D;break;case"vue":case"zvf":t=o.a.PPM3D;break;case"binz":t=o.a.BINZ;break;case"vecz":t=o.a.VECZ;break;default:t=o.a.NONPPM}return t}static getFileType(e){return e&&e.substr(e.toLocaleLowerCase().lastIndexOf(".")+1)}filterViewableFiles(t,i,n,s){let a=new Array,r=!1;return i?(t.forEach(i=>{if(void 0!==i.CI_SPFViewInd&&!0===i.CI_SPFViewInd||void 0===i.CI_SPFViewInd)if(n){const n=e.getFileTypeCategory(i.Name);n===o.a.PPM3D||n===o.a.PPM2D?(1===t.length||s&&n===o.a.PPM3D)&&a.push(i):(s||a.push(i),r=!0)}else a.push(i)}),!r&&t.length>0&&0===a.length&&(this.containsOnlyPPM2DPPM3DFileTypes=!0)):a=t,a}convertFilesDates(e){return e.forEach(e=>{Object.keys(e).forEach(t=>{if(t.includes("@Intergraph.SPF.Server.API.Model.ScopedById")){const i=e[t];if(i.includes("Edm.Date")){const n=t.substring(0,t.indexOf("@Intergraph.SPF.Server.API.Model.ScopedById"));kendo.parseDate(e[n])&&(e[n]=this.getFormattedDate(e[n],i))}}})}),e}filterFilesFromDocument(e,t){let i=[];return t?e instanceof Array?e.forEach(e=>{i.push(...this.getAlternateFiles(e))}):i=this.getAlternateFiles(e):i=e,i}getAlternateFiles(e){const t=[];return e.SPFFileComposition_21.forEach(e=>{e.SPFFileAlternateRendition_12.length>0&&e.SPFFileAlternateRendition_12.forEach(e=>{t.push(e)})}),t}getReferenceFiles(e,t){const i=`Objects('${e}')/SPFFileComposition_21?$top=100&$count=true&$expand=SPFReferenceFile_12($expand=SPFFileComposition_12)`,s=new n.d({Prefer:'odata.include-annotations="*"'});return this.dataService.get(i,t,!1,"CS_CKOColumnSet",s)}getDocumentFromOBID(e,t,i){const s="Objects?$filter="+e,a=new n.d({Prefer:'odata.include-annotations="*"'});return this.dataService.get(s,t,!1,i,a)}allFilesRequireWebGLGeneration(){return this.containsOnlyPPM2DPPM3DFileTypes}getFormattedDate(e,t){const i=new Date(e);let n="";return"Edm.Date"===t?n=this.dataFormatService.getDateFormat():"Edm.DateTimeOffset"===t&&(n=this.dataFormatService.getDateTimeFormat()),kendo.toString(i,n)}}return e.\u0275fac=function(t){return new(t||e)(r.dc(s.a),r.dc(a.a))},e.\u0275prov=r.Ob({token:e,factory:e.\u0275fac}),e})()},ESHU:function(e,t,i){"use strict";i.d(t,"a",(function(){return o}));var n=i("LRne"),s=i("Ejbi"),a=i("fXoL");let o=(()=>{class e{constructor(e){this.sdaTranslateService=e,this.STATUS_OK=200}validateFileURLs(e){const t=[];return e.forEach(e=>{const i=e.ContentLength?e.ContentLength:0;t.push({Id:e.Id,Name:this.getFileName(e.URL),URL:e.URL,StatusCode:this.STATUS_OK,ContentLength:i,ReadableContentLength:this.getReadableFileSize(i),ParentFileOBID:e.ParentFileOBID})}),Object(n.a)(t)}getFileName(e){let t="";return e&&(t=this.getDecodedURLString(e.substring(e.lastIndexOf("/")+1))),t}getReadableFileSize(e){let t=e;if(0===t)return this.sdaTranslateService.get("FILE_DOWNLOAD_UNKNOWN_FILESIZE","Unknown");if(t<1e3)return t+" B";let i=-1;do{t/=1e3,++i}while(t>=1e3);return t.toFixed(1)+" "+["kB","MB","GB","TB","PB","EB","ZB","YB"][i]}getDecodedURLString(e){let t="";return e&&(t=decodeURIComponent(e)),t}}return e.\u0275fac=function(t){return new(t||e)(a.dc(s.a))},e.\u0275prov=a.Ob({token:e,factory:e.\u0275fac}),e})()},EbyY:function(e,t,i){"use strict";i.d(t,"a",(function(){return n}));class n{constructor(e,t,i,n,s){this.displayName=e,this.name=t,this.reportObid=i,this.hasPrompt=n,this.reportType=s}}},EcfP:function(e,t,i){"use strict";i.d(t,"a",(function(){return o}));var n=i("MBXK"),s=i("XSwO"),a=i("fXoL");let o=(()=>{class e{constructor(){this.dialogTargetId="uxt-dialog"}alert(e,t,i="ok"){return this.createDialog({submitText:i,message:e,titleText:t},!1)}confirm(e){return this.createDialog({cancelText:e.cancelText||"cancel",message:e.message,submitText:e.submitText||"ok",titleText:e.titleText},!0)}removeDialog(){const e=document.body.querySelector("#uxt-dialog");e&&document.body.removeChild(e)}isDialogOpen(){return!!document.querySelector("#uxt-dialog")}createDialog(e,t){return new Promise(i=>{const n={submit:this.getOutputHandler(i)};t&&Object.assign(n,{cancel:this.getOutputHandler(i)}),this.showDialog(Object.assign({},e,n))})}getOutputHandler(e){return t=>{this.removeDialog(),e(t)}}showDialog(e){const t=this.appendDialogTarget();!function(e){return Object(s.a)({afterRender(e){const t=e.querySelector(".uxt-dialog__overlay"),i=e.querySelector(".uxt-dialog__window");setTimeout(()=>{!function(e,t){e.classList.add("uxt-dialog__overlay--visible"),t.classList.add("uxt-dialog__window--visible")}(t,i)},150)},render:()=>Object(n.a)("div.uxt-dialog",[Object(n.a)("div.uxt-dialog__overlay"),Object(n.a)("div.uxt-dialog__window",[t(e),Object(n.a)("div.uxt-dialog__content",[Object(n.a)("span",[e.message])]),Object(n.a)("div",{classNames:e.cancelText&&e.submitText&&e.cancelText.length+e.submitText.length>25?["uxt-dialog__actions","uxt-dialog__actions--stacked"]:["uxt-dialog__actions"]},[a(e),i(e)])])])});function t({titleText:e}){return e?Object(n.a)("div.uxt-dialog__header",[Object(n.a)("span",[e])]):void 0}function i({cancel:e,cancelText:t}){return e?Object(n.a)("button",{className:"uxt-dialog__action__cancel",onClick:()=>e(!1)},[t]):void 0}function a({submit:e,submitText:t}){return e?Object(n.a)("button",{className:"uxt-dialog__action__submit",onClick:()=>e(!0)},[t]):void 0}}(e)(t)}appendDialogTarget(){if(this.isDialogOpen())throw new Error("Cannot open multiple dialogs");const e=document.createElement("uxt-dialog");return e.setAttribute("id",this.dialogTargetId),document.body.appendChild(e),e}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=a.Ob({token:e,factory:e.\u0275fac}),e})()},EiwA:function(e,t,i){"use strict";i.d(t,"a",(function(){return s}));var n=i("fXoL");let s=(()=>{class e{constructor(){this.isActionInitiatedExternally=!1,this.shouldSelectTags=!1,this.selectedTagUIDs=[]}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=n.Ob({token:e,factory:e.\u0275fac}),e})()},Ejbi:function(e,t,i){"use strict";i.d(t,"a",(function(){return m}));var n=i("cp0P"),s=i("LRne"),a=i("lJxs"),o=i("vkgz"),r=i("eIep"),c=i("JIr8"),l=i("dEBh"),d=i("FH9r"),h=i("NYVZ"),u=i("tCxB"),p=i("fXoL"),g=i("sYmb"),f=i("kuX+");let m=(()=>{class e{constructor(e,t,i,n,s,a){this.translateService=e,this.clientDataService=t,this.loggingService=i,this.dynamicLoaderService=n,this.windowService=s,this.intl=a,this.locale="en-US"}get(e,t){let i=this.translateService.instant(e);return i===e&&(i=t),i}getAsync(e,t){return this.translateService.get(e).pipe(Object(a.a)(i=>(i===e&&(i=t),i)))}getFormatted(e,t,i){return this.getFormattedByString(this.get(e,t),i)}getFormattedByString(e,t){if(t&&t.length>0){let i=0;t.forEach(t=>{e=e.replace(new RegExp("\\{"+i.toString()+"\\}","g"),t),i++})}return e}setClientTranslationLanguage(){this.translateService.setDefaultLang("en");const e=this.windowService.Window.navigator.language;return e?this.clientDataService.getLocalization().pipe(Object(o.a)(e=>{e&&(this.locale=e,this.intl.localeId="en-US")}),Object(r.a)(()=>this.setKendoLanguage()),Object(r.a)(()=>this.translateService.use(e.split("-")[0]))):this.translateService.use("en")}setKendoLanguage(){return Object(n.a)([this.dynamicLoaderService.lazyLoadGlobalScript(`./content/i18n/cultures/kendo.culture.${this.locale}.js`),this.dynamicLoaderService.lazyLoadGlobalScript(`./content/i18n/messages/kendo.messages.${this.locale}.js`)]).pipe(Object(o.a)(()=>{kendo.culture(this.locale)}),Object(c.a)(e=>(this.loggingService.error(e),Object(s.a)(kendo.culture(this.locale)))))}}return e.\u0275fac=function(t){return new(t||e)(p.dc(g.d),p.dc(d.a),p.dc(u.a),p.dc(h.a),p.dc(l.a),p.dc(f.b))},e.\u0275prov=p.Ob({token:e,factory:e.\u0275fac}),e})()},ExSe:function(e,t,i){"use strict";i.d(t,"a",(function(){return l}));var n=i("cp0P"),s=i("LRne"),a=i("lJxs"),o=i("ONOH"),r=i("A3La"),c=i("fXoL");let l=(()=>{class e{constructor(e,t){this.odataService=e,this.configService=t}userCanAccessObject(e,t=this.configService.selectedCreateConfig){return this.userCanAccessObjects([e],t)}userCanAccessObjects(e,t=this.configService.selectedCreateConfig){const i=[];return e&&e.forEach(e=>{e&&""!==e&&i.push(this.odataService.get("Objects('"+e+"')",t).pipe(Object(a.a)(e=>!(!e||204===e.originalResponse.status))))}),i&&i.length>0?Object(n.a)(i).pipe(Object(a.a)(e=>e.every(e=>!0===e))):Object(s.a)(!1)}}return e.\u0275fac=function(t){return new(t||e)(c.dc(r.a),c.dc(o.a))},e.\u0275prov=c.Ob({token:e,factory:e.\u0275fac}),e})()},"F+hv":function(e,t,i){"use strict";i.d(t,"a",(function(){return r}));var n=i("ofXK"),s=i("9Abt"),a=i("c+03"),o=i("fXoL");let r=(()=>{class e{static forRoot(){return{ngModule:e,providers:[a.a]}}}return e.\u0275mod=o.Qb({type:e}),e.\u0275inj=o.Pb({factory:function(t){return new(t||e)},imports:[[n.c,s.a]]}),e})()},F8JD:function(e,t,i){"use strict";i.d(t,"a",(function(){return d}));var n=i("lJxs"),s=i("ONOH"),a=i("Z9D8"),o=i("5G0X"),r=i("J7mc"),c=i("Ejbi"),l=i("fXoL");let d=(()=>{class e{constructor(e,t,i){this.dataService=e,this.configService=t,this.sdaTranslateService=i}transformToFeature(e,t,i,n){const s=new o.a(e,t,i);return s.apiParam1=n.SPFArgument1,s.apiParam2=n.SPFArgument2,s.apiParam3=n.SPFArgument3,s.apiParam4=n.SPFArgument4,s.apiParam5=n.SPFArgument5,s.apiParam6=n.SPFArgument6,s.apiParam7=n.SPFArgument7,s.apiParam8=n.SPFArgument8,s.apiParam9=n.SPFArgument9,s.apiParam10=n.SPFArgument10,s.apiParam11=n.SPFArgument11,s.apiParam12=n.SPFArgument12,s.apiParam13=n.SPFArgument13,s.apiParam14=n.SPFArgument14,s.apiParam15=n.SPFArgument15,s.apiParam16=n.SPFArgument16,s.apiParam17=n.SPFArgument17,s.apiParam18=n.SPFArgument18,s.methodOBID=n.OBID,s.isAuditRequired=n.SDxIsAuditRequired,s}getMethodByUID(e,t=!1){return this.getMethodAndExpandToClientAPI("UID",e,this.configService.selectedCreateConfig,!0,"Name").pipe(Object(n.a)(i=>{if(0===i.length)throw new a.a(this.sdaTranslateService.getFormatted("METHOD_SERVICE_ERROR","Unable to resolve method for UID: '{0}'",[e]));return this.transformToMethod(i[0],t)}))}getMethodsByCriteria(e,t,i){const n="Objects?$filter=contains(Interfaces, 'ISPFMethod') and ("+t.map(t=>`${e} eq  '${t}'`).join(" or ")+")&$expand=SPFClientAPIMethods_21&$select=UID,Name,OBID,SPFGUIDisplayAs&$count=true&$orderby=UID";return this.dataService.get(n,i,!0)}getMethodAndExpandToClientAPI(e,t,i,n,s){if(!t||!t.length)throw new a.a(this.sdaTranslateService.getFormatted("METHOD_SERVICE_EMPTY_UID_ERROR","Unable to resolve method. Empty method {0} parameter provided",[e]));let o=`Objects?$filter=contains(Interfaces, 'ISPFMethod') and ${e} eq '${t}'`;return n&&(o+="&$expand=SPFClientAPIMethods_21",s&&(o+=`($select=${s})`)),this.dataService.get(o,i,!0)}transformToMethod(e,t){return Object.assign({ClientAPI:e.SPFClientAPIMethods_21.Name,DisplayName:t?e.SPFGUIDisplayAs:e.SPFGUIDisplayAs.replace("...","")},e)}}return e.\u0275fac=function(t){return new(t||e)(l.dc(r.a),l.dc(s.a),l.dc(c.a))},e.\u0275prov=l.Ob({token:e,factory:e.\u0275fac}),e})()},FH9r:function(e,t,i){"use strict";i.d(t,"a",(function(){return d}));var n=i("z6cu"),s=i("lJxs"),a=i("JIr8"),o=i("Z9D8"),r=i("XpAN"),c=i("fXoL"),l=i("tk/3");let d=(()=>{class e{constructor(e,t){this.httpClient=e,this.iconService=t,this.url=Settings.clientServices.url,Settings.clientServices.url.endsWith("/")&&(this.url=Settings.clientServices.url.substr(0,Settings.clientServices.url.length-1))}cacheImages(){return this.httpClient.get(this.url.concat("/images")).pipe(Object(s.a)(e=>(this.iconService.registerImages(e),!0)),Object(a.a)(e=>this.handleException(e)))}getLocalization(){return this.httpClient.get(this.url.concat("/localization")).pipe(Object(a.a)(e=>this.handleException(e)))}getClientVersion(){return this.httpClient.get(this.url.concat("/version")).pipe(Object(a.a)(e=>this.handleException(e)))}handleException(e){return Object(n.a)(new o.a(e,"An error occured whilst communicating with client services","client-data.service","send"))}}return e.\u0275fac=function(t){return new(t||e)(c.dc(l.a),c.dc(r.a))},e.\u0275prov=c.Ob({token:e,factory:e.\u0275fac}),e})()},FcA5:function(e,t,i){"use strict";i.d(t,"a",(function(){return u}));var n=i("m8I0"),s=i("9Vyx"),a=i("fXoL"),o=i("ofXK"),r=i("NFeN");function c(e,t){1&e&&(a.Yb(0,"span",5),a.Tb(1,"span",6),a.Tb(2,"span",6),a.Tb(3,"span",6),a.Xb())}function l(e,t){if(1&e&&a.Tb(0,"mat-icon",7),2&e){const e=a.lc();a.sc("svgIcon",e.matSvgIcon)}}function d(e,t){if(1&e&&a.Tb(0,"i",8),2&e){const e=a.lc();a.Ib("fa-fw",e.displayName),a.sc("ngClass",e.styleClassIcon)}}function h(e,t){if(1&e&&(a.Yb(0,"span",9),a.Uc(1),a.Xb()),2&e){const e=a.lc();a.Eb(1),a.Wc(" ",e.displayName," ")}}let u=(()=>{class e extends s.a{constructor(){super(...arguments),this.type=n.a.Primary}}return e.\u0275fac=function(t){return p(t||e)},e.\u0275cmp=a.Mb({type:e,selectors:[["sda-button-primary"]],features:[a.Bb],decls:5,vars:23,consts:[["type","button",1,"button",3,"ngClass","disabled","click"],["class","button-loader",4,"ngIf"],["class","button__mat-icon",3,"svgIcon",4,"ngIf"],["class","button__icon","role","icon","aria-hidden","true",3,"fa-fw","ngClass",4,"ngIf"],["class","button__name",4,"ngIf"],[1,"button-loader"],[1,"button-loader__bar"],[1,"button__mat-icon",3,"svgIcon"],["role","icon","aria-hidden","true",1,"button__icon",3,"ngClass"],[1,"button__name"]],template:function(e,t){1&e&&(a.Yb(0,"button",0),a.hc("click",(function(e){return t.onClick.emit(e)})),a.Sc(1,c,4,0,"span",1),a.Sc(2,l,1,1,"mat-icon",2),a.Sc(3,d,1,3,"i",3),a.Sc(4,h,2,1,"span",4),a.Xb()),2&e&&(a.Ib("button--compact",t.isCompact)("button--default","Default"===t.type)("button--primary","Primary"===t.type)("button--neutral","Neutral"===t.type)("button--success","Success"===t.type)("button--destroy","Destroy"===t.type)("button--abort","Abort"===t.type)("button--plain","Plain"===t.type),a.sc("ngClass",t.styleClassButton)("disabled",t.isDisabled),a.Fb("title",t.title),a.Eb(1),a.sc("ngIf",t.isLoading),a.Eb(1),a.sc("ngIf",t.matSvgIcon&&!t.isLoading),a.Eb(1),a.sc("ngIf",t.styleClassIcon&&!t.isLoading),a.Eb(1),a.sc("ngIf",t.displayName))},directives:[o.q,o.t,r.a],styles:[".button[_ngcontent-%COMP%]{display:flex;align-items:center;flex:1 1 auto;min-width:40px;height:34px;padding:0 12px;font-size:14px;transition:all 175ms cubic-bezier(.1,.65,.1,.65);box-shadow:none;text-shadow:none;border-radius:3px}.button--compact[_ngcontent-%COMP%]{min-width:30px;height:30px;padding-right:10px;padding-left:10px}.button[disabled][_ngcontent-%COMP%]   *[_ngcontent-%COMP%]{opacity:.4;pointer-events:none}.button[disabled][_ngcontent-%COMP%]:active{background-color:initial}.button__icon[_ngcontent-%COMP%]{flex-shrink:0;color:inherit}.button__icon[_ngcontent-%COMP%]:only-child{font-size:18px}.button__icon[_ngcontent-%COMP%]:not(:only-child){font-size:14px}.button__mat-icon[_ngcontent-%COMP%]{width:20px;height:20px}.button__name[_ngcontent-%COMP%]{color:inherit}.button__name[_ngcontent-%COMP%]:not(:only-child){margin-left:8px}.button[_ngcontent-%COMP%]     svg[role=icon]{color:inherit;width:20px;height:auto}.button-loader[_ngcontent-%COMP%]{display:flex;justify-content:space-between;flex-basis:18px}@-webkit-keyframes bars{0%,to{opacity:1;-webkit-transform:scaleY(1);transform:scaleY(1)}35%{opacity:.5}50%{-webkit-transform:scaleY(1.8);transform:scaleY(1.8)}65%{opacity:1}}@keyframes bars{0%,to{opacity:1;-webkit-transform:scaleY(1);transform:scaleY(1)}35%{opacity:.5}50%{-webkit-transform:scaleY(1.8);transform:scaleY(1.8)}65%{opacity:1}}.button-loader__bar[_ngcontent-%COMP%]{width:4px;height:10px;background-color:#fff;-webkit-animation:bars 1s ease-in-out infinite;animation:bars 1s ease-in-out infinite}.button-loader__bar[_ngcontent-%COMP%]:first-child{-webkit-animation-delay:.15s;animation-delay:.15s}.button-loader__bar[_ngcontent-%COMP%]:nth-child(2){-webkit-animation-delay:.3s;animation-delay:.3s}.button-loader__bar[_ngcontent-%COMP%]:nth-child(3){-webkit-animation-delay:.45s;animation-delay:.45s}",".button--primary[_ngcontent-%COMP%]{color:#fff;background-color:#007faa;border-color:#006c91}.button--primary[_ngcontent-%COMP%]:not([disabled]):hover{background:#006691;border-color:#005478}"]}),e})();const p=a.ac(u)},FedY:function(e,t,i){"use strict";i.d(t,"a",(function(){return n}));class n{static sortByString(e,t,i=!0,n=!0){return e===t?0:e?t?this.compareStrings(e,t,i,n):n?1:-1:n?-1:1}static compareStrings(e,t,i,n){let s=0;return i&&(e=this.assignIgnoreCase(e),t=this.assignIgnoreCase(t)),e<t?s=n?-1:1:e>t&&(s=n?1:-1),s}static sortByDate(e,t,i=!0){let n=0;return i?(e>t&&(n=-1),e<t&&(n=1)):(e<t&&(n=-1),e>t&&(n=1)),n}static sortByNumber(e,t){let i=0;return void 0!==e&&void 0!==t&&(e<t?i=-1:e>t&&(i=1)),i}static chunk(e,t){const i=[];let n=0;if(e)for(;n<e.length;)i.push(e.slice(n,t+n)),n+=t;return i}static assignIgnoreCase(e){return e?e.toUpperCase():e}}},FhAo:function(e,t,i){"use strict";i.d(t,"a",(function(){return l}));var n=i("LRne"),s=i("lJxs"),a=i("U7l/"),o=i("Qpiy"),r=i("fXoL"),c=i("jhN1");let l=(()=>{class e{constructor(e,t,i){this.titleService=e,this.meta=t,this.serverInformationService=i}init(){return this.applicationNameOverrides?Object(n.a)(this.applicationNameOverrides):this.serverInformationService.ServerInformationSet?Object(n.a)(this.handleProductNames(this.serverInformationService.ServerInformation)):this.serverInformationService.getServerInformation().pipe(Object(s.a)(e=>this.handleProductNames(e)))}handleProductNames(e){return e&&(this.applicationNameOverrides=this.setProductNames(e),this.titleService.setTitle(this.applicationNameOverrides.TITLE_BAR_NAME),this.meta.addTag({name:"application-name",content:this.applicationNameOverrides.TITLE_BAR_NAME})),this.applicationNameOverrides}setProductNames(e){return{TITLE_BAR_NAME:e.WebClientTitleBarName?e.WebClientTitleBarName:a.g,APPLICATION_SHORT_NAME:e.WebClientApplicationShortName?e.WebClientApplicationShortName:a.f,APPLICATION_LONG_NAME:e.WebClientApplicationLongName?e.WebClientApplicationLongName:a.e,APPLICATION_FULL_NAME:e.WebClientApplicationFullName?e.WebClientApplicationFullName:a.d}}}return e.\u0275fac=function(t){return new(t||e)(r.dc(c.f),r.dc(c.e),r.dc(o.a))},e.\u0275prov=r.Ob({token:e,factory:e.\u0275fac}),e})()},GoKz:function(e,t,i){"use strict";i.d(t,"a",(function(){return p}));var n=i("LUpO"),s=i("wKWS"),a=i("c+03"),o=i("Qi+w"),r=i("HLw3"),c=i("/XUs"),l=i("Ejbi"),d=i("41Lq"),h=i("gtQ4"),u=i("fXoL");let p=(()=>{class e{constructor(e,t,i,n,s,a,o,r){this.httpService=e,this.fileQueueFactory=t,this.batchRequestFactory=i,this.pinsMenuService=n,this.exceptionService=s,this.sdaTranslateService=a,this.notificationService=o,this.loadingOverlayService=r}createDocumentService(){return new h.a(this.httpService,this.fileQueueFactory,this.batchRequestFactory,this.pinsMenuService,this.exceptionService,this.sdaTranslateService,this.notificationService,this.loadingOverlayService)}}return e.\u0275fac=function(t){return new(t||e)(u.dc(c.a),u.dc(s.a),u.dc(r.a),u.dc(o.a),u.dc(n.a),u.dc(l.a),u.dc(d.a),u.dc(a.a))},e.\u0275prov=u.Ob({token:e,factory:e.\u0275fac}),e})()},HLw3:function(e,t,i){"use strict";i.d(t,"a",(function(){return m}));var n=i("ONOH"),s=i("SXtU"),a=i("A1MZ"),o=i("Ejbi"),r=i("tk/3"),c=i("lJxs"),l=i("Z9D8"),d=i("KrX4"),h=function(e){return e[e.New=0]="New",e[e.Headers=1]="Headers",e[e.Content=2]="Content",e}({});class u{constructor(){this.responses=[],this.currentSection=h.New,this.thisSectionContent="",this.changeset=!1}}class p{constructor(e,t,i){this.statusCode=e,this.data=t,this.changesetId=i,this.hasErrored=!0,e<200||e>=300?(this.exception=t,this.data.hasOwnProperty("error")&&(this.exception=this.data.error.hasOwnProperty("innererror")&&this.data.error.innererror.hasOwnProperty("message")?this.data.error.innererror.message:this.data.error)):this.hasErrored=!1}}var g=i("fXoL");let f=(()=>{class e{constructor(e,t,i,n){this.rootDataService=e,this.configService=t,this.guidService=i,this.sdaTranslateService=n,this.BATCH_RESPONSE_PARSING_ERROR=this.sdaTranslateService.get("BATCH_RESPONSE_PARSING_ERROR","Error whilst parsing the return from the services"),this.rootUrl=Settings.odata.url.substring(0,Settings.odata.url.length-3),this.contentBuilder="",this.boundary="batch_"+i.getGuid()}createChangeset(){return new d.a(this.configService,this.guidService)}addGetRequest(e,t=!0,i,n,s,a,o="SDA"){this.addToContent("GET",e,a,"",t,i,s,n,!0,void 0,o)}addPostRequest(e,t=!0,i,n,s,a,o,r="SDA"){this.addToContent("POST",e,o,n,t,i,a,s,!0,void 0,r)}addChangeset(e){this.appendLine("--"+this.boundary),this.appendLine("Content-Type: multipart/mixed; boundary="+e.boundary),this.appendLine("Content-Transfer-Encoding: binary"),this.appendLine(""),this.appendLine(e.getContent())}execute(e){const t=this.getContent();let i=new r.d({"Content-Type":"multipart/mixed;boundary="+this.boundary});return e&&e.keys().forEach(t=>{i=i.append(t,e.getAll(t))}),this.rootDataService.post("$batch",t,void 0,!1,void 0,i).pipe(Object(c.a)(e=>{const t=e.split("\n"),i=this.getNextLine(t);return this.getResponses(t,i,i+"--",void 0)}))}appendLine(e){""===this.contentBuilder?this.contentBuilder=e:this.contentBuilder+="\n"+e}addToContent(e,t,i,n,s,a,o,r,c,l,d){if(this.appendLine("--"+this.boundary),this.appendLine("Content-Type: application/http"),this.appendLine("Content-Transfer-Encoding: binary"),this.appendLine(""),c){let i=this.rootUrl;d&&(i+=d+"/"),this.appendLine(`${e} ${i}${t} HTTP/1.1`)}else this.appendLine(`${e} ${t} HTTP/1.1`);if(o?this.appendLine(`Accept: application/vnd.intergraph.columnset.${o}+json`):r&&this.appendLine("Accept: application/vnd.intergraph.data+json"),s){let e;e=a||this.configService.selectedCreateConfig,this.appendLine("SPFConfigUID: "+encodeURIComponent(e))}l&&this.appendLine('SPFDeleteTransition: "Deleted"'),i&&i.keys().forEach(e=>{this.appendLine(`${e}: ${i.get(e)}`)}),this.appendLine(""),n&&(this.appendLine(n),this.appendLine(""))}getContent(){return this.contentBuilder}getResponses(e,t,i,n){let s=new u;for(;s.currentLine=this.getNextLine(e),void 0!==s.currentLine;)if(""===s.currentLine)s.currentSection++;else if(s.currentLine===t||s.currentLine===i){if(s=this.pushAndCleanupResponse(s,n),s.currentLine===i)break}else if(s.currentSection===h.Headers){if(0===s.currentLine.indexOf("HTTP/1.1 ")){const e=s.currentLine.substr(9,3);s.httpStatusCode=parseInt(e,10)}}else s.currentSection>=h.Content?s.thisSectionContent+=s.currentLine:s.currentSection===h.New&&(s=this.getMultipartResponse(s,e));return s.responses}pushAndCleanupResponse(e,t){if(e.changeset)e.changeset=!1;else if(!e.httpStatusCode)throw new l.a(this.BATCH_RESPONSE_PARSING_ERROR);let i="";return e.thisSectionContent&&e.thisSectionContent.length>0&&(i=JSON.parse(e.thisSectionContent)),e.responses.push(new p(e.httpStatusCode,i,t)),e.currentSection=h.New,e.httpStatusCode=void 0,e.thisSectionContent="",e}getMultipartResponse(e,t){if(0===e.currentLine.indexOf("Content-Type: multipart/mixed; boundary=")){const i=e.currentLine.substring(40);if(e.currentLine=this.getNextLine(t),""!==e.currentLine)throw new l.a(this.BATCH_RESPONSE_PARSING_ERROR);if(e.currentLine=this.getNextLine(t),e.currentLine!=="--"+i)throw new l.a(this.BATCH_RESPONSE_PARSING_ERROR);const n=this.getResponses(t,"--"+i,`--${i}--`,i);e.responses=e.responses.concat(n),e.changeset=!0}return e}getNextLine(e){let t=e.shift();return t&&(t=t.trim()),t}}return e.\u0275fac=function(t){return new(t||e)(g.dc(s.a),g.dc(n.a),g.dc(a.a),g.dc(o.a))},e.\u0275prov=g.Ob({token:e,factory:e.\u0275fac}),e})(),m=(()=>{class e{constructor(e,t,i,n){this.rootDataService=e,this.configService=t,this.guidService=i,this.sdaTranslateService=n}createBatchRequest(){return new f(this.rootDataService,this.configService,this.guidService,this.sdaTranslateService)}}return e.\u0275fac=function(t){return new(t||e)(g.dc(s.a),g.dc(n.a),g.dc(a.a),g.dc(o.a))},e.\u0275prov=g.Ob({token:e,factory:e.\u0275fac}),e})()},HODn:function(e,t,i){"use strict";i.d(t,"a",(function(){return p}));var n=i("fXoL"),s=i("ofXK"),a=i("R0Ic");const o=["*"];let r=(()=>{class e{constructor(e,t){this.changeDetectorRef=e,this.elementRef=t,this.isOpenChange=new n.o,this.className=!0,this.clicksOutsideBlockedClass=!0,this.popup={position:"absolute",top:"initial",right:"initial",bottom:"initial",left:"initial"}}get isOpenClass(){return this.isOpen}handleClick(e){e.preventDefault(),e.stopPropagation(),this.isOpenChange.emit(!1)}ngOnChanges(e){(e.target&&this.target||e.isOpen&&this.isOpen)&&this.updatePopupLocation(window)}ngAfterViewInit(){this.popupElement=this.elementRef.nativeElement.querySelector(".uxt-popup__popup"),this.changeDetectorRef.detectChanges()}getPopupStyle(){return{bottom:this.popup.bottom,left:this.popup.left,minWidth:this.getPopupWidth(),position:this.popup.position,right:this.popup.right,top:this.popup.top,width:this.getPopupWidth()}}getPopupWidth(){if(this.fitTargetWidth&&this.target.offsetWidth)return this.target.offsetWidth}updatePopupLocation(e){if(this.target.getBoundingClientRect()){const t=this.target.getBoundingClientRect(),i=t.top+this.popupElement.offsetHeight>e.innerHeight,n=t.right-this.popupElement.offsetWidth<0;this.popup={position:"absolute",bottom:i?e.innerHeight-t.bottom+"px":"initial",top:i?"initial":t.top+"px",left:n?t.left+"px":"initial",right:n?"initial":e.innerWidth-t.right+"px"}}else this.popup={}}}return e.\u0275fac=function(t){return new(t||e)(n.Sb(n.h),n.Sb(n.l))},e.\u0275cmp=n.Mb({type:e,selectors:[["uxt-popup"]],hostVars:6,hostBindings:function(e,t){1&e&&n.hc("click",(function(e){return t.handleClick(e)})),2&e&&n.Ib("uxt-popup",t.className)("uxt-popup--clicks-outside-blocked]",t.clicksOutsideBlockedClass)("uxt-popup--open",t.isOpenClass)},inputs:{fitTargetWidth:"fitTargetWidth",isOpen:"isOpen",target:"target"},outputs:{isOpenChange:"isOpenChange"},features:[n.Cb],ngContentSelectors:o,decls:3,vars:2,consts:[[1,"uxt-popup__overlay"],[1,"uxt-popup__popup",3,"ngStyle"]],template:function(e,t){1&e&&(n.rc(),n.Tb(0,"div",0),n.Yb(1,"div",1),n.qc(2),n.Xb()),2&e&&(n.Eb(1),n.sc("ngStyle",t.getPopupStyle())("@popup",t.isOpen?"open":"closed"))},directives:[s.w],styles:[".uxt-popup{position:fixed;top:0;left:0;right:0;bottom:0;display:block;z-index:450}.uxt-popup,.uxt-popup:not(.uxt-popup--open) .uxt-popup__popup{pointer-events:none}.uxt-popup__popup{position:absolute;display:flex;flex-direction:column;width:auto;min-width:256px;height:auto;background-color:#fff;border-radius:2px;box-shadow:0 2px 5px rgba(0,0,0,.25);overflow:hidden;opacity:0}.uxt-popup--clicks-outside-blocked.uxt-popup--open,.uxt-popup__popup{pointer-events:all}"],encapsulation:2,data:{animation:[Object(a.o)("popup",[Object(a.l)("closed",Object(a.m)({marginTop:-16,opacity:0})),Object(a.l)("open",Object(a.m)({marginTop:0,opacity:1})),Object(a.n)("closed <=> open",Object(a.e)("250ms ease"))])]}}),e})();var c=i("qKxU");function l(e,t){if(1&e){const e=n.Zb();n.Yb(0,"uxt-icon-button",6),n.hc("click",(function(t){return n.Kc(e),n.lc().handleIconClick(t)})),n.Xb()}if(2&e){const e=n.lc();n.sc("iconName",e.iconName)}}function d(e,t){if(1&e){const e=n.Zb();n.Yb(0,"div",7),n.hc("click",(function(t){return n.Kc(e),n.lc().handleTextClick(t)})),n.Uc(1),n.Xb()}if(2&e){const e=n.lc();n.Eb(1),n.Wc(" ",e.text," ")}}function h(e,t){if(1&e){const e=n.Zb();n.Yb(0,"div",8),n.hc("click",(function(){n.Kc(e);const i=t.$implicit;return n.lc().handleListItemClick(i)})),n.Uc(1),n.Xb()}if(2&e){const e=t.$implicit;n.Eb(1),n.Wc(" ",e.text," ")}}const u=function(){return[]};let p=(()=>{class e{constructor(e,t){this.changeDetectorRef=e,this.elementRef=t,this.className=!0,this.actionArguments=[],this.iconName="overflow",this.isOpen=!1}ngAfterViewInit(){this.buttonElement=this.elementRef.nativeElement.querySelector(".uxt-overflow-button__button"),this.changeDetectorRef.detectChanges()}handleIconClick(e){e.preventDefault(),e.stopPropagation(),this.isOpen=!0}handleListItemClick(e){e&&e.action&&e.action(...this.actionArguments)}handlePopupIsOpenChange(){this.isOpen=!1}handleTextClick(e){e.preventDefault(),e.stopPropagation(),this.isOpen=!0}}return e.\u0275fac=function(t){return new(t||e)(n.Sb(n.h),n.Sb(n.l))},e.\u0275cmp=n.Mb({type:e,selectors:[["uxt-overflow-button"]],hostVars:2,hostBindings:function(e,t){2&e&&n.Ib("uxt-overflow-button",t.className)},inputs:{actionArguments:"actionArguments",iconName:"iconName",items:"items",text:"text"},decls:6,vars:6,consts:[[1,"uxt-overflow-button__button"],["class","uxt-overflow-button__icon",3,"iconName","click",4,"ngIf"],["class","uxt-overflow-button__text",3,"click",4,"ngIf"],[1,"uxt-overflow-button__popup-component",3,"isOpen","target","isOpenChange"],[1,"uxt-overflow-button__list"],["class","uxt-overflow-button__list__item",3,"click",4,"ngFor","ngForOf"],[1,"uxt-overflow-button__icon",3,"iconName","click"],[1,"uxt-overflow-button__text",3,"click"],[1,"uxt-overflow-button__list__item",3,"click"]],template:function(e,t){1&e&&(n.Yb(0,"div",0),n.Sc(1,l,1,1,"uxt-icon-button",1),n.Sc(2,d,2,1,"div",2),n.Xb(),n.Yb(3,"uxt-popup",3),n.hc("isOpenChange",(function(){return t.handlePopupIsOpenChange()})),n.Yb(4,"div",4),n.Sc(5,h,2,1,"div",5),n.Xb(),n.Xb()),2&e&&(n.Eb(1),n.sc("ngIf",!t.text),n.Eb(1),n.sc("ngIf",!!t.text),n.Eb(1),n.sc("isOpen",t.isOpen)("target",t.buttonElement),n.Eb(2),n.sc("ngForOf",t.items||n.wc(5,u)))},directives:[s.t,r,s.s,c.a],styles:[".uxt-overflow-button{align-items:center;margin-left:auto;position:relative;display:flex}.uxt-overflow-button .uxt-icon-button,.uxt-overflow-button button{margin-left:0!important}.uxt-overflow-button:not(.uxt-overflow-button--open) .uxt-overflow-button__overlay,.uxt-overflow-button:not(.uxt-overflow-button--open) .uxt-overflow-button__popup{pointer-events:none}.uxt-overflow-button__text{display:flex;align-items:center;justify-content:center;height:40px;padding-right:16px;padding-left:16px;text-transform:uppercase;cursor:pointer}.uxt-overflow-button__overlay{position:fixed;top:0;left:0;right:0;bottom:0;display:block;background-color:initial;z-index:450}.uxt-overflow-button__popup{position:absolute;top:0;right:0;display:flex;flex-direction:column;width:auto;overflow:hidden;z-index:450;border-radius:2px;box-shadow:0 2px 5px rgba(0,0,0,.25);opacity:0}.uxt-overflow-button__list{padding-top:8px;padding-bottom:8px}.uxt-overflow-button__list__item{display:flex;align-items:center;height:48px;padding-right:16px;padding-left:16px;-webkit-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer}.uxt-overflow-button__list__item:hover{background-color:#afe5ff}"],encapsulation:2}),e})()},I2fW:function(e,t,i){"use strict";i.d(t,"a",(function(){return c}));var n=i("A1MZ"),s=i("J7mc"),a=i("Ejbi"),o=i("UCFJ"),r=i("fXoL");let c=(()=>{class e{constructor(e,t,i){this.dataService=e,this.guidService=t,this.sdaTranslateService=i,this.showIcons=!0,this.ERROR_ICON_TITLE=this.sdaTranslateService.get("ERROR_ICON_TITLE","File icon not available")}getIconNames(e,t){return this.dataService.post("GetDynIconName()",JSON.stringify({ObjectObids:e}),t,void 0,"",void 0,!0)}getObjectIconAndNameTemplate(e,t){const i=this.guidService.getGuid(),n=document.createElement("img");n.className="grid-object__icon",n.src=`./${o.b+t}.svg`,n.title=t,n.setAttribute("onerror",`\n\t\t\tif (document.getElementById("${i}")) {\n\t\t\t\tdocument.getElementById("${i}").style.display="block"; $(this).addClass("hide")\n\t\t\t}\n\t\t`);const s=document.createElement("img");s.className="grid-object__icon",s.setAttribute("style","display: none"),s.id=i,s.src=`./${o.b}default.svg`,s.title=this.ERROR_ICON_TITLE;const a=document.createElement("span");a.className="grid-object__name",a.title=e,a.innerText=e;const r=document.createElement("div");return r.className="grid-object",r.appendChild(n),r.appendChild(s),r.appendChild(a),r.outerHTML}}return e.\u0275fac=function(t){return new(t||e)(r.dc(s.a),r.dc(n.a),r.dc(a.a))},e.\u0275prov=r.Ob({token:e,factory:e.\u0275fac}),e})()},I5FP:function(e,t,i){"use strict";i.d(t,"a",(function(){return d}));var n=i("LRne"),s=i("eIep"),a=i("lJxs"),o=i("A3La"),r=i("+eYH"),c=i("Tx8r"),l=i("fXoL");let d=(()=>{class e{constructor(e){this.odataService=e}resolveToViewableFile(e,t,i){return this.getFileType(e,i).pipe(Object(s.a)(s=>{const a=this.getFileTypeCategory(s);let o=Object(n.a)(void 0);return a===c.a.PPM2D?o=this.getViewableFile(e,t,i,!0):a===c.a.PPM3D&&(o=this.getViewableFile(e,t,i,!1)),o}))}getFileType(e,t){return this.odataService.get("Objects?$filter=contains(Interfaces,'ISPFFileType') and SPFFileFileType_21/any(x0:x0/OBID eq '"+e+"')&$select=SPFFileExtension",t).pipe(Object(a.a)(e=>{let t;return e&&e.value&&1===e.value.length&&(t=e.value[0].SPFFileExtension),t}))}getFileTypeCategory(e){let t;switch(e){case"igr":case"sha":case"sma":case"pid":case"zyq":case"spe":t=c.a.PPM2D;break;case"vue":case"zvf":t=c.a.PPM3D;break;case"binz":t=c.a.BINZ;break;case"vecz":t=c.a.VECZ;break;default:t=c.a.NONPPM}return t}get2DFileFromViewableFile(e,t,i){const n=t.replace(".vecz","");return this.odataService.get("Objects?$filter=contains(Interfaces,'ISPFBusinessFile')\n                                   and Name eq '"+n+"'\n                                   and SPFFileComposition_12/any(Ver:Ver/SPFFileComposition_21/any(f:f/OBID eq '"+e+"'))",i).pipe(Object(a.a)(e=>{if(e&&e.value&&1===e.value.length)return new r.a(e.value[0].OBID,"",e.value[0].Config)}))}getViewableFile(e,t,i,n){return this.odataService.get("Objects?$filter=contains(Interfaces,'ISPFBusinessFile')\n                                   and Name eq '"+(n?t+".vecz":t+".binz")+"'\n                                   and SPFFileComposition_12/any(Ver:Ver/SPFFileComposition_21/any(f:f/OBID eq '"+e+"'))",i).pipe(Object(a.a)(e=>{if(e&&e.value&&1===e.value.length)return e.value[0]}))}}return e.\u0275fac=function(t){return new(t||e)(l.dc(o.a))},e.\u0275prov=l.Ob({token:e,factory:e.\u0275fac}),e})()},"I9/b":function(e,t,i){"use strict";i.d(t,"a",(function(){return s}));var n=i("fXoL");let s=(()=>{class e{constructor(){this.date=Date}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=n.Ob({token:e,factory:e.\u0275fac}),e})()},IUya:function(e,t,i){"use strict";i.d(t,"a",(function(){return n}));class n{constructor(e){this.ok=e}setData(e){this.data=e}getData(){return this.data}}},J7mc:function(e,t,i){"use strict";i.d(t,"a",(function(){return c}));var n=i("lJxs"),s=i("ONOH"),a=i("/XUs"),o=i("A3La"),r=i("fXoL");let c=(()=>{class e extends o.a{constructor(e,t){super(e,t),this.httpService=e,this.configService=t}get(e,t,i,s,a,o){return super.get(e,t,i,s,a,o).pipe(Object(n.a)(e=>e.value))}post(e,t,i,s,a,o,r){return super.post(e,t,i,s,a,o,r).pipe(Object(n.a)(e=>e.value))}put(e,t,i,s,a,o,r){return super.put(e,t,i,s,a,o,r).pipe(Object(n.a)(e=>e.value))}patch(e,t,i,s,a,o,r){return super.patch(e,t,i,s,a,o,r).pipe(Object(n.a)(e=>e.value))}delete(e,t,i,s,a,o,r){return super.delete(e,t,i,s,a,o,r).pipe(Object(n.a)(e=>e.value))}}return e.\u0275fac=function(t){return new(t||e)(r.dc(a.a),r.dc(s.a))},e.\u0275prov=r.Ob({token:e,factory:e.\u0275fac}),e})()},JQef:function(e,t,i){"use strict";i.d(t,"a",(function(){return m}));var n=i("fXoL"),s=(i("PK7q"),i("2ufx")),a=i("Ejbi"),o=(i("n01O"),i("STbY")),r=i("ofXK"),c=i("NFeN"),l=i("zCQ7");function d(e,t){if(1&e&&n.Tb(0,"mat-icon",9),2&e){const e=n.lc();n.sc("svgIcon",e.dropdownIcon)}}function h(e,t){if(1&e&&(n.Yb(0,"span",10),n.Uc(1),n.Xb()),2&e){const e=n.lc();n.Eb(1),n.Wc(" ",e.listText," ")}}function u(e,t){if(1&e&&(n.Yb(0,"div",18),n.Uc(1),n.Xb()),2&e){const e=n.lc().$implicit;n.sc("title",e.badgeCount),n.Eb(1),n.Wc(" ",e.badgeCount<100?e.badgeCount:"99+"," ")}}function p(e,t){if(1&e){const e=n.Zb();n.Yb(0,"div",14),n.hc("click",(function(){n.Kc(e);const i=t.$implicit;return n.lc(2).selectItem(i)})),n.Yb(1,"div",15),n.Yb(2,"div",16),n.Uc(3),n.Xb(),n.Yb(4,"div",16),n.Uc(5),n.Xb(),n.Xb(),n.Sc(6,u,2,2,"div",17),n.Xb()}if(2&e){const e=t.$implicit,i=n.lc(2);n.Ib("quick-select-item--default",e.isDefaultItem)("quick-select-item--selected",i.selectedItem&&e.id===i.selectedItem.id)("quick-select-item--with-count",e.badgeCount>=0),n.sc("id","quick-select-item-"+e.id)("title",e.tooltip),n.Eb(3),n.Vc(e.primaryText),n.Eb(2),n.Vc(e.secondaryText),n.Eb(1),n.sc("ngIf",e.badgeCount>=0)}}function g(e,t){if(1&e){const e=n.Zb();n.Yb(0,"div",19),n.Tb(1,"div",20),n.Yb(2,"sda-button",21),n.hc("onClick",(function(){return n.Kc(e),n.lc(2).bottomButton.action()})),n.Xb(),n.Xb()}if(2&e){const e=n.lc(2);n.Eb(2),n.sc("displayName",e.bottomButton.displayName)("title",e.bottomButton.tooltip)("isDisabled",e.bottomButton.disabled)}}function f(e,t){if(1&e){const e=n.Zb();n.Yb(0,"div",11),n.hc("mousewheel",(function(t){return n.Kc(e),n.lc().onMouseWheel(t)})),n.Sc(1,p,7,11,"div",12),n.Xb(),n.Sc(2,g,3,3,"div",13)}if(2&e){const e=n.lc(),t=n.Hc(1);n.Rc("width",e.getWidth(t),"px"),n.Eb(1),n.sc("ngForOf",e.items),n.Eb(1),n.sc("ngIf",e.bottomButton)}}let m=(()=>{class e{constructor(e,t){this.sdaTranslateService=e,this.documentService=t,this.iconOnly=!1,this.isDisabled=!1,this.itemSelected=new n.o,this.listText="",this.QUICK_SELECT_DROPDOWN_PLACE_HOLDER=this.sdaTranslateService.get("DROPDOWN_PLACE_HOLDER","Please select..."),this.QUICK_SELECT_NO_LISTS_PLACEHOLDER=this.sdaTranslateService.get("QUICK_SELECT_NO_LISTS_PLACEHOLDER","No available lists")}ngOnChanges(e){e.items&&this.items&&(this.items.forEach(e=>{e.tooltip=this.getTooltip(e)}),this.checkText()),e.selectedItem&&((!this.items||this.selectedItem&&!this.items.find(e=>e.id===this.selectedItem.id))&&this.selectItem(void 0),this.checkText())}onMouseWheel(e){e.stopPropagation()}selectItem(e){this.selectedItem=e,this.itemSelected.emit(this.selectedItem)}menuOpened(){this.selectedItem&&this.documentService.autoScrollToSelectedItem("quick-select-item-"+this.selectedItem.id)}mainButtonClicked(e){this.splitFunction&&(e.stopPropagation(),this.splitFunction(this.selectedItem))}getWidth(e){return this.fixedWidth?this.fixedWidth:e.clientWidth}checkText(){this.listText=this.selectedItem?this.selectedItem.primaryText:this.items.length<1?this.QUICK_SELECT_NO_LISTS_PLACEHOLDER:1===this.items.length?this.items[0].primaryText:this.QUICK_SELECT_DROPDOWN_PLACE_HOLDER}getTooltip(e){let t=e.tooltip;return e.tooltip||(t="",e.primaryText&&(t+=e.primaryText+"\n"),e.secondaryText&&(t+=e.secondaryText)),t}}return e.\u0275fac=function(t){return new(t||e)(n.Sb(a.a),n.Sb(s.a))},e.\u0275cmp=n.Mb({type:e,selectors:[["sda-quick-select"]],inputs:{items:"items",selectedItem:"selectedItem",bottomButton:"bottomButton",dropdownIcon:"dropdownIcon",iconOnly:"iconOnly",isDisabled:"isDisabled",fixedWidth:"fixedWidth",splitFunction:"splitFunction"},outputs:{itemSelected:"itemSelected"},features:[n.Cb],decls:10,vars:9,consts:[[1,"quick-select-toggle",3,"matMenuTriggerFor","menuOpened"],["quickSelectToggle","","quickSelectMenuTrigger","matMenuTrigger"],[1,"quick-select-toggle__text",3,"title","click"],["class","quick-select-toggle__text__icon",3,"svgIcon",4,"ngIf"],["class","quick-select-toggle__text__line",4,"ngIf"],[1,"quick-select-toggle__button",3,"svgIcon"],[1,"mat-menu-panel--width-auto"],["quickSelectMenu","matMenu"],["matMenuContent",""],[1,"quick-select-toggle__text__icon",3,"svgIcon"],[1,"quick-select-toggle__text__line"],[1,"quick-select-options",3,"mousewheel"],["class","quick-select-item",3,"id","quick-select-item--default","quick-select-item--selected","quick-select-item--with-count","title","click",4,"ngFor","ngForOf"],["class","quick-select-new-button",4,"ngIf"],[1,"quick-select-item",3,"id","title","click"],[1,"quick-select-item__text"],[1,"quick-select-item__text__line"],["class","quick-select-item__badge",3,"title",4,"ngIf"],[1,"quick-select-item__badge",3,"title"],[1,"quick-select-new-button"],[1,"quick-select-new-button__separator"],[1,"quick-select-new-button__button",3,"displayName","title","isDisabled","onClick"]],template:function(e,t){if(1&e&&(n.Yb(0,"div",0,1),n.hc("menuOpened",(function(){return t.menuOpened()})),n.Yb(3,"div",2),n.hc("click",(function(e){return t.mainButtonClicked(e)})),n.Sc(4,d,1,1,"mat-icon",3),n.Sc(5,h,2,1,"span",4),n.Xb(),n.Tb(6,"mat-icon",5),n.Xb(),n.Yb(7,"mat-menu",6,7),n.Sc(9,f,3,4,"ng-template",8),n.Xb()),2&e){const e=n.Hc(2),i=n.Hc(8);n.Ib("quick-select-toggle--disabled",t.isDisabled)("quick-select-toggle--selected",e.menuOpen),n.sc("matMenuTriggerFor",i),n.Eb(3),n.sc("title",t.selectedItem?t.selectedItem.tooltip:""),n.Eb(1),n.sc("ngIf",t.dropdownIcon),n.Eb(1),n.sc("ngIf",!t.iconOnly),n.Eb(1),n.sc("svgIcon",e.menuOpen?"chevron-up":"chevron-down")}},directives:[o.d,r.t,c.a,o.e,o.a,r.s,l.a],styles:[".quick-select-options[_ngcontent-%COMP%]{overflow-x:hidden;overflow-y:auto}.quick-select-item__text__line[_ngcontent-%COMP%], .quick-select-toggle__text__line[_ngcontent-%COMP%]{overflow:hidden;white-space:nowrap;text-overflow:ellipsis}[_nghost-%COMP%]{position:relative;display:flex}.quick-select-toggle[_ngcontent-%COMP%]{display:flex;align-items:center;width:100%;height:40px;padding:0 15px;border:1px solid #c9c9c9;border-radius:5px;cursor:pointer}.quick-select-toggle--disabled[_ngcontent-%COMP%]{opacity:.4;pointer-events:none}.quick-select-toggle__text[_ngcontent-%COMP%]{display:flex;align-items:center;width:100%;padding-right:10px;overflow:hidden}.quick-select-toggle__text__icon[_ngcontent-%COMP%]{flex-shrink:0}.quick-select-toggle__text__icon[_ngcontent-%COMP%]:not(:only-child){margin-right:5px}.quick-select-toggle__text__line[_ngcontent-%COMP%]{width:100%;font-size:16px}.quick-select-toggle__button[_ngcontent-%COMP%]{flex-shrink:0;width:20px;height:20px;margin-left:auto}.quick-select-options[_ngcontent-%COMP%]{height:200px}.quick-select-item[_ngcontent-%COMP%]{height:50px;padding:5px 15px;cursor:pointer}.quick-select-item__text[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;width:100%;height:100%}.quick-select-item__text__line[_ngcontent-%COMP%]{font-size:16px}.quick-select-item__text__line[_ngcontent-%COMP%]:not(:first-of-type){font-size:14px;font-style:italic}.quick-select-item__badge[_ngcontent-%COMP%]{position:absolute;top:6px;right:5px;display:flex;align-items:center;justify-content:center;width:22px;height:22px;background-color:#6fbf50;color:#fff;border-radius:50%;font-size:11px}.quick-select-item--default[_ngcontent-%COMP%]{font-weight:500}.quick-select-item--selected[_ngcontent-%COMP%]{background-color:#afe5ff}.quick-select-item--with-count[_ngcontent-%COMP%]{position:relative;padding-right:32px}.quick-select-item[_ngcontent-%COMP%]:not(.quick-select-item--selected):hover{background-color:rgba(235,237,240,.7)}.quick-select-new-button[_ngcontent-%COMP%]{margin-top:5px}.quick-select-new-button__separator[_ngcontent-%COMP%]{width:calc(100% - 10px);height:2px;margin:0 auto;background-color:#ebedf0}.quick-select-new-button__button[_ngcontent-%COMP%]{display:flex;margin:10px 5px 5px}"]}),e})()},JSP6:function(e,t,i){"use strict";i.d(t,"a",(function(){return O}));var n=i("ONOH"),s=i("0IaG"),a=i("IzEk"),o=i("Z9D8"),r=i("LUpO"),c=i("Ejbi"),l=i("Qi+w"),d=i("fXoL"),h=i("ofXK"),u=i("gSF1"),p=i("FcA5"),g=i("TLn4"),f=i("3Pt+");function m(e,t){if(1&e&&d.Tb(0,"sda-loading-indicator",5),2&e){const e=d.lc();d.sc("centered",!0)("message",e.LOADING_MESSAGE)}}function b(e,t){if(1&e){const e=d.Zb();d.Yb(0,"div",8),d.Uc(1),d.Yb(2,"input",9),d.hc("ngModelChange",(function(t){return d.Kc(e),d.lc(2).onNewNameChange(t)})),d.Xb(),d.Xb()}if(2&e){const e=d.lc(2);d.Eb(1),d.Wc(" ",e.NEW_LIST_NAME," "),d.Eb(1),d.sc("ngModel",e.newGroupNameText)("maxlength",e.pinsMenuService.maxGroupNameLength)}}function S(e,t){if(1&e&&(d.Yb(0,"div",10),d.Uc(1),d.Xb()),2&e){const e=d.lc(2);d.Eb(1),d.Wc(" ",e.PIN_TO_NEW_LIST_DISABLED," ")}}function v(e,t){if(1&e&&(d.Yb(0,"mat-dialog-content"),d.Sc(1,b,3,3,"div",6),d.Sc(2,S,2,1,"div",7),d.Xb()),2&e){const e=d.lc();d.Eb(1),d.sc("ngIf",!e.isErrored),d.Eb(1),d.sc("ngIf",e.isErrored)}}let _=(()=>{class e{constructor(e,t,i,n,s,a){this.data=e,this.dialogRef=t,this.sdaTranslateService=i,this.pinsMenuService=n,this.exceptionService=s,this.configService=a,this.doneEnabled=!1,this.cancelEnabled=!0,this.isLoading=!0,this.isErrored=!0,this.copyMode=!1,this.switchGroup=!1,this.TITLE=this.sdaTranslateService.get("CREATE_PIN_GROUP_TITLE","Create a new pins list"),this.LOADING_MESSAGE=this.sdaTranslateService.get("SAVING_UPPERCASE","SAVING..."),this.NEW_LIST_NAME=this.sdaTranslateService.get("CREATE_PINS_LIST_NAME","Enter a name for the new list the pin will be added to:"),this.DONE_TEXT=this.sdaTranslateService.get("DONE","Done"),this.CANCEL_TEXT=this.sdaTranslateService.get("CANCEL","Cancel"),this.PIN_TO_NEW_LIST_DISABLED=this.sdaTranslateService.get("PIN_TO_NEW_LIST_DISABLED","Pins Lists can only be created using data from the current create scope and above"),this.CREATION_ERROR=this.sdaTranslateService.get("CREATE_PIN_GROUP_ERROR","An error occurred whilst trying to create the pins list")}ngOnInit(){if(this.itemsToPin=this.data.itemsToPin,this.data.configOverride||this.itemsToPin){const e=this.data.configOverride?[this.data.configOverride]:[...new Set(this.itemsToPin.map(e=>e.config))];this.isErrored=!this.configService.areConfigsAllCreateRelated(e)}this.setTranslationsBasedOnPinsLength(),this.isLoading=!1}onNewNameChange(e){this.newGroupNameText=e,this.enableDone()}onCancel(){this.dialogRef.close(void 0)}onDone(){let e;this.doneEnabled=!1,this.cancelEnabled=!1,this.isLoading=!0,e=this.itemsToPin&&this.itemsToPin.length?this.pinsMenuService.addPinToNewGroup(this.itemsToPin.map(e=>e.obid),this.newGroupNameText):this.pinsMenuService.createNewPinGroup(this.newGroupNameText,!0),e.pipe(Object(a.a)(1)).subscribe(e=>{this.dialogRef.close(e)},e=>{this.exceptionService.handleException(new o.a(e,this.CREATION_ERROR,"create-pin-group.component","onDone")),this.isLoading=!1,this.doneEnabled=!0,this.cancelEnabled=!0})}setTranslationsBasedOnPinsLength(){this.itemsToPin&&this.itemsToPin.length>1&&(this.NEW_LIST_NAME=this.sdaTranslateService.getFormatted("CREATE_PINS_LIST_MULTIPLE_NAME","Enter a name for the new list the {0} pins will be added to:",[this.itemsToPin.length.toString()]))}enableDone(){this.doneEnabled=!!this.newGroupNameText&&!!this.newGroupNameText.length}}return e.\u0275fac=function(t){return new(t||e)(d.Sb(s.a),d.Sb(s.f),d.Sb(c.a),d.Sb(l.a),d.Sb(r.a),d.Sb(n.a))},e.\u0275cmp=d.Mb({type:e,selectors:[["sda-create-pin-group"]],decls:7,vars:7,consts:[["mat-dialog-title",""],[3,"centered","message",4,"ngIf"],[4,"ngIf"],[1,"dialog-controls"],[1,"dialog-controls__button",3,"displayName","isDisabled","click"],[3,"centered","message"],["class","create-pin-group-content",4,"ngIf"],["class","create-pin-group-error-message",4,"ngIf"],[1,"create-pin-group-content"],["type","text",1,"create-pin-group-content__input",3,"ngModel","maxlength","ngModelChange"],[1,"create-pin-group-error-message"]],template:function(e,t){1&e&&(d.Yb(0,"h2",0),d.Uc(1),d.Xb(),d.Sc(2,m,1,2,"sda-loading-indicator",1),d.Sc(3,v,3,2,"mat-dialog-content",2),d.Yb(4,"div",3),d.Yb(5,"sda-button-abort",4),d.hc("click",(function(){return t.onCancel()})),d.Xb(),d.Yb(6,"sda-button-primary",4),d.hc("click",(function(){return t.onDone()})),d.Xb(),d.Xb()),2&e&&(d.Eb(1),d.Vc(t.TITLE),d.Eb(1),d.sc("ngIf",t.isLoading),d.Eb(1),d.sc("ngIf",!t.isLoading),d.Eb(2),d.sc("displayName",t.CANCEL_TEXT)("isDisabled",!t.cancelEnabled),d.Eb(1),d.sc("displayName",t.DONE_TEXT)("isDisabled",!t.doneEnabled))},directives:[s.g,h.t,u.a,p.a,g.a,s.d,f.c,f.p,f.s,f.k],styles:["[_nghost-%COMP%]{display:flex;flex-direction:column}[_nghost-%COMP%], [_nghost-%COMP%]   sda-loading-indicator[_ngcontent-%COMP%]{height:100%}[_nghost-%COMP%]   .create-pin-group-content[_ngcontent-%COMP%]{display:flex;flex-direction:column}[_nghost-%COMP%]   .create-pin-group-content__input[_ngcontent-%COMP%]{margin-top:10px}[_nghost-%COMP%]   .create-pin-group-error-message[_ngcontent-%COMP%]{display:flex;justify-content:center;margin:20px 0}[_nghost-%COMP%]   .dialog-controls[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;align-items:center;justify-content:flex-end;margin-bottom:0;padding-top:12px}[_nghost-%COMP%]   .dialog-controls__button[_ngcontent-%COMP%]{margin-left:5px}"]}),e})(),O=(()=>{class e{constructor(e,t,i){this.dialog=e,this.configService=t,this.pinsMenuService=i}createNewListModal(e,t){return this.dialog.open(_,{minWidth:"450px",width:"30vw",maxWidth:"600px",minHeight:"250px",height:"30vh",disableClose:!0,data:{itemsToPin:e,configOverride:t}}).afterClosed()}filterPinGroupsByObjectItemConfigs(e,t){let i=[];return t&&t.length&&(i=[...new Set(t.map(e=>e.config))]),this.filterPinGroupsBySpecificConfigs(e,i)}filterPinGroupsBySpecificConfigs(e,t){const i=(t=t||[]).length;let n=this.findSelectedRelationsOfConfigs(t);i>1&&(n=[...new Set(n.filter(e=>n.filter(t=>t===e).length===i))]);const s=e.find(e=>e.isOriginalPinboardGroup),a=s?[s]:[];return n&&n.length&&a.push(...e.filter(e=>n.some(t=>e.config===t&&!e.isOriginalPinboardGroup))),a}checkPinsAreRelatedToCreateConfig(e){return this.configService.areConfigsAllCreateRelated([...new Set(e.map(e=>e.config))])}checkPinsAreOfCreateConfig(e){return!e.some(e=>e.config!==this.configService.selectedCreateConfig)}getSoloPinGroup(e){let t=this.pinsMenuService.defaultGroupValue;return e&&this.checkPinsAreOfRequiredConfig(e,[this.pinsMenuService.selectedPinGroupValue.config])&&(t=this.pinsMenuService.selectedPinGroupValue),t}checkPinsAreOfRequiredConfig(e,t=[this.configService.selectedCreateConfig]){return this.filterPinsByConfigFamily(e,t).length===e.length}filterPinsByConfigFamily(e,t=[this.configService.selectedCreateConfig]){const i=this.findSelectedRelationsOfConfigs(t);return e.filter(e=>i.some(t=>e.config===t))}findSelectedRelationsOfConfigs(e){const t=e||[];return t.forEach(e=>t.push(...this.configService.getSelectedFamilyConfigsFromQueryConfig(e))),t}}return e.\u0275fac=function(t){return new(t||e)(d.dc(s.b),d.dc(n.a),d.dc(l.a))},e.\u0275prov=d.Ob({token:e,factory:e.\u0275fac}),e})()},JVCe:function(e,t,i){"use strict";i.d(t,"a",(function(){return d}));var n=i("tk/3"),s=i("JIr8"),a=i("Z9D8"),o=i("LUpO"),r=i("J7mc"),c=i("Ejbi"),l=i("fXoL");let d=(()=>{class e{constructor(e,t,i){this.dataService=e,this.sdaTranslateService=t,this.exceptionService=i,this.DOC_VERSION_ERROR=this.sdaTranslateService.get("DOC_VERSION_OBID_ERROR","An error occurred while fetching document version")}getDocVersionOBIDFromEdgDef(e,t,i,o){const r=new n.d({Prefer:'odata.include-annotations="*"'});return this.dataService.get(`Objects('${e}')/${t}`,i,!1,o,r).pipe(Object(s.a)(e=>{const t=new a.a(e,this.DOC_VERSION_ERROR,"DocumentVersionResolverService");return this.exceptionService.handleException(t),[]}))}}return e.\u0275fac=function(t){return new(t||e)(l.dc(r.a),l.dc(c.a),l.dc(o.a))},e.\u0275prov=l.Ob({token:e,factory:e.\u0275fac}),e})()},Jgl7:function(e,t,i){"use strict";i.d(t,"a",(function(){return l}));var n=i("UCFJ"),s=i("Ejbi"),a=i("fXoL"),o=i("ofXK");function r(e,t){if(1&e){const e=a.Zb();a.Yb(0,"img",2),a.hc("error",(function(){return a.Kc(e),a.lc().onImageError()})),a.Xb()}if(2&e){const e=a.lc();a.sc("src","./"+e.ICON_PATH+e.imageName+".svg",a.Mc)("title",e.imageName)}}function c(e,t){if(1&e&&a.Tb(0,"img",3),2&e){const e=a.lc();a.sc("title",e.ERROR_ICON_TITLE)}}let l=(()=>{class e{constructor(e){this.sdaTranslateService=e,this.ERROR_ICON_TITLE=this.sdaTranslateService.get("ERROR_ICON_TITLE","File icon not available"),this.ICON_PATH=n.b,this.imageError=!1}ngOnChanges(){this.imageError=!1}onImageError(){this.imageError=!0}}return e.\u0275fac=function(t){return new(t||e)(a.Sb(s.a))},e.\u0275cmp=a.Mb({type:e,selectors:[["sda-object-icon"]],inputs:{imageName:"imageName"},features:[a.Cb],decls:2,vars:2,consts:[["class","object-icon",3,"src","title","error",4,"ngIf"],["class","object-icon","src","content/images/object-types/default.svg",3,"title",4,"ngIf"],[1,"object-icon",3,"src","title","error"],["src","content/images/object-types/default.svg",1,"object-icon",3,"title"]],template:function(e,t){1&e&&(a.Sc(0,r,1,2,"img",0),a.Sc(1,c,1,1,"img",1)),2&e&&(a.sc("ngIf",!t.imageError&&(null==t.ICON_PATH?null:t.ICON_PATH.length)>0&&(null==t.imageName?null:t.imageName.length)>0),a.Eb(1),a.sc("ngIf",t.imageError))},directives:[o.t],styles:[".object-icon[_ngcontent-%COMP%]{flex-shrink:0;width:24px;height:24px;margin-right:5px}"]}),e})()},JrsU:function(e,t,i){"use strict";i.d(t,"a",(function(){return n}));class n{constructor(e,t){this.key=e,this.value=t}}},K8SQ:function(e,t,i){"use strict";i.d(t,"a",(function(){return c}));var n=i("ofXK"),s=i("NFeN"),a=i("STbY"),o=i("l3mi"),r=i("fXoL");let c=(()=>{class e{}return e.\u0275mod=r.Qb({type:e}),e.\u0275inj=r.Pb({factory:function(t){return new(t||e)},imports:[[n.c,s.b,o.a,a.c]]}),e})()},KIpx:function(e,t,i){"use strict";i.d(t,"b",(function(){return r})),i.d(t,"c",(function(){return l})),i.d(t,"e",(function(){return d})),i.d(t,"a",(function(){return u})),i.d(t,"d",(function(){return p}));var n=i("ftI+"),s=i("udmY"),a=i("Sj5/"),o=i("kOSm");function r(e,t,i,n,a){const r=new o.a(e);return r.activeChips=[new s.a(t,t,a)],r.selectedFilters=c(i),r.selectedOptions=c(n),r}function c(e){const t=[];return e&&e.forEach(e=>{t.push(new a.a(e,e,!0))}),t}function l(e){return h(e,n.a.EQUAL_TO)}function d(e){return h(e,n.a.SHAREPOINT)}function h(e,t){let i;return e&&e.selectedOptions&&(i=e.selectedOptions.find(e=>e.name===t)),!!i}function u(e,t,i=!1,n=!1){const s=e;if(s){const a=e.findIndex(e=>e.name===t.name);n?a>-1&&s.splice(a,1):-1===a?s.push(t):i&&(s[a]=t)}return s}function p(e){let t=!0,i=!1;for(;t&&!i;)e.forEach(e=>{!!e.selected!=!!e.defaultSelected&&(t=!1)}),i=!0;return t}},Kc8n:function(e,t,i){"use strict";i.d(t,"a",(function(){return g}));var n=i("2Vo4"),s=i("VRyK"),a=i("LRne"),o=i("eIep"),r=i("lJxs"),c=i("5+tZ"),l=i("eruR"),d=i("J7mc"),h=i("yAwn"),u=i("izpr"),p=i("fXoL");let g=(()=>{class e{constructor(e,t,i,a){this.dataService=e,this.featureSetDataService=t,this.rolesRepository=i,this.configDataService=a,this.ftrEnabled$=new n.a(!1),Object(s.a)(this.configDataService.configs$,this.rolesRepository.roles$).pipe(Object(o.a)(()=>this.canAccessFtr())).subscribe()}getSearchPreview(e){return this.dataService.post("PreviewSearch?$top=8",JSON.stringify({searchTerm:e}))}checkForSecurityRules(){return this.hasCheckedForSecurityRules?Object(a.a)(this.hasSecurityRules):this.dataService.get("Objects?$filter=contains(Interfaces,%27ISPFSecurityRulePI%27)").pipe(Object(r.a)(e=>(this.hasSecurityRules=e.length>0,this.hasCheckedForSecurityRules=!0,this.hasSecurityRules)))}canAccessFtr(){return this.hasInitialized?this.CheckIfFTRServiceIsRunning().pipe(Object(c.a)(e=>e?this.featureSetDataService.getClientApiMethods("FTRSearch").pipe(Object(r.a)(e=>{let t=!1;return e&&e.length&&(t=!0),this.ftrEnabled=t,this.ftrEnabled$.next(t),t})):Object(a.a)(!1))):Object(a.a)(this.ftrEnabled)}initialize(){return this.hasInitialized=!0,this.canAccessFtr()}CheckIfFTRServiceIsRunning(){return void 0===this.ftrServerIsAvailable?this.dataService.get("IsFTRAvailable").pipe(Object(r.a)(e=>(this.ftrServerIsAvailable=e.value,e.value))):Object(a.a)(this.ftrServerIsAvailable)}}return e.\u0275fac=function(t){return new(t||e)(p.dc(d.a),p.dc(l.a),p.dc(u.a),p.dc(h.a))},e.\u0275prov=p.Ob({token:e,factory:e.\u0275fac}),e})()},KkJr:function(e,t,i){"use strict";i.d(t,"a",(function(){return n})),i.d(t,"c",(function(){return s})),i.d(t,"b",(function(){return a}));const n="BLANK",s="REQUIRES_PARENT",a="PLEASE_SELECT"},KrX4:function(e,t,i){"use strict";i.d(t,"a",(function(){return r}));var n=i("ONOH"),s=i("A1MZ"),a=i("fXoL"),o=function(e){return e[e.POST=0]="POST",e[e.PUT=1]="PUT",e[e.DELETE=2]="DELETE",e[e.PATCH=3]="PATCH",e}({});let r=(()=>{class e{constructor(e,t){this.configService=e,this.guidService=t,this.defaultGrouping="SDA",this.rootUrl=Settings.odata.url.substring(0,Settings.odata.url.length-3),this.contentBuilder="",this.boundary="changeset_"+this.guidService.getGuid(),this.contentId=0}getContent(){return this.contentBuilder}addCreateRequest(e,t,i){const n=this.getRequestContent(e,!0);return this.addToContent("POST","Objects",t,n,!0,i=i||this.configService.selectedCreateConfig,void 0,!0,!0,void 0,this.defaultGrouping)}addUpdateRequest(e,t,i,n){const s=this.getRequestContent(t,!1);n=n||this.configService.selectedCreateConfig,this.addToContent("PATCH",this.getPath(e),i,s,!0,n,void 0,!0,"number"!=typeof e,void 0,this.defaultGrouping)}addDeleteObjectRequest(e,t,i){i=i||this.configService.selectedCreateConfig,this.addToContent("DELETE",this.getPath(e),t,void 0,!0,i,void 0,!0,"number"!=typeof e,!0,this.defaultGrouping)}addTerminateRequest(e,t,i){i=i||this.configService.selectedCreateConfig,this.addToContent("DELETE",this.getPath(e),t,void 0,!0,i,void 0,!0,"number"!=typeof e,!1,this.defaultGrouping)}addRelateRequest(e,t,i,n,s,a,o,r){let c;c=n?"_12":"_21";const l={"@odata.id":Settings.odata.url+"/Objects('"+t+"')","@orderby":a,"@oldparentobid":o};r&&r.forEach((e,t)=>{l["@rel."+t]=e}),this.addToContent("POST",`${this.getPath(e)}/${i}${c}/$ref`,s,l,!0,this.configService.selectedCreateConfig,void 0,!0,"number"!=typeof e,void 0,this.defaultGrouping)}addUnrelate(e,t,i,n,s,a,o){let r;o=o||this.configService.selectedCreateConfig,r=n?"_12":"_21",this.addToContent("DELETE",`${this.getPath(e)}/${i}${r}('${t}')/$ref`,a,"",!0,o,void 0,!0,"number"!=typeof e,!s,this.defaultGrouping)}addPostRequest(e,t,i=!0,n,s,a,o,r="SDA"){this.addToContent("POST",e,o,t,i,n,a,s,!0,void 0,r)}addPutRequest(e,t,i=!0,n,s,a,o,r="SDA"){this.addToContent("PUT",e,o,t,i,n,a,s,!0,void 0,r)}addPatchRequest(e,t,i=!0,n,s,a,o,r="SDA"){this.addToContent("PATCH",e,o,t,i,n,a,s,!0,void 0,r)}addDeleteRequest(e,t,i,n=!0,s,a,o,r,c="SDA"){this.addToContent("PUT",e,r,i,n,s,o,a,!0,!t,c)}addSendRequest(e,t,i,n,s,a,r,c,l="SDA"){this.addToContent(o[e],i,s,n,t,c,r,a,!0,void 0,l)}getRequestContent(e,t){const i={},n=[];if(e.ensSequence&&(i.ensSequence=e.ensSequence),e.ensNoToCreate&&(i.ensNoToCreate=e.ensNoToCreate),t&&(i.Class=e.classDefUID),i.LastUpdatedDate=e.lastUpdatedDate,e.properties.forEach(e=>{i[e.propertyDefUID]=e.value}),e.copyOf&&e.copyOf.length>0&&(i.copyOf=e.copyOf),e.interfaces&&e.interfaces.length>0){const t={};e.interfaces.forEach(e=>{t[e.interfaceDefUID]=e.add}),i.Interfaces=t}return e.relationships.forEach(e=>{let t;if(t=e.direction12?e.relDefUID+"_12":e.relDefUID+"_21",e.obidsOfOtherEndObject&&e.obidsOfOtherEndObject.length>0){const n=e.obidsOfOtherEndObject.map(t=>{if(e.linkProperties){const i=[];for(const[t,n]of e.linkProperties.entries())i.push("@rel."+t+":"+n);return Settings.odata.url+"/Objects('"+t+"')"+i.join()}return Settings.odata.url+"/Objects('"+t+"')"});Object.keys(i).includes(t+"@odata.bind")&&n.push(...i[t+"@odata.bind"]),i[t+"@odata.bind"]=n}else e.otherEndObjects&&e.otherEndObjects.length>0&&e.otherEndObjects.forEach(e=>{if(i[t+"@odata.bind"])if(n.some(e=>e===t))i[t+"@odata.bind"].push(this.getRequestContent(e,!0));else{const s=i[t+"@odata.bind"];i[t+"@odata.bind"]=new Array,i[t+"@odata.bind"].push(s),i[t+"@odata.bind"].push(this.getRequestContent(e,!0)),n.push(t)}else i[t+"@odata.bind"]=this.getRequestContent(e,!0)})}),i}addToContent(e,t,i,n,s,a,o,r,c,l,d){const h=this.contentId++;if(this.appendLine("--"+this.boundary),this.appendLine("Content-Type: application/http"),this.appendLine("Content-Transfer-Encoding: binary"),this.appendLine("Content-ID: "+h),this.appendLine(""),c){let i=this.rootUrl;d&&(i+=d+"/"),this.appendLine(`${e} ${i}${t} HTTP/1.1`)}else this.appendLine(`${e} ${t} HTTP/1.1`);if(o?this.appendLine("Accept: application/vnd.intergraph.columnset."+o+"+json"):r&&this.appendLine("Accept: application/vnd.intergraph.data+json"),s){let e;e=a||this.configService.selectedCreateConfig,this.appendLine("SPFConfigUID: "+encodeURIComponent(e))}if(l&&this.appendLine("SPFDeleteTransition: Deleted"),i)for(const u in i)i.hasOwnProperty(u)&&this.appendLine(`${u}: ${i[u]}`);return this.appendLine(""),n&&(this.appendLine(JSON.stringify(n)),this.appendLine("")),h}appendLine(e){""===this.contentBuilder?this.contentBuilder=e:this.contentBuilder+="\n"+e}getPath(e){let t;return t="number"==typeof e?"$"+e:`Objects('${e}')`,t}}return e.\u0275fac=function(t){return new(t||e)(a.dc(n.a),a.dc(s.a))},e.\u0275prov=a.Ob({token:e,factory:e.\u0275fac}),e})()},KsTO:function(e,t,i){"use strict";i.d(t,"a",(function(){return c})),i.d(t,"c",(function(){return l})),i.d(t,"b",(function(){return d}));var n=i("NFsq"),s=i("1myf"),a=i("fujP"),o=i("HiDb"),r=i("nYpA");function c(e,t){return e.reduce((e,i)=>{const a={data:new r.a(i.ConfigUID,i.DisplayName,i.ConfigStatus,Object(n.a)(t,i.ConfigUID),!!i.CreateSelected,void 0,i.CanUserSetCreateConfig,i.CanUserSelectConfig,void 0,i.Description),children:[]};if(!i.ParentUID)return Object(s.a)(e.concat(a),"name");const o=l(e,i.ParentUID);return o?(a.data.parent=o,o.children=Object(s.a)(o.children.concat(a),e=>e.data.name),e):e},[])}function l(e,t){if(!Object(a.a)(e))return e.find(e=>e.data.configUID===t)||l(Object(o.a)(e,"children"),t)}function d(e,t){const i=[],n=[],s=[];return function e(t,i,n){t.forEach(t=>{n.includes(t.data.status)&&t.data.canUserSelectConfig&&i.push(t.data.configUID),t.children&&e(t.children,i,n)})}(e,i,t),function e(t,i,n){t.forEach(t=>{i.includes(t.data.configUID)&&t.data.parent&&function e(t,i,n){n.includes(t.data.configUID)||i.includes(t.data.configUID)||n.push(t.data.configUID),t.data.parent&&e(t.data.parent,i,n)}(t.data.parent,i,n),t.children&&e(t.children,i,n)})}(e,i,n),function e(t,i,n,s,a){t.forEach(t=>{const o=Object.assign({},t);o.children=[],o.data.selectable=s.includes(t.data.configUID),o.data.querySelected&&a.includes(t.data.configUID)&&(o.data.querySelected=!1,o.data.createSelected=!1),o.data.selectable||a.includes(t.data.configUID)?i?i.children.push(o):n.push(o):i&&(i.expanded=!1),t.children&&e(t.children,o,n,s,a)})}(e,void 0,s,i,n),s}},LI1j:function(e,t,i){"use strict";i.d(t,"a",(function(){return o}));var n=i("ofXK"),s=i("NFeN"),a=i("fXoL");let o=(()=>{class e{}return e.\u0275mod=a.Qb({type:e}),e.\u0275inj=a.Pb({factory:function(t){return new(t||e)},imports:[[n.c,s.b]]}),e})()},LUpO:function(e,t,i){"use strict";i.d(t,"a",(function(){return c}));var n=i("XNiG"),s=i("c+03"),a=i("tCxB"),o=i("Z9D8"),r=i("fXoL");let c=(()=>{class e{constructor(e,t){this.loggingService=e,this.loadingOverlayService=t,this.exceptions=[],this.unhandledExceptionMessage="An exception occurred.",this.exceptionRaised=new n.a,this.dismissException=e=>{this.exceptions.splice(e,1),this.exceptionsUpdated.next(this.exceptions)},this.exceptionsUpdated=new n.a,this.showExceptionDetail=new n.a}get exceptionRaised$(){return this.exceptionRaised.asObservable()}handleException(e){this.onExceptionCaught(e)}onUnhandledExceptionCaught(e){let t;e.originalError&&e.originalError instanceof Error?(t=new o.a(e.originalError,this.unhandledExceptionMessage),t.debugDetails.push({key:"Wrapped angular exception caught",value:e.message})):t=new o.a(e,this.unhandledExceptionMessage),this.onExceptionCaught(t)}onExceptionCaught(e){this.loadingOverlayService.hideLoadingOverlay(),this.exceptions.unshift(e),this.exceptionsUpdated.next(this.exceptions),this.loggingService.error(e),this.exceptionRaised.next(e)}}return e.\u0275fac=function(t){return new(t||e)(r.dc(a.a),r.dc(s.a))},e.\u0275prov=r.Ob({token:e,factory:e.\u0275fac}),e})()},LmdI:function(e,t,i){"use strict";i.d(t,"a",(function(){return a}));var n=i("2ufx"),s=i("fXoL");let a=(()=>{class e{constructor(e){this.documentService=e,this.document=this.documentService.Document}set(e){let t=!1;if(this.isClipboardSupported()){const i=this.createDOMControl(e);this.document.body.appendChild(i),t=this.copyContents(i)}return t}isClipboardSupported(){return"queryCommandSupported"in this.document&&this.document.queryCommandSupported("copy")}createDOMControl(e){const t=this.document.createElement("textarea");return t.style.position="absolute",t.textContent=e,t.style.left="-10000px",t}copyContents(e){let t=!1;try{this.document.body.style.webkitUserSelect="initial";const i=this.document.getSelection();i.removeAllRanges(),e.select(),t=this.document.execCommand("copy"),i.removeAllRanges()}finally{this.document.body.style.webkitUserSelect=""}return t}}return e.\u0275fac=function(t){return new(t||e)(s.dc(n.a))},e.\u0275prov=s.Ob({token:e,factory:e.\u0275fac}),e})()},MAKR:function(e,t,i){"use strict";i.d(t,"a",(function(){return n}));class n{constructor(e,t,i,n,s=!0){this.displayName=e,this.object=t,this.children=i,this.selectable=n,this.isCollapsed=s,this.isSelected=!1,this.displayButton=!1,this.selectable=void 0===n||n,this.displayName=e,this.object=t,i||(this.children=new Array)}}},MBXK:function(e,t,i){"use strict";function n(e,t,i){if(void 0===e)throw new Error("Must supply a tag name!");const n=e.split("."),s=function(e){if("string"!=typeof e)throw new Error("Tag name must be a string");return 0===e.length?"DIV":e.toUpperCase()}(n[0]);return{attributes:function(e,t){return 0===t.length?e:Object.assign({},e,e.classNames?{classNames:e.classNames.concat(t)}:{classNames:t})}(function(e){return e!==Object(e)||Array.isArray(e)?{}:e}(t),n.slice(1)),children:function(e,t){return Array.isArray(e)?e:Array.isArray(t)?t:[]}(t,i),tagName:s}}i.d(t,"a",(function(){return n}))},N9DE:function(e,t,i){"use strict";i.d(t,"a",(function(){return a}));var n=i("ch+g"),s=i("fXoL");let a=(()=>{class e{constructor(e){this.embeddedService=e}initializeSnapshotHandler(e){if(this.remote)return this.remote;const t=this.embeddedService.setUpListener("takeSnapshot",e);return t?(this.remote={dispose:()=>this.dispose(t),ready:e=>this.canSendSnapshot(e),send:e=>this.sendSnapshot(e)},this.remote):void 0}sendSnapshot(e){this.embeddedService.send("snapshot",e)}canSendSnapshot(e){this.embeddedService.send("snapshotReady",e)}dispose(e){e.cancel(),this.canSendSnapshot(!1),this.remote=void 0}}return e.\u0275fac=function(t){return new(t||e)(s.dc(n.a))},e.\u0275prov=s.Ob({token:e,factory:e.\u0275fac}),e})()},NEWU:function(e,t,i){"use strict";i.d(t,"a",(function(){return n})),i.d(t,"k",(function(){return s})),i.d(t,"l",(function(){return a})),i.d(t,"m",(function(){return o})),i.d(t,"n",(function(){return r})),i.d(t,"o",(function(){return c})),i.d(t,"p",(function(){return l})),i.d(t,"q",(function(){return d})),i.d(t,"r",(function(){return h})),i.d(t,"b",(function(){return u})),i.d(t,"c",(function(){return p})),i.d(t,"d",(function(){return g})),i.d(t,"e",(function(){return f})),i.d(t,"f",(function(){return m})),i.d(t,"g",(function(){return b})),i.d(t,"h",(function(){return S})),i.d(t,"i",(function(){return v})),i.d(t,"j",(function(){return _})),i.d(t,"y",(function(){return O})),i.d(t,"B",(function(){return I})),i.d(t,"C",(function(){return C})),i.d(t,"A",(function(){return T})),i.d(t,"u",(function(){return E})),i.d(t,"v",(function(){return y})),i.d(t,"z",(function(){return P})),i.d(t,"t",(function(){return x})),i.d(t,"x",(function(){return A})),i.d(t,"D",(function(){return w})),i.d(t,"E",(function(){return M})),i.d(t,"s",(function(){return D})),i.d(t,"w",(function(){return N}));const n="apiParam1",s="apiParam2",a="apiParam3",o="apiParam4",r="apiParam5",c="apiParam6",l="apiParam7",d="apiParam8",h="apiParam9",u="apiParam10",p="apiParam11",g="apiParam12",f="apiParam13",m="apiParam14",b="apiParam15",S="apiParam16",v="apiParam17",_="apiParam18",O="MethodOBID",I="ParentMethodOBID",C="ParentObjects",T="ParentClientAPI",E="ContextObjectOBIDs",y="data",P="objects",x="config",A="DisplayName",w="ReturnFeature",M="ReturnRoute",D="ClientAPI",N="ignoreReload"},NYVZ:function(e,t,i){"use strict";i.d(t,"a",(function(){return c}));var n=i("jtHE"),s=i("lJxs"),a=i("dEBh"),o=i("mRuZ"),r=i("fXoL");let c=(()=>{class e{constructor(e,t,i){this.loader=e,this.injector=t,this.windowService=i,this.loadedScripts={},this.loadedStyles={}}lazyLoadGlobalScript(e){if(this.loadedScripts[e])return this.loadedScripts[e].asObservable();this.loadedScripts[e]=new n.a;const t=this.windowService.Window.document.createElement("script");return t.type="text/javascript",t.src=e,t.onload=()=>{this.loadedScripts[e].next(),this.loadedScripts[e].complete()},t.onerror=t=>{this.loadedScripts[e].error(t),this.loadedScripts[e].complete()},this.windowService.Window.document.body.appendChild(t),this.loadedScripts[e].asObservable()}lazyLoadGlobalCss(e){if(this.loadedStyles[e])return this.loadedStyles[e].asObservable();this.loadedStyles[e]=new n.a;const t=this.windowService.Window.document.createElement("link");return t.rel="stylesheet",t.href=e,t.type="text/css",this.windowService.Window.document.head.appendChild(t),this.loadedStyles[e].next(),this.loadedStyles[e].complete(),this.loadedStyles[e].asObservable()}loadClientApiFeature(e,t,i={openInNewTab:!1}){this.loader.load(t.modulePath).then(t=>{const n=t.create(this.injector).injector.get(o.a);this.isSingleFeatureAction(n)?n.onExecuteMethod(e,i):n.find(t=>t.clientApiName instanceof Array?t.clientApiName.includes(e.clientAPI):t.clientApiName===e.clientAPI).onExecuteMethod(e,i)})}loadComponentForViewContainerRef(e,t,i,n){const s=i.resolveComponentFactory(t);return e.createComponent(s,void 0,n)}importPostRobot(){return this.lazyLoadGlobalScript("./content/scripts/post-robot.min.js").pipe(Object(s.a)(()=>(postRobot.CONFIG.LOG_LEVEL="error",postRobot)))}isSingleFeatureAction(e){return void 0!==e.onExecuteMethod}}return e.\u0275fac=function(t){return new(t||e)(r.dc(r.M),r.dc(r.s),r.dc(a.a))},e.\u0275prov=r.Ob({token:e,factory:e.\u0275fac}),e})()},O6oy:function(e,t,i){"use strict";i.d(t,"a",(function(){return h}));var n=i("fXoL"),s=i("ofXK"),a=i("nprN");let o=(()=>{class e{constructor(){this.className=!0}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=n.Mb({type:e,selectors:[["uxt-property"]],hostVars:2,hostBindings:function(e,t){2&e&&n.Ib("uxt-property",t.className)},inputs:{name:"name",value:"value"},decls:6,vars:4,consts:[[1,"uxt-property__name",3,"title"],[1,"uxt-property__value",3,"title"]],template:function(e,t){1&e&&(n.Yb(0,"div",0),n.Yb(1,"span"),n.Uc(2),n.Xb(),n.Xb(),n.Yb(3,"div",1),n.Yb(4,"span"),n.Uc(5),n.Xb(),n.Xb()),2&e&&(n.sc("title",t.name),n.Eb(2),n.Wc(" ",t.name," "),n.Eb(1),n.sc("title",t.value),n.Eb(2),n.Wc(" ",t.value," "))},styles:[".uxt-property{display:flex;flex-shrink:0;height:48px;border-bottom:1px solid #cad0d7;overflow:hidden}.uxt-property__name,.uxt-property__value{display:flex;align-items:center;padding-right:16px;padding-left:16px;overflow:hidden}.uxt-property__name span,.uxt-property__value span{overflow:hidden;white-space:nowrap;text-overflow:ellipsis}.uxt-property__name{flex:1 1 33%;border-right:1px solid #cad0d7}.uxt-property__value{flex:1 1 66%}"],encapsulation:2,changeDetection:0}),e})();function r(e,t){if(1&e&&n.Tb(0,"uxt-icon",5),2&e){const e=n.lc(2);n.sc("iconName",e.isOpen?"chevron-up":"chevron-down")}}function c(e,t){if(1&e){const e=n.Zb();n.Yb(0,"div",2),n.hc("click",(function(){return n.Kc(e),n.lc().toggle()})),n.Yb(1,"div",3),n.Uc(2),n.Xb(),n.Sc(3,r,1,1,"uxt-icon",4),n.Xb()}if(2&e){const e=n.lc();n.Eb(2),n.Wc(" ",e.name," "),n.Eb(1),n.sc("ngIf",e.isCollapsible)}}function l(e,t){if(1&e&&n.Tb(0,"uxt-property",8),2&e){const e=t.$implicit;n.sc("name",e.name)("value",e.value)}}function d(e,t){if(1&e&&(n.Yb(0,"div",6),n.Sc(1,l,1,2,"uxt-property",7),n.Xb()),2&e){const e=n.lc();n.Eb(1),n.sc("ngForOf",e.properties)}}let h=(()=>{class e{constructor(){this.className=!0}ngOnInit(){this.properties=Object.entries(this.data).map(e=>({name:e[0],value:e[1]})).sort((e,t)=>e.name>t.name?1:-1)}toggle(){this.isCollapsible&&(this.isOpen=!this.isOpen)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=n.Mb({type:e,selectors:[["uxt-property-section"]],hostVars:2,hostBindings:function(e,t){2&e&&n.Ib("uxt-property-section",t.className)},inputs:{data:"data",isOpen:"isOpen",isCollapsible:"isCollapsible",name:"name"},decls:2,vars:2,consts:[["class","uxt-property-section__header",3,"click",4,"ngIf"],["class","uxt-property-section__body",4,"ngIf"],[1,"uxt-property-section__header",3,"click"],[1,"uxt-property-section__name"],["class","uxt-property-section__glyph","size","small",3,"iconName",4,"ngIf"],["size","small",1,"uxt-property-section__glyph",3,"iconName"],[1,"uxt-property-section__body"],[3,"name","value",4,"ngFor","ngForOf"],[3,"name","value"]],template:function(e,t){1&e&&(n.Sc(0,c,4,2,"div",0),n.Sc(1,d,2,1,"div",1)),2&e&&(n.sc("ngIf",t.name),n.Eb(1),n.sc("ngIf",t.isOpen))},directives:[s.t,a.a,s.s,o],styles:[".uxt-property-section{display:flex;flex-direction:column;overflow:hidden}.uxt-property-section__header{display:flex;align-items:center;height:48px;padding-left:16px;background-color:#ebedf0;border-bottom:1px solid #cad0d7;font-size:.875rem;white-space:nowrap;text-overflow:ellipsis;overflow:hidden;cursor:pointer}.uxt-property-section__name{flex-grow:1}.uxt-property-section__glyph{flex-shrink:0}.uxt-property-section__body{overflow:hidden}"],encapsulation:2}),e})()},OEdT:function(e,t,i){"use strict";i.d(t,"a",(function(){return n}));var n=function(e){return e.Adhoc="Adhoc",e.Summary="Summary",e}({})},ONOH:function(e,t,i){"use strict";i.d(t,"a",(function(){return c}));var n=i("JrsU"),s=i("U7l/"),a=i("BltP"),o=i("AvVi"),r=i("fXoL");let c=(()=>{class e{constructor(){this.selectedQueryConfigs=[]}filterInvalidQueryConfigs(e){let t=[];t=this.checkParentConfigSelected(e,t);let i=[];i=this.checkChildrenConfigSelected(e,i);const n=this.selectedQueryConfigs.filter(e=>!t.includes(e)&&!i.includes(e));return n.includes(e)||n.push(e),n}getConfigByUid(e){return this.currentConfigs.find(t=>t.ConfigUID===e)}getConfigLevel(e){const t=[];return this.currentConfigs.filter(t=>e.includes(t.ConfigUID)).forEach(e=>{let i=a.a.PROJECT;e.ParentUID?"CF_ConfigurationTop"===e.ParentUID&&(i=a.a.PLANT):i=a.a.CONFIG_TOP,t.push(new n.a(e.ConfigUID,i))}),t}areConfigsAllCreateRelated(e){return!(!e||!e.length||e.some(e=>![e,...this.getSelectedFamilyConfigsFromQueryConfig(e)].includes(this.selectedCreateConfig)))}getSelectedFamilyConfigsFromQueryConfig(e){let t=[];return t=this.checkChildrenConfigSelected(e,t),t.push(...this.queryBySelectedConfigs?this.checkParentConfigSelected(e,[]):this.getAllConfigParents(e)),t}getAllConfigParents(e,t=[]){const i="string"==typeof e?this.getConfigByUid(e):e;let n;return i&&(n=this.currentConfigs.find(e=>e.ConfigUID===i.ParentUID),n)?(t.push(n.ConfigUID),this.getAllConfigParents(n,t)):t}checkConfigRelation(e,t){let i=o.a.UNRELATED;return e===t?i=o.a.EQUAL:e&&e!==s.b?t&&t!==s.b?this.checkConfigIsParent(e,t)?i=o.a.PARENT_OF_TARGET:this.checkConfigIsParent(t,e)&&(i=o.a.CHILD_OF_TARGET):i=o.a.TARGET_IS_CONFIG_TOP:i=o.a.CURRENT_IS_CONFIG_TOP,i}checkParentConfigSelected(e,t){const i=this.currentConfigs.find(t=>t.ConfigUID===e);return i&&i.ParentUID?(this.selectedQueryConfigs.includes(i.ParentUID)&&!t.includes(i.ParentUID)&&t.push(i.ParentUID),this.checkParentConfigSelected(i.ParentUID,t)):t}checkChildrenConfigSelected(e,t){return this.currentConfigs.filter(t=>t.ParentUID===e).forEach(e=>{this.selectedQueryConfigs.includes(e.ConfigUID)&&!t.includes(e.ConfigUID)&&t.push(e.ConfigUID),this.checkChildrenConfigSelected(e.ConfigUID,t)}),t}checkConfigIsParent(e,t){const i=this.currentConfigs.find(e=>e.ConfigUID===t);let n=i.ParentUID===e;return!n&&i.ParentUID&&(n=this.checkConfigIsParent(e,i.ParentUID)),n}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=r.Ob({token:e,factory:e.\u0275fac}),e})()},ORCH:function(e,t,i){"use strict";i.d(t,"a",(function(){return U}));var n=i("vxfF"),s=i("fXoL"),a=i("UXvI"),o=i("pLZG"),r=i("1nDn"),c=i("GxtX"),l=i("OtLZ");const d={breakpoint:768,isWide:void 0,sizeListeners:[]},h={addChangedListener(e){void 0===d.isWide&&u(),d.sizeListeners=Object(c.a)(d.sizeListeners,e)},isWide:()=>(void 0===d.isWide&&u(),d.isWide),removeChangedListener(e){d.sizeListeners=Object(l.a)(d.sizeListeners,e)}};function u(){p(),window.addEventListener("resize",Object(a.a)(p,16))}function p(){const e=window.innerWidth>d.breakpoint;d.isWide!==e&&(d.isWide=e,function(e){d.sizeListeners.forEach(function(e){return t=>t(e)}(e))}(d.isWide))}var g=i("qzxf"),f=i("WPJx"),m=i("ofXK"),b=i("6sHd"),S=i("nprN"),v=i("qKxU"),_=i("HODn");function O(e,t){if(1&e){const e=s.Zb();s.Yb(0,"uxt-icon-button",2),s.hc("action",(function(t){return s.Kc(e),s.lc().handleActionClick(t)})),s.Xb()}if(2&e){const e=s.lc();s.sc("iconName",e.iconName)("iconSrc",e.iconSrc)}}const I=function(e){return[e]};function C(e,t){if(1&e&&s.Tb(0,"uxt-overflow-button",3),2&e){const e=s.lc();s.sc("actionArguments",s.xc(3,I,e.item))("iconName",e.iconName)("items",e.getOverflowItems())}}let T=(()=>{class e{constructor(){this.action=void 0,this.iconName="",this.iconSrc="",this.isSelected=!1,this.item=void 0,this.className=!0}get isActiveClass(){return this.isSelected}getIsActionVisible(){return!!this.action&&"function"==typeof this.action}getIsOverflowVisible(){return!!this.action&&Array.isArray(this.action)}getOverflowItems(){return Array.isArray(this.action)?this.action:[]}handleActionClick(e){"function"==typeof this.action&&(e.preventDefault(),e.stopPropagation(),this.action(this.item))}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=s.Mb({type:e,selectors:[["uxt-list-item-action"]],hostVars:4,hostBindings:function(e,t){2&e&&s.Ib("uxt-list-item-action",t.className)("uxt-list-item-action--active",t.isActiveClass)},inputs:{action:"action",iconName:"iconName",iconSrc:"iconSrc",isSelected:"isSelected",item:"item"},decls:2,vars:2,consts:[["class","uxt-list-item-action__action",3,"iconName","iconSrc","action",4,"ngIf"],["class","uxt-list-item-action__overflow",3,"actionArguments","iconName","items",4,"ngIf"],[1,"uxt-list-item-action__action",3,"iconName","iconSrc","action"],[1,"uxt-list-item-action__overflow",3,"actionArguments","iconName","items"]],template:function(e,t){1&e&&(s.Sc(0,O,1,2,"uxt-icon-button",0),s.Sc(1,C,1,5,"uxt-overflow-button",1)),2&e&&(s.sc("ngIf",t.getIsActionVisible()),s.Eb(1),s.sc("ngIf",t.getIsOverflowVisible()))},directives:[m.t,v.a,_.a],styles:[".uxt-list-item-action--active svg *{fill:#fff}"],encapsulation:2,changeDetection:0}),e})();function E(e,t){if(1&e&&s.Tb(0,"uxt-checkbox",10),2&e){const e=s.lc(2);s.sc("isActive",e.isSelected)}}function y(e,t){if(1&e){const e=s.Zb();s.Yb(0,"div",8),s.hc("click",(function(t){return s.Kc(e),s.lc().handleCheckboxClick(t)})),s.Sc(1,E,1,1,"uxt-checkbox",9),s.Xb()}if(2&e){const e=s.lc();s.Eb(1),s.sc("ngIf",e.isCheckboxVisible)}}function P(e,t){if(1&e&&(s.Yb(0,"div",11),s.Tb(1,"uxt-icon",12),s.Xb()),2&e){const e=s.lc();s.Eb(1),s.sc("iconName",e.itemIcon)}}function x(e,t){if(1&e&&(s.Yb(0,"div",13),s.Tb(1,"img",14),s.Xb()),2&e){const e=s.lc();s.Eb(1),s.sc("src",e.picture,s.Mc)}}function A(e,t){if(1&e&&(s.Yb(0,"div",15),s.Uc(1),s.Xb()),2&e){const e=s.lc();s.sc("title",e.primaryText),s.Eb(1),s.Wc(" ",e.primaryText," ")}}function w(e,t){if(1&e&&(s.Yb(0,"div",16),s.Uc(1),s.Xb()),2&e){const e=s.lc();s.sc("title",e.secondaryText),s.Eb(1),s.Wc(" ",e.secondaryText," ")}}function M(e,t){if(1&e&&(s.Yb(0,"div",17),s.Uc(1),s.Xb()),2&e){const e=s.lc();s.sc("title",e.tertiaryText),s.Eb(1),s.Wc(" ",e.tertiaryText," ")}}function D(e,t){if(1&e&&s.Tb(0,"uxt-list-item-action",18),2&e){const e=s.lc();s.sc("action",e.action)("iconName",e.actionIconName)("iconSrc",e.actionIconSrc)("isSelected",e.isSelected)("item",e.item)}}let N=(()=>{class e{constructor(){this.action=void 0,this.isMultiselectActive=!1,this.isMultiselectEnabled=!1,this.isSelected=!1,this.item=void 0,this.select=new s.o,this.toggle=new s.o,this.className=!0,this.isHovered=!1}get isActiveClass(){return this.isSelected}get isSingleLineClass(){return"single"===this.type}get isDoubleLineClass(){return"double"===this.type}get isTripleLineClass(){return"triple"===this.type}ngOnInit(){this.updateItem()}ngOnChanges(e){e.item?this.updateItem():((e.isMultiselectActive||e.isScreenWide)&&this.checkCheckboxVisibilty(),this.item&&(e.iconAccessor&&(this.getIcon(),this.checkPictureVisibilty()),e.pictureAccessor&&(this.getPicture(),this.checkPictureVisibilty()),e.primaryTextAccessor&&(this.getPrimaryText(),this.checkPrimaryText()),e.secondaryTextAccessor&&(this.getSecondaryText(),this.checkSecondaryText()),e.tertiaryTextAccessor&&(this.getTertiaryText(),this.checkTertiaryText())))}handleClick(e){e.preventDefault(),e.stopPropagation(),this.isMultiselectEnabled&&this.isMultiselectActive?this.onToggle(this.item):this.onSelect(this.item)}handleMouseEnter(){this.isHovered=!0}handleMouseLeave(){this.isHovered=!1}handleCheckboxClick(e){e.preventDefault(),e.stopPropagation(),this.onToggle(this.item)}onSelect(e){this.select.emit(e)}onToggle(e){this.toggle.emit(e)}updateItem(){this.item?(this.getIcon(),this.getPicture(),this.getPrimaryText(),this.getSecondaryText(),this.getTertiaryText()):(this.itemIcon=void 0,this.picture=void 0,this.primaryText=void 0,this.secondaryText=void 0,this.tertiaryText=void 0),this.checkPictureVisibilty(),this.checkCheckboxVisibilty(),this.checkPrimaryText(),this.checkSecondaryText(),this.checkTertiaryText()}getIcon(){this.itemIcon=this.item[this.iconAccessor]}getPicture(){this.picture=this.item[this.pictureAccessor]}checkPictureVisibilty(){this.isPictureVisible=!this.itemIcon&&!!this.picture}checkCheckboxVisibilty(){this.isCheckboxVisible=this.isMultiselectActive||this.isScreenWide&&this.isHovered}getPrimaryText(){this.primaryText=this.item[this.primaryTextAccessor]}checkPrimaryText(){this.isPrimaryTextVisible=!!this.primaryText&&!!this.primaryText.length}getSecondaryText(){this.secondaryText=this.item[this.secondaryTextAccessor]}checkSecondaryText(){this.isSecondaryTextVisible=!!this.secondaryText&&!!this.secondaryText.length}getTertiaryText(){this.tertiaryText=this.item[this.tertiaryTextAccessor]}checkTertiaryText(){this.isTertiaryTextVisible=!!this.tertiaryText&&!!this.tertiaryText.length}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=s.Mb({type:e,selectors:[["uxt-list-item"]],hostVars:10,hostBindings:function(e,t){1&e&&s.hc("click",(function(e){return t.handleClick(e)}))("mouseenter",(function(){return t.handleMouseEnter()}))("mouseleave",(function(){return t.handleMouseLeave()})),2&e&&s.Ib("uxt-list-item",t.className)("uxt-list-item--active",t.isActiveClass)("uxt-list-item--single-line",t.isSingleLineClass)("uxt-list-item--double-line",t.isDoubleLineClass)("uxt-list-item--triple-line",t.isTripleLineClass)},inputs:{action:"action",actionIconName:"actionIconName",actionIconSrc:"actionIconSrc",iconAccessor:"iconAccessor",isMultiselectActive:"isMultiselectActive",isMultiselectEnabled:"isMultiselectEnabled",isScreenWide:"isScreenWide",isSelected:"isSelected",item:"item",pictureAccessor:"pictureAccessor",primaryTextAccessor:"primaryTextAccessor",secondaryTextAccessor:"secondaryTextAccessor",tertiaryTextAccessor:"tertiaryTextAccessor",type:"type"},outputs:{select:"select",toggle:"toggle"},features:[s.Cb],decls:8,vars:7,consts:[["class","uxt-list-item__checkbox",3,"click",4,"ngIf"],["class","uxt-list-item__icon",4,"ngIf"],["class","uxt-list-item__picture",4,"ngIf"],[1,"uxt-list-item__text"],["class","uxt-list-item__text__primary-text",3,"title",4,"ngIf"],["class","uxt-list-item__text__secondary-text",3,"title",4,"ngIf"],["class","uxt-list-item__text__tertiary-text",3,"title",4,"ngIf"],["class","uxt-list-item__action",3,"action","iconName","iconSrc","isSelected","item",4,"ngIf"],[1,"uxt-list-item__checkbox",3,"click"],["class","uxt-list-item__checkbox__core",3,"isActive",4,"ngIf"],[1,"uxt-list-item__checkbox__core",3,"isActive"],[1,"uxt-list-item__icon"],[1,"uxt-list-item__icon__core",3,"iconName"],[1,"uxt-list-item__picture"],[1,"uxt-list-item__picture__core",3,"src"],[1,"uxt-list-item__text__primary-text",3,"title"],[1,"uxt-list-item__text__secondary-text",3,"title"],[1,"uxt-list-item__text__tertiary-text",3,"title"],[1,"uxt-list-item__action",3,"action","iconName","iconSrc","isSelected","item"]],template:function(e,t){1&e&&(s.Sc(0,y,2,1,"div",0),s.Sc(1,P,2,1,"div",1),s.Sc(2,x,2,1,"div",2),s.Yb(3,"div",3),s.Sc(4,A,2,2,"div",4),s.Sc(5,w,2,2,"div",5),s.Sc(6,M,2,2,"div",6),s.Xb(),s.Sc(7,D,1,5,"uxt-list-item-action",7)),2&e&&(s.sc("ngIf",t.isMultiselectEnabled),s.Eb(1),s.sc("ngIf",!!t.itemIcon),s.Eb(1),s.sc("ngIf",t.isPictureVisible),s.Eb(2),s.sc("ngIf",t.isPrimaryTextVisible),s.Eb(1),s.sc("ngIf",t.isSecondaryTextVisible),s.Eb(1),s.sc("ngIf",t.isTertiaryTextVisible),s.Eb(1),s.sc("ngIf",t.action))},directives:[m.t,b.a,S.a,T],styles:[".uxt-list-item{display:flex;align-items:center;flex-shrink:0;padding-right:16px;padding-left:16px;cursor:pointer;transition:background-color .2s ease;overflow:hidden}.uxt-list-item__checkbox{flex-shrink:0;margin-right:8px;transition:width .25s ease;overflow:hidden}.uxt-list-item__icon{display:flex;align-items:center;flex-shrink:0;margin-right:24px;margin-left:-8px}.uxt-list-item__icon *{transition:fill .2s ease}.uxt-list-item__picture{display:flex;align-items:center;flex-shrink:0;margin-right:24px;margin-left:0}.uxt-list-item__picture img{width:40px;height:40px;border-radius:100%}.uxt-list-item__text{display:flex;flex-grow:1;flex-direction:column;color:inherit;overflow:hidden}.uxt-list-item__text__primary-text,.uxt-list-item__text__secondary-text,.uxt-list-item__text__tertiary-text{transition:color .2s ease;overflow:hidden;white-space:nowrap;text-overflow:ellipsis}.uxt-list-item__text__primary-text{font-size:1em}.uxt-list-item__text__secondary-text,.uxt-list-item__text__tertiary-text{padding-top:4px;font-size:.875em}.uxt-list-item--single-line{height:48px}.uxt-list-item--double-line{height:72px}.uxt-list-item--double-line .uxt-list-item__text__secondary-text{color:#697a8b}.uxt-list-item--triple-line{align-items:flex-start;height:88px;padding-top:16px}.uxt-list-item--triple-line .uxt-list-item__text{margin-top:-3px}.uxt-list-item--triple-line .uxt-list-item__text__tertiary-text{color:#697a8b}.uxt-list-item--active{background-color:#02adff}.uxt-list-item--active>.uxt-list-item__icon *{fill:#fff!important}.uxt-list-item--active>.uxt-list-item__text>.uxt-list-item__text__primary-text,.uxt-list-item--active>.uxt-list-item__text>.uxt-list-item__text__secondary-text,.uxt-list-item--active>.uxt-list-item__text>.uxt-list-item__text__tertiary-text{color:#fff}.uxt-list-item--active.uxt-list-item--double-line .uxt-list-item__text__secondary-text,.uxt-list-item--active.uxt-list-item--triple-line .uxt-list-item__text__tertiary-text{color:#ebedf0}@media (min-width:769px){.uxt-list-item__checkbox{width:28px}.uxt-list-item:not(.uxt-list-item--active):hover{background-color:#afe5ff}}"],encapsulation:2,changeDetection:0}),e})();function R(e,t){if(1&e){const e=s.Zb();s.Yb(0,"uxt-list-item",7),s.hc("select",(function(t){return s.Kc(e),s.lc(2).handleListItemSelect(t)}))("toggle",(function(t){return s.Kc(e),s.lc(2).handleListItemToggle(t)})),s.Xb()}if(2&e){const e=t.$implicit,i=s.lc(2);s.sc("action",i.action)("actionIconName",i.actionIconName)("actionIconSrc",i.actionIconSrc)("iconAccessor",i.iconProperty)("isMultiselectActive",i.isMultiselectActive)("isMultiselectEnabled",i.isMultiselectEnabled)("isScreenWide",i.getIsScreenWide())("isSelected",i.getIsItemSelected(e))("item",e)("pictureAccessor",i.pictureProperty)("primaryTextAccessor",i.primaryTextAccessor)("secondaryTextAccessor",i.secondaryTextAccessor)("tertiaryTextAccessor",i.tertiaryTextAccessor)("type",i.getType())}}function L(e,t){if(1&e&&(s.Wb(0),s.Sc(1,R,1,14,"uxt-list-item",6),s.Vb()),2&e){const e=s.lc();s.Eb(1),s.sc("ngForOf",e.getFilteredItems())}}function F(e,t){if(1&e){const e=s.Zb();s.Yb(0,"uxt-list-item",7),s.hc("select",(function(t){return s.Kc(e),s.lc(2).handleListItemSelect(t)}))("toggle",(function(t){return s.Kc(e),s.lc(2).handleListItemToggle(t)})),s.Xb()}if(2&e){const e=t.$implicit,i=s.lc(2);s.sc("action",i.action)("actionIconName",i.actionIconName)("actionIconSrc",i.actionIconSrc)("iconAccessor",i.iconProperty)("isMultiselectActive",i.isMultiselectActive)("isMultiselectEnabled",i.isMultiselectEnabled)("isScreenWide",i.getIsScreenWide())("isSelected",i.getIsItemSelected(e))("item",e)("pictureAccessor",i.pictureProperty)("primaryTextAccessor",i.primaryTextAccessor)("secondaryTextAccessor",i.secondaryTextAccessor)("tertiaryTextAccessor",i.tertiaryTextAccessor)("type",i.getType())}}function k(e,t){if(1&e&&(s.Yb(0,"cdk-virtual-scroll-viewport",8),s.Sc(1,F,1,14,"uxt-list-item",9),s.Xb()),2&e){const e=s.lc();s.sc("itemSize",30),s.Eb(1),s.sc("cdkVirtualForOf",e.getFilteredItems())}}let U=(()=>{class e{constructor(e,t){this.elementRef=e,this.scrollDispatcher=t,this.action=void 0,this.actionIconName="",this.actionIconSrc="",this.displayMode="auto",this.filters=[],this.idAccessor="id",this.idProperty="id",this.isInternalScrollEnabled=!0,this.isMultiselectActive=!1,this.isMultiselectEnabled=!1,this.isSelectAllEnabled=!1,this.keyboardSelection=!1,this.items=[],this.pictureProperty="",this.primaryTextAccessor=void 0,this.primaryTextFunction=void 0,this.primaryTextProperty="",this.secondaryTextAccessor=void 0,this.secondaryTextFunction=void 0,this.secondaryTextProperty="",this.selectAllText="Select All",this.selectedIds=[],this.selectedItems=[],this.tertiaryTextAccessor=void 0,this.tertiaryTextFunction=void 0,this.tertiaryTextProperty="",this.enablePaging=!1,this.selectedIdChange=new s.o,this.selectedIdsChange=new s.o,this.selectedItemChange=new s.o,this.selectedItemsChange=new s.o,this.loadMoreTriggered=new s.o,this.className=!0,this.onSelectedIdChange=e=>this.selectedIdChange.emit(e),this.onSelectedIdsChange=e=>this.selectedIdsChange.emit(e),this.onSelectedItemChange=e=>this.selectedItemChange.emit(e),this.onSelectedItemsChange=e=>this.selectedItemsChange.emit(e),this.idAccessor=this.idProperty,this.primaryTextAccessor=this.primaryTextFunction||this.primaryTextProperty,this.secondaryTextAccessor=this.secondaryTextFunction||this.secondaryTextProperty,this.tertiaryTextAccessor=this.tertiaryTextFunction||this.tertiaryTextProperty}get isCompactClass(){return this.isCompact}get noScrollClass(){return!this.isInternalScrollEnabled}keyEvent(e){if(this.keyboardSelection){e.preventDefault(),e.stopPropagation();const t=this.getSelectedItemIndex(),i=this.getFilteredItems();38===e.keyCode&&0!==t&&(this.selectedItem=i[t-1]),40===e.keyCode&&t<i.length-1&&(this.selectedItem=i[t+1]),39===e.keyCode&&this.selectedItemChange.emit(this.selectedItem)}}ngOnChanges(e){e.idProperty&&(this.idAccessor=this.idProperty),(e.primaryTextFunction||e.primaryTextProperty)&&(this.primaryTextAccessor=this.primaryTextFunction||this.primaryTextProperty),(e.secondaryTextFunction||e.secondaryTextProperty)&&(this.secondaryTextAccessor=this.secondaryTextFunction||this.secondaryTextProperty),(e.tertiaryTextFunction||e.tertiaryTextProperty)&&(this.tertiaryTextAccessor=this.tertiaryTextFunction||this.tertiaryTextProperty)}ngOnInit(){this.handleResize()}ngAfterViewInit(){const e=new r.a(this.elementRef.nativeElement),t=Object(a.a)(()=>this.handleResize(),16);e.addResizeListener(t),setTimeout(()=>this.handleResize()),this.virtualScroll&&this.enablePaging&&this.scrollDispatcher.scrolled().pipe(Object(o.a)(e=>0===this.virtualScroll.measureScrollOffset("bottom"))).subscribe(e=>{this.loadMoreTriggered.emit()})}getSelectedItemIndex(){let e=-1;return this.getFilteredItems().forEach((t,i)=>{t===this.selectedItem&&(e=i)}),e}getAreAllItemsSelected(){const e=this.getFilteredItems();return!!(this.selectedItems&&this.selectedItems.length||this.selectedIds&&this.selectedIds.length)&&!e.some(e=>!this.getIsItemSelected(e))}getFilteredItems(){return 0===this.filters.length||0===this.items.length?this.items||[]:g.a.filterList(this.items,this.filters)}getIsItemSelected(e){return this.isSelectedItem(e)||this.hasSelectedId(e)||this.isInSelectedItems(e)||this.hasIdInSelectedIds(e)}getIsScreenWide(){return h.isWide()}getSelectAllText(){return this.selectAllText?this.selectAllText:"Select All"}getToolbarStyle(){return this.getIsSelectAllVisible()?{}:{display:"none"}}getType(){return this.tertiaryTextAccessor?"triple":this.secondaryTextAccessor?"double":"single"}handleListItemSelect(e){this.onSelectedIdChange(e[this.idAccessor]?e[this.idAccessor]:"id"),this.onSelectedItemChange(e)}handleListItemToggle(e){const t=e[this.idAccessor]?e[this.idAccessor]:"id",i=this.toggleInArray(e,this.selectedItems),n=this.toggleInArray(t,this.selectedIds);this.onSelectedIdsChange(n),this.onSelectedItemsChange(i)}handleResize(){this.isCompact="compact"===this.displayMode||"wide"!==this.displayMode&&this.elementRef.nativeElement.offsetWidth<768}handleSelectAllClick(){const e=this.idAccessor?this.idAccessor:"id",t=this.getAreAllItemsSelected()?[]:this.getFilteredItems();this.onSelectedItemsChange(t);const i=t.map(t=>t[e]);this.onSelectedIdsChange(i)}toggleInArray(e,t){return t.includes(e)?t.filter(t=>e!==t):[...t,e]}isSelectedItem(e){return this.selectedItem===e}hasSelectedId(e){return!!this.selectedId&&this.selectedId===(e[this.idAccessor]?e[this.idAccessor]:"id")}isInSelectedItems(e){return this.isMultiselectActive&&this.selectedItems.includes(e)}hasIdInSelectedIds(e){return this.isMultiselectActive&&this.selectedIds.includes(e[this.idAccessor]?e[this.idAccessor]:"id")}getIsSelectAllVisible(){return this.isMultiselectActive&&this.isMultiselectEnabled&&this.isSelectAllEnabled}}return e.\u0275fac=function(t){return new(t||e)(s.Sb(s.l),s.Sb(n.f))},e.\u0275cmp=s.Mb({type:e,selectors:[["uxt-list"]],viewQuery:function(e,t){var i;1&e&&s.bd(n.e,!0),2&e&&s.Gc(i=s.ic())&&(t.virtualScroll=i.first)},hostVars:6,hostBindings:function(e,t){1&e&&s.hc("keyup",(function(e){return t.keyEvent(e)}),!1,s.Jc),2&e&&s.Ib("uxt-list",t.className)("uxt-list--compact",t.isCompactClass)("uxt-list--no-scroll",t.noScrollClass)},inputs:{action:"action",actionIconName:"actionIconName",actionIconSrc:"actionIconSrc",displayMode:"displayMode",filters:"filters",iconProperty:"iconProperty",idAccessor:"idAccessor",idProperty:"idProperty",isInternalScrollEnabled:"isInternalScrollEnabled",isMultiselectActive:"isMultiselectActive",isMultiselectEnabled:"isMultiselectEnabled",isSelectAllEnabled:"isSelectAllEnabled",keyboardSelection:"keyboardSelection",items:"items",pictureProperty:"pictureProperty",primaryTextAccessor:"primaryTextAccessor",primaryTextFunction:"primaryTextFunction",primaryTextProperty:"primaryTextProperty",secondaryTextAccessor:"secondaryTextAccessor",secondaryTextFunction:"secondaryTextFunction",secondaryTextProperty:"secondaryTextProperty",selectAllText:"selectAllText",selectedId:"selectedId",selectedIds:"selectedIds",selectedItem:"selectedItem",selectedItems:"selectedItems",tertiaryTextAccessor:"tertiaryTextAccessor",tertiaryTextFunction:"tertiaryTextFunction",tertiaryTextProperty:"tertiaryTextProperty",enablePaging:"enablePaging"},outputs:{selectedIdChange:"selectedIdChange",selectedIdsChange:"selectedIdsChange",selectedItemChange:"selectedItemChange",selectedItemsChange:"selectedItemsChange",loadMoreTriggered:"loadMoreTriggered"},features:[s.Cb],decls:6,vars:5,consts:[["position","top",1,"uxt-list__toolbar",3,"ngStyle"],[1,"uxt-list__toolbar__select-all__checkbox",3,"isActive","text","click"],[1,"uxt-list__wrapper"],[1,"uxt-list__items"],[4,"ngIf"],[3,"itemSize",4,"ngIf"],[3,"action","actionIconName","actionIconSrc","iconAccessor","isMultiselectActive","isMultiselectEnabled","isScreenWide","isSelected","item","pictureAccessor","primaryTextAccessor","secondaryTextAccessor","tertiaryTextAccessor","type","select","toggle",4,"ngFor","ngForOf"],[3,"action","actionIconName","actionIconSrc","iconAccessor","isMultiselectActive","isMultiselectEnabled","isScreenWide","isSelected","item","pictureAccessor","primaryTextAccessor","secondaryTextAccessor","tertiaryTextAccessor","type","select","toggle"],[3,"itemSize"],[3,"action","actionIconName","actionIconSrc","iconAccessor","isMultiselectActive","isMultiselectEnabled","isScreenWide","isSelected","item","pictureAccessor","primaryTextAccessor","secondaryTextAccessor","tertiaryTextAccessor","type","select","toggle",4,"cdkVirtualFor","cdkVirtualForOf"]],template:function(e,t){1&e&&(s.Yb(0,"uxt-toolbar",0),s.Yb(1,"uxt-checkbox",1),s.hc("click",(function(){return t.handleSelectAllClick()})),s.Xb(),s.Xb(),s.Yb(2,"div",2),s.Yb(3,"div",3),s.Sc(4,L,2,1,"ng-container",4),s.Sc(5,k,2,2,"cdk-virtual-scroll-viewport",5),s.Xb(),s.Xb()),2&e&&(s.sc("ngStyle",t.getToolbarStyle()),s.Eb(1),s.sc("isActive",t.getAreAllItemsSelected())("text",t.getSelectAllText()),s.Eb(3),s.sc("ngIf",!t.enablePaging),s.Eb(1),s.sc("ngIf",t.enablePaging))},directives:[f.a,m.w,b.a,m.t,m.s,N,n.e,n.a,n.d],styles:[".uxt-list{background-color:inherit;overflow:hidden}.uxt-list,.uxt-list__wrapper{display:flex;flex:1 1 auto;flex-direction:column}.uxt-list__wrapper{align-items:center;-webkit-overflow-scrolling:touch;overflow-x:hidden;overflow-y:scroll}.uxt-list__toolbar{justify-content:center;padding-right:16px;padding-left:16px;overflow:hidden}.uxt-list__toolbar .uxt-toolbar__items{max-width:752px}@media only screen and (min-width:769px){.uxt-list__toolbar .uxt-toolbar__items .uxt-icon-button,.uxt-list__toolbar .uxt-toolbar__items button{margin-left:-8px}}.uxt-list__toolbar__select-all__checkbox .uxt-checkbox__text{margin-left:8px}.uxt-list__items{display:flex;flex:1 0 auto;flex-direction:column;width:100%;padding-top:8px;padding-bottom:8px}.uxt-list__toolbar+.uxt-list__items{padding-top:0}.uxt-list:not(.uxt-list--compact) .uxt-list__items{border-left:1px solid #cad0d7;border-right:1px solid #cad0d7;max-width:768px}.uxt-list--no-scroll{flex:1 0 auto}.uxt-list--no-scroll .uxt-list__wrapper{flex:1 0 auto;overflow-y:visible}.uxt-list cdk-virtual-scroll-viewport{height:300px}.uxt-list cdk-virtual-scroll-viewport .cdk-virtual-scroll-content-wrapper{width:100%;padding-bottom:20px}"],encapsulation:2}),e})()},"OdF/":function(e,t,i){"use strict";i.d(t,"a",(function(){return n}));let n=(()=>{class e{}return e.INTEGER="integer",e.DOUBLE="double",e.BOOLEAN="boolean",e.STRING="string",e})()},"P/Za":function(e,t,i){"use strict";i.d(t,"a",(function(){return r}));var n=i("ofXK"),s=i("NFeN"),a=i("fXoL");let o=(()=>{class e{}return e.\u0275mod=a.Qb({type:e}),e.\u0275inj=a.Pb({factory:function(t){return new(t||e)},imports:[[n.c]]}),e})(),r=(()=>{class e{}return e.\u0275mod=a.Qb({type:e}),e.\u0275inj=a.Pb({factory:function(t){return new(t||e)},imports:[[n.c,o,s.b]]}),e})()},P83J:function(e,t,i){"use strict";i.d(t,"a",(function(){return s}));var n=i("0YdO");class s extends n.a{constructor(e,t,i={isModal:!0}){super(e,i),this.modulePath=t}}},PEjJ:function(e,t,i){"use strict";i.d(t,"a",(function(){return a}));var n=i("XNiG"),s=i("fXoL");let a=(()=>{class e{constructor(){this.itemsRemovedSubject=new n.a,this.refreshDataSubject=new n.a}get itemsRemoved$(){return this.itemsRemovedSubject.asObservable()}get refreshData$(){return this.refreshDataSubject.asObservable()}notifyItemsRemoved(e){this.itemsRemovedSubject.next("string"==typeof e?[e]:e)}refreshData(e){this.refreshDataSubject.next(e)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=s.Ob({token:e,factory:e.\u0275fac}),e})()},PK7q:function(e,t,i){"use strict";i.d(t,"a",(function(){return n}));class n{constructor(e,t){this.action=e,this.disabled=!1,t&&(this.displayName=t.displayName,this.tooltip=t.tooltip,this.disabled=!!t.disabled)}}},Phab:function(e,t,i){"use strict";i.d(t,"a",(function(){return n}));let n=(()=>{class e{}return e.EQUAL="eq",e.NOT_EQUAL="ne",e.GREATER_THAN="gt",e.GREATER_THAN_EQUAL="ge",e.LESS_THAN="lt",e.LESS_THAN_EQUAL="le",e.IS_NULL="isnull",e.IS_NOT_NULL="isnotnull",e.SPF_NULL="null",e.SPF_NOT_NULL="notnull",e})()},PoZZ:function(e,t,i){"use strict";i.d(t,"a",(function(){return o}));var n=i("zPje"),s=i("blvr"),a=i("fXoL");let o=(()=>{class e{createOdataQueryFilter(e,t){const i=this.createOdataQuerySettingsObject(e);return i.entityType=t,i}createLinkOdataQueryFilter(e,t,i,n){const s=this.createOdataQuerySettingsObject(e);return s.expandFromObjectId=t,s.navigation=i,s.endInterface=n,s.hasLink=!0,s}createObjectFromAnotherOdataSettings(e,t){const i=this.createOdataQueryFilter(e,t.entityType);return t.entityType||(i.expandFromObjectId=t.expandFromObjectId,i.navigation=t.navigation,i.hasLink=t.hasLink),t.startingUrl&&(i.startingUrl=t.startingUrl),t.columnSet&&(i.columnSet=t.columnSet),i.resolveDocumentsToVersion=void 0===t.resolveDocumentsToVersion||t.resolveDocumentsToVersion,i.relatedItemFilters=t.relatedItemFilters,i}createFilter(e){let t,i="or";switch(e.operator){case n.a.FILTER_OPERATORS.doesnotcontain:case n.a.FILTER_OPERATORS.neq:i="and"}return e&&e.searchTerm&&e.searchTerm.length>0&&(t={filters:e.fields.map(t=>({field:t,operator:e.operator,value:e.searchTerm})),logic:i}),t}createOdataQuerySettingsObject(e){const t=new s.a,i=e.filter();i&&t.filters.push(i),t.page=e.page(),t.pageSize=Settings.application.defaultPageSize;const n=e.sort();return n&&n.length>0&&(t.orderBy=n[0]),t}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=a.Ob({token:e,factory:e.\u0275fac}),e})()},PqRi:function(e,t,i){"use strict";i.d(t,"a",(function(){return f}));var n=i("XNiG"),s=i("IzEk"),a=i("lJxs"),o=i("Z9D8"),r=i("LUpO"),c=i("DJR3"),l=i("A3La"),d=i("Ejbi"),h=i("UVhF"),u=i("C8de"),p=i("KkJr"),g=i("fXoL");let f=(()=>{class e{constructor(e,t,i,s,a){this.odataService=e,this.dateFormatService=t,this.exceptionService=i,this.sdaTranslateService=s,this.formService=a,this.isLoading=!1,this.ENS_UNLOCK_FAILED=this.sdaTranslateService.get("ENS_UNLOCK_FAILED","Failed to unlock the ENS names"),this.ensNumberToCreateSubject=new n.a}get ensNumberToCreateSubjectChanges$(){return this.ensNumberToCreateSubject.asObservable()}parseENSNumberToCreate(e){return this.ensNumberToCreateSubject.next(e)}assignDisplayItemChangedValueToENSItem(e,t){let i;if("ENSSequence"===e.UID){if(i=this.getNameDisplayItem(t),i){const t=i.ENSItems.find(t=>t.PropertyUID===e.UID);if(t){let i=e.Value?e.Value.substring(0,t.FieldLength):"";i=t.OrgValue.slice(0,-i.length)+i,i||(i=t.OrgValue),t.Value=i+t.SPFENSDelimiterAfter}}}else e.ENSItems&&e.ENSItems.length&&(i=this.getNameDisplayItem(t),i&&i.ENSItems&&e.ENSItems.forEach(t=>{const n=i.ENSItems.find(e=>e.ENSItemName===t.ENSItemName);n&&this.setEnsValueBasedOntheType(e,n)}))}getENSNames(e,t){this.isLoading=!0;let i=[];e.ComplexClassDefDetails&&(i=e.ComplexClassDefDetails.map(e=>e.ClassDefUID));const n=this.formService.getCreateObjectFromForm(e,t,void 0);return this.odataService.post("GetENSPreviewNames",JSON.stringify({content:n,ClassDefUID:e.ClassDefUID,ComplexClassDefDetails:i}))}unlockENSNames(){this.isLoading=!0,this.odataService.post("UnlockENSNames","").pipe(Object(s.a)(1)).subscribe(()=>{this.isLoading=!1},e=>{this.isLoading=!1,this.exceptionService.handleException(new o.a(e,this.ENS_UNLOCK_FAILED))})}setEnsValueBasedOntheType(e,t){let i=!0,n=e.Value?e.Value.substring(0,t.FieldLength):"";e.DisplayType===u.a.UOM_LIST_TYPE?n=e.Value.replace(e.SPFDefaultUOM,"").substring(0,t.FieldLength):e.DisplayType===u.a.ENUM_LIST_TYPE||e.DisplayType===u.a.ENUM_LIST_LEVEL_TYPE?n=this.getEnsValueForEnumTypes(e,t):e.DisplayType===u.a.DATE_TIME_TYPE||e.DisplayType===u.a.YMD_TYPE?(n=this.formatDisplayItem(e),n=n.substring(0,t.FieldLength)):e.RelObjects&&e.RelObjects.length>0&&(i=!1,this.setENSValueForRelBasedDisplayItem(e,t)),n&&(n=this.getENSValueBasedOnPadJustification(t,n)),i&&setTimeout(()=>{t.Value=n+t.SPFENSDelimiterAfter})}setENSValueForRelBasedDisplayItem(e,t){const i=e.RelObjects[0].Key;i&&t.PropertyUID&&(i===p.a||i===p.c||i===p.b?t.Value="":this.getEnsValueForRelCollectionType(i,t).pipe(Object(s.a)(1)).subscribe(e=>{let i=e?e.substring(0,t.FieldLength):"";i=this.getENSValueBasedOnPadJustification(t,i),setTimeout(()=>{t.Value=i+t.SPFENSDelimiterAfter})}))}getENSValueBasedOnPadJustification(e,t){return"e1ENSPadLeft"===e.PadJusification?t=e.OrgValue.slice(0,-t.length)+t:"e1ENSPadRight"===e.PadJusification&&(t+=e.OrgValue.slice(0,-t.length)),t}formatDisplayItem(e){let t="";return t=e.DisplayType===u.a.DATE_TIME_TYPE?this.dateFormatService.convertToSPFDateTimeFormat(e.Value):this.dateFormatService.convertToSPFDateFormat(e.Value),t}getEnsValueForEnumTypes(e,t){let i,n="";return e.dropDownOptions&&(i=e.dropDownOptions.filter(t=>t.obid===e.Value)[0],i&&(n=i.obid===p.a||i.obid===p.c||i.obid===p.b?"":i.displayValue.substring(0,t.FieldLength))),n}getEnsValueForRelCollectionType(e,t){return this.odataService.get(`Objects('${e}')`,void 0,!0).pipe(Object(a.a)(e=>{let i="";return e.value&&(i=e.value[t.PropertyUID]),i}))}getNameDisplayItem(e){let t;return e&&(e.FormSections&&e.FormSections.length>0&&(t=this.getNameDIFromSections(e.FormSections)),e.ContainsTabs&&!t&&e.SPFFormTabs.forEach(()=>{t=this.getNameDIFromSections(e.FormSections)})),t}getNameDIFromSections(e){let t;return e&&e.length>0&&e.forEach(e=>e.FormDisplayLines.forEach(e=>e.FormDisplayItems.forEach(e=>{"Name"===e.PropertyUID&&(t=e)}))),t}}return e.\u0275fac=function(t){return new(t||e)(g.dc(l.a),g.dc(c.a),g.dc(r.a),g.dc(d.a),g.dc(h.a))},e.\u0275prov=g.Ob({token:e,factory:e.\u0275fac}),e})()},PuHP:function(e,t,i){"use strict";i.d(t,"a",(function(){return u}));var n=i("LRne"),s=i("lJxs"),a=i("eIep"),o=i("C4gn"),r=i("xc+7"),c=i("fPNj"),l=i("tqyv"),d=i("A3La"),h=i("fXoL");let u=(()=>{class e{constructor(e,t,i,n){this.odataService=e,this.featureSetService=t,this.featureSetNavigationService=i,this.viewNativeDataService=n}tryExecuteDefaultAction(e,t){const i=JSON.stringify({obid:e});return this.odataService.post("GetDefaultMethod()",i).pipe(Object(s.a)(e=>{let t;return 204!==e.originalResponse.status&&(t=this.featureSetService.convertToFeature(e.value)),t}),Object(a.a)(i=>i?"ViewFileWrapper"===i.clientAPI?this.handleFileViewingDefaultAction(e,t,i):(i.contextObjectOBIDs=[e],this.featureSetNavigationService.navigateToFeature(i),Object(n.a)(!0)):Object(n.a)(!1)))}handleFileViewingDefaultAction(e,t,i){return this.viewNativeDataService.canShowFile(e,t,i).pipe(Object(s.a)(e=>e===c.a.Success))}}return e.\u0275fac=function(t){return new(t||e)(h.dc(d.a),h.dc(r.a),h.dc(o.a),h.dc(l.a))},e.\u0275prov=h.Ob({token:e,factory:e.\u0275fac}),e})()},QLcs:function(e,t,i){"use strict";i.d(t,"a",(function(){return n}));class n{constructor(e,t){this.displayItem=e,this.logicOperator=t,this.dependantCriteria=[],this.subCriteria=[]}}},"Qi+w":function(e,t,i){"use strict";i.d(t,"a",(function(){return Y}));var n=i("XNiG"),s=i("2Vo4"),a=i("VRyK"),o=i("LRne"),r=i("z6cu"),c=i("cp0P"),l=i("zP0r"),d=i("eIep"),h=i("IzEk"),u=i("vkgz"),p=i("JIr8"),g=i("lJxs"),f=i("nYR2"),m=i("yAwn"),b=i("ONOH"),S=i("4B5/"),v=i("WjcW"),_=i("qSfU"),O=i("k/hs"),I=i("wN6G"),C=i("Z9D8"),T=i("LUpO"),E=i("UCFJ"),y=i("I2fW"),P=i("PEjJ"),x=i("HLw3"),A=i("8IK6"),w=i("J7mc"),M=i("A3La"),D=i("b/tf"),N=i("Ejbi"),R=i("iCYq"),L=i("qPJN"),F=i("+eYH"),k=i("U7l/"),U=i("YsXg"),j=i("41Lq"),B=i("em9o"),G=i("A2Nf");class V extends F.a{constructor(e,t,i,n){super(e,t,i,(n=n||{}).displayAs,n.entityType,n.data,n.queryContextConfig)}}var X=i("fXoL"),H=i("tyNb");let Y=(()=>{class e{constructor(e,t,i,a,o,r,c,l,d,h,u,p,g,f,m,b,S){this.router=e,this.urlFilterFactory=t,this.objectItemsHelperService=i,this.exceptionService=a,this.dataService=o,this.odataService=r,this.notificationService=c,this.sdaTranslateService=l,this.configService=d,this.configDataService=h,this.dataRefreshService=u,this.actionMenuProvider=p,this.objectIconService=g,this.crudService=f,this.batchRequestFactory=m,this.userService=b,this.preferencesService=S,this.maxGroupNameLength=100,this.DEFAULT_PINS_LIST=this.sdaTranslateService.get("DEFAULT_PINS_LIST","Default List"),this.newItemsSubject=new n.a,this.newItemsRetrievingSubject=new n.a,this.newItemsAddedSubject=new s.a(!1),this.pinGroupsSubject=new n.a,this.selectedPinGroupSubject=new n.a,this.selectedPinGroupPinsSubject=new n.a,this.selectedPinGroupPinsRetrievingSubject=new n.a,this.pinGroups=[],this.newItemPins=[],this.selectedPinGroupPins=[],this.lastOpenedMenu=B.a.Pinboard}initialize(){this.preferencesService.preferencesChanged$.subscribe(e=>{const t=new L.a(e).copy;t&&!this.preferences&&(this.pinGroups.length?this.setSelectedGroup(t.ActivePingroupObid):this.selectedGroupObid=t.ActivePingroupObid),this.preferences=t}),Object(a.a)(this.configDataService.configs$.pipe(Object(l.a)(1)),this.dataRefreshService.refreshData$).subscribe(()=>{this.refreshPinGroupsAndPins()}),this.refreshPinGroupsAndPins()}get newItemPinsChanges$(){return this.newItemsSubject.asObservable()}get selectedPinGroupChanges$(){return this.selectedPinGroupSubject.asObservable()}get selectedPinGroupPinsChanges$(){return this.selectedPinGroupPinsSubject.asObservable()}get pinGroupsChanges$(){return this.pinGroupsSubject.asObservable()}get newItemsAdded$(){return this.newItemsAddedSubject.asObservable()}get newItemPinsRetrieving$(){return this.newItemsRetrievingSubject.asObservable()}get selectedPinGroupPinsRetrieving$(){return this.selectedPinGroupPinsRetrievingSubject.asObservable()}get newItemPinsValues(){return this.newItemPins}get selectedPinGroupPinsValues(){return this.selectedPinGroupPins}get allPinGroupsValues(){return this.pinGroups}get defaultGroupValue(){return this.defaultGroup}get selectedPinGroupValue(){return this.selectedPinGroup}get selectedPinGroupObid(){return this.selectedGroupObid}set selectedPinGroupObid(e){this.selectedPinGroupPinsRetrievingSubject.next(!0),this.changePinGroup(e,!0).subscribe(()=>this.selectedPinGroupPinsRetrievingSubject.next(!1))}changePinsMenuTab(e){this.lastOpenedMenu=e,this.lastOpenedMenu===B.a.NewItems&&this.newItemsAddedSubject.value&&this.newItemsAddedSubject.next(!1)}getPinGroups(e=!0,t=!1){return this.retrievePinGroups(e,void 0,t)}refreshPinGroups(e=!0,t){this.retrievePinGroups(e,t).subscribe()}getGroupByObid(e){return this.pinGroups.length?Object(o.a)(this.pinGroups.find(t=>t.obid===e)):this.retrievePinGroups().pipe(Object(d.a)(t=>Object(o.a)(t.find(t=>t.obid===e))))}getSpecificGroupPins(e,t){return t||e!==this.selectedGroupObid?this.retrievePins(e):Object(o.a)(this.selectedPinGroupPinsValues.concat())}getNewItemPins(){this.newItemPins.length>0?(this.newItemsRetrievingSubject.next(!0),this.objectItemsHelperService.getCompleteObjects(this.newItemPins).pipe(Object(h.a)(1),Object(d.a)(e=>this.parseNewItems(e))).subscribe(e=>{this.setNewItemPins(e)},e=>{this.exceptionService.handleException(e),this.newItemsRetrievingSubject.next(!1)})):(this.newItemsSubject.next(this.newItemPins),this.newItemsRetrievingSubject.next(!1))}pinActionsMenuItemsToPinGroup(e=this.selectedGroupObid,t){this.pinToPinGroup(this.actionMenuProvider.getItems().concat(),e,t)}pinToPinGroup(e,t=this.selectedGroupObid,i=!0){this.lastOpenedMenu=B.a.Pinboard;const n=[];e instanceof F.a||e instanceof V?n.push(e.obid):e.forEach(e=>n.push(e.obid)),this.selectedPinGroupPinsRetrievingSubject.next(!0),this.addPins(n,t).subscribe(()=>{this.handleGroupPinsUpdated(this.itemAddedMessage(n,t),t,i)},e=>this.handleGroupPinsUpdateErrors(e))}addToNewItems(e){this.lastOpenedMenu=B.a.NewItems,e instanceof F.a||e instanceof V?this.newItemPins.push(Object.assign({},e)):e.forEach(e=>this.newItemPins.push(Object.assign({},e))),this.newItemsAddedSubject.next(!0),this.getNewItemPins()}unpinFromPinGroup(e,t=this.selectedGroupObid){const i=[];"string"==typeof e?i.push(e):i.push(...e),this.deletePins(i,t)}unpinFromNewItems(e,t=!0){let i=[];"string"==typeof e?i=[e]:i.push(...e),i.forEach(e=>{this.newItemPins.splice(this.newItemPins.findIndex(t=>t.obid===e),1)}),t&&this.notificationService.info(this.sdaTranslateService.getFormatted("PINS_NEW_ITEMS_REMOVE","{0} item(s) removed from new items pinboard",[i.length.toString()])),this.getNewItemPins()}moveNewItemsToNewGroup(e,t,i,n){return this.selectedPinGroupPinsRetrievingSubject.next(!0),this.createNewPinGroup(t,!1).pipe(Object(d.a)(t=>this.moveNewItems(e,t,i,n)),Object(u.a)(()=>this.itemMovedMessage(e.length,t,!i)),Object(p.a)(e=>{throw this.selectedPinGroupPinsRetrievingSubject.next(!1),e}))}moveNewItemsToExistingGroup(e,t,i,n){return this.selectedPinGroupPinsRetrievingSubject.next(!0),this.moveNewItems(e,t,i,n).pipe(Object(u.a)(()=>this.itemMovedMessage(e.length,this.getGroupNameForNotifications(t),!i)),Object(p.a)(e=>{throw this.selectedPinGroupPinsRetrievingSubject.next(!1),e}))}addPinToNewGroup(e,t){return this.selectedPinGroupPinsRetrievingSubject.next(!0),this.createNewPinGroup(t,!1).pipe(Object(d.a)(t=>this.addPins(e,t).pipe(Object(d.a)(()=>this.retrievePinGroups(!0,t).pipe(Object(g.a)(()=>t),Object(u.a)(()=>this.notificationService.info(this.itemAddedMessage(e,t))))))),Object(f.a)(()=>{this.selectedPinGroupPinsRetrievingSubject.next(!1)}))}createNewPinGroup(e,t=!0){if(e.length>this.maxGroupNameLength)return Object(r.a)(this.sdaTranslateService.getFormatted("PIN_LIST_NAME_LENGTH_EXCEEDED","Pins list names may not exceed {0} characters",[this.maxGroupNameLength.toString()]));{const i=this.createPinGroupCrudObject(e,!0);return this.crudService.create(i).pipe(Object(d.a)(e=>{const i=e.OBID;return t?this.retrievePinGroups(!1).pipe(Object(g.a)(()=>i)):Object(o.a)(i)}))}}getPinnedObjectsByCriteria(e,t,i,n=""){if(this.selectedPinGroupPins&&this.selectedPinGroupPins.length>0){let s=`Objects?$filter=contains(Interfaces, '${e}') and (${this.selectedPinGroupPins.map(e=>`OBID eq '${e.obid}'`).join(" or ")}) and Name eq '${t}' &$top=${i}&$count=true`;return""!==n&&(s+="&$expand="+n+"($select=OBID)"),this.odataService.get(s)}return Object(o.a)(void 0)}modifyPinGroups(e,t,i){if(t=t||[],i=i||[],(e=e||[]).length||t.length||i.length){const n=this.batchRequestFactory.createBatchRequest(),s=n.createChangeset();return e.forEach(e=>{const t=this.createPinGroupCrudObject(e,!0);s.addCreateRequest(t)}),t.forEach(e=>{s.addDeleteObjectRequest(e)}),i.forEach(e=>{const t=this.createPinGroupCrudObject(e.name,!1);s.addUpdateRequest(e.obid,t)}),n.addChangeset(s),n.execute().pipe(Object(d.a)(e=>(e.forEach(e=>{e&&e.hasErrored&&this.exceptionService.handleException(new C.a(e.exception,e.exception.message,"PinsMenuService","modifyPinGroups"))}),Object(o.a)(e))),Object(u.a)(()=>this.refreshPinGroups()))}return Object(o.a)(void 0)}movePinsToNewGroup(e,t,i,n,s){return this.selectedPinGroupPinsRetrievingSubject.next(!0),this.createNewPinGroup(i,!1).pipe(Object(d.a)(a=>this.movePins(e,t,a,n,s,i)),Object(p.a)(e=>{throw this.selectedPinGroupPinsRetrievingSubject.next(!1),e}))}movePinsBetweenGroups(e,t,i,n,s){return this.selectedPinGroupPinsRetrievingSubject.next(!0),this.movePins(e,t,i,n,s,this.getGroupNameForNotifications(i)).pipe(Object(p.a)(e=>{throw this.selectedPinGroupPinsRetrievingSubject.next(!1),e}))}viewPinItemDetails(e){const t=JSON.stringify(this.urlFilterFactory.createLinkFilterSettings(e.obid)),i=JSON.stringify([e.config]);this.router.navigate(["/objects",{queryFilter:t,config:i},"detail",e.obid])}refreshPinGroupsAndPins(){this.getNewItemPins(),this.refreshPinGroups()}setSelectedGroup(e,t=!0){"string"==typeof e?this.pinGroups&&(this.selectedGroupObid=e,this.selectedPinGroup=this.pinGroups.find(t=>t.obid===e)):e&&(this.selectedGroupObid=e.obid,this.selectedPinGroup=e),this.selectedPinGroup&&this.pinGroups&&this.pinGroups.some(e=>e.obid===this.selectedPinGroup.obid)||(this.selectedPinGroup=this.pinGroups&&this.pinGroups.length?this.pinGroups[0]:void 0,this.selectedGroupObid=this.selectedPinGroup?this.selectedPinGroup.obid:void 0),t&&this.selectedPinGroupSubject.next(this.selectedPinGroup)}retrievePinGroups(e=!0,t,i=!1){this.selectedPinGroupPinsRetrievingSubject.next(!i);const n=[];return this.configService.selectedQueryConfigs.forEach(e=>{n.push(this.dataService.post("GetPinGroups()",JSON.stringify({pblnIgnoreConfigsForPinCounts:i}),e).pipe(Object(g.a)(t=>({config:e,results:t}))))}),Object(c.a)(...n).pipe(Object(h.a)(1),Object(d.a)(n=>this.handleGroupPinsResponse(n,e,i,t)),Object(p.a)(e=>(this.handleGroupPinsUpdateErrors(e),Object(o.a)(void 0))))}handleGroupPinsResponse(e,t,i,n){const s=this.parsePinGroups(e,i);if(i)return Object(o.a)(s);{this.pinGroups=s,this.defaultGroup=s.find(e=>e.isOriginalPinboardGroup);let e=this.selectedGroupObid;return n&&n!==this.selectedGroupObid?(t=!0,e=n):this.selectedGroupObid&&s.some(e=>this.selectedGroupObid===e.obid)||(t=!0,e=s[0].obid),this.changePinGroup(e,t).pipe(Object(g.a)(()=>(this.selectedPinGroupPinsRetrievingSubject.next(!1),this.pinGroups)))}}changePinGroup(e,t){if(this.pinGroups.some(t=>t.obid===e)){this.selectedPinGroupPinsRetrievingSubject.next(!0);let i=Object(o.a)(void 0);return this.selectedGroupObid!==e&&(this.setSelectedGroup(e,!1),this.preferences.ActivePingroupObid=this.selectedGroupObid,i=this.preferencesService.updatePreferences(this.preferences)),this.pinGroups.map(e=>{e.selected=!1,this.selectedGroupObid===e.obid&&(e.selected=!0,this.setSelectedGroup(e,!1))}),i.pipe(Object(h.a)(1),Object(d.a)(()=>t?this.updatePinGroup():(this.pinGroupsSubject.next(this.pinGroups),Object(o.a)(void 0))),Object(u.a)(()=>this.selectedPinGroupSubject.next(this.selectedPinGroup)))}return Object(o.a)(void 0)}updatePinGroup(e=this.selectedGroupObid){return this.retrievePins(e).pipe(Object(u.a)(t=>{if(t){const i=this.pinGroups.find(t=>e===t.obid);i&&(i.pinsCount=1===this.configService.selectedQueryConfigs.length?t.length:void 0),e===this.selectedGroupObid&&(this.selectedPinGroupPins=t)}this.pinGroupsSubject.next(this.pinGroups),this.selectedPinGroupPinsSubject.next(this.selectedPinGroupPins)}))}retrievePins(e=this.selectedGroupObid){if(e){const t=[];return this.configService.selectedQueryConfigs.forEach(i=>{t.push(this.dataService.post("GetPinsForPinGroup()",JSON.stringify({pstrObid:e}),i).pipe(Object(d.a)(e=>this.getPinIcons(e.map(e=>e.OBID),i).pipe(Object(g.a)(t=>({config:i,results:e,icons:t}))))))}),Object(c.a)(...t).pipe(Object(h.a)(1),Object(d.a)(t=>Object(o.a)(this.parsePinItems(t,e))),Object(p.a)(e=>(this.exceptionService.handleException(e),Object(o.a)(void 0))))}return this.exceptionService.handleException(new C.a(this.sdaTranslateService.get("PIN_LIST_MISSING_ERROR","Unable to retrieve pins, no pins list selected"))),Object(o.a)(void 0)}parseNewItems(e){return this.getPinIcons(e.map(e=>e.obid)).pipe(Object(g.a)(t=>e.map(e=>{const i=Object.assign({},e),n=this.configService.getConfigByUid(i.config);i.configName=n?n.DisplayName:i.config;const s=t.find(e=>e.OBID===i.obid);return i.icon=s?s.IconName:E.a,i}).sort((e,t)=>e.name.localeCompare(t.name))))}setNewItemPins(e){this.newItemPins=e,this.newItemsSubject.next(this.newItemPins),this.newItemsAddedSubject.value&&!e.length&&this.newItemsAddedSubject.next(!1),this.newItemsRetrievingSubject.next(!1)}parsePinGroups(e,t){const i=[];let n;return e.forEach(e=>{e.results.forEach(e=>{if(!i.some(t=>t.obid===e.GroupOBID)){const s=new G.b(e.GroupOBID,e.GroupName,e.GroupConfig?e.GroupConfig:k.b);s.pinsCount=t||1===this.configService.selectedQueryConfigs.length?e.PinsCount:void 0;const a=this.configService.getConfigByUid(s.config);s.configName=a?a.DisplayName:s.config,s.isOriginalPinboardGroup?(s.name=this.DEFAULT_PINS_LIST,n=s):i.push(s)}})}),i.sort((e,t)=>e.name.localeCompare(t.name)),n&&i.unshift(n),i}parsePinItems(e,t){const i=[];return e.forEach(e=>{e.results.forEach(n=>{if(!i.some(e=>e.obid===n.OBID)){const s=!n.Config,a=new V(n.OBID,n.Name,n.Config?n.Config:this.configService.selectedCreateConfig,{displayAs:n.Description||n.CI_Description}),o=this.configService.getConfigByUid(s?k.b:a.config);a.configName=o?o.DisplayName:a.config;const r=e.icons.find(e=>e.OBID===a.obid);a.icon=r?r.IconName:E.a,a.pinGroupObid=t,i.push(a)}})}),i.sort((e,t)=>e.name.localeCompare(t.name))}addPins(e,t=this.selectedGroupObid){return this.dataService.post("AddPinsToList",JSON.stringify({pstrObids:e,pstrTargetListObid:t}))}deletePins(e,t=this.selectedGroupObid){this.selectedPinGroupPinsRetrievingSubject.next(!0),this.dataService.post("DeletePinsFromList",JSON.stringify({pstrObids:e,pstrListObid:t})).pipe(Object(h.a)(1)).subscribe(()=>{this.handleGroupPinsUpdated(this.itemRemovedMessage(e,t),t,!1)},e=>this.handleGroupPinsUpdateErrors(e))}getGroupNameForNotifications(e){const t=this.pinGroups.find(t=>t.obid===e);return t?t.name:this.sdaTranslateService.get("PINS_PINBOARD","Pinboard")}movePins(e,t,i,n,s,a){return this.dataService.post("MovePinsBetweenLists",JSON.stringify({pstrObidsToMove:e,pstrSourceListObid:t,pstrTargetListObid:i,pblnDuplicate:n})).pipe(Object(u.a)(()=>{this.refreshPinGroups(!n||s,s?i:t),this.itemMovedMessage(e.length,a,n)}))}moveNewItems(e,t,i,n){return this.addPins(e,t).pipe(Object(u.a)(()=>{i&&this.unpinFromNewItems(e,!1),n&&this.changePinsMenuTab(B.a.Pinboard),this.refreshPinGroups(this.selectedGroupObid===t,n?t:void 0)}))}itemMovedMessage(e,t,i){let n;n=i?this.sdaTranslateService.getFormatted("ITEMS_COPIED_TO","{0} item(s) copied to {1}",[e.toString(),t]):this.sdaTranslateService.getFormatted("ITEMS_MOVED_TO","{0} item(s) moved to {1}",[e.toString(),t]),this.notificationService.info(n)}itemAddedMessage(e,t){return this.sdaTranslateService.getFormatted("ITEMS_ADDED_TO","{0} item(s) added to {1}",[e.length.toString(),this.getGroupNameForNotifications(t)])}itemRemovedMessage(e,t){return this.sdaTranslateService.getFormatted("ITEMS_REMOVED_FROM","{0} item(s) removed from {1}",[e.length.toString(),this.getGroupNameForNotifications(t)])}handleGroupPinsUpdated(e,t,i){let n;this.selectedPinGroupPinsRetrievingSubject.next(!0),n=i?this.changePinGroup(t,!0):this.updatePinGroup(t),n.pipe(Object(h.a)(1)).subscribe(()=>{this.selectedPinGroupPinsRetrievingSubject.next(!1),this.notificationService.info(e)})}handleGroupPinsUpdateErrors(e){this.exceptionService.handleException(e),this.selectedPinGroupPinsRetrievingSubject.next(!1)}getPinIcons(e,t){return e&&e.length?this.objectIconService.getIconNames(e,t):Object(o.a)(void 0)}createPinGroupCrudObject(e,t){const i=new v.a(t?"SPFPinGroup":void 0);return i.properties.push(new _.a("Name",e)),t&&i.relationships.push(new O.a("SPFUserPinGroups",!1,[this.userService.cachedUserEndpoint.Id])),i}}return e.\u0275fac=function(t){return new(t||e)(X.dc(H.g),X.dc(U.a),X.dc(A.a),X.dc(T.a),X.dc(w.a),X.dc(M.a),X.dc(j.a),X.dc(N.a),X.dc(b.a),X.dc(m.a),X.dc(P.a),X.dc(S.a),X.dc(y.a),X.dc(I.a),X.dc(x.a),X.dc(R.a),X.dc(D.a))},e.\u0275prov=X.Ob({token:e,factory:e.\u0275fac}),e})()},Qpiy:function(e,t,i){"use strict";i.d(t,"a",(function(){return r}));var n=i("LRne"),s=i("lJxs"),a=i("SXtU"),o=i("fXoL");let r=(()=>{class e extends a.a{constructor(){super(...arguments),this.serverInformationSet=!1}get ServerInformationSet(){return this.serverInformationSet}get ServerInformation(){return this.serverInformation}getServerInformation(){return this.serverInformationSet?Object(n.a)(this.serverInformation):this.get("ServerInfo").pipe(Object(s.a)(e=>(this.serverInformationSet=!0,this.serverInformation=e)))}isDatabaseSDX(){return this.getServerInformation().pipe(Object(s.a)(e=>e&&e.DatabaseVariants&&e.DatabaseVariants.toUpperCase().includes("SDX")))}}return e.\u0275fac=function(t){return c(t||e)},e.\u0275prov=o.Ob({token:e,factory:e.\u0275fac}),e})();const c=o.ac(r)},Qqho:function(e,t,i){"use strict";i.d(t,"a",(function(){return n}));var n=function(e){return e[e.View=0]="View",e[e.EditFiles=1]="EditFiles",e[e.SaveTargetAs=2]="SaveTargetAs",e[e.CompareDocuments=3]="CompareDocuments",e[e.SignOff=4]="SignOff",e[e.CheckIn=5]="CheckIn",e[e.UndoCheckOut=6]="UndoCheckOut",e[e.ExpandDocStructure=7]="ExpandDocStructure",e[e.ExpandFileStructure=8]="ExpandFileStructure",e}({})},QtV5:function(e,t,i){"use strict";i.d(t,"a",(function(){return v}));var n=i("XIp8"),s=i("2Vo4"),a=i("LRne"),o=i("lJxs"),r=i("C8de"),c=i("TQny"),l=i("UVhF"),d=i("xc+7"),h=i("J7mc"),u=i("Ejbi"),p=i("Phab"),g=i("4x+t"),f=i("VNYG"),m=i("QLcs");class b{constructor(){this.dependent=[],this.sub=[]}}var S=i("fXoL");let v=(()=>{class e{constructor(e,t,i,n,a){this.formService=e,this.featureSetService=t,this.sdaTranslateService=i,this.dataService=n,this.dependentItemsService=a,this.queryMethods=[],this.allFlatListData=[],this.mandatoryCriteria=[],this.isQueryLoading=new s.a(!1),this.mandatoryDisplayItems=[],this.EQUALS=this.sdaTranslateService.get("EQUALS","Equals"),this.NOT_EQUALS=this.sdaTranslateService.get("NOT_EQUALS","Not equals"),this.CONTAINS=this.sdaTranslateService.get("CONTAINS","Contains"),this.STARTS_WITH=this.sdaTranslateService.get("STARTS_WITH","Starts with"),this.ENDS_WITH=this.sdaTranslateService.get("ENDS_WITH","Ends with"),this.LESS_THAN=this.sdaTranslateService.get("LESS_THAN","Less than"),this.LESS_THAN_EQUAL=this.sdaTranslateService.get("LESS_THAN_EQUAL","Less than or equal to"),this.GREATER_THAN=this.sdaTranslateService.get("GREATER_THAN","Greater than"),this.GREATER_THAN_EQUAL=this.sdaTranslateService.get("GREATER_THAN_EQUAL","Greater than or equal to"),this.IS_BEFORE=this.sdaTranslateService.get("IS_BEFORE","Is before"),this.IS_BEFORE_EQUAL=this.sdaTranslateService.get("IS_BEFORE_EQUAL","Is before or equal to"),this.IS_AFTER=this.sdaTranslateService.get("IS_AFTER","Is after"),this.IS_AFTER_EQUAL=this.sdaTranslateService.get("IS_AFTER_EQUAL","Is after or equal to"),this.IS_NULL=this.sdaTranslateService.get("IS_NULL","Is null"),this.IS_NOT_NULL=this.sdaTranslateService.get("IS_NOT_NULL","Is not null")}getOperators(e){const t=[];switch(e){case r.a.STRING_TYPE:case r.a.URL_TYPE:t.push(new f.a(this.EQUALS,p.a.EQUAL)),t.push(new f.a(this.NOT_EQUALS,p.a.NOT_EQUAL)),t.push(new f.a(this.CONTAINS,g.a.CONTAINS)),t.push(new f.a(this.STARTS_WITH,g.a.STARTS_WITH)),t.push(new f.a(this.ENDS_WITH,g.a.ENDS_WITH)),t.push(new f.a(this.IS_NULL,p.a.IS_NULL)),t.push(new f.a(this.IS_NOT_NULL,p.a.IS_NOT_NULL));break;case r.a.ENUM_LIST_TYPE:case r.a.ENUM_LIST_LEVEL_TYPE:case r.a.BOOLEAN_TYPE:t.push(new f.a(this.EQUALS,p.a.EQUAL)),t.push(new f.a(this.NOT_EQUALS,p.a.NOT_EQUAL)),t.push(new f.a(this.IS_NULL,p.a.IS_NULL)),t.push(new f.a(this.IS_NOT_NULL,p.a.IS_NOT_NULL));break;case r.a.DATE_TIME_TYPE:case r.a.YMD_TYPE:t.push(new f.a(this.EQUALS,p.a.EQUAL)),t.push(new f.a(this.NOT_EQUALS,p.a.NOT_EQUAL)),t.push(new f.a(this.IS_BEFORE,p.a.LESS_THAN)),t.push(new f.a(this.IS_BEFORE_EQUAL,p.a.LESS_THAN_EQUAL)),t.push(new f.a(this.IS_AFTER,p.a.GREATER_THAN)),t.push(new f.a(this.IS_AFTER_EQUAL,p.a.GREATER_THAN_EQUAL)),t.push(new f.a(this.IS_NULL,p.a.IS_NULL)),t.push(new f.a(this.IS_NOT_NULL,p.a.IS_NOT_NULL));break;case r.a.DOUBLE_TYPE:case r.a.INT_TYPE:case r.a.UOM_LIST_TYPE:t.push(new f.a(this.EQUALS,p.a.EQUAL)),t.push(new f.a(this.NOT_EQUALS,p.a.NOT_EQUAL)),t.push(new f.a(this.LESS_THAN,p.a.LESS_THAN)),t.push(new f.a(this.LESS_THAN_EQUAL,p.a.LESS_THAN_EQUAL)),t.push(new f.a(this.GREATER_THAN,p.a.GREATER_THAN)),t.push(new f.a(this.GREATER_THAN_EQUAL,p.a.GREATER_THAN_EQUAL)),t.push(new f.a(this.IS_NULL,p.a.IS_NULL)),t.push(new f.a(this.IS_NOT_NULL,p.a.IS_NOT_NULL));break;default:t.push(new f.a(this.EQUALS,p.a.EQUAL)),t.push(new f.a(this.NOT_EQUALS,p.a.NOT_EQUAL)),t.push(new f.a(this.IS_NULL,p.a.SPF_NULL)),t.push(new f.a(this.IS_NOT_NULL,p.a.SPF_NOT_NULL))}return t}getQueryMethods(){return this.formService.GetQueryMethods().pipe(Object(o.a)(e=>e.map(e=>this.featureSetService.convertToFeature(e,void 0))))}getComplexLevelForClassDef(e){let t;return t=e.toLocaleLowerCase().endsWith("master")?"$1":e.toLocaleLowerCase().endsWith("revision")?"$2":e.toLocaleLowerCase().endsWith("version")?"$3":"NonComplex",Object(a.a)(t)}getColumnSetUIDForQuery(e,t,i){return t?this.GetColumnSetUIDByClassDef(t,i):this.GetColumnSetUIDByInterfaceDefUID(e)}deserializeSelectedCriteria(e){let t;if(e){const i=this.allFlatListData.filter(t=>t.displayItem.UID===e.uid);if(i&&i.length){const s=Object(n.a)(i[0].displayItem);s.Value=e.val,t=new m.a(s,e.oper),t.displayItem.Operator=e.qOper,t.level=e.nth,e.dependent&&e.dependent.length&&e.dependent.forEach(e=>{const i=this.deserializeSelectedCriteria(e);i&&t.dependantCriteria.push(i)}),e.sub&&e.sub.length&&e.sub.forEach(e=>{const i=this.deserializeSelectedCriteria(e);i&&t.subCriteria.push(i)})}}return t}serializeDependentCriteria(e){const t=new b;return e&&(e.dependantCriteria&&e.dependantCriteria.length&&e.dependantCriteria.forEach(e=>{t.dependent.push(this.serializeDependentCriteria(e))}),e.subCriteria&&e.subCriteria.length&&e.subCriteria.forEach(e=>{t.sub.push(this.serializeDependentCriteria(e))}),this.updateDisplayItem(e),t.uid=e.displayItem.UID,t.oper=e.logicOperator,t.val=e.displayItem.Value,t.qOper=e.displayItem.Operator,t.nth=e.level),t}onRemoveDependentItem(e,t){const i=t.indexOf(e);t.splice(i,1)}onValueChanged(e){if(e.dependantCriteria&&e.dependantCriteria.length){const t=[];this.getDependentDisplayItems(e,t),this.dependentItemsService.DisplayItemsValueChanged(e.displayItem,{FormDisplayLines:[{FormDisplayItems:[e.displayItem]},{FormDisplayItems:t}]})}}getDisplayItemUID(e){let t=e.UID;return e.DisplayType!==r.a.ENUM_LIST_TYPE&&e.DisplayType!==r.a.ENUM_LIST_LEVEL_TYPE||(t=e.EnumListTypeUID),t}isSecondaryParent(e,t){let i=!1;const n=e.SecondaryParentItemUIDs;return n&&n.length>0&&(i=-1!==n.indexOf(this.getDisplayItemUID(t))),i}lambdaKeyGenerator(){let e="";const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz";for(let i=0;i<5;i++)e+=t.charAt(Math.floor(Math.random()*t.length));return e}getDependentDisplayItems(e,t){e&&e.dependantCriteria&&e.dependantCriteria.length&&e.dependantCriteria.forEach(e=>{t.push(e.displayItem),this.getDependentDisplayItems(e,t)})}updateDisplayItem(e){if(e&&e.displayItem&&e.displayItem.RelObjects&&e.displayItem.RelObjects.length){e.displayItem.Value="",e.displayItem.RelObjects=e.displayItem.RelObjects.filter(e=>!e.Terminate);const t=e.displayItem.RelObjects.map(e=>e.Key);t&&t.length&&(e.displayItem.Value=t.join("~"))}}GetColumnSetUIDByInterfaceDefUID(e){return this.dataService.post("GetColumnSetUIDForInterfaceDef",JSON.stringify({InterfaceDefUID:e}))}GetColumnSetUIDByClassDef(e,t=""){return this.dataService.post("GetColumnSetUIDByClassDefOrClassification",JSON.stringify({ClassDefUID:e,ClassificationUID:t}))}}return e.\u0275fac=function(t){return new(t||e)(S.dc(l.a),S.dc(d.a),S.dc(u.a),S.dc(h.a),S.dc(c.a))},e.\u0275prov=S.Ob({token:e,factory:e.\u0275fac}),e})()},RXOm:function(e,t,i){"use strict";i.d(t,"a",(function(){return u}));var n=i("m8I0"),s=i("9Vyx"),a=i("fXoL"),o=i("ofXK"),r=i("NFeN");function c(e,t){1&e&&(a.Yb(0,"span",5),a.Tb(1,"span",6),a.Tb(2,"span",6),a.Tb(3,"span",6),a.Xb())}function l(e,t){if(1&e&&a.Tb(0,"mat-icon",7),2&e){const e=a.lc();a.sc("svgIcon",e.matSvgIcon)}}function d(e,t){if(1&e&&a.Tb(0,"i",8),2&e){const e=a.lc();a.Ib("fa-fw",e.displayName),a.sc("ngClass",e.styleClassIcon)}}function h(e,t){if(1&e&&(a.Yb(0,"span",9),a.Uc(1),a.Xb()),2&e){const e=a.lc();a.Eb(1),a.Wc(" ",e.displayName," ")}}let u=(()=>{class e extends s.a{constructor(){super(...arguments),this.type=n.a.Neutral}}return e.\u0275fac=function(t){return p(t||e)},e.\u0275cmp=a.Mb({type:e,selectors:[["sda-button-neutral"]],features:[a.Bb],decls:5,vars:23,consts:[["type","button",1,"button",3,"ngClass","disabled","click"],["class","button-loader",4,"ngIf"],["class","button__mat-icon",3,"svgIcon",4,"ngIf"],["class","button__icon","role","icon","aria-hidden","true",3,"fa-fw","ngClass",4,"ngIf"],["class","button__name",4,"ngIf"],[1,"button-loader"],[1,"button-loader__bar"],[1,"button__mat-icon",3,"svgIcon"],["role","icon","aria-hidden","true",1,"button__icon",3,"ngClass"],[1,"button__name"]],template:function(e,t){1&e&&(a.Yb(0,"button",0),a.hc("click",(function(e){return t.onClick.emit(e)})),a.Sc(1,c,4,0,"span",1),a.Sc(2,l,1,1,"mat-icon",2),a.Sc(3,d,1,3,"i",3),a.Sc(4,h,2,1,"span",4),a.Xb()),2&e&&(a.Ib("button--compact",t.isCompact)("button--default","Default"===t.type)("button--primary","Primary"===t.type)("button--neutral","Neutral"===t.type)("button--success","Success"===t.type)("button--destroy","Destroy"===t.type)("button--abort","Abort"===t.type)("button--plain","Plain"===t.type),a.sc("ngClass",t.styleClassButton)("disabled",t.isDisabled),a.Fb("title",t.title),a.Eb(1),a.sc("ngIf",t.isLoading),a.Eb(1),a.sc("ngIf",t.matSvgIcon&&!t.isLoading),a.Eb(1),a.sc("ngIf",t.styleClassIcon&&!t.isLoading),a.Eb(1),a.sc("ngIf",t.displayName))},directives:[o.q,o.t,r.a],styles:[".button[_ngcontent-%COMP%]{display:flex;align-items:center;flex:1 1 auto;min-width:40px;height:34px;padding:0 12px;font-size:14px;transition:all 175ms cubic-bezier(.1,.65,.1,.65);box-shadow:none;text-shadow:none;border-radius:3px}.button--compact[_ngcontent-%COMP%]{min-width:30px;height:30px;padding-right:10px;padding-left:10px}.button[disabled][_ngcontent-%COMP%]   *[_ngcontent-%COMP%]{opacity:.4;pointer-events:none}.button[disabled][_ngcontent-%COMP%]:active{background-color:initial}.button__icon[_ngcontent-%COMP%]{flex-shrink:0;color:inherit}.button__icon[_ngcontent-%COMP%]:only-child{font-size:18px}.button__icon[_ngcontent-%COMP%]:not(:only-child){font-size:14px}.button__mat-icon[_ngcontent-%COMP%]{width:20px;height:20px}.button__name[_ngcontent-%COMP%]{color:inherit}.button__name[_ngcontent-%COMP%]:not(:only-child){margin-left:8px}.button[_ngcontent-%COMP%]     svg[role=icon]{color:inherit;width:20px;height:auto}.button-loader[_ngcontent-%COMP%]{display:flex;justify-content:space-between;flex-basis:18px}@-webkit-keyframes bars{0%,to{opacity:1;-webkit-transform:scaleY(1);transform:scaleY(1)}35%{opacity:.5}50%{-webkit-transform:scaleY(1.8);transform:scaleY(1.8)}65%{opacity:1}}@keyframes bars{0%,to{opacity:1;-webkit-transform:scaleY(1);transform:scaleY(1)}35%{opacity:.5}50%{-webkit-transform:scaleY(1.8);transform:scaleY(1.8)}65%{opacity:1}}.button-loader__bar[_ngcontent-%COMP%]{width:4px;height:10px;background-color:#fff;-webkit-animation:bars 1s ease-in-out infinite;animation:bars 1s ease-in-out infinite}.button-loader__bar[_ngcontent-%COMP%]:first-child{-webkit-animation-delay:.15s;animation-delay:.15s}.button-loader__bar[_ngcontent-%COMP%]:nth-child(2){-webkit-animation-delay:.3s;animation-delay:.3s}.button-loader__bar[_ngcontent-%COMP%]:nth-child(3){-webkit-animation-delay:.45s;animation-delay:.45s}",".button--neutral[_ngcontent-%COMP%]{color:#007faa;border:none;background:transparent}.button--neutral[_ngcontent-%COMP%]:not([disabled]):hover{background-color:rgba(0,127,170,.2);border-color:#007faa}.button--neutral[disabled][_ngcontent-%COMP%]{color:#007faa}"]}),e})();const p=a.ac(u)},S2YF:function(e,t,i){"use strict";i.d(t,"a",(function(){return d}));var n=i("XNiG"),s=i("ONOH"),a=i("Teex"),o=i("gBNM"),r=i("zewe"),c=i("pyKC"),l=i("fXoL");let d=(()=>{class e{constructor(e,t,i,s){this.configService=e,this.objectDetailsService=t,this.relationshipItemsService=i,this.relDetailsService=s,this.onGridTabsUpdated=new n.a,this.onRelMaintenanceDisplayItemsUpdated=new n.a,this.relatedItemTabs=[],this.relMaintenanceDisplayItems=[]}generateGridTabs(e,t=!1){e.forEach(e=>{let i="";t&&(i=`Objects('${e.obid}')/${e.navigation}?$count=true`);const n=this.relDetailsService.getRelDefDirection(this.getDisplayItemNavigationPath(e));e.ContextOBIDs&&(i=this.getGridUrl(n,e.ContextOBIDs));const s=new o.a(e.DisplayName,i,this.configService.selectedCreateConfig,void 0,void 0,n);s.fieldToQueryObject=e,s.onObjectsUpdatedToGrid=e=>this.onDisplayItemChanged(s,e,t),s.onFormatUrlRequest=e=>this.getGridTabUrl(e,t),s.interactiveColumns=[{icon:"fa-trash",action:t=>this.removeRow(e,t.OBID)}],s.showInteractiveColumnsFirst=!0,s.onCellClicked=e=>this.onViewObjectDetailsInNewTab(e.object.OBID,e.object.Config),this.relatedItemTabs.push(s),this.onGridTabsUpdated.next(this.relatedItemTabs),this.relMaintenanceDisplayItems.push(e),this.onRelMaintenanceDisplayItemsUpdated.next(this.relMaintenanceDisplayItems)})}onDisplayItemChanged(e,t,i){e.fieldToQueryObject=t;const n=this.getOBIDsFromDisplayItemRelObjects(t,i);if(n&&n.length>0){const i=this.getGridUrl(this.getDisplayItemNavigationPath(t),n);e.odataUrl?e.reInitialise&&e.reInitialise():e.odataUrl=i}else e.clearResults&&(e.odataUrl=void 0,e.clearResults());const s=this.relMaintenanceDisplayItems.findIndex(e=>t.UID===e.UID);s>-1&&this.relMaintenanceDisplayItems.splice(s,1),this.relMaintenanceDisplayItems.push(t),this.onRelMaintenanceDisplayItemsUpdated.next(this.relMaintenanceDisplayItems)}updateInvalidDisplayItem(e){const t=this.relatedItemTabs.filter(t=>t.fieldToQueryObject.UID===e.UID)[0];t&&(t.fieldToQueryObject.IsValid=e.IsValid,this.onGridTabsUpdated.next(this.relatedItemTabs))}onViewObjectDetailsInNewTab(e,t){this.objectDetailsService.showObjectDetailsFormInNewTab(e,t)}removeRow(e,t){this.relationshipItemsService.removeRow(t,e)}getGridTabUrl(e,t){let i;const n=e.fieldToQueryObject;return this.getOBIDsFromDisplayItemRelObjects(n,t).length>0?(i=this.getGridUrl(this.relDetailsService.getRelDefDirection(this.getDisplayItemNavigationPath(n)),this.getOBIDsFromDisplayItemRelObjects(n,t))+"&$skip="+e.state.skip+"&$top="+e.state.take+"&$count=true",e.state&&e.state.sort&&e.state.sort.length>0?i+`&$orderby=${e.state.sort[0].field} ${e.state.sort[0].dir?e.state.sort[0].dir:""}`:i):e.odataUrl}getOBIDsFromDisplayItemRelObjects(e,t){let i=[];if(e.RelObjects&&e.RelObjects.length>0){let n=e.RelObjects;t&&(n=n.filter(e=>!e.Terminate)),i=n.map(e=>e.Key)}return i}getGridUrl(e,t){return`GetObjectsByNavigationPath()?NavigationPath='${e}'&OBIDFilters=${JSON.stringify(t)}`}getDisplayItemNavigationPath(e){return e.EdgeDefUID?e.EdgeDefUID:e.NavigationPath}}return e.\u0275fac=function(t){return new(t||e)(l.dc(s.a),l.dc(r.a),l.dc(c.a),l.dc(a.a))},e.\u0275prov=l.Ob({token:e,factory:e.\u0275fac}),e})()},SXtU:function(e,t,i){"use strict";i.d(t,"a",(function(){return r}));var n=i("ONOH"),s=i("/XUs"),a=i("J7mc"),o=i("fXoL");let r=(()=>{class e extends a.a{constructor(e,t){super(e,t),this.baseUrl=Settings.odata.url.substring(0,Settings.odata.url.length-4)}}return e.\u0275fac=function(t){return new(t||e)(o.dc(s.a),o.dc(n.a))},e.\u0275prov=o.Ob({token:e,factory:e.\u0275fac}),e})()},"Sj5/":function(e,t,i){"use strict";i.d(t,"a",(function(){return n}));class n{constructor(e,t,i=!1,n=!1,s=!1){this.name=e,this.displayName=t,this.selected=i,this.defaultSelected=n,this.hidden=s,this.selected=!s&&i,this.defaultSelected=!s&&this.defaultSelected}}},Spnr:function(e,t,i){"use strict";i.d(t,"a",(function(){return n}));class n{constructor(e,t=!1,i=!0,n,s=!1,a,o=[],r=!1){this.object=e,this.showIcon=t,this.isSelectable=i,this.onClickEvent=n,this.isEditable=s,this.onTerminateEvent=a,this.children=o,this.isExpanded=r}}},TH8o:function(e,t,i){"use strict";i.d(t,"a",(function(){return c}));var n=i("lJxs"),s=i("ONOH"),a=i("SXtU"),o=i("349d"),r=i("fXoL");let c=(()=>{class e{constructor(e,t){this.odataService=e,this.configService=t}getProgressObject(e){return e.progress.attachProgress}execute(e){return new Promise((t,i)=>{e.attachTracker=[];for(let n=0;n<e.objectsForAttach.length;n++)e.attachTracker[e.objectsForAttach[n].obid]=!1;const s=e.objectsForAttach.map(t=>{const i=t.obid,s=new o.a;return s.ClientFilePath=e.file.path+e.file.name,s.TargetObjectOBID=i,s.FileClass=this.fileClass,this.odataService.post("FileMgmt/Upload('"+e.uploadID+"')/Intergraph.SPF.Server.API.Model.Attach",JSON.stringify(s),this.configService.selectedCreateConfig).pipe(Object(n.a)(t=>{e.attachTracker[s.TargetObjectOBID]=!0,e.OBID=t.Id})).toPromise()});return Promise.all(s).then(()=>{t()}).catch(e=>{i(e)})})}}return e.\u0275fac=function(t){return new(t||e)(r.dc(a.a),r.dc(s.a))},e.\u0275prov=r.Ob({token:e,factory:e.\u0275fac}),e})()},TLn4:function(e,t,i){"use strict";i.d(t,"a",(function(){return o}));var n=i("fXoL"),s=i("ofXK");function a(e,t){if(1&e&&(n.Yb(0,"span",3),n.Uc(1),n.Xb()),2&e){const e=n.lc();n.Eb(1),n.Wc(" ",e.message," ")}}let o=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=n.Mb({type:e,selectors:[["sda-loading-indicator"]],inputs:{centered:"centered",message:"message",size:"size",styleClass:"styleClass"},decls:3,vars:14,consts:[[1,"loader",3,"ngClass"],[1,"loader__inner"],["class","loader__message",4,"ngIf"],[1,"loader__message"]],template:function(e,t){1&e&&(n.Yb(0,"div",0),n.Tb(1,"div",1),n.Sc(2,a,2,1,"span",2),n.Xb()),2&e&&(n.Ib("loader--xsmall",t.size<14)("loader--small",t.size>=14&&t.size<=35)("loader--medium",t.size>=35&&t.size<=80)("loader--centered",t.centered),n.sc("ngClass",t.styleClass),n.Eb(1),n.Rc("width",t.size,"px")("height",t.size,"px"),n.Eb(1),n.sc("ngIf",t.message))},directives:[s.q,s.t],styles:['.loader__message[_ngcontent-%COMP%]{overflow-wrap:break-word;word-wrap:break-word;word-break:break-word;-webkit-hyphens:auto;-ms-hyphens:auto;hyphens:auto}.loader--centered[_ngcontent-%COMP%]{position:absolute;top:50%;left:50%;-webkit-transform:translate3d(-50%,-50%,0);transform:translate3d(-50%,-50%,0)}@-webkit-keyframes loading-spin{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}to{-webkit-transform:rotate(365deg);transform:rotate(365deg)}}@keyframes loading-spin{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}to{-webkit-transform:rotate(365deg);transform:rotate(365deg)}}.loader[_ngcontent-%COMP%]{display:flex;flex-direction:column}.loader--xsmall[_ngcontent-%COMP%]   .loader__inner[_ngcontent-%COMP%]:after{border-width:3px}.loader--small[_ngcontent-%COMP%]   .loader__inner[_ngcontent-%COMP%]:after{border-width:4px}.loader--medium[_ngcontent-%COMP%]   .loader__inner[_ngcontent-%COMP%]:after{border-width:7px}.loader--centered[_ngcontent-%COMP%]{align-items:center}.loader__inner[_ngcontent-%COMP%]{position:relative;width:60px;height:60px;-webkit-animation:loading-spin 1.16s cubic-bezier(.46,.96,.38,.96) infinite forwards;animation:loading-spin 1.16s cubic-bezier(.46,.96,.38,.96) infinite forwards}.loader__inner[_ngcontent-%COMP%]:after{content:"";position:absolute;top:50%;left:50%;width:inherit;height:inherit;-webkit-transform:translate3d(-50%,-50%,0);transform:translate3d(-50%,-50%,0);border-radius:50%;border:6px solid hsla(0,0%,80%,.85);border-top-color:#0087c8}.loader__message[_ngcontent-%COMP%]{margin-top:18px;text-align:center;font-size:16px}@media screen and (min-width:33.125em){.loader__message[_ngcontent-%COMP%]{width:230px;padding:0 10px}}']}),e})()},TQny:function(e,t,i){"use strict";i.d(t,"a",(function(){return m}));var n=i("2Vo4"),s=i("IzEk"),a=i("ONOH"),o=i("J7mc"),r=i("Ejbi"),c=i("FedY"),l=i("UVhF"),d=i("ZW2Q");class h{}var u=i("C8de"),p=i("KkJr"),g=i("pyKC"),f=i("fXoL");let m=(()=>{class e{constructor(e,t,i,s,a){this.formService=e,this.dataService=t,this.configService=i,this.sdaTranslateService=s,this.relationshipItemsService=a,this.DROPDOWN_PLACE_HOLDER=this.sdaTranslateService.get("DROPDOWN_PLACE_HOLDER","Please select..."),this.REQUIRES_PARENT_SELECTION=this.sdaTranslateService.get("REQUIRES_PARENT_SELECTION","Requires parent selection"),this.dependentItemsFetchedSubject=new n.a(void 0)}get dependentItemsFetchedSubjectChanges$(){return this.dependentItemsFetchedSubject.asObservable()}DisplayItemsValueChanged(e,t){e.DisplayType===u.a.ENUM_LIST_TYPE||e.DisplayType===u.a.ENUM_LIST_LEVEL_TYPE?this.EnumsTypeValueChanged(e,t):this.DisplayItemTypeValueChanged(e,t),this.dependentItemsFetchedSubject.next(e)}getEnumListLevelItems(e){return this.dataService.get(`SelectLists('${e}')?$expand=Items,Descendants`,this.configService.selectedCreateConfig,void 0,"",void 0,!0)}DisplayItemTypeValueChanged(e,t){const i=e;i.DependentItemUIDs&&i.DependentItemUIDs.forEach(n=>{t.FormDisplayLines.forEach(a=>{a.FormDisplayItems.filter(e=>e.UID===n).forEach(a=>{const o=a;setTimeout(()=>o.showLoadingIndicator=!0);const r=this.prepareTheParentItemsData(o,t);if(o.UID!==e.UID&&0===r.length&&(setTimeout(()=>o.awaitingParentSelection=!1),this.updateDisplayItemSelection(o,i),this.updateDependentLists(o,t)),r.length>0)if(this.isRelationshipFindType(o)){const e=this.isRefreshRequiredOnRelFind(o,r);o.selectedParentItems=r,e&&o.refreshOptionsEvent&&o.refreshOptionsEvent.next(),this.updateDependentLists(o,t,!0)}else this.formService.getFormDropDownOptionsForDependentItem(n,r).pipe(Object(s.a)(1)).subscribe(e=>{let i=e.map(e=>new d.a(e.OBID,e.DisplayValue,e.DisplayValue,!1,e.Description,!0,e.UID,e.ClassDef,e.SecondaryDisplayValue));if(i.length)i=i.sort((e,t)=>c.a.sortByString(e.displayValue,t.displayValue)),o.IsMandatory||"1"!==o.MaxRels||i.unshift(new d.a(p.a,"")),o.dropDownOptions=i,"1"===o.MaxRels?this.displayItemTypeMaxSingleRel(o.dropDownOptions,o):"*"===o.MaxRels&&this.displayItemTypeMaxMultipleRels(o.dropDownOptions,o);else{const e=this.terminateRelationships(o);o.RelObjects=e,o.dropDownOptions=i}this.updateDependentLists(o,t,!0)})})})})}isRelationshipFindType(e){return e.DisplayType===u.a.RELATIONSHIP_FIND||e.DisplayType===u.a.RELATIONSHIP_FIND_MULTISELECT||e.DisplayType===u.a.RELATIONSHIP_FILTER}updateDependentLists(e,t,i=!1){setTimeout(()=>{e.showLoadingIndicator=!1,i&&(e.awaitingParentSelection=!0),this.DisplayItemsValueChanged(e,t)})}isRefreshRequiredOnRelFind(e,t){let i=!1;return e.selectedParentItems&&e.selectedParentItems.length&&(i=this.hasRetainingParentsChanged(e,t)||this.hasNewParents(e,t)),i}hasRetainingParentsChanged(e,t){let i=!1;return e.selectedParentItems.forEach(e=>{if(!i){const n=t.filter(t=>t.displayItemUid===e.displayItemUid);if(n.length){const t=e.relObjectObids.filter(e=>n[0].relObjectObids.includes(e));i=e.relObjectObids.length!==t.length}else i=!0}}),i}hasNewParents(e,t){return!!t.filter(t=>0===e.selectedParentItems.filter(e=>e.displayItemUid===t.displayItemUid).length).length}terminateRelationships(e){const t=[];return e.RelObjects.filter(e=>e.Existing).forEach(e=>{e.Terminate=!0,t.push(e)}),t}updateDisplayItemSelection(e,t){(t.RelObjects&&t.RelObjects[0]&&t.RelObjects[0].Key!==e.UID||e.awaitingParentSelection)&&(this.clearSelection(e),this.manageSelectedRelItems([],e))}displayItemTypeMaxMultipleRels(e,t){let i=[];if(t.RelObjects&&t.RelObjects.length>0){const n=t.RelObjects.filter(e=>!e.Terminate).map(e=>e.Key);e.forEach(e=>{n.filter(t=>t===e.obid).length&&i.push(e.obid)})}else if(t.Value){const n=t.Value.split("~");i=n.filter(t=>e.filter(e=>e.obid===t).length>0),i||i.length||(t.Value="")}this.manageSelectedRelItems(i,t)}displayItemTypeMaxSingleRel(e,t){if(e.unshift(new d.a(p.b,this.DROPDOWN_PLACE_HOLDER,this.DROPDOWN_PLACE_HOLDER,!0,this.DROPDOWN_PLACE_HOLDER)),t.Value){const i=e.filter(e=>e.obid===t.Value)[0];i?(t.selectedItem=i.obid,this.manageSelectedRelItems([i.obid],t)):t.Value=""}t.Value||(2===e.length?(t.selectedItem=e[1].obid,this.manageSelectedRelItems([e[1].obid],t)):t.IsMandatory?(t.selectedItem=e[0].obid,t.RelObjects=[]):(t.selectedItem=e[1].obid,t.RelObjects=[],this.manageSelectedRelItems([],t)))}EnumsTypeValueChanged(e,t){const i=e;i.DependentItemUIDs&&i.DependentItemUIDs.forEach(n=>{t.FormDisplayLines.forEach(s=>{const a=s.FormDisplayItems.filter(e=>e.EnumListTypeUID===n);a.length&&a.forEach(n=>{if(n.dropDownOptions=[new d.a(p.c,p.c,this.REQUIRES_PARENT_SELECTION,!0,this.REQUIRES_PARENT_SELECTION,!1,p.c)],n.Value===p.a&&(n.Value=p.c),e.Value&&e.Value!==p.a&&e.Value!==p.c&&e.Value!==p.b){let s;i.dropDownOptions&&(s=i.dropDownOptions.filter(t=>t.obid===e.Value)[0]),s&&!s.isDescendant||(n.showLoadingIndicator=!0,this.setEnumTypePickLists(n,e,t))}else n.Value=p.c,this.DisplayItemsValueChanged(n,t),n.showLoadingIndicator=!1,n.awaitingParentSelection=!1})})}),i.IsDependentItem&&i.IsMandatory&&i.Value&&i.Value!==p.a&&i.Value!==p.c&&i.Value!==p.b&&(i.selectedItem=void 0)}setEnumTypePickLists(e,t,i){this.dataService.get("SelectLists('"+t.Value+"')?$expand=Items,Descendants",this.configService.selectedCreateConfig,void 0,"",void 0,!0).pipe(Object(s.a)(1)).subscribe(t=>{const n=[];t.Items&&t.Items.forEach(e=>{n.push(new d.a(e.Id,e.Name,e.DisplayAs,e.IsDisabled,"",!1))}),t.Descendants&&t.Descendants.forEach(e=>{n.push(new d.a(e.Id,e.Name,e.DisplayAs,e.IsDisabled))}),n.length>0?this.setEnumTypeListValues(e,n):e.Value="",e.dropDownOptions=n,this.DisplayItemsValueChanged(e,i),e.showLoadingIndicator=!1,e.awaitingParentSelection=!0})}setEnumTypeListValues(e,t){t=t.sort((e,t)=>c.a.sortByString(e.displayValue,t.displayValue)),e.IsMandatory||t.unshift(new d.a(p.a,"")),e.ReadOnly||t.unshift(new d.a(p.b,this.DROPDOWN_PLACE_HOLDER,this.DROPDOWN_PLACE_HOLDER,!0,this.DROPDOWN_PLACE_HOLDER)),e.Value&&(t.filter(t=>t.obid===e.Value)[0]||(e.Value="")),e.Value||e.ReadOnly||(e.Value=2!==t.length&&e.IsMandatory?t[0].obid:t[1].obid)}manageSelectedRelItems(e,t){let i=[];t.OriginalValue&&(i=t.OriginalValue.split("~")),t.RelObjects=this.relationshipItemsService.selectedItemsChanged(e,i)}clearSelection(e){e.RelObjects=[],this.isRelationshipFindType(e)||"0"!==e.MaxRels&&"1"!==e.MaxRels?e.dropDownOptions=void 0:(e.dropDownOptions=[new d.a(p.c,p.c,this.REQUIRES_PARENT_SELECTION,!0,this.REQUIRES_PARENT_SELECTION,!1,p.c)],e.Value=p.c),e.awaitingParentSelection=!1}prepareTheParentItemsData(e,t){let i=[];return e.ParentItemUIDs.forEach(e=>{i=this.setTheParentItemsData(t,e,i)}),(i.length>0||0===e.ParentItemUIDs.length)&&e.SecondaryParentItemUIDs&&e.SecondaryParentItemUIDs.forEach(e=>{i=this.setTheParentItemsData(t,e,i)}),i}setTheParentItemsData(e,t,i){return e.FormDisplayLines.forEach(e=>{const n=e.FormDisplayItems.filter(e=>e.UID===t)[0];if(n){const e=n;if(e.RelObjects&&e.RelObjects.length>0){const t=this.prepareTheDisplayItemData(e);t.relObjectObids.length>0&&i.push(t)}}}),i}prepareTheDisplayItemData(e){const t=new h;return t.displayItemUid=e.UID,t.relObjectObids=e.RelObjects.filter(e=>!e.Terminate).map(e=>e.Key),t}}return e.\u0275fac=function(t){return new(t||e)(f.dc(l.a),f.dc(o.a),f.dc(a.a),f.dc(r.a),f.dc(g.a))},e.\u0275prov=f.Ob({token:e,factory:e.\u0275fac}),e})()},Teex:function(e,t,i){"use strict";i.d(t,"a",(function(){return r}));var n=i("5+tZ"),s=i("lJxs"),a=i("J7mc"),o=i("fXoL");let r=(()=>{class e{constructor(e){this.dataService=e}getRelDefDirection(e){let t;return e.startsWith("+")?(t=e.substring(1),t+="_12"):e.startsWith("-")?(t=e.substring(1),t+="_21"):t=e,t}getInvertedRelDefDirection(e){let t;return e.startsWith("+")?(t=e.substring(1),t+="_21"):e.startsWith("-")?(t=e.substring(1),t+="_12"):t=e,t}getRelDetails(e){const t=[],i=[],n=[];return e&&e.forEach(e=>{e&&e.length>0&&n.push(...e.split(","))}),n.length>0&&n.forEach(e=>{e.startsWith("EDG_")?i.push(e):t.push(e.substring(1))}),i.length>0?this.traverseEdgeAndGetRelDefDetails(i,t,n):this.getRelDefDetails(t,n)}traverseEdgeAndGetRelDefDetails(e,t,i){const a=this.getUIDString(e),o={},r={};return this.dataService.get(`Objects?$filter=contains(Interfaces, 'ISchemaObj') and (${a})&$select=UID,PathDefn,DisplayName`).pipe(Object(n.a)(e=>(e.forEach(e=>{const i=e.PathDefn.split(","),n=i[i.length-1];t.push(n.substring(1)),r[e.UID]=e.DisplayName,o[e.UID]=n}),this.getRelObjectDetails(t))),Object(s.a)(e=>this.transformToDictionaryOfRelsAndEdges(e,i,o,r)))}getRelDefDetails(e,t){return this.getRelObjectDetails(e).pipe(Object(s.a)(e=>this.transformToDictionaryOfRelsAndEdges(e,t)))}getRelObjectDetails(e){const t=this.getUIDString(e);return this.dataService.get(`Objects?$filter=contains(Interfaces, 'ISchemaObj') and (${t})&$select=UID,Role1,Role2,Role1DisplayName,Role2DisplayName,UID1,UID2`)}getUIDString(e){return e.map(e=>`(UID eq '${e}')`).join(" or ")}transformToDictionaryOfRelsAndEdges(e,t,i,n){const s={};return t.forEach(t=>{if(t.startsWith("EDG_")){const a=i[t];let o=e.find(e=>e.UID===a.substring(1));a.startsWith("+")?(o=e.find(e=>e.UID===a.substring(1)),s[t]={DisplayName:n[t],EndInterface:o.UID2}):a.startsWith("-")&&(o=e.find(e=>e.UID===a.substring(1)),s[t]={DisplayName:n[t],EndInterface:o.UID1})}else if(t.startsWith("+")){const i=e.find(e=>e.UID===t.substring(1));s[t]={DisplayName:i.Role2DisplayName?i.Role2DisplayName:i.Role2,EndInterface:i.UID2}}else if(t.startsWith("-")){const i=e.find(e=>e.UID===t.substring(1));s[t]={DisplayName:i.Role1DisplayName?i.Role1DisplayName:i.Role1,EndInterface:i.UID1}}}),s}}return e.\u0275fac=function(t){return new(t||e)(o.dc(a.a))},e.\u0275prov=o.Ob({token:e,factory:e.\u0275fac}),e})()},TvZe:function(e,t,i){"use strict";i.d(t,"a",(function(){return n}));class n{constructor(e,t){this.results=e,this.totalCount=t,e&&(t||(this.totalCount=e.length),this.displayedCount=e.length)}}},Tx8r:function(e,t,i){"use strict";i.d(t,"a",(function(){return n})),i.d(t,"b",(function(){return s}));var n=function(e){return e[e.PPM2D=0]="PPM2D",e[e.PPM3D=1]="PPM3D",e[e.NONPPM=2]="NONPPM",e[e.BINZ=3]="BINZ",e[e.VECZ=4]="VECZ",e[e.GDS=5]="GDS",e}({}),s=function(e){return e[e.DGN=0]="DGN",e[e.DWG=1]="DWG",e[e.DXF=2]="DXF",e}({})},"U7l/":function(e,t,i){"use strict";i.d(t,"b",(function(){return n})),i.d(t,"g",(function(){return s})),i.d(t,"f",(function(){return a})),i.d(t,"e",(function(){return o})),i.d(t,"d",(function(){return r})),i.d(t,"c",(function(){return c})),i.d(t,"a",(function(){return l}));const n="CF_ConfigurationTop",s="SPF Web Client",a="SPF",o="Smartplant Foundation",r="Intergraph SmartPlant\xae Foundation Web Client",c=27,l=2500},UCFJ:function(e,t,i){"use strict";i.d(t,"b",(function(){return n})),i.d(t,"a",(function(){return s}));const n="content/images/object-types/",s="default"},UDQN:function(e,t,i){"use strict";i.d(t,"a",(function(){return c}));var n=i("LRne"),s=i("lJxs"),a=i("xc+7"),o=i("Qpiy"),r=i("fXoL");let c=(()=>{class e{constructor(e,t){this.featureSetService=e,this.serverInformationService=t}isChangePasswordEnabled(){return void 0!==this.changePasswordEnabled?Object(n.a)(this.changePasswordEnabled):this.featureSetService.getClientApiMethods("ChangeUserPassword").pipe(Object(s.a)(e=>this.changePasswordEnabled=!!(e&&e.length>0)&&!this.serverInformationService.ServerInformation.IWAEnabled))}}return e.\u0275fac=function(t){return new(t||e)(r.dc(a.a),r.dc(o.a))},e.\u0275prov=r.Ob({token:e,factory:e.\u0275fac}),e})()},UETY:function(e,t,i){"use strict";i.d(t,"a",(function(){return h}));var n=i("lJxs"),s=i("UwO9"),a=i("jNCI"),o=i("Qi+w"),r=i("ExSe"),c=i("Ejbi"),l=i("4B5/"),d=i("fXoL");let h=(()=>{class e{constructor(e,t,i,n,s,a){this.actionMenuProvider=e,this.sdaTranslateService=t,this.modalService=i,this.objectAccessService=n,this.lockService=s,this.pinsMenuService=a}canShowToDoActionsMenu(){return this.actionMenuProvider.getItems().every(e=>"SPFWorkflowStep"===e.entityType&&(this.hasWorkflowItemData(e)||this.checkIfPinnedAndAddWFItemInfo(e)))}userHasAccessToToDoActionsMenu(){const e=this.actionMenuProvider.getItems().filter(e=>this.hasWorkflowItemData(e)).map(e=>e.data.DynWorkflowItemOBID);return this.objectAccessService.userCanAccessObjects(e).pipe(Object(n.a)(e=>e?!this.lockService.isEveryItemLocked(this.actionMenuProvider.getItems().map(e=>e.obid))||(this.actionMenuProvider.clearAndCloseActionsMenu(),this.modalService.alert(this.sdaTranslateService.get("TODO_ACTIONS_MENU_NO_ACCESS_LOCK","One of more of the selected objects are unavailable until a background transaction is complete."),this.sdaTranslateService.get("TODO_ACTIONS_ACCESS_DENIED","Access Denied")),!1):e))}checkIfPinnedAndAddWFItemInfo(e){const t=this.pinsMenuService.selectedPinGroupPinsValues;return!(!t||0===t.length)&&t.some(t=>!(t.obid!==e.obid||!this.hasWorkflowItemData(t)||(e.data=t.data,0)))}hasWorkflowItemData(e){return!!e.data&&!!e.data.DynWorkflowItemOBID}}return e.\u0275fac=function(t){return new(t||e)(d.dc(l.a),d.dc(c.a),d.dc(a.a),d.dc(r.a),d.dc(s.a),d.dc(o.a))},e.\u0275prov=d.Ob({token:e,factory:e.\u0275fac}),e})()},UPSG:function(e,t,i){"use strict";i.d(t,"a",(function(){return l}));var n=i("Z9D8"),s=i("LUpO"),a=i("dEBh"),o=i("Ejbi"),r=i("fXoL"),c=i("tyNb");let l=(()=>{class e{constructor(e,t,i,n){this.windowService=e,this.router=t,this.exceptionService=i,this.sdaTranslateService=n}navigateToInfoMap(e,t,i=!1){const n=JSON.stringify([t]);i?this.openInNewTab(e,n):this.openInCurrentTab(e,n)}openInNewTab(e,t){this.windowService.Window.open(`${this.windowService.Window.location.origin+this.windowService.Window.location.pathname}#/infomap-viewer;obid=${e};config=${t}`)}openInCurrentTab(e,t){this.router.navigate(["/infomap-viewer",{obid:e,config:t}]).catch(e=>{const t=new n.a(e,this.sdaTranslateService.get("RESULTS_INFOMAP_ERROR","Retrieving the relationships for this object failed"),"InfomapNavigationService","navigateToInfoMap");this.exceptionService.handleException(t)})}}return e.\u0275fac=function(t){return new(t||e)(r.dc(a.a),r.dc(c.g),r.dc(s.a),r.dc(o.a))},e.\u0275prov=r.Ob({token:e,factory:e.\u0275fac}),e})()},UVhF:function(e,t,i){"use strict";i.d(t,"a",(function(){return y}));var n=i("LRne"),s=i("lJxs"),a=i("ONOH"),o=i("Z9D8"),r=i("LUpO"),c=i("KrX4"),l=i("HLw3"),d=i("DJR3"),h=i("J7mc"),u=i("A3La"),p=i("Ejbi"),g=i("JrsU"),f=i("C8de"),m=i("KkJr"),b=i("8RLy"),S=i("8U5n"),v=i("8NKS"),_=i("WjcW"),O=i("qSfU"),I=i("k/hs"),C=i("wN6G"),T=i("ml6x"),E=i("fXoL");let y=(()=>{class e{constructor(e,t,i,n,s,a,o,r,c,l){this.dataService=e,this.crudService=t,this.configService=i,this.dateFormatService=n,this.batchRequestFactory=s,this.exceptionService=a,this.sdaTranslateService=o,this.treeService=r,this.odataService=c,this.batchChangesetService=l,this.relationshipDisplayTypes=[f.a.RELATIONSHIP_FIND_MULTISELECT,f.a.RELATIONSHIP_FIND,f.a.RELATIONSHIP_MULTI_QUERY,f.a.RELATIONSHIP_MULTI_QUERY_FIND,f.a.RELATIONSHIP_NAME_DESC,f.a.RELATIONSHIP_MAINTENANCE,f.a.REL_DEF,f.a.RELATIONSHIP_FILTER],this.filteredItems=[],this.filteredDisplayItems=[]}getForm(e,t,i,n){return this.dataService.post("GetForm",JSON.stringify({key:e,methodOBID:i,getTodoListTaskForm:n}),t,void 0,"",void 0,!0).pipe(Object(s.a)(e=>e[0]))}getCreateForm(e,t,i=""){return this.dataService.get(`GetCreateForm(ClassDefUID='${e}', MethodOBID='${t}', RelatedObjectOBID='${i}')`,this.configService.selectedCreateConfig).pipe(Object(s.a)(e=>(e.ENSConfigured&&this.initializeENSSection(e),e)))}getQueryForm(e){return this.dataService.get(`GetQueryForm(MethodOBID='${e}')`,this.configService.selectedCreateConfig)}GetQueryMethods(){return this.dataService.get("GetQueryMethods")}getCreateObjectFromForm(e,t,i){const n=this.getCrudObjectFromForm(e,b.a.Create,t);return this.includeOptionsItem(n,i),this.batchChangesetService.getRequestContent(n,!0)}getQueryFormFromClassification(e,t,i,n="",s=""){return this.dataService.get("GetQueryFormFromClassification(ClassificationOBID='"+e+"', RelDefToNavigateToTheClassDef='"+t+"', MethodOBID='"+i+"', RelatedObjOBID='"+n+"', RelDefToNavigateToTheRelatedObject='"+s+"')",this.configService.selectedCreateConfig)}getCreateFormFromClassification(e,t,i,n="",a=""){return this.dataService.post("GetCreateFormFromClassification()",JSON.stringify({ClassificationOBID:e,RelDefToNavigateToTheClassDef:t,MethodOBID:i,RelatedObjOBID:n,RelDefToNavigateToTheRelatedObject:a}),this.configService.selectedCreateConfig,void 0,"",void 0,!0).pipe(Object(s.a)(e=>(e.ENSConfigured&&this.initializeENSSection(e),e)))}getClassificationTree(e,t=[]){return this.dataService.post("GetClassificationTree",JSON.stringify({Classification:e,FilterInterfaces:t}),this.configService.selectedCreateConfig,void 0,"",void 0,!0).pipe(Object(s.a)(e=>this.convertToHierachicalStructure(e)))}getFormDropDownOptions(e){return this.dataService.get(`GetFormDropDownOptions(DisplayItemUID='${e}')`,this.configService.selectedCreateConfig,void 0,"",void 0,!0)}getFormDropDownOptionsForDependentItemWithSearch(e,t,i,n=[],s=!1,a,o){return this.odataService.post("GetFormDropDownOptionsForDependentItemsWithSearch()",JSON.stringify({DisplayItemUID:e,SearchText:t,SearchFields:n,pcolParentDisplayItem:i,SearchByIsEqualTo:s,Top:a,Skip:o}),this.configService.selectedCreateConfig,void 0,"",void 0,!0)}getFormDropDownOptionsWithSearch(e,t,i,n=[],s=!1,a,o,r=!1){return this.odataService.post("GetFormDropDownOptionsWithSearch()",JSON.stringify({DisplayItemUID:e,SearchText:t,NavigationPath:i,SearchFields:n,SearchByIsEqualTo:s,Top:a,Skip:o,ExecuteCountOnly:r}),this.configService.selectedCreateConfig,void 0,"",void 0,!0)}getDropdownOptionsWithSearch(e,t,i,n=!1,s,a,o=!1,r=!0){return this.odataService.post("GetDropDownOptionsWithSearch()",JSON.stringify({SearchText:e,NavigationPath:t,SearchFields:i,SearchByIsEqualTo:n,Top:s,Skip:a,ExecuteCountOnly:o}),this.configService.selectedCreateConfig,void 0,"",void 0,r)}getFormDropDownOptionsForDependentItem(e,t){return this.dataService.post("GetFormDropDownOptionsForDependentItem()",JSON.stringify({DisplayItemUID:e,pcolParentDisplayItem:t}),this.configService.selectedCreateConfig,void 0,"",void 0,!0)}getInitialMajorMinorRevisionForRevScheme(e,t=!0,i=""){return this.dataService.get(`GetInitialMajorMinorRevisionForRevScheme(RevisionSchemeOBID='${e}',\n        GetNextMajorOnly=${t}, RevisionObjOBID='${i}')`,this.configService.selectedCreateConfig)}getUpdateForm(e,t){return this.dataService.get(`GetUpdateForm(ObjectOBID='${e}', MethodOBID='${t}')`,this.configService.selectedCreateConfig,void 0,"",void 0,!0).pipe(Object(s.a)(e=>e[0]))}getCopyForm(e,t,i){return this.dataService.get(`GetCopyForm(ObjectOBID='${e}', MethodOBID='${t}')`,i||this.configService.selectedCreateConfig,void 0,"",void 0,!0).pipe(Object(s.a)(e=>{if(e&&e.length>0){const t=e[0];return t.ENSConfigured&&this.initializeENSSection(t),t}this.exceptionService.handleException(new o.a(void 0,this.sdaTranslateService.get("NO_FORM_FOUND","No form found"),"form.service.ts","getCopyForm"))}))}getReviseForm(e,t){return this.dataService.get(`GetReviseForm(ObjectOBID='${e}', MethodOBID='${t}')`,this.configService.selectedCreateConfig,void 0,"",void 0,!0).pipe(Object(s.a)(e=>e[0]))}getUploadForm(e,t,i,n=""){return this.dataService.get("GetUploadForm(MethodOBID='"+e+"', ClassificationUID='"+t+"', RelDefToNavigateToTheClassDef='"+i+"', ObjectOBID='"+n+"')",this.configService.selectedCreateConfig).pipe(Object(s.a)(e=>e[0]))}getSignOffForm(e,t){return this.dataService.post("GetSignOffForm",JSON.stringify({ObjectOBIDs:e,MethodOBID:t}),this.configService.selectedCreateConfig,void 0,"",void 0,!0).pipe(Object(s.a)(e=>e[0]))}updateObjectFromForm(e,t,i,n){return this.updateObjectsFromForm(e,[new g.a(t,void 0)],i,n)}updateObjectFromSignOff(e,t){return this.updateObjectsFromForm(e,t)}createObjectFromForm(e,t,i,n,s){const a=this.getCrudObjectFromForm(e,b.a.Create,t);return this.createObjectFromCRUDObject(a,i,n,s,e.ComplexClassDefDetails)}createObjectFromCRUDObject(e,t,i,n,a){this.includeOptionsItem(e,t),i&&i.length>0&&this.includeAdditionalRels(e,i,b.a.Create);let r=[],c=!1;if(e.ensNoToCreate&&1!==e.ensNoToCreate){const t=[];if(n&&n.length>0){for(let i=0;i<n.length;i++){const s=JSON.parse(JSON.stringify(e)),o=this.setENSNameForComplexObjects(s,n[i],a);t.push(o)}c=!0}else for(let i=0;i<e.ensNoToCreate;i++)t.push(e);return this.crudService.createMany(t,!0,c).pipe(Object(s.a)(e=>(e.forEach(e=>{e.hasErrored?(this.exceptionService.handleException(new o.a(void 0,e.data.error.message,"form.service.ts","createObjectFromCRUDObject")),r=void 0):r&&e.data&&r.push(e.data)}),r)))}return n&&1===n.length&&(this.setENSNameForComplexObjects(e,n[0],a),c=!0),this.crudService.create(e,!0,c)}setENSNameForComplexObjects(e,t,i){const n=e.properties.find(e=>"Name"===e.propertyDefUID);return n&&(n.value=t),i&&i.length>1&&e.relationships.length>0&&e.relationships.forEach(e=>{e.otherEndObjects&&e.otherEndObjects.forEach(e=>{i.forEach(n=>{e.classDefUID===n.ClassDefUID&&this.setENSNameForComplexObjects(e,t,i)})})}),e}getReviseObjectFromForm(e,t,i){const n=this.getCrudObjectFromForm(e,b.a.Revise,t);return this.includeOptionsItem(n,i),this.batchChangesetService.getRequestContent(n,!0)}addCreateObjectFromFormToChangeset(e,t,i,n,s){const a=this.getCrudObjectFromForm(t,b.a.Create,i);return this.includeOptionsItem(a,n),s&&s.length>0&&this.includeAdditionalRels(a,s,b.a.Create),e.addCreateRequest(a)}getCrudObjectFromForm(e,t,i){let n=new _.a(e.ClassDefUID);const s={};if(e.ComplexClassDefDetails&&e.ComplexClassDefDetails.forEach(t=>{s[t.ClassDefUID]=new _.a(t.ClassDefUID),e.ClassDefUID===t.ClassDefUID&&(n=s[t.ClassDefUID])}),this.ExtractFormData(e.FormSections,n,s,t),e.SPFFormTabs.forEach(e=>{this.ExtractFormData(e.FormSections,n,s,t)}),e.ComplexClassDefDetails){let t;e.ComplexClassDefDetails.forEach((e,i)=>{const a=s[e.ClassDefUID];if(0===i&&(a.classDefUID!==n.classDefUID&&(a.ensSequence=n.ensSequence,a.ensNoToCreate=n.ensNoToCreate,n.ensSequence=void 0,n.ensNoToCreate=void 0),n=a),e.RelDefFromPrevious){const i=new I.a(e.RelDefFromPrevious.substr(1),e.RelDefFromPrevious.startsWith("+"),void 0,[a]);this.addRelsFromForm(i,t)}this.getNameValueFromObject(a)||a.properties.push(new O.a("Name",this.getNameValueFromObjects(s))),this.getDescriptionValueFromObject(a)||a.properties.push(new O.a("Description",this.getDescriptionValueFromObjects(s))),t=a})}return i&&n.relationships.push(new I.a("SPFPrimaryClassification",!1,[i])),n}filterDisplayItemsByDisplayType(e,t){const i=[];let n=[];const s=[];return this.filteredItems=[],e.FormSections.forEach(e=>{if(e.ENSSection)i.push(e);else{const n=this.filterFormSection(e,t);n&&i.push(n)}}),e.SPFFormTabs.forEach(e=>{n=[],e.FormSections.forEach(e=>{if(!e.ENSSection){const i=this.filterFormSection(e,t);i&&n.push(i)}}),s.push(Object.assign(Object.assign({},e),{FormSections:n}))}),Object.assign(Object.assign({},e),{FormSections:i,filteredItems:this.filteredItems,SPFFormTabs:s})}initializeENSSection(e){const t={DisplayName:this.sdaTranslateService.get("ENS_SECTION_DISPLAY_NAME","ENS"),CollapseSection:!1,FormDisplayLines:[],ENSSection:!0,IsHidden:!1};e&&e.FormSections.unshift(t)}filterFormSection(e,t){const i=[];let n=[];return e.FormDisplayLines.forEach(s=>{n=[],s.FormDisplayItems.forEach(i=>{i.DisplayType===t?(this.filteredItems.push(Object.assign(Object.assign({},i),{obid:e.AssociatedObjectOBIDForUpdate,name:i.DisplayName,navigation:this.convertSignDirectionToNumber(i.NavigationPath)})),this.filteredDisplayItems.push(i)):n.push(i)}),n.length>0&&i.push({FormDisplayItems:n})}),i.length>0?(e.FormDisplayLines=i,e):void 0}convertSignDirectionToNumber(e){if(e)return e.startsWith("+")?e.substring(1)+"_12":e.startsWith("-")?e.substring(1)+"_21":e}updateObjectsFromForm(e,t,i,s){let a=Object(n.a)(!1);if(t&&t.length){const o={},r=[];r.push(...e.FormSections),e.SPFFormTabs.forEach(e=>{r.push(...e.FormSections)}),t.forEach(t=>{let n;r.forEach(i=>{let s=t.key,a=t.value;a||(i.AssociatedObjectOBIDForUpdate&&(s=i.AssociatedObjectOBIDForUpdate),a=i.AssociatedObjectLastUpdatedDateForUpdate?i.AssociatedObjectLastUpdatedDateForUpdate:e.LastUpdatedDate),o[s]?n=o[s]:(n=new _.a(e.ClassDefUID),n.OBID=s,n.lastUpdatedDate=a,o[s]=n),i.FormDisplayLines.forEach(e=>{e.FormDisplayItems.forEach(e=>{this.extractDataForDisplayItem(e,n,b.a.Update)})})}),i&&i.length>0&&this.includeAdditionalRels(n,i,b.a.Update),s&&s.relationships.length>0&&(this.addNonExistingNonTerminatedRelsForUpdate(s,n),this.addTerminatedRelsForUpdate(s,n))}),a=r.length?this.executeBatchRequest(o,s):Object(n.a)(!0)}else this.exceptionService.handleException(new o.a(void 0,this.sdaTranslateService.get("UPDATE_FORM_OBID_FAILURE","Operation failed, no object OBID(s) supplied"),"form.service.ts","updateObjectsFromForm"));return a}addNonExistingNonTerminatedRelsForUpdate(e,t){e.relationships.filter(e=>!e.Existing&&!e.Terminate||e.linkProperties).length>0&&this.getNonTerminatedAndNonExistingRelObjUpdate(e).forEach(e=>{this.addRelsFromForm(e,t)})}getNonTerminatedAndNonExistingRelObjUpdate(e){const t=[];return e.relationships.filter(e=>!e.Existing&&!e.Terminate||e.linkProperties).forEach(i=>{t.push(new I.a(e.relDefUID,e.navigationPath,[i.Key],void 0,i.linkProperties))}),t}addTerminatedRelsForUpdate(e,t){let i=!1;if(e.relationships.filter(e=>e.Terminate).length>0){const n=this.getTerminatedRelObjUpdate(e);this.terminateRelsFromForm(n,t),i=!0}return i}getTerminatedRelObjUpdate(e){return new I.a(e.relDefUID,e.navigationPath,e.relationships.filter(e=>e.Terminate).map(e=>e.Key))}executeBatchRequest(e,t){const i=this.batchRequestFactory.createBatchRequest(),n=i.createChangeset();for(const s in e)if(e.hasOwnProperty(s)){const t=e[s];n.addUpdateRequest(t.OBID,t),t.relationshipsToTerminate.forEach(e=>{e.obidsOfOtherEndObject.forEach(i=>{n.addUnrelate(t.OBID,i,e.relDefUID,e.direction12,!0)})})}return t&&t.masterObids&&t.masterObids.length>0&&t.masterObids.forEach(e=>{n.addRelateRequest(e,t.formrelationStep.otherEndObid,t.formrelationStep.relDefUID,!0)}),t&&t.editedColumnData&&t.editedColumnData.length>0&&t.editedColumnData.forEach(e=>{e.isTerminate?n.addUnrelate(e.thisEndObid,e.otherEndObid,e.relDef,e.direction,e.isTerminate):n.addRelateRequest(e.thisEndObid,e.otherEndObid,e.relDef,e.direction)}),i.addChangeset(n),i.execute().pipe(Object(s.a)(e=>{let t=!0;return e.forEach(e=>{e.hasErrored&&(this.exceptionService.handleException(e.exception),t=!1)}),t}))}includeOptionsItem(e,t){t&&(t.relationships&&t.relationships.length>0&&t.relationships.forEach(t=>{this.addRelsFromForm(t,e)}),t.interfaces&&t.interfaces.length>0&&t.interfaces.forEach(t=>{e.interfaces.push(t)}),t.properties&&t.properties.length>0&&t.properties.forEach(t=>{e.properties.push(t)}))}includeAdditionalRels(e,t,i){t.forEach(t=>{this.extractDisplayItemDataWithRels(t,e,i)})}ExtractFormData(e,t,i,n){e.forEach(e=>{n===b.a.Revise&&e.ComplexLevel&&e.ComplexLevel.includes("$1")||this.extractDataFromSection(e,t,i,n)})}extractDataFromSection(e,t,i,n){e.FormDisplayLines.forEach(s=>{let a;if(e.ENSSection){const e=s.FormDisplayItems;"ENSSequence"===e[0].UID&&""!==e[0].Value&&(t.ensSequence=parseInt(this.getFormattedPropertyValue(e[0]),10)),"ENSNoToCreate"===e[1].UID&&(t.ensNoToCreate=parseInt(this.getFormattedPropertyValue(e[1]),10))}else a=e.DocumentClassDef?i[e.DocumentClassDef]:t,s.FormDisplayItems.forEach(e=>{this.extractDataForDisplayItem(e,a,n)})})}extractDataForDisplayItem(e,t,i){-1===this.relationshipDisplayTypes.indexOf(e.DisplayType)?this.extractDisplayItemDataNoRels(e,t,i):this.extractDisplayItemDataWithRels(e,t,i)}extractDisplayItemDataNoRels(e,t,i){!e.OriginalValue||e.Value!==m.a&&e.Value!==m.c||(e.Value=""),e.Value!==m.a&&e.Value!==m.c&&e.Value!==m.b&&(e.DisplayType===f.a.INTERFACE_DEF?this.addInterfaceRel(e,t):e.DisplayType===f.a.WBS_TREE_TYPE&&e.NavigationPath?this.addWBSRel(e,t,i):e.DisplayType===f.a.PBS_TREE_TYPE?this.addPBSRel(e,t,i):this.addProperty(e,t,i))}addInterfaceRel(e,t){e.Value&&("true"===e.Value.toLowerCase()?t.interfaces.push(new v.a(e.PropertyUID)):"false"===e.Value.toLowerCase()&&t.interfaces.push(new v.a(e.PropertyUID,!1)))}addWBSRel(e,t,i){let n;if(e.NavigationPath&&(n=e.NavigationPath),n&&e.Value){const i=new I.a(n,!0,[e.Value]);this.addRelsFromForm(i,t)}if(n&&e.Value&&e.preSelectedObids!==e.Value){const i=new I.a(n,!0,[e.preSelectedObids]);this.terminateRelsFromForm(i,t)}}addPBSRel(e,t,i){let n;if(e.NavigationPath&&(n=e.NavigationPath),n&&e.Value){const i=this.treeService.GetPBSRelForCreateFromDisplayItem(e);i.length>0&&this.addRelsFromForm(new I.a(n,!0,i),t)}if(n&&e.preSelectedObids){const i=this.treeService.GetPBSRelForTerminateFromDisplayItem(e),s=new I.a(n,!0,i);this.terminateRelsFromForm(s,t)}}addProperty(e,t,i){"SPFObjectQueryConfig"!==e.PropertyUID&&(i===b.a.Update&&e.ReadOnly||t.properties.push(new O.a(e.PropertyUID,this.getFormattedPropertyValue(e))))}extractDisplayItemDataWithRels(e,t,i){const n=e;if(n.RelObjects&&n.RelObjects.length>0)if(i===b.a.Update)this.addNonExistingNonTerminatedRels(n,t),this.addTerminatedRels(n,t);else if(i===b.a.Copy){const i=this.addTerminatedRels(n,t);this.addNonTerminatedRels(n,t)||i||this.addDisplayItemValue(e,n,t)}else this.addNonTerminatedRels(n,t)||this.addDisplayItemValue(e,n,t)}addTerminatedRels(e,t){let i=!1;if(e.RelObjects.filter(e=>e.Terminate).length>0){const n=this.getTerminatedRelObj(e);this.terminateRelsFromForm(n,t),i=!0}return i}addNonTerminatedRels(e,t){let i=!1;if(e.RelObjects.filter(e=>!e.Terminate).length>0){const n=this.getNonTerminatedRelObj(e);this.addRelsFromForm(n,t),i=!0}return i}addNonExistingNonTerminatedRels(e,t){if(e.RelObjects.filter(e=>!e.Existing&&!e.Terminate).length>0){const i=this.getNonTerminatedAndNonExistingRelObj(e);this.addRelsFromForm(i,t)}}addDisplayItemValue(e,t,i){if(e.Value){const n=this.getReadOnlyRels(t,e);this.addRelsFromForm(n,i)}}getFormattedPropertyValue(e){let t;switch(e.DisplayType){case f.a.YMD_TYPE:t=this.dateFormatService.convertToSPFDateFormat(e.Value);break;case f.a.DATE_TIME_TYPE:t=this.dateFormatService.convertToSPFDateTimeFormat(e.Value);break;default:t=e.Value}return t}addRelsFromForm(e,t){if(t)if(0===t.relationships.filter(t=>t.relDefUID===e.relDefUID).length||e.linkProperties)t.relationships.push(e);else{const i=t.relationships.filter(t=>t.relDefUID===e.relDefUID)[0];e.obidsOfOtherEndObject.forEach(e=>{0===i.obidsOfOtherEndObject.filter(t=>t===e).length&&i.obidsOfOtherEndObject.push(e)})}}terminateRelsFromForm(e,t){t&&t.relationshipsToTerminate.push(e)}getNonTerminatedRelObj(e){return new I.a(e.NavigationPath.substr(1),e.NavigationPath.startsWith("+"),e.RelObjects.filter(e=>!e.Terminate).map(e=>e.Key))}getTerminatedRelObj(e){return new I.a(e.NavigationPath.substr(1),e.NavigationPath.startsWith("+"),e.RelObjects.filter(e=>e.Terminate).map(e=>e.Key))}getNonTerminatedAndNonExistingRelObj(e){return new I.a(e.NavigationPath.substr(1),e.NavigationPath.startsWith("+"),e.RelObjects.filter(e=>!e.Existing&&!e.Terminate).map(e=>e.Key))}getReadOnlyRels(e,t){return new I.a(e.NavigationPath.substr(1),e.NavigationPath.startsWith("+"),[t.Value])}getNameValueFromObject(e){const t=e.properties.find(e=>"Name"===e.propertyDefUID);return t?t.value:""}getDescriptionValueFromObject(e){const t=e.properties.find(e=>"Description"===e.propertyDefUID);return t?t.value:""}getNameValueFromObjects(e){let t="";for(const i in e)if(Object.prototype.hasOwnProperty.call(e,i)&&(t=this.getNameValueFromObject(e[i]),t))return t;return t}getDescriptionValueFromObjects(e){let t="";for(const i in e)if(e.hasOwnProperty(i)&&(t=this.getDescriptionValueFromObject(e[i]),t))return t;return t}convertToHierachicalStructure(e){const t=[];let i=e.DisplayName;e.Description&&e.Description.length>0&&(i+=", "+e.Description);const n=new S.a(i,e.DisplayName,e.Description,e.Level,e,void 0,e.Selectable);return this.getExpansions(e,n),t.push(n),t}getExpansions(e,t){const i=e.ClassificationExpansions.length;for(let n=0;n<i;n++){const i=e.ClassificationExpansions[n];let s=i.DisplayName;i.Description&&i.Description.length>0&&(s+=", "+i.Description);const a=new S.a(s,i.DisplayName,i.Description,i.Level,i,void 0,i.Selectable);this.getClassifications(i,a),t.children.push(a)}}getClassifications(e,t){const i=e.ClassificationExpansions.length;for(let n=0;n<i;n++){const i=e.ClassificationExpansions[n];let s=i.DisplayName;i.Description&&i.Description.length>0&&(s+=", "+i.Description);const a=new S.a(s,i.DisplayName,i.Description,i.Level,i,void 0,i.Selectable);i.ClassificationExpansions&&i.ClassificationExpansions.length>0&&this.getExpansions(i,a),t.children.push(a)}}}return e.\u0275fac=function(t){return new(t||e)(E.dc(h.a),E.dc(C.a),E.dc(a.a),E.dc(d.a),E.dc(l.a),E.dc(r.a),E.dc(p.a),E.dc(T.a),E.dc(u.a),E.dc(c.a))},e.\u0275prov=E.Ob({token:e,factory:e.\u0275fac}),e})()},UqQ1:function(e,t,i){"use strict";i.d(t,"a",(function(){return o}));var n=i("ofXK"),s=i("vFAW"),a=i("fXoL");let o=(()=>{class e{}return e.\u0275mod=a.Qb({type:e}),e.\u0275inj=a.Pb({factory:function(t){return new(t||e)},imports:[[n.c,s.a]]}),e})()},UwO9:function(e,t,i){"use strict";i.d(t,"a",(function(){return s}));var n=i("fXoL");let s=(()=>{class e{constructor(){this.lockedItems=[]}isItemLocked(e){return!this.lockedItems.every(t=>t!==e)}lockItem(e){this.lockedItems.push(e)}unlockItem(e){this.lockedItems=this.lockedItems.filter(t=>t!==e)}unlockItems(e){e.forEach(e=>this.unlockItem(e))}lockItems(e){e.forEach(e=>this.lockItem(e))}isEveryItemLocked(e){return e.every(e=>this.isItemLocked(e))}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=n.Ob({token:e,factory:e.\u0275fac}),e})()},VFM9:function(e,t,i){"use strict";i.d(t,"a",(function(){return b}));var n=i("tyNb"),s=i("vkgz"),a=i("pLZG"),o=i("ONOH"),r=i("5vhC"),c=i("Z9D8"),l=i("LUpO"),d=i("tCxB"),h=i("Qpiy"),u=i("iCYq"),p=i("AK/3"),g=i("8Bmj"),f=i("k1up"),m=i("fXoL");let b=(()=>{class e{constructor(e,t,i,n,s,a,o,r,c){this.configService=e,this.rolesService=t,this.serverInformationService=i,this.router=n,this.userService=s,this.loggingService=a,this.exceptionService=o,this.appInsightsTelemetryService=r,this.ppmTelemetryService=c,this.exceptionService.exceptionRaised$.subscribe(e=>this.sendException(e))}initialize(){return this.userService.retrieveUserDetails().pipe(Object(s.a)(e=>{try{this.ppmTelemetryService.initialize(e,this.serverInformationService.ServerInformation),this.appInsightsTelemetryService.initialize(e,this.serverInformationService.ServerInformation),this.listenToRouterChange()}catch(t){this.loggingService.error(new c.a(t,"Telemetry","TelemetryService","initialize"))}}))}startTrackEvent(e){try{return this.appInsightsTelemetryService.startTrackEvent(e.eventName),this.ppmTelemetryService.startTrackEvent(e)}catch(t){this.loggingService.error(new c.a(t,"Telemetry","TelemetryService","startTrackEvent"))}return Function()}stopTrackEvent(e){try{this.appInsightsTelemetryService.stopTrackEvent(e)}catch(t){this.loggingService.error(new c.a(t,"Telemetry","TelemetryService","stopTrackEvent"))}}sendEvent(e){try{e.eventData=Object.assign(Object.assign({},e.eventData),this.getRolesAndConfigs()),this.ppmTelemetryService.sendDiscreteEvent(e),this.appInsightsTelemetryService.trackEvent(e.eventName,e.eventData)}catch(t){this.loggingService.error(new c.a(t,"Telemetry","TelemetryService","sendEvent"))}}sendException(e){try{this.appInsightsTelemetryService.trackException(e)}catch(t){this.loggingService.error(new c.a(t,"Telemetry","TelemetryService","sendException"))}}listenToRouterChange(){(this.ppmTelemetryService.enabled||this.appInsightsTelemetryService.enabled)&&this.router.events.pipe(Object(a.a)(e=>e instanceof n.d)).subscribe(e=>{const t=this.router.parseUrl(e.urlAfterRedirects).root.children[n.f].segments;this.ppmTelemetryService.trackPageView(t[0]),this.appInsightsTelemetryService.trackPageView(t[0],e.urlAfterRedirects),e.urlAfterRedirects.includes("ClientAPI")&&this.sendEvent({eventName:t[0].parameters.ClientAPI,eventType:f.a.Feature,eventData:Object.assign({route:t[0].path},t[0].parameters),component:"UserAction"})})}getRolesAndConfigs(){return{selectedCreateConfig:this.configService.selectedCreateConfig,selectedQueryConfigs:this.configService.selectedQueryConfigs,selectedRoles:this.rolesService.selectedRoles.map(e=>e.RoleUID)}}}return e.\u0275fac=function(t){return new(t||e)(m.dc(o.a),m.dc(r.a),m.dc(h.a),m.dc(n.g),m.dc(u.a),m.dc(d.a),m.dc(l.a),m.dc(p.a),m.dc(g.a))},e.\u0275prov=m.Ob({token:e,factory:e.\u0275fac}),e})()},VNYG:function(e,t,i){"use strict";i.d(t,"a",(function(){return n}));class n{constructor(e,t){this.display=e,this.odataOperator=t}}},Vpc6:function(e,t,i){"use strict";i.d(t,"a",(function(){return c}));var n=i("ofXK"),s=i("3Pt+"),a=i("iVUw"),o=i("83Gb"),r=i("fXoL");let c=(()=>{class e{}return e.\u0275mod=r.Qb({type:e}),e.\u0275inj=r.Pb({factory:function(t){return new(t||e)},imports:[[n.c,s.j,o.a,a.a]]}),e})()},Vwje:function(e,t,i){"use strict";i.d(t,"a",(function(){return m}));var n=i("2Vo4"),s=i("XNiG"),a=i("LRne"),o=i("IzEk"),r=i("lJxs"),c=i("WjcW"),l=i("qSfU"),d=i("wN6G"),h=i("LUpO"),u=i("J7mc"),p=i("+eYH"),g=i("41Lq"),f=i("fXoL");let m=(()=>{class e{constructor(e,t,i,a){this.dataService=e,this.crudService=t,this.notificationService=i,this.exceptionService=a,this.selectedOBID=this.selectedQueryValue&&this.selectedQueryValue.obid,this.queryChanged$=new n.a({obid:this.selectedOBID}),this.updateQueries$=new n.a([]),this.updatePowerbar$=new s.a}get queries$(){return this.queriesValue?Object(a.a)(this.queriesValue):this.getQueriesFromServer()}set selectedQuery(e){this.selectedQueryValue=e}get selectedQuery(){return this.selectedQueryValue}getSelectedFromOBID(e){return this.queries$.pipe(Object(o.a)(1),Object(r.a)(t=>t.filter(t=>t.obid===e)[0]))}rename(e,t,i,n){const s=new c.a("SPFAdvancedSearch");return s.properties.push(new l.a("Name",t)),s.properties.push(new l.a("Description",i)),s.properties.push(new l.a("SPFAdvancedSearchCriteria",n)),this.crudService.update(e,s,!0)}update(e,t){const i=new c.a("SPFAdvancedSearch");return i.properties.push(new l.a("SPFAdvancedSearchCriteria",t)),this.crudService.update(e,i,!0)}create(e,t,i,n){const s=new c.a("SPFAdvancedSearch");return s.properties.push(new l.a("Name",e)),s.properties.push(new l.a("Description",t)),s.properties.push(new l.a("SPFAdvancedSearchCriteria",i)),s.properties.push(new l.a("SPFAdvancedSearchMethod",n)),this.crudService.create(s)}delete(e){return this.crudService.terminateMany(e)}updateQueryComponents(e,t,i,n){return this.getQueriesFromServer().pipe(Object(r.a)(s=>{this.queriesValue=s,this.selectedOBID=e.obid,this.notificationService.success(t),this.selectedQuery=Object.assign(Object.assign({},this.selectedQuery),i),this.queryChanged$.next(e),this.updatePowerbar$.next(n)}))}queryException(e){this.exceptionService.handleException(e)}externalUpdateQueries(){return this.getQueriesFromServer().pipe(Object(r.a)(e=>(this.queriesValue=e,this.updateQueries$.next(e),e)))}getQueriesFromServer(){return this.dataService.post("GetUserSavedQueries()",void 0,void 0,!0).pipe(Object(r.a)(e=>e.map(e=>new p.a(e.OBID,e.Name,e.Config,e.Description,e.UID,{url:e.SPFAdvancedSearchCriteria}))))}}return e.\u0275fac=function(t){return new(t||e)(f.dc(u.a),f.dc(d.a),f.dc(g.a),f.dc(h.a))},e.\u0275prov=f.Ob({token:e,factory:e.\u0275fac}),e})()},W5cs:function(e,t,i){"use strict";i.d(t,"a",(function(){return n}));class n{constructor(){this.logic="and",this.filters=[]}}},WPJx:function(e,t,i){"use strict";i.d(t,"a",(function(){return a}));var n=i("fXoL");const s=["*"];let a=(()=>{class e{constructor(){this.className=!0}get isTopClass(){return"top"===this.position}get isBottomClass(){return"bottom"===this.position}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=n.Mb({type:e,selectors:[["uxt-toolbar"]],hostVars:6,hostBindings:function(e,t){2&e&&n.Ib("uxt-toolbar",t.className)("uxt-toolbar--top",t.isTopClass)("uxt-toolbar--bottom",t.isBottomClass)},inputs:{position:"position"},ngContentSelectors:s,decls:2,vars:0,consts:[[1,"uxt-toolbar__items"]],template:function(e,t){1&e&&(n.rc(),n.Yb(0,"div",0),n.qc(1),n.Xb())},styles:[".uxt-toolbar{flex-shrink:0;height:56px;padding-right:8px;padding-left:8px;background-color:#ebedf0}.uxt-toolbar,.uxt-toolbar__items{display:flex;align-items:center;width:100%}.uxt-toolbar__items h1{font-size:1.25em;white-space:nowrap;overflow-x:hidden;text-overflow:ellipsis}.uxt-toolbar__items button,.uxt-toolbar__items h1,.uxt-toolbar__items label{padding-right:8px;padding-left:8px}.uxt-toolbar__items button{font-size:1rem;font-weight:500;margin:0;color:#1f2429;background-color:initial;border:1px solid transparent;text-transform:uppercase}.uxt-toolbar__items button:active{background-color:#cad0d7}.uxt-toolbar__items button+button{margin-left:8px}.uxt-toolbar__items button:focus{border-color:#02adff}.uxt-toolbar__pull-right{display:flex;align-items:center;margin-left:auto}.uxt-toolbar__pull-right .uxt-icon-button,.uxt-toolbar__pull-right button{margin-left:0!important}.uxt-toolbar--top{border-bottom:1px solid #cad0d7}.uxt-toolbar--bottom{border-top:1px solid #cad0d7}"],encapsulation:2}),e})()},Wbmx:function(e,t,i){"use strict";i.d(t,"a",(function(){return a}));var n=i("ofXK"),s=i("fXoL");let a=(()=>{class e{}return e.\u0275mod=s.Qb({type:e}),e.\u0275inj=s.Pb({factory:function(t){return new(t||e)},imports:[[n.c]]}),e})()},WjcW:function(e,t,i){"use strict";i.d(t,"a",(function(){return n}));class n{constructor(e){this.classDefUID=e,this.properties=[],this.relationships=[],this.relationshipsToTerminate=[],this.interfaces=[],this.filesToCopy=[]}}},XROm:function(e,t,i){"use strict";i.d(t,"a",(function(){return a}));var n=i("J7mc"),s=i("fXoL");let a=(()=>{class e{constructor(e){this.dataService=e}generateMergedRendition(e,t){return this.dataService.post("GenerateMergedRendition",JSON.stringify({MethodOBID:e,ObjectOBIDs:t}))}generateRendition(e,t){return this.dataService.post("GenerateRendition",JSON.stringify({MethodObid:e,ObjectObids:t}))}getRenditionFiles(e,t){return this.dataService.post("GetRenditionFiles",JSON.stringify({MethodOBID:e,ObjectOBIDs:t}))}}return e.\u0275fac=function(t){return new(t||e)(s.dc(n.a))},e.\u0275prov=s.Ob({token:e,factory:e.\u0275fac}),e})()},XSwO:function(e,t,i){"use strict";function n(e){if(void 0===e||!e)return;const t=document.createElement(e.tagName);return e.attributes===Object(e.attributes)&&Object.keys(e.attributes).forEach(i=>{"onClick"===i?t.addEventListener("click",e.attributes[i]):"className"===i?t.className=e.attributes[i]:"classNames"===i?e.attributes[i].forEach(e=>{t.classList.contains(e)||t.classList.add(e)}):t.setAttribute(i,e.attributes[i])}),e.children.filter(e=>e===Object(e)).map(n).forEach(e=>t.appendChild(e)),e.children.filter(e=>"string"==typeof e).forEach(e=>{t.innerHTML+=e}),t}function s(e){if("function"!=typeof e.render)throw new Error("uxtComponent must be defined with a render function.");const t={afterRender:e.afterRender||(()=>{}),render:e.render};return e=>function(e,t){const i=n(e.render());t.appendChild(i),e.afterRender(i)}(t,e)}i.d(t,"a",(function(){return s}))},Xfrm:function(e,t,i){"use strict";i.d(t,"a",(function(){return s}));var n=i("0YdO");class s extends n.a{constructor(e,t,i,n={canOpenInNewTab:!0}){super(e,n),this.route=t,this.extras=i}}},"Xfz+":function(e,t,i){"use strict";i.d(t,"a",(function(){return O}));var n=i("tk/3"),s=i("fujP"),a=i("NFsq"),o=i("2Vo4"),r=i("itXk"),c=i("LRne"),l=i("eIep"),d=i("lJxs"),h=i("KsTO"),u=i("eruR"),p=i("HLw3"),g=i("J7mc"),f=i("b/tf"),m=i("nYpA"),b=i("yAwn"),S=i("ONOH"),v=i("izpr"),_=i("fXoL");let O=(()=>{class e{constructor(e,t,i,n,s,a,c){this.configDataService=e,this.configService=t,this.dataService=i,this.featureSetDataService=n,this.batchRequestFactory=s,this.preferencesService=a,this.rolesRepository=c,this.refreshTodoListOverView=!0,this.availableConfigs=[],this.availableConfigsSubject$=new o.a(void 0),this.availableClassDefsData=[],this.availableConigsSubscription=Object(r.a)(this.rolesRepository.roles$,this.preferencesService.preferencesChanged$).pipe(Object(l.a)(([e,t])=>this.getAccessibleConfigs(t))).subscribe(e=>{this.availableConfigs=e,this.refreshTodoListOverView&&this.availableConfigsSubject$.next()})}ngOnDestroy(){this.availableConigsSubscription.unsubscribe()}changeTheConfiguration(e){const t=this.configService.filterInvalidQueryConfigs(e);return this.configDataService.setConfigs(t,e)}getTaskItemTitle(e,t){return this.dataService.get(`Objects('${e}')`,t,!1,void 0,new n.d({SPFResolveDocumentsToVersion:"false"})).pipe(Object(l.a)(e=>e&&e.Class?this.getClassDefDisplayName(e.Class,t):Object(c.a)(void 0)))}getClassDef(e){return this.availableClassDefsData.find(t=>t.Name===e)}addClassDef(e){-1===this.availableClassDefsData.findIndex(t=>t.Name===e.Name)&&this.availableClassDefsData.push(e)}deleteClassDef(e){const t=this.availableClassDefsData.findIndex(t=>t.Name===e);-1!==t&&this.availableClassDefsData.splice(t,1)}getClientAPIFeaturesInConfig(e){return this.featureSetDataService.getClientApiMethods("ShowInbox",e)}getClassDefDisplayName(e,t){const i=this.getClassDef(e);return i?Object(c.a)(i.DisplayName):this.dataService.get(`Objects?$filter=contains(Interfaces, 'IClassDef') and Name eq '${e}'`,t,!0).pipe(Object(d.a)(t=>{if(t&&t.length){const i=t[0].DisplayName?t[0].DisplayName:e;return t[0].DisplayName=i,this.addClassDef(t[0]),i}return e}))}getAccessibleConfigs(e){const t=e.QueryBySelectedConfigsOnly,i=t&&"true"===t.toLowerCase();let n=this.getConfigsForTodoList(i);const s=this.batchRequestFactory.createBatchRequest();return n.forEach(e=>{s.addPostRequest("User/Intergraph.SPF.Server.API.Model.GetClientApiMethods",!0,e.configUID,JSON.stringify({ClientApi:"ShowInbox"}))}),s.execute().pipe(Object(d.a)(e=>{const t=[];return e.forEach(e=>{e.data&&e.data.value&&e.data.value.length&&t.push(e.data.value[0].QueryConfig)}),n=n.filter(e=>t.includes(e.configUID)),n}))}getConfigsForTodoList(e){return e?this.getQueryBySelectedConfigsOnly():this.getParentForSelectedQueryConfigs()}getParentForSelectedQueryConfigs(){const e=this.configService.currentConfigs,t=Object(h.a)(e,this.configService.selectedQueryConfigs),i=this.filterToDoListConfigs(t),n=[];return this.getConfigsFromTreeList(n,i),n}getQueryBySelectedConfigsOnly(){const e=[];return this.configService.selectedQueryConfigs.map(t=>{const i=this.configService.currentConfigs.find(e=>e.ConfigUID===t);i&&e.push(new m.a(i.ConfigUID,i.DisplayName,i.ConfigStatus,!0,!1))}),e}getConfigsFromTreeList(e,t){t.forEach(t=>{t.children.length>0&&this.getConfigsFromTreeList(e,t.children),t.data.selectable&&e.push(t.data)})}filterToDoListConfigs(e){return Object(s.a)(e)?[]:(e.forEach(e=>{e.children.length>0&&(e.children=this.filterToDoListConfigs(e.children)),e.data.parent&&(e.data.parent.children=e.data.parent.children.filter(e=>Object(a.a)(this.configService.selectedQueryConfigs,e.data.configUID)))}),e=e.filter(e=>Object(a.a)(this.configService.selectedQueryConfigs,e.data.configUID)||e.children.length>0))}}return e.\u0275fac=function(t){return new(t||e)(_.dc(b.a),_.dc(S.a),_.dc(g.a),_.dc(u.a),_.dc(p.a),_.dc(f.a),_.dc(v.a))},e.\u0275prov=_.Ob({token:e,factory:e.\u0275fac}),e})()},XiP7:function(e,t,i){"use strict";i.d(t,"a",(function(){return ae}));var n=i("fXoL"),s=i("XIp8"),a=i("XNiG"),o=i("LRne"),r=i("Kj3r"),c=i("eIep"),l=i("/uUt"),d=i("JIr8"),h=i("Kc8n"),u=i("LUpO"),p=i("A1MZ"),g=i("Ejbi"),f=function(e){return e[e.List=0]="List",e[e.Filters=1]="Filters",e[e.Peek=2]="Peek",e}({}),m=i("ftI+"),b=i("KIpx"),S=i("udmY"),v=i("Sj5/"),_=i("ghPn"),O=i("kOSm"),I=i("4ZEd"),C=i("tgvy"),T=i("tyNb"),E=i("qFO9"),y=i("ofXK"),P=i("4vbe"),x=i("Z9D8"),A=i("ORCH");function w(e,t){if(1&e){const e=n.Zb();n.Yb(0,"uxt-list",5),n.hc("selectedItemChange",(function(t){return n.Kc(e),n.lc(2).secondaryItemChanged(t)})),n.Xb()}if(2&e){const e=n.lc(2);n.sc("items",e.secondaryDisplayList)("selectedItem",e.selectedSecondaryItem)}}function M(e,t){if(1&e){const e=n.Zb();n.Yb(0,"div",2),n.Yb(1,"uxt-list",3),n.hc("selectedItemChange",(function(t){return n.Kc(e),n.lc().primaryItemChanged(t)})),n.Xb(),n.Sc(2,w,1,2,"uxt-list",4),n.Xb()}if(2&e){const e=n.lc();n.Ib("list-search-list--flat",!e.isGroupedMode),n.Eb(1),n.sc("items",e.primaryDisplayList)("selectedItem",e.selectedPrimaryItem),n.Eb(1),n.sc("ngIf",e.isGroupedMode)}}function D(e,t){if(1&e&&(n.Yb(0,"p",6),n.Uc(1),n.Xb()),2&e){const e=n.lc();n.Eb(1),n.Vc(e.noDataMessage)}}let N=(()=>{class e{constructor(e,t){this.exceptionService=e,this.sdaTranslateService=t,this.enableGroupedMode=!1,this.disableSorting=!1,this.selectedPrimaryItemChange=new n.o,this.selectedSecondaryItemChange=new n.o,this.primaryDisplayList=[],this.secondaryDisplayList=[],this.GROUPING_NOT_POSSIBLE=this.sdaTranslateService.get("GROUPING_NOT_POSSIBLE","grouping not possible, group details not provided"),this.SECONDARY_LIST_NO_PARENT=this.sdaTranslateService.get("SECONDARY_LIST_NO_PARENT","cannot populate secondary display list, parent id could not be found")}ngOnChanges(e){(e.searchListData||e.enableGroupedMode)&&(e.enableGroupedMode&&e.enableGroupedMode.firstChange&&(this.isGroupedMode=this.enableGroupedMode),this.updateData()),e.selectedPrimaryItem&&this.selectedPrimaryItemUpdate()}primaryItemChanged(e){e!==this.selectedPrimaryItem&&(this.updatePrimarySelected(e),this.isGroupedMode&&this.selectSecondaryDisplayList())}secondaryItemChanged(e){e!==this.selectedSecondaryItem&&this.updateSecondarySelected(e)}selectedPrimaryItemUpdate(){if(this.selectedPrimaryItem){const e=this.primaryDisplayList.find(e=>this.selectedPrimaryItem.id===e.id);this.updatePrimarySelected(e)}this.enableGroupedMode&&this.searchListData&&this.searchListData[0]instanceof _.a&&(this.selectedPrimaryItem||this.updatePrimarySelected(this.primaryDisplayList[0]),this.selectSecondaryDisplayList())}updateData(){this.searchListData?this.searchListData[0]instanceof _.a?this.enableGroupedMode?this.updateGroupedModeGroupedList():this.updateFlatModeGroupedList():this.updateFlatList():(this.primaryDisplayList=[],this.secondaryDisplayList=[],this.updatePrimarySelected(void 0),this.updateSecondarySelected(void 0))}updateGroupedModeGroupedList(){if(this.primaryDisplayList=[],this.searchListData.forEach(e=>{this.primaryDisplayList.push(new _.b(e.id,e.displayName,e.orderValue))}),this.primaryDisplayList=this.sortList(this.primaryDisplayList,!0),this.selectedPrimaryItem)if(this.isGroupedMode)this.verifyPrimaryStillExists();else{const e=this.primaryDisplayList.find(e=>e.id===this.selectedPrimaryItem.parentGroupId);e?(this.updateSecondarySelected(this.selectedPrimaryItem),this.updatePrimarySelected(e),this.selectSecondaryDisplayList()):this.updatePrimarySelected(void 0)}this.isGroupedMode=!0,this.selectedPrimaryItem||(this.updatePrimarySelected(this.primaryDisplayList[0]),this.updateSecondarySelected(void 0),this.selectSecondaryDisplayList())}updateFlatModeGroupedList(){this.primaryDisplayList=[],this.searchListData.forEach(e=>{this.primaryDisplayList=this.primaryDisplayList.concat(e.childFlatList)}),this.primaryDisplayList=this.sortList(this.primaryDisplayList,!1),this.updateFlatModeData()}updateFlatList(){this.primaryDisplayList=this.sortList(this.searchListData,!1),this.updateFlatModeData(),this.enableGroupedMode&&this.exceptionService.handleException(new x.a(this.GROUPING_NOT_POSSIBLE,"ListSearchViewComponent","updateFlatList"))}updateFlatModeData(){if(this.isGroupedMode){if(this.selectedSecondaryItem){const e=this.primaryDisplayList.find(e=>e.id===this.selectedSecondaryItem.id);this.updatePrimarySelected(e)}}else this.verifyPrimaryStillExists();this.isGroupedMode=!1,this.secondaryDisplayList=[],this.updateSecondarySelected(void 0)}verifyPrimaryStillExists(){if(this.selectedPrimaryItem){const e=this.primaryDisplayList.find(e=>e.id===this.selectedPrimaryItem.id&&e.displayName===this.selectedPrimaryItem.displayName);this.updatePrimarySelected(e),e&&this.isGroupedMode&&(this.selectSecondaryDisplayList(),this.selectedSecondaryItem)&&(this.secondaryDisplayList.find(e=>e.id===this.selectedSecondaryItem.id)||this.updateSecondarySelected(void 0))}}selectSecondaryDisplayList(){this.secondaryDisplayList=[];const e=this.searchListData,t=e.findIndex(e=>e.id===this.selectedPrimaryItem.id);t>-1?this.secondaryDisplayList=this.sortList(e[t].childFlatList,!0):this.exceptionService.handleException(new x.a(this.SECONDARY_LIST_NO_PARENT,void 0,"ListSearchViewComponent","selectSecondaryDisplayList"))}sortList(e,t){let i=e;return this.disableSorting||(i=e.sort(t?(e,t)=>{let i=e.orderValue-t.orderValue;return 0===i&&(i=this.sortByDisplayName(e,t)),i}:(e,t)=>this.sortByDisplayName(e,t))),i}sortByDisplayName(e,t){let i=0;const n=e.displayName.toLowerCase(),s=t.displayName.toLowerCase();return n<s?i=-1:n>s&&(i=1),i}updatePrimarySelected(e){this.selectedPrimaryItem=e,this.selectedPrimaryItemChange.emit(e)}updateSecondarySelected(e){this.selectedSecondaryItem=e,this.selectedSecondaryItemChange.emit(e)}}return e.\u0275fac=function(t){return new(t||e)(n.Sb(u.a),n.Sb(g.a))},e.\u0275cmp=n.Mb({type:e,selectors:[["sda-list-search-view"]],inputs:{enableGroupedMode:"enableGroupedMode",disableSorting:"disableSorting",searchListData:"searchListData",selectedPrimaryItem:"selectedPrimaryItem",selectedSecondaryItem:"selectedSecondaryItem",noDataMessage:"noDataMessage"},outputs:{selectedPrimaryItemChange:"selectedPrimaryItemChange",selectedSecondaryItemChange:"selectedSecondaryItemChange"},features:[n.Cb],decls:2,vars:2,consts:[["class","list-search-list",3,"list-search-list--flat",4,"ngIf"],["class","list-search-list__empty",4,"ngIf"],[1,"list-search-list"],["primaryTextProperty","displayName","secondaryTextProperty","parentGroupDisplayName",3,"items","selectedItem","selectedItemChange"],["primaryTextProperty","displayName",3,"items","selectedItem","selectedItemChange",4,"ngIf"],["primaryTextProperty","displayName",3,"items","selectedItem","selectedItemChange"],[1,"list-search-list__empty"]],template:function(e,t){1&e&&(n.Sc(0,M,3,5,"div",0),n.Sc(1,D,2,1,"p",1)),2&e&&(n.sc("ngIf",t.primaryDisplayList.length),n.Eb(1),n.sc("ngIf",!t.primaryDisplayList.length&&!t.secondaryDisplayList.length))},directives:[y.t,A.a],styles:['[_nghost-%COMP%]     .uxt-list__wrapper{overflow-y:hidden}[_nghost-%COMP%]     .uxt-list__items{flex:1 1 auto;height:100%;padding:0;overflow-y:auto}[_nghost-%COMP%]     .uxt-list-item{height:40px;padding:0 10px}[_nghost-%COMP%]     .uxt-list-item--active{background:#0087c8}@media screen and (min-width:59.375em){[_nghost-%COMP%]     .uxt-list-item{height:29px}}.list-search-list[_ngcontent-%COMP%]{display:flex;flex:1 0 auto;min-height:80px;max-height:248px}@media screen and (min-width:59.375em){.list-search-list[_ngcontent-%COMP%]{max-height:269px}}.list-search-list--flat[_ngcontent-%COMP%]   .uxt-list[_ngcontent-%COMP%]:not(:only-child):first-child{border-right:1px solid rgba(0,0,0,.24)}.list-search-list--flat[_ngcontent-%COMP%]     .uxt-list-item__text{flex-direction:row;font-size:14px}.list-search-list--flat[_ngcontent-%COMP%]     .uxt-list-item__text__primary-text{font-size:inherit}.list-search-list--flat[_ngcontent-%COMP%]     .uxt-list-item__text__secondary-text{padding-top:0;font-size:inherit}.list-search-list--flat[_ngcontent-%COMP%]     .uxt-list-item__text__secondary-text:before{content:"-";margin:0 6px}.list-search-list[_ngcontent-%COMP%]   .uxt-list[_ngcontent-%COMP%]{width:50%}.list-search-list[_ngcontent-%COMP%]   .uxt-list[_ngcontent-%COMP%]:not(:only-child):not(:first-child){border-left:1px solid #ebedf0}.list-search-list[_ngcontent-%COMP%]   .uxt-list[_ngcontent-%COMP%]:not(.uxt-list--compact)     .uxt-list__items{max-width:none;border:0}.list-search-list__empty[_ngcontent-%COMP%]{flex:1;min-height:70px;padding:0 8px;font-size:14px;color:#333}']}),e})();var R=i("tTON"),L=i("Z4id"),F=i("Yzie");function k(e,t){if(1&e&&(n.Yb(0,"div",3),n.Yb(1,"div",4),n.Yb(2,"div",5),n.Uc(3),n.Xb(),n.Yb(4,"div",6),n.Uc(5),n.Yb(6,"span",7),n.Uc(7),n.Xb(),n.Xb(),n.Xb(),n.Yb(8,"div",4),n.Yb(9,"div",5),n.Uc(10),n.Xb(),n.Yb(11,"div",6),n.Uc(12),n.Yb(13,"span",7),n.Uc(14),n.Xb(),n.Xb(),n.Xb(),n.Yb(15,"div",4),n.Yb(16,"div",5),n.Uc(17),n.Xb(),n.Yb(18,"div",6),n.Uc(19),n.Yb(20,"span",7),n.Uc(21),n.Xb(),n.Xb(),n.Xb(),n.Yb(22,"div",4),n.Yb(23,"div",5),n.Uc(24),n.Xb(),n.Yb(25,"div",6),n.Uc(26),n.Yb(27,"span",7),n.Uc(28),n.Xb(),n.Xb(),n.Xb(),n.Yb(29,"div",4),n.Yb(30,"div",5),n.Uc(31),n.Xb(),n.Yb(32,"div",6),n.Uc(33),n.Yb(34,"span",7),n.Uc(35),n.Xb(),n.Xb(),n.Xb(),n.Yb(36,"div",4),n.Yb(37,"div",5),n.Uc(38),n.Xb(),n.Yb(39,"div",6),n.Uc(40),n.Yb(41,"span",7),n.Uc(42),n.Xb(),n.Xb(),n.Xb(),n.Yb(43,"div",4),n.Yb(44,"div",5),n.Uc(45),n.Xb(),n.Yb(46,"div",6),n.Uc(47),n.Yb(48,"span",7),n.Uc(49),n.Xb(),n.Xb(),n.Xb(),n.Xb()),2&e){const e=n.lc();n.Eb(3),n.Vc(e.FTR_HELP_WILDCARD_OPERATOR),n.Eb(2),n.Wc(" ",e.FTR_HELP_WILDCARD_DESC," "),n.Eb(2),n.Vc(e.FTR_HELP_WILDCARD_EXAMPLE),n.Eb(3),n.Vc(e.FTR_HELP_REPLACEMENT_OPERATOR),n.Eb(2),n.Wc(" ",e.FTR_HELP_REPLACEMENT_DESC," "),n.Eb(2),n.Vc(e.FTR_HELP_REPLACEMENT_EXAMPLE),n.Eb(3),n.Vc(e.FTR_HELP_AND_OPERATOR),n.Eb(2),n.Wc(" ",e.FTR_HELP_AND_DESC," "),n.Eb(2),n.Vc(e.FTR_HELP_AND_EXAMPLE),n.Eb(3),n.Vc(e.FTR_HELP_OR_OPERATOR),n.Eb(2),n.Wc(" ",e.FTR_HELP_OR_DESC," "),n.Eb(2),n.Vc(e.FTR_HELP_OR_EXAMPLE),n.Eb(3),n.Vc(e.FTR_HELP_NOT_OPERATOR),n.Eb(2),n.Wc(" ",e.FTR_HELP_NOT_DESC," "),n.Eb(2),n.Vc(e.FTR_HELP_NOT_EXAMPLE),n.Eb(3),n.Vc(e.FTR_HELP_GROUP_OPERATOR),n.Eb(2),n.Wc(" ",e.FTR_HELP_GROUP_DESC," "),n.Eb(2),n.Vc(e.FTR_HELP_GROUP_EXAMPLE),n.Eb(3),n.Vc(e.FTR_HELP_EXACT_OPERATOR),n.Eb(2),n.Wc(" ",e.FTR_HELP_EXACT_DESC," "),n.Eb(2),n.Vc(e.FTR_HELP_EXACT_EXAMPLE)}}function U(e,t){if(1&e){const e=n.Zb();n.Yb(0,"sda-list-view",8),n.hc("selectedIdChange",(function(t){return n.Kc(e),n.lc().ftrResultSelected(t)})),n.Xb()}if(2&e){const e=n.lc();n.sc("items",e.ftrPreviewResults)}}let j=(()=>{class e{constructor(e){this.sdaTranslateService=e,this.ftrPreviewResults=[],this.onSelection=new n.o,this.FTR_HELP_WILDCARD_OPERATOR=this.sdaTranslateService.get("FTR_HELP_WILDCARD_OPERATOR","* - Wildcard"),this.FTR_HELP_WILDCARD_DESC=this.sdaTranslateService.get("FTR_HELP_WILDCARD_DESC","Finds all objects that contain words starting with doc, such as document and docket."),this.FTR_HELP_WILDCARD_EXAMPLE=this.sdaTranslateService.get("FTR_HELP_WILDCARD_EXAMPLE","doc*"),this.FTR_HELP_REPLACEMENT_OPERATOR=this.sdaTranslateService.get("FTR_HELP_REPLACEMENT_OPERATOR","? - Character Replacement"),this.FTR_HELP_REPLACEMENT_DESC=this.sdaTranslateService.get("FTR_HELP_REPLACEMENT_DESC","Finds all objects that start with 13 and end with 45, such as 13445 and 13045."),this.FTR_HELP_REPLACEMENT_EXAMPLE=this.sdaTranslateService.get("FTR_HELP_REPLACEMENT_EXAMPLE","13?45"),this.FTR_HELP_AND_OPERATOR=this.sdaTranslateService.get("FTR_HELP_AND_OPERATOR","& - And"),this.FTR_HELP_AND_DESC=this.sdaTranslateService.get("FTR_HELP_AND_DESC","Finds all objects that contain the words oil and pump."),this.FTR_HELP_AND_EXAMPLE=this.sdaTranslateService.get("FTR_HELP_AND_EXAMPLE","cat & dog"),this.FTR_HELP_OR_OPERATOR=this.sdaTranslateService.get("FTR_HELP_OR_OPERATOR","| - Or"),this.FTR_HELP_OR_DESC=this.sdaTranslateService.get("FTR_HELP_OR_DESC","Finds all objects that contain the words oil or pump."),this.FTR_HELP_OR_EXAMPLE=this.sdaTranslateService.get("FTR_HELP_OR_EXAMPLE","cat | dog"),this.FTR_HELP_NOT_OPERATOR=this.sdaTranslateService.get("FTR_HELP_NOT_OPERATOR","! - Not"),this.FTR_HELP_NOT_DESC=this.sdaTranslateService.get("FTR_HELP_NOT_DESC","Finds all objects that do not contain the word oil."),this.FTR_HELP_NOT_EXAMPLE=this.sdaTranslateService.get("FTR_HELP_NOT_EXAMPLE","!cat"),this.FTR_HELP_GROUP_OPERATOR=this.sdaTranslateService.get("FTR_HELP_GROUP_OPERATOR","() - Group"),this.FTR_HELP_GROUP_DESC=this.sdaTranslateService.get("FTR_HELP_GROUP_DESC","Finds all objects that contain the word owner and either the word oil or pump, where | = Or."),this.FTR_HELP_GROUP_EXAMPLE=this.sdaTranslateService.get("FTR_HELP_GROUP_EXAMPLE","owner & ( cat | dog )"),this.FTR_HELP_EXACT_OPERATOR=this.sdaTranslateService.get("FTR_HELP_EXACT_OPERATOR",'" " - Exact match'),this.FTR_HELP_EXACT_DESC=this.sdaTranslateService.get("FTR_HELP_EXACT_DESC","Finds all objects that contain the phrase past the deadline."),this.FTR_HELP_EXACT_EXAMPLE=this.sdaTranslateService.get("FTR_HELP_EXACT_EXAMPLE",'"past the deadline"')}ftrResultSelected(e){this.onSelection.emit(e)}}return e.\u0275fac=function(t){return new(t||e)(n.Sb(g.a))},e.\u0275cmp=n.Mb({type:e,selectors:[["sda-ftr-search-view"]],inputs:{ftrPreviewResults:"ftrPreviewResults"},outputs:{onSelection:"onSelection"},decls:3,vars:2,consts:[[1,"ftr-search-list"],["class","ftr-search-list__help",4,"ngIf"],["primaryTextProperty","id",3,"items","selectedIdChange",4,"ngIf"],[1,"ftr-search-list__help"],[1,"ftr-search-list__item"],[1,"ftr-search-list__operator"],[1,"ftr-search-list__desc"],[1,"ftr-search-list__exp"],["primaryTextProperty","id",3,"items","selectedIdChange"]],template:function(e,t){1&e&&(n.Yb(0,"div",0),n.Sc(1,k,50,21,"div",1),n.Sc(2,U,1,1,"sda-list-view",2),n.Xb()),2&e&&(n.Eb(1),n.sc("ngIf",!t.ftrPreviewResults.length),n.Eb(1),n.sc("ngIf",t.ftrPreviewResults.length>0))},directives:[y.t,F.a],styles:['[_nghost-%COMP%]   .ftr-search-list[_ngcontent-%COMP%]{display:flex;flex:1 0 auto;min-height:80px;max-height:248px}@media screen and (min-width:59.375em){[_nghost-%COMP%]   .ftr-search-list[_ngcontent-%COMP%]{max-height:269px}}[_nghost-%COMP%]   .ftr-search-list__help[_ngcontent-%COMP%]{display:flex;flex:1;flex-direction:column;overflow:auto}[_nghost-%COMP%]   .ftr-search-list__item[_ngcontent-%COMP%]{display:flex;flex:1 0 auto;flex-wrap:wrap;padding:15px;border-bottom:1px solid #ebedf0;font-size:14px}[_nghost-%COMP%]   .ftr-search-list__item[_ngcontent-%COMP%]:last-of-type{border-bottom:none}[_nghost-%COMP%]   .ftr-search-list__operator[_ngcontent-%COMP%]{flex:1 1 100%;padding:5px 8px;font-weight:500;background-color:#f3f5f6}[_nghost-%COMP%]   .ftr-search-list__desc[_ngcontent-%COMP%]{display:flex;flex:1;justify-content:space-between;padding:5px 8px}[_nghost-%COMP%]   .ftr-search-list__exp[_ngcontent-%COMP%]{flex-shrink:0;margin-left:25px;font-weight:500}[_nghost-%COMP%]   .ftr-search-list[_ngcontent-%COMP%]   sda-list-view[_ngcontent-%COMP%]{width:100%}[_nghost-%COMP%]   .ftr-search-list[_ngcontent-%COMP%]     .list-base__items{flex:1 1 auto;height:100%;padding:0;overflow-y:auto}[_nghost-%COMP%]   .ftr-search-list[_ngcontent-%COMP%]     .list-item{height:40px;padding:0 10px}@media screen and (min-width:59.375em){[_nghost-%COMP%]   .ftr-search-list[_ngcontent-%COMP%]     .list-item{height:29px}}[_nghost-%COMP%]   .ftr-search-list[_ngcontent-%COMP%]     .list-item--selected{background:#0087c8;background:linear-gradient(70deg,#0087c8,rgba(0,135,200,.8))}[_nghost-%COMP%]   .ftr-search-list[_ngcontent-%COMP%]     .list-item .list-item-text{flex-direction:row;font-size:14px}[_nghost-%COMP%]   .ftr-search-list[_ngcontent-%COMP%]     .list-item .list-item-text__primary{font-size:inherit}[_nghost-%COMP%]   .ftr-search-list[_ngcontent-%COMP%]     .list-item .list-item-text__secondary{padding-top:0;font-size:inherit}[_nghost-%COMP%]   .ftr-search-list[_ngcontent-%COMP%]     .list-item .list-item-text__secondary:before{content:"-";margin:0 6px}']}),e})();var B=i("RXOm"),G=i("gSF1");function V(e,t){if(1&e){const e=n.Zb();n.Yb(0,"sda-button-neutral",7),n.hc("click",(function(){return n.Kc(e),n.lc().enableFtr()})),n.Xb()}if(2&e){const e=n.lc();n.sc("displayName",e.SEARCH_PANEL_FULL_TEXT_SEARCH)("styleClassIcon","fa-toggle-off")}}function X(e,t){if(1&e){const e=n.Zb();n.Yb(0,"sda-button-neutral",8),n.hc("click",(function(){return n.Kc(e),n.lc().toggleListMode()})),n.Xb()}if(2&e){const e=n.lc();n.sc("isDisabled",e.isLoading)("displayName",e.SEARCH_PANEL_GROUPED_LIST)("styleClassIcon",e.groupModeActive?"fa-toggle-on":"fa-toggle-off")}}function H(e,t){if(1&e){const e=n.Zb();n.Yb(0,"sda-button-abort",9),n.hc("click",(function(){return n.Kc(e),n.lc().resetClicked()})),n.Xb()}if(2&e){const e=n.lc();n.sc("isDisabled",e.filtersDefault)("title",e.SEARCH_PANEL_RESET_BUTTON_TITLE)("displayName",e.RESET)("styleClassIcon","fa-refresh")}}function Y(e,t){if(1&e){const e=n.Zb();n.Yb(0,"sda-button-neutral",10),n.hc("click",(function(){return n.Kc(e),n.lc().navigateToAdvanced()})),n.Xb()}if(2&e){const e=n.lc();n.sc("title",e.SEARCH_PANEL_GO_TO_ADVANCED)("matSvgIcon","advanced-search")}}let q=(()=>{class e{constructor(e,t,i){this.router=e,this.guidService=t,this.sdaTranslateService=i,this.displayFTR=!1,this.displayAdvancedSearchLink=!1,this.filtersDefault=!0,this.displayGroupToggle=!0,this.groupModeActive=!0,this.disableFiltersButton=!0,this.currentState=f.List,this.onFTRClicked=new n.o,this.groupModeActiveChange=new n.o,this.onAdvancedClicked=new n.o,this.onFilterClicked=new n.o,this.onResetClicked=new n.o,this.searchState=f,this.SEARCH_PANEL_FILTER=this.sdaTranslateService.get("SEARCH_PANEL_FILTER","Filter"),this.SEARCH_PANEL_FILTER_BUTTON_TITLE=this.sdaTranslateService.get("SEARCH_PANEL_FILTER_BUTTON_TITLE","Edit options and operators"),this.SEARCH_PANEL_GO_TO_ADVANCED=this.sdaTranslateService.get("SEARCH_PANEL_GO_TO_ADVANCED","Go to Advanced Search"),this.SEARCH_PANEL_RESET_BUTTON_TITLE=this.sdaTranslateService.get("SEARCH_PANEL_RESET_BUTTON_TITLE","Reset options to default"),this.SEARCH_PANEL_GROUPED_LIST=this.sdaTranslateService.get("SEARCH_PANEL_GROUPED_LIST","Grouped List"),this.SEARCH_PANEL_FULL_TEXT_SEARCH=this.sdaTranslateService.get("SEARCH_PANEL_FULL_TEXT_SEARCH","Full Text Search"),this.RESET=this.sdaTranslateService.get("RESET","Reset"),this.ADVANCED_SEARCH=this.sdaTranslateService.get("ADVANCED_SEARCH","Advanced Search")}enableFtr(){this.onFTRClicked.emit()}navigateToAdvanced(){this.router.navigate(["/query",{id:this.guidService.getGuid()}]),this.onAdvancedClicked.emit()}toggleListMode(){this.groupModeActive=!this.groupModeActive,this.groupModeActiveChange.emit(this.groupModeActive)}toggleFiltersMode(){this.disableFiltersButton||this.onFilterClicked.emit()}resetClicked(){this.filtersDefault||this.onResetClicked.emit()}}return e.\u0275fac=function(t){return new(t||e)(n.Sb(T.g),n.Sb(p.a),n.Sb(g.a))},e.\u0275cmp=n.Mb({type:e,selectors:[["sda-feature-search-settings"]],inputs:{displayFTR:"displayFTR",displayAdvancedSearchLink:"displayAdvancedSearchLink",filtersDefault:"filtersDefault",displayGroupToggle:"displayGroupToggle",groupModeActive:"groupModeActive",disableFiltersButton:"disableFiltersButton",currentState:"currentState",isLoading:"isLoading"},outputs:{onFTRClicked:"onFTRClicked",groupModeActiveChange:"groupModeActiveChange",onAdvancedClicked:"onAdvancedClicked",onFilterClicked:"onFilterClicked",onResetClicked:"onResetClicked"},decls:7,vars:12,consts:[[1,"feature-search-settings-switches"],[3,"displayName","styleClassIcon","click",4,"ngIf"],[3,"isDisabled","displayName","styleClassIcon","click",4,"ngIf"],["id","options-search__reset",3,"isDisabled","title","displayName","styleClassIcon","click",4,"ngIf"],[1,"feature-search-settings-option"],["class","feature-search-settings-option__advanced-search",3,"title","matSvgIcon","click",4,"ngIf"],[1,"feature-search-settings-option__filter",3,"styleClassIcon","isDisabled","displayName","title","click"],[3,"displayName","styleClassIcon","click"],[3,"isDisabled","displayName","styleClassIcon","click"],["id","options-search__reset",3,"isDisabled","title","displayName","styleClassIcon","click"],[1,"feature-search-settings-option__advanced-search",3,"title","matSvgIcon","click"]],template:function(e,t){1&e&&(n.Yb(0,"div",0),n.Sc(1,V,1,2,"sda-button-neutral",1),n.Sc(2,X,1,3,"sda-button-neutral",2),n.Sc(3,H,1,4,"sda-button-abort",3),n.Xb(),n.Yb(4,"div",4),n.Sc(5,Y,1,2,"sda-button-neutral",5),n.Yb(6,"sda-button-neutral",6),n.hc("click",(function(){return t.toggleFiltersMode()})),n.Xb(),n.Xb()),2&e&&(n.Eb(1),n.sc("ngIf",t.displayFTR),n.Eb(1),n.sc("ngIf",t.displayGroupToggle&&t.currentState===t.searchState.List),n.Eb(1),n.sc("ngIf",t.currentState===t.searchState.Filters),n.Eb(2),n.sc("ngIf",t.displayAdvancedSearchLink),n.Eb(1),n.Ib("feature-search-settings-option__filter--active",t.currentState===t.searchState.Filters)("feature-search-settings-option__filter--configured",!t.filtersDefault),n.sc("styleClassIcon","fa-filter")("isDisabled",t.disableFiltersButton)("displayName",t.SEARCH_PANEL_FILTER)("title",t.SEARCH_PANEL_FILTER_BUTTON_TITLE))},directives:[y.t,B.a,G.a],styles:['[_nghost-%COMP%]{display:flex;flex:1 0 auto;height:auto;padding:8px 10px;-webkit-user-select:none;-ms-user-select:none;user-select:none}.feature-search-settings-switches[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap}.feature-search-settings-option[_ngcontent-%COMP%]{display:flex;margin-left:auto}.feature-search-settings-option__advanced-search[_ngcontent-%COMP%]{position:relative}.feature-search-settings-option__advanced-search[_ngcontent-%COMP%]:not(:only-child):first-child{margin-right:20px}.feature-search-settings-option__advanced-search[_ngcontent-%COMP%]:not(:only-child):first-child:after{content:"";position:absolute;top:0;right:-10px;width:1px;height:36px;background-color:#ebedf0}.feature-search-settings-option__advanced-search[_ngcontent-%COMP%]     .button__mat-icon{width:22px;height:22px}.feature-search-settings-option__filter[_ngcontent-%COMP%]{margin-left:auto}.feature-search-settings-option__filter--configured[_ngcontent-%COMP%]     .button--white:not([disabled]){color:#fff;background-color:#007faa}.feature-search-settings-option__filter--configured[_ngcontent-%COMP%]     .button--white:not([disabled]):hover{background-color:#007faa}.feature-search-settings-option__filter--configured[_ngcontent-%COMP%]     .button:not([disabled]){color:#fff;background-color:#007faa}.feature-search-settings-option__filter--configured[_ngcontent-%COMP%]     .button:not([disabled]):hover{background-color:#006284}.feature-search-settings-option__filter--active[_ngcontent-%COMP%]     .button:not([disabled]){border:1px solid #0087c8}@media screen and (max-width:33.0625em){.feature-search-settings-option__filter[_ngcontent-%COMP%]     .button__name{display:none}}.feature-search-settings-option__icon[_ngcontent-%COMP%]{width:22px;height:22px}']}),e})();var W=i("LuMj"),z=i("3Pt+");function $(e,t){if(1&e){const e=n.Zb();n.Yb(0,"div",6),n.Yb(1,"sda-button-neutral",7),n.hc("click",(function(){return n.Kc(e),n.lc().disableFtrClicked()})),n.Xb(),n.Xb()}if(2&e){const e=n.lc();n.Eb(1),n.sc("displayName",e.SEARCH_PANEL_FULL_TEXT_SEARCH)("styleClassIcon","fa-toggle-on")}}let Q=(()=>{class e{constructor(e){this.sdaTranslateService=e,this.displayFTRToggle=!1,this.onStateChange=new n.o,this.disableFTR=new n.o,this.ftrState=4,this.SEARCH_PANEL_FULL_TEXT_SEARCH=this.sdaTranslateService.get("SEARCH_PANEL_FULL_TEXT_SEARCH","Full Text Search"),this.SEARCH_PANEL_FTR_FULL_LABEL=this.sdaTranslateService.get("SEARCH_PANEL_FTR_FULL_LABEL","Full"),this.SEARCH_PANEL_FTR_CONTENT_LABEL=this.sdaTranslateService.get("SEARCH_PANEL_FTR_CONTENT_LABEL","Content"),this.SEARCH_PANEL_FTR_PROPERTIES_LABEL=this.sdaTranslateService.get("SEARCH_PANEL_FTR_PROPERTIES_LABEL","Properties")}disableFtrClicked(){this.disableFTR.emit()}optionClicked(e){this.ftrState!==e&&(this.ftrState=e,this.onStateChange.emit(e))}}return e.\u0275fac=function(t){return new(t||e)(n.Sb(g.a))},e.\u0275cmp=n.Mb({type:e,selectors:[["sda-ftr-search-settings-bar"]],inputs:{displayFTRToggle:"displayFTRToggle"},outputs:{onStateChange:"onStateChange",disableFTR:"disableFTR"},decls:6,vars:7,consts:[["class","ftr-search-settings-bar-switches",4,"ngIf"],[1,"ftr-search-settings-bar-option"],[1,"ftr-search-settings-bar-option__options"],["name","ftr","value","4","inputId","opt1",3,"label","ngModel","ngModelChange"],["name","ftr","value","1","inputId","opt2",3,"label","ngModel","ngModelChange"],["name","ftr","value","0","inputId","opt3",3,"label","ngModel","ngModelChange"],[1,"ftr-search-settings-bar-switches"],[3,"displayName","styleClassIcon","click"]],template:function(e,t){1&e&&(n.Sc(0,$,2,2,"div",0),n.Yb(1,"div",1),n.Yb(2,"div",2),n.Yb(3,"p-radioButton",3),n.hc("ngModelChange",(function(e){return t.optionClicked(e)})),n.Xb(),n.Yb(4,"p-radioButton",4),n.hc("ngModelChange",(function(e){return t.optionClicked(e)})),n.Xb(),n.Yb(5,"p-radioButton",5),n.hc("ngModelChange",(function(e){return t.optionClicked(e)})),n.Xb(),n.Xb(),n.Xb()),2&e&&(n.sc("ngIf",t.displayFTRToggle),n.Eb(3),n.sc("label",t.SEARCH_PANEL_FTR_FULL_LABEL)("ngModel",t.ftrState),n.Eb(1),n.sc("label",t.SEARCH_PANEL_FTR_CONTENT_LABEL)("ngModel",t.ftrState),n.Eb(1),n.sc("label",t.SEARCH_PANEL_FTR_PROPERTIES_LABEL)("ngModel",t.ftrState))},directives:[y.t,W.a,z.p,z.s,B.a],styles:["[_nghost-%COMP%]{flex:1 0 auto;flex-wrap:wrap;justify-content:space-between;height:auto;padding:8px 10px;-webkit-user-select:none;-ms-user-select:none;user-select:none}.ftr-search-settings-bar-switches[_ngcontent-%COMP%], [_nghost-%COMP%]{display:flex}.ftr-search-settings-bar-option[_ngcontent-%COMP%]{display:flex;height:34px}.ftr-search-settings-bar-option__options[_ngcontent-%COMP%]{display:flex;align-items:center}.ftr-search-settings-bar-option__options[_ngcontent-%COMP%]   p-radiobutton[_ngcontent-%COMP%]{margin-left:10px}.ftr-search-settings-bar-option__options[_ngcontent-%COMP%]     .ui-radiobutton-label{color:#007faa;font-size:14px;font-weight:500!important;text-transform:uppercase}"]}),e})();function K(e,t){if(1&e&&n.Tb(0,"sda-search-selected-filters",6),2&e){const e=n.lc();n.sc("options",e.searchOptions)("filters",e.filters)}}function J(e,t){if(1&e){const e=n.Zb();n.Yb(0,"sda-list-search-view",11),n.hc("selectedPrimaryItemChange",(function(t){return n.Kc(e),n.lc(2).updateGroupListItem(t)}))("selectedSecondaryItemChange",(function(t){return n.Kc(e),n.lc(2).updateListItem(t)})),n.Xb()}if(2&e){const e=n.lc(2);n.sc("enableGroupedMode",e.groupModeActive&&!e.isFiltering)("searchListData",e.searchListData)("selectedPrimaryItem",e.selectedGroupListItem)("selectedSecondaryItem",e.selectedListItem)("noDataMessage",e.NO_RESULTS_FOUND)}}function Z(e,t){if(1&e){const e=n.Zb();n.Yb(0,"sda-filters-search-view",12),n.hc("searchOptionsChange",(function(t){return n.Kc(e),n.lc(2).searchOptionsUpdated(t)}))("searchFiltersChange",(function(t){return n.Kc(e),n.lc(2).searchFiltersUpdated(t)}))("filtersDefaultUpdate",(function(t){return n.Kc(e),n.lc(2).filtersDefault=t})),n.Xb()}if(2&e){const e=n.lc(2);n.sc("searchOptions",e.searchOptions)("searchFilters",e.filters)("resetTriggered",e.resetClicked)}}function ee(e,t){if(1&e){const e=n.Zb();n.Yb(0,"sda-peek-search-view",13),n.hc("onPeekItemSelected",(function(t){return n.Kc(e),n.lc(2).peekItemSelected(t)})),n.Xb()}if(2&e){const e=n.lc(2);n.sc("peekResults",e.peekResults)("allowMultipleConfigs",!1)("minimumPeekCharacters",e.minimumPeekCharacters)("searchTerm",e.searchTerm)("isLoading",e.isLoading)}}function te(e,t){if(1&e&&(n.Yb(0,"div",7),n.Sc(1,J,1,5,"sda-list-search-view",8),n.Sc(2,Z,1,3,"sda-filters-search-view",9),n.Sc(3,ee,1,5,"sda-peek-search-view",10),n.Xb()),2&e){const e=n.lc();n.sc("ngSwitch",e.currentState),n.Eb(1),n.sc("ngSwitchCase",e.searchState.List),n.Eb(1),n.sc("ngSwitchCase",e.searchState.Filters),n.Eb(1),n.sc("ngSwitchCase",e.searchState.Peek)}}function ie(e,t){if(1&e){const e=n.Zb();n.Yb(0,"sda-ftr-search-view",14),n.hc("onSelection",(function(t){return n.Kc(e),n.lc().performSearch(t)})),n.Xb()}if(2&e){const e=n.lc();n.sc("ftrPreviewResults",e.ftrPreviewResults)}}function ne(e,t){if(1&e){const e=n.Zb();n.Yb(0,"sda-feature-search-settings",15),n.hc("groupModeActiveChange",(function(t){return n.Kc(e),n.lc().groupModeActive=t}))("onFTRClicked",(function(){return n.Kc(e),n.lc().ftrToggleClicked()}))("onAdvancedClicked",(function(){return n.Kc(e),n.lc().advancedSearchClicked()}))("onFilterClicked",(function(){return n.Kc(e),n.lc().filterToggleClicked()}))("onResetClicked",(function(){return n.Kc(e),n.lc().resetClicked.emit()})),n.Xb()}if(2&e){const e=n.lc();n.sc("displayFTR",e.displayFTR)("filtersDefault",e.filtersDefault)("displayAdvancedSearchLink",e.displayAdvancedSearchLink)("displayGroupToggle",e.displayGroupToggle)("currentState",e.currentState)("isLoading",e.isLoading)("disableFiltersButton",e.disableFiltersButton)("groupModeActive",e.groupModeActive)}}function se(e,t){if(1&e){const e=n.Zb();n.Yb(0,"sda-ftr-search-settings-bar",16),n.hc("onStateChange",(function(t){return n.Kc(e),n.lc().ftrStateChange(t)}))("disableFTR",(function(){return n.Kc(e),n.lc().ftrToggleClicked()})),n.Xb()}2&e&&n.sc("displayFTRToggle",!0)}let ae=(()=>{class e extends C.a{constructor(e,t,i,s,a,o,r){super(t),this.router=e,this.sdaTranslateService=t,this.guidService=i,this.ftrService=s,this.exceptionService=a,this.featureSearchProvider=o,this.changeDetectorRef=r,this.displayFTR=!1,this.displayAdvancedSearchLink=!1,this.defaultGroupedListState=!0,this.searchFocused=!1,this.filters=[],this.setIsLoading=!1,this.isFtrMode=!1,this.onSearch=new n.o,this.searchFocusedChange=new n.o,this.selectedDataTypeChange=new n.o,this.isFtrModeChange=new n.o,this.searchState=f,this.ftrMode=!1,this.searchTerm="",this.searchOptions=[],this.chips=[],this.isLoading=!0,this.isInvalid=!0,this.focusSearchInput=new n.o,this.resetClicked=new n.o,this.groupModeActive=!0,this.displayGroupToggle=!0,this.filtersDefault=!0,this.displayFilterMode=!0,this.isFiltering=!1,this.disableFiltersButton=!0,this.ftrState=4,this.ftrPreviewResults=[],this.peekResults=[],this.peekCount=0,this.minimumPeekCharacters=3,this.minimumFTRPeekCharacters=1,this.NO_RESULTS_FOUND=this.sdaTranslateService.get("NO_RESULTS_FOUND","No results found"),this.SEARCH_BAR_PLACEHOLDER=this.sdaTranslateService.get("SEARCH_BAR_PLACEHOLDER","Search..."),this.LOADING_ELLIPSIS=this.sdaTranslateService.get("LOADING_ELLIPSIS","Loading..."),this.SEARCH_BY_FULL_TEXT=this.sdaTranslateService.get("SEARCH_BY_FULL_TEXT","Search by full text"),this.SEARCH_BAR_SEARCH_DATA_TYPES_PLACEHOLDER=this.sdaTranslateService.get("SEARCH_BAR_SEARCH_DATA_TYPES_PLACEHOLDER","Select or search for a data type..."),this.SEARCH_SELECT_A_FIELD=this.sdaTranslateService.get("SEARCH_SELECT_A_FIELD","Select a field to search by"),this.SEARCH_BAR_NO_FEATURE_SETS_PLACEHOLDER=this.sdaTranslateService.get("SEARCH_BAR_NO_FEATURE_SETS_PLACEHOLDER","No feature sets found"),this.FTR_STRING=this.sdaTranslateService.get("FTR","FTR"),this.SEARCH_NO_FIELDS_AVAILABLE=this.sdaTranslateService.get("SEARCH_NO_FIELDS_AVAILABLE","Cannot search, No fields to search by"),this.featureLoading=!0,this.minimumSearchCharacters=1,this.minRequiredSearchChars=3,this.maxRequiredSearchChars=10,this.changingDataType=!1,this.performLoading(!0)}ngOnInit(){this.performLoading(!1)}ngOnChanges(e){e.setIsLoading&&this.checkLoading(),(e.displayFTR||e.isFtrMode)&&this.setFtrMode(this.isFtrMode&&this.displayFTR),e.features?this.onFeaturesChange(this.features):e.selectedDataType&&this.selectedDataTypeUpdate(),(e.displayUseIsEqualTo||e.displayIncludeSharepoint)&&(this.searchOptions=this.addCommonSearchOptions(this.searchOptions,this.displayUseIsEqualTo,this.displayIncludeSharepoint),this.clearPeek(),this.checkFilterState()),e.filters&&this.searchFiltersUpdated(this.filters,!1),e.searchFocused&&setTimeout(()=>{this.setSearchInputFocus(),this.updatePlaceholderAndTooltip()})}ngOnDestroy(){this.featureSearchStream&&this.featureSearchStream.unsubscribe(),this.peekSearchStream&&this.peekSearchStream.unsubscribe(),this.ftrPreviewStream&&this.ftrPreviewStream.unsubscribe()}searchFocusUpdate(e){this.setSearchFocus(e),this.updatePlaceholderAndTooltip()}searchClicked(e){this.performSearch(e.searchTerm)}performSearch(e){this.updateSearchTerm(e),this.ftrMode?this.ftrSearch(e):this.search(e)}onSearchTermChange(e){this.updateSearchTerm(e),this.ftrMode?this.performFtrPeek():this.selectedDataType?this.performPeekSearch(e):this.featureSearchStream.next(e)}ftrStateChange(e){this.ftrState=e,this.performFtrPeek()}ftrToggleClicked(){this.setFtrMode(!this.ftrMode)}filterToggleClicked(){this.stateUpdate(f.Filters)}updateGroupListItem(e){this.selectedGroupListItem!==e&&(this.selectedGroupListItem=e,this.changeDetectorRef.detectChanges(),this.groupModeActive&&!this.isFiltering||this.updateChipsFromListItem(e))}updateListItem(e){this.selectedListItem!==e&&(this.previousListItem=Object(s.a)(this.selectedListItem),this.selectedListItem=e,this.changeDetectorRef.detectChanges(),this.groupModeActive&&this.updateChipsFromListItem(e))}searchInputClicked(){this.ftrMode?this.searchFocused||this.performFtrPeek():this.currentState===f.Peek?this.searchFocused||this.performPeekSearch(this.searchTerm):this.selectedDataType?this.showPeek():this.currentState!==f.List&&this.stateUpdate(f.List)}chipClicked(){this.searchFocused||(this.setSearchFocus(!0),this.changeDetectorRef.detectChanges()),this.currentState!==f.List&&this.chips[0].chipRemovable?this.stateUpdate(f.List):this.setSearchInputFocus()}chipDeleted(){this.updateSelectedDataType(void 0),this.updateSelectedChips([]),this.setSearchInputFocus()}searchFiltersUpdated(e,t=!0){t&&(this.filters=e.slice()),this.clearPeek(),this.updatePlaceholderAndTooltip(),this.checkFilterState(),this.checkSearchIsValid()}searchOptionsUpdated(e){this.searchOptions=Object(s.a)(e),this.clearPeek()}advancedSearchClicked(){this.setSearchFocus(!1)}peekItemSelected(e){this.search(e,!0)}search(e,t=!1){this.onSearch.emit(this.createSearchQuery(e,t)),this.setSearchFocus(!1)}showPeek(){this.changingDataType||this.currentState===f.Peek||this.stateUpdate(f.Peek)}performLoading(e){this.featureLoading=e,this.checkLoading()}checkLoading(){this.isLoading=this.featureLoading||this.setIsLoading,this.updatePlaceholderAndTooltip(),this.checkDisabledState()}checkDisabledState(){this.features&&this.features.length?this.isDisabled&&(this.isDisabled=!1,this.changeDetectorRef.detectChanges(),this.setSearchInputFocus()):(this.isLoading?this.disabledSearchPlaceholder=this.LOADING_ELLIPSIS:(this.setFtrMode(!1),this.disabledSearchPlaceholder=this.SEARCH_BAR_NO_FEATURE_SETS_PLACEHOLDER),this.isDisabled=!0)}checkFilterState(){this.disableFiltersButton=!this.selectedDataType||!this.filters.length&&!this.searchOptions.length,this.filtersDefault=Object(b.d)(this.searchOptions)&&Object(b.d)(this.filters)}setFtrMode(e){this.isFtrMode=e,this.ftrMode!==e&&(this.ftrMode=e,this.updateStreams(),this.setSearchInputFocus())}setSearchFocus(e){this.searchFocused!==e&&(this.searchFocused=e,this.searchFocusedChange.emit(e))}setSearchInputFocus(){this.searchFocused&&this.focusSearchInput.emit()}onFeaturesChange(e){this.selectedListItem=void 0,this.selectedGroupListItem=void 0,this.searchListData=e,this.singleDataTypeOnly=!1,this.minimumPeekCharacters=3;const t=!!this.searchListData&&this.searchListData[0]instanceof _.a;let i;e&&1===e.length&&(t?1===e[0].childFlatList.length&&(i=e[0].childFlatList[0],this.singleDataTypeOnly=!0):(i=e[0],this.singleDataTypeOnly=!0)),this.displayGroupToggle=!this.singleDataTypeOnly&&t,this.groupModeActive=t&&this.defaultGroupedListState,this.checkDisabledState(),i&&(this.selectedDataType=i),this.selectedDataTypeUpdate(!1),this.selectedDataType?(this.isFiltering=!1,this.displayFilterMode=!1,this.stateUpdate(f.Peek,this.currentState!==f.Peek)):this.stateUpdate(f.List,this.currentState!==f.List),this.checkSearchIsValid()}selectedDataTypeUpdate(e=!0){if(this.selectedDataType&&this.selectedDataType!==this.selectedListItem)if(this.features[0]instanceof _.a&&this.groupModeActive&&!this.isFiltering){const e=this.features.find(e=>e.id===this.selectedDataType.parentGroupId);e?(this.selectedGroupListItem=new _.b(e.id,e.displayName,e.orderValue),this.selectedListItem=this.selectedDataType):(this.selectedGroupListItem=void 0,this.selectedListItem=void 0,this.selectedDataType=void 0)}else this.selectedGroupListItem!==this.selectedDataType&&(this.selectedGroupListItem=this.selectedDataType);this.updateChipsFromListItem(this.selectedDataType,e,!this.singleDataTypeOnly),this.checkFilterState(),this.checkEqualToState()}checkEqualToState(){if(this.selectedDataType){const e=this.searchOptions,t=Object(b.a)(e,new v.a(m.a.EQUAL_TO,this.sdaTranslateService.get("SEARCH_EQUAL_TO_OPERATOR","Use 'Is equal to' Operator"),void 0!==this.selectedDataType&&this.selectedDataType.equalToSearchByDefault,!(void 0===this.selectedDataType||!this.selectedDataType.equalToSearchByDefault)),!0,!1);this.searchOptionsUpdated(t)}}updatePlaceholderAndTooltip(){this.isLoading?(this.searchPlaceholder=this.LOADING_ELLIPSIS,this.searchTooltip=this.searchPlaceholder):this.ftrMode?(this.searchPlaceholder=this.SEARCH_BY_FULL_TEXT,this.searchTooltip=this.searchPlaceholder):this.selectedDataType?(this.searchPlaceholder=this.sdaTranslateService.getFormatted("SEARCH_BAR_SEARCH_BY_PLACEHOLDER","Search {0}...",[this.selectedDataType.displayName]),this.searchTooltip=this.getSearchFilterTooltip()):this.searchFocused?(this.searchPlaceholder=this.SEARCH_BAR_SEARCH_DATA_TYPES_PLACEHOLDER,this.searchTooltip=this.searchPlaceholder):(this.searchPlaceholder=this.SEARCH_BAR_PLACEHOLDER,this.searchTooltip=this.searchPlaceholder)}getSearchFilterTooltip(){let e;if(this.filters&&this.filters.length){const t=this.getSelectedFromFilterArray(this.filters);if(t.length)if(1===t.length)e=this.sdaTranslateService.getFormatted("SEARCH_BY_FIELD-NAME","Search by field: {0}",[t[0].displayName]);else{let i="";t.forEach(e=>{i+=e.displayName+", "}),i=i.slice(0,-2),e=this.sdaTranslateService.getFormatted("SEARCH_BY_FIELDS-NAMES","Search by fields: {0}",[i])}else e=this.SEARCH_SELECT_A_FIELD}else e=this.SEARCH_NO_FIELDS_AVAILABLE;return e}updateChipsFromListItem(e,t=!0,i=!0){this.updateSelectedDataType(e);const n=[];e&&(this.disableFilteringMode(),n.push(new S.a(e.id,e.displayName,e.params,i)),this.setSearchInputFocus()),this.updateSelectedChips(n,t)}updateSelectedDataType(e){this.clearPeek(),this.selectedDataType=e,this.changingDataType=!0,this.updatePeekCount(e),setTimeout(()=>{this.selectedDataTypeChange.emit(e),this.changingDataType=!1})}updatePeekCount(e){e&&e.peekCount&&this.checkForBounds(e.peekCount,this.minRequiredSearchChars,this.maxRequiredSearchChars)?(this.minimumPeekCharacters=e.peekCount,this.minimumSearchCharacters=e.peekCount):(this.minimumPeekCharacters=3,this.minimumSearchCharacters=1)}checkForBounds(e,t,i){return e>t&&e<i}updateSelectedChips(e,t=!0){this.chips=e,t&&this.stateUpdate(f.List,this.currentState!==f.List),this.checkSearchIsValid()}createSearchQuery(e=this.searchTerm,t=!1){const i=new O.a(e);return i.activeChips=[new S.a(this.selectedDataType.id,this.selectedDataType.displayName,this.selectedDataType.params)],i.selectedOptions=this.getSelectedFromFilterArray(this.searchOptions),i.selectedFilters=t?this.getPeekResultFilters(this.filters,this.peekResultFilter):this.getSelectedFromFilterArray(this.filters),i.isPeekSelectionSearch=t,i}stateUpdate(e,t=!0){if(t){const t=this.previousState;this.previousState=this.currentState,this.currentState=e!==this.currentState?e:t,this.setSearchInputFocus()}this.updateStreams()}updateStreams(){this.ftrMode?(this.isFtrModeChange.emit(!0),this.chips=[new S.a("ftrChip",this.FTR_STRING,void 0,!1)],this.setupFtrSearchStream()):(this.ftrPreviewStream&&!this.ftrPreviewStream.isStopped&&(this.ftrPreviewStream.unsubscribe(),this.isFtrModeChange.emit(!1),this.chips=[],this.selectedDataType&&this.chips.push(new S.a(this.selectedDataType.id,this.selectedDataType.displayName,this.selectedDataType.params,!this.singleDataTypeOnly))),this.selectedDataType?!this.peekSearchStream||this.peekSearchStream.isStopped?this.setupPeekSearchStream():this.currentState===f.Peek&&this.performPeekSearch(this.searchTerm):this.setupFeatureSearchStream()),this.isLoading||this.updatePlaceholderAndTooltip()}setupFtrSearchStream(){this.ftrPreviewStream&&!this.ftrPreviewStream.isStopped||(this.destroyFeatureStream(),this.peekSearchStream&&this.peekSearchStream.unsubscribe(),this.clearPeek(),this.updateSearchTerm(""),this.ftrPreviewResults=[],this.ftrPreviewStream=new a.a,this.ftrPreviewStream.pipe(Object(r.a)(this.peekDebounce),Object(c.a)(e=>this.handleFTRPreviewTerm(e))).subscribe(e=>{this.handleFTRResults(e)}))}setupFeatureSearchStream(){this.featureSearchStream&&!this.featureSearchStream.isStopped||(this.displayFilterMode=!0,this.peekSearchStream&&this.peekSearchStream.unsubscribe(),this.clearPeek(),this.updateSearchTerm(""),this.selectedListItem=void 0,this.selectedGroupListItem=void 0,this.changeDetectorRef.detectChanges(),this.featureSearchStream=new a.a,this.featureSearchStream.pipe(Object(l.a)(),Object(c.a)(e=>this.featureStreamFunction(e))).subscribe(e=>{this.handleFeatureStreamResults(e)}))}setupPeekSearchStream(){this.destroyFeatureStream(),this.updateSearchTerm("*"),this.peekSearchStream=new a.a,this.peekSearchStream.pipe(Object(r.a)(this.peekDebounce),Object(c.a)(e=>(this.performLoading(!0),this.peekFunction(e).pipe(Object(d.a)(e=>(this.exceptionService.handleException(e),Object(o.a)(void 0))))))).subscribe(e=>{e?(this.peekResults=e.results?e.results:[],this.peekCount=e.totalCount?e.totalCount:0):this.clearPeek(),this.performLoading(!1),this.showPeek()})}peekFunction(e){return e.searchTerm.length>=this.minimumPeekCharacters?this.featureSearchProvider.oDataPeekFunction(e):Object(o.a)(void 0)}destroyFeatureStream(){this.featureSearchStream&&(this.displayFilterMode=!1,this.disableFilteringMode(),this.featureSearchStream.unsubscribe())}featureStreamFunction(e){let t=new Array;return e&&this.features&&(e=e.toLowerCase(),this.features[0]instanceof _.a?this.features.forEach(i=>{t=t.concat(this.filterListItems(e,i.childFlatList))}):t=this.filterListItems(e,this.features)),Object(o.a)(t)}filterListItems(e,t){const i=new Array;return t.forEach(t=>{(t.displayName&&t.displayName.toLowerCase().includes(e)||t.parentGroupDisplayName&&t.parentGroupDisplayName.toLowerCase().includes(e))&&i.push(t)}),i}handleFeatureStreamResults(e){e.length?(this.isFiltering=!0,this.searchListData=e):this.searchTerm?(this.isFiltering=!0,this.searchListData=[]):this.disableFilteringMode()}disableFilteringMode(){this.isFiltering&&(this.isFiltering=!1,this.searchListData=this.features)}performFtrPeek(){this.isLoading||this.searchTerm.length>=this.minimumFTRPeekCharacters?(this.performLoading(!0),this.ftrPreviewStream.next(this.searchTerm)):this.ftrPreviewResults=[]}performPeekSearch(e){const t=this.minimumPeekCharacters>this.minRequiredSearchChars,i="*".repeat(e.length)===e;if(this.isLoading||e.length>=this.minimumPeekCharacters){if(t&&(this.isInvalid=i||e.length<this.minimumPeekCharacters,i))return;this.performLoading(!0),this.peekSearchStream.next(this.createSearchQuery())}else if(this.clearPeek(),this.showPeek(),t)return void(this.isInvalid=!0)}ftrSearch(e){this.setSearchFocus(!1),this.router.navigate(["/ftr",{searchParam:e,ftrOption:this.ftrState}]).then(t=>{t||this.router.navigate(["/ftr",{searchParam:e,ftrOption:this.ftrState,id:this.guidService.getGuid()}],{replaceUrl:!0})})}handleFTRPreviewTerm(e){return(e=e?e.replace(/\*/g,"").replace(/\s/g,""):void 0)&&e.length>=this.minimumFTRPeekCharacters?this.ftrService.getSearchPreview(e).pipe(Object(d.a)(e=>(this.exceptionService.handleException(e),Object(o.a)([])))):Object(o.a)([])}handleFTRResults(e){let t=e.map(e=>new _.b(e));t.length>8&&(t=t.slice(0,8)),this.ftrPreviewResults=t,this.performLoading(!1)}updateSearchTerm(e){this.searchTerm!==e&&(this.clearPeek(),this.searchTerm=e),this.checkSearchIsValid()}checkSearchIsValid(){this.ftrMode?this.ftrSearchValidation():this.normalSearchValidation()}ftrSearchValidation(){this.isInvalid=!this.searchTerm||this.searchTerm.length<this.minimumSearchCharacters}normalSearchValidation(){this.isInvalid=!this.selectedDataType||this.searchTerm.length<this.minimumSearchCharacters||!this.getSelectedFromFilterArray(this.filters).length}clearPeek(){this.peekCount=0,this.peekResults=[]}}return e.\u0275fac=function(t){return new(t||e)(n.Sb(T.g),n.Sb(g.a),n.Sb(p.a),n.Sb(h.a),n.Sb(u.a),n.Sb(I.a),n.Sb(n.h))},e.\u0275cmp=n.Mb({type:e,selectors:[["sda-feature-search"]],inputs:{displayFTR:"displayFTR",displayAdvancedSearchLink:"displayAdvancedSearchLink",displayUseIsEqualTo:"displayUseIsEqualTo",displayIncludeSharepoint:"displayIncludeSharepoint",defaultGroupedListState:"defaultGroupedListState",searchFocused:"searchFocused",features:"features",selectedDataType:"selectedDataType",filters:"filters",peekResultFilter:"peekResultFilter",setIsLoading:"setIsLoading",isFtrMode:"isFtrMode"},outputs:{onSearch:"onSearch",searchFocusedChange:"searchFocusedChange",selectedDataTypeChange:"selectedDataTypeChange",isFtrModeChange:"isFtrModeChange"},features:[n.Bb,n.Cb],decls:6,vars:17,consts:[[3,"useFilterMode","searchTerm","chips","peekCount","placeholder","disabledPlaceholder","tooltip","isDisabled","isInvalid","isLoading","focusSearchInput","searchFocused","searchFocusedChange","onSearch","searchTermChange","onChipClicked","searchInputClicked","chipsChange"],["searchContentTopbar","",3,"options","filters",4,"ngIf"],["searchPanel","",3,"ngSwitch",4,"ngIf"],["searchPanel","","class","form__component",3,"ftrPreviewResults","onSelection",4,"ngIf"],["searchSettingsBar","",3,"displayFTR","filtersDefault","displayAdvancedSearchLink","displayGroupToggle","currentState","isLoading","disableFiltersButton","groupModeActive","groupModeActiveChange","onFTRClicked","onAdvancedClicked","onFilterClicked","onResetClicked",4,"ngIf"],["searchSettingsBar","",3,"displayFTRToggle","onStateChange","disableFTR",4,"ngIf"],["searchContentTopbar","",3,"options","filters"],["searchPanel","",3,"ngSwitch"],[3,"enableGroupedMode","searchListData","selectedPrimaryItem","selectedSecondaryItem","noDataMessage","selectedPrimaryItemChange","selectedSecondaryItemChange",4,"ngSwitchCase"],[3,"searchOptions","searchFilters","resetTriggered","searchOptionsChange","searchFiltersChange","filtersDefaultUpdate",4,"ngSwitchCase"],[3,"peekResults","allowMultipleConfigs","minimumPeekCharacters","searchTerm","isLoading","onPeekItemSelected",4,"ngSwitchCase"],[3,"enableGroupedMode","searchListData","selectedPrimaryItem","selectedSecondaryItem","noDataMessage","selectedPrimaryItemChange","selectedSecondaryItemChange"],[3,"searchOptions","searchFilters","resetTriggered","searchOptionsChange","searchFiltersChange","filtersDefaultUpdate"],[3,"peekResults","allowMultipleConfigs","minimumPeekCharacters","searchTerm","isLoading","onPeekItemSelected"],["searchPanel","",1,"form__component",3,"ftrPreviewResults","onSelection"],["searchSettingsBar","",3,"displayFTR","filtersDefault","displayAdvancedSearchLink","displayGroupToggle","currentState","isLoading","disableFiltersButton","groupModeActive","groupModeActiveChange","onFTRClicked","onAdvancedClicked","onFilterClicked","onResetClicked"],["searchSettingsBar","",3,"displayFTRToggle","onStateChange","disableFTR"]],template:function(e,t){1&e&&(n.Yb(0,"sda-searchbar-with-panel",0),n.hc("searchFocusedChange",(function(e){return t.searchFocusUpdate(e)}))("onSearch",(function(e){return t.searchClicked(e)}))("searchTermChange",(function(e){return t.onSearchTermChange(e)}))("onChipClicked",(function(){return t.chipClicked()}))("searchInputClicked",(function(){return t.searchInputClicked()}))("chipsChange",(function(){return t.chipDeleted()})),n.Sc(1,K,1,2,"sda-search-selected-filters",1),n.Sc(2,te,4,4,"div",2),n.Sc(3,ie,1,1,"sda-ftr-search-view",3),n.Sc(4,ne,1,8,"sda-feature-search-settings",4),n.Sc(5,se,1,1,"sda-ftr-search-settings-bar",5),n.Xb()),2&e&&(n.sc("useFilterMode",t.displayFilterMode)("searchTerm",t.searchTerm)("chips",t.chips)("peekCount",t.peekCount)("placeholder",t.searchPlaceholder)("disabledPlaceholder",t.disabledSearchPlaceholder)("tooltip",t.searchTooltip)("isDisabled",t.isDisabled)("isInvalid",t.isInvalid)("isLoading",t.isLoading)("focusSearchInput",t.focusSearchInput)("searchFocused",t.searchFocused),n.Eb(1),n.sc("ngIf",!t.ftrMode),n.Eb(1),n.sc("ngIf",!t.ftrMode),n.Eb(1),n.sc("ngIf",t.ftrMode),n.Eb(1),n.sc("ngIf",!t.ftrMode),n.Eb(1),n.sc("ngIf",t.ftrMode))},directives:[E.a,y.t,P.a,y.x,y.y,N,R.a,L.a,j,q,Q],encapsulation:2}),e})()},XpAN:function(e,t,i){"use strict";i.d(t,"a",(function(){return o}));var n=i("fXoL"),s=i("NFeN"),a=i("jhN1");let o=(()=>{class e{constructor(e,t){this.matIconRegistry=e,this.domSanitizer=t,this.images=[],this.icons=[]}registerImages(e){this.images=e.Images.map(e=>e.replace(/\\+/g,"/")),this.registerSVGIcons(e.Icons)}fallbackToVersionIcon(e){return e.replace(/\w.+?DocumentRevision/,"SPFDocumentVersion").replace(/\w.+?DocumentMaster/,"SPFDocumentVersion")}getIconName(e){let t=this.fallbackToVersionIcon(e);return this.images.some(e=>e.includes(t))||(t="default"),t}registerSVGIcons(e){this.icons=e.map(e=>(e.FullPath=e.FullPath.replace(/\\+/g,"/"),e)),e.forEach(e=>{this.matIconRegistry.addSvgIcon(e.Alias,this.domSanitizer.bypassSecurityTrustResourceUrl(e.FullPath))})}}return e.\u0275fac=function(t){return new(t||e)(n.dc(s.c),n.dc(a.b))},e.\u0275prov=n.Ob({token:e,factory:e.\u0275fac}),e})()},XwBL:function(e,t,i){"use strict";i.d(t,"a",(function(){return n}));class n{static encodeBrackets(e){return void 0!==e?e.replace(/\(/g,"%28").replace(/\)/g,"%29"):void 0}static decodeBrackets(e){return void 0!==e?e.replace(/%28/g,"(").replace(/%29/g,")"):void 0}static replaceUnderscore(e){return e?e.replace(/_/g," "):void 0}static replaceSpace(e){return e?e.replace(/ /g,"_"):e}static encodeSpecialCharactersToUnicode(e){let t=e;const i=t.match(/[!"\xa3$%^&*()_\-+=\xac`|\\<,.>/?;:@#~\[\]{}+\xa6']/g);return i&&i.length&&i.forEach(e=>{t=t.replace(e,"000x"+e.charCodeAt(0).toString())}),t}}},Xys1:function(e,t,i){"use strict";i.d(t,"a",(function(){return l}));var n=i("ofXK"),s=i("NFeN"),a=i("bv9b"),o=i("8yBR"),r=i("69YF"),c=i("fXoL");let l=(()=>{class e{}return e.\u0275mod=c.Qb({type:e}),e.\u0275inj=c.Pb({factory:function(t){return new(t||e)},imports:[[n.c,o.e,s.b,a.b,r.a]]}),e})()},Y9Bn:function(e,t,i){"use strict";i.d(t,"a",(function(){return g}));var n=i("tyNb"),s=i("2Vo4"),a=i("XNiG"),o=i("pLZG"),r=i("Kj3r"),c=i("IzEk"),l=i("HLw3"),d=i("A3La"),h=i("YsXg"),u=i("ONOH"),p=i("fXoL");let g=(()=>{class e{constructor(e,t,i,c,l){this.router=e,this.configService=t,this.urlFilterFactory=i,this.odataService=c,this.batchRequestFactory=l,this.notificationsSubscription=new s.a([]),this.deleteNotificationSubscription=new a.a,this.reloadingSubscription=new a.a,this.readSubscription=new a.a,this.lastUpdated=0,this.notifications=[],this.serverNotificationCount=0,this.router.events.pipe(Object(o.a)(e=>e instanceof n.d),Object(r.a)(2e3)).subscribe(()=>{this.getNotifications(Settings.application.defaultPageSize,0)})}getNotifications(e,t){this.reloadingSubscription.next(!0);const i=localStorage.getItem("lastReadAt")||"0",n=parseInt(i,10);let s="User/Notifications?";const a={$select:"OBID,Name,Description,CreationDate,SPFContextObjectOBID",$top:e,$skip:t,$count:!0,$orderby:"CreationDate+desc"};for(const o in a)Object.prototype.hasOwnProperty.call(a,o)&&(s+=`&${o}=${a[o]}`);this.odataService.get(s,void 0,!0).pipe(Object(c.a)(1)).subscribe(e=>{this.serverNotificationCount=e.count;const t=e.value.map(e=>{const t=this.getNotificationInfo(e);return e.Timestamp=new Date(e.CreationDate).getTime(),e.tag=t.tag,e.fileType=t.fileType,e.isTemplateSelected=t.isTemplateSelected,e.OriginalName=e.Name,e.Name=t.name,e.hasContext=!!e.SPFContextObjectOBID&&"terminated"!==e.tag,n-e.Timestamp<5e3&&(e.isNew=!0),e});this.notifications=t,this.notifications.sort(this.sortNotifications),this.reloadingSubscription.next(!1),this.notificationsSubscription.next(this.notifications)})}getUnreadCount(e){const t=localStorage.getItem("lastReadAt")||"0",i=parseInt(t,10);return e.filter(e=>e.Timestamp>i).length}markAsRead(){localStorage.setItem("lastReadAt",Date.now().toString()),this.readSubscription.next(!0)}openObject(e){const t=this.urlFilterFactory.createLinkFilterSettings(e),i=JSON.stringify(this.configService.selectedQueryConfigs);this.router.navigate(["/objects",{queryFilter:JSON.stringify(t),config:i},"detail",e])}openNotification(e){this.openObject(e.OBID)}openNotificationContext(e){e.SPFContextObjectOBID&&this.openObject(e.SPFContextObjectOBID)}deleteNotifications(e){const t=this.batchRequestFactory.createBatchRequest(),i=t.createChangeset();return e.forEach(e=>{i.addDeleteObjectRequest(e)}),t.addChangeset(i),t.execute()}removeNotifications(e){this.serverNotificationCount-=e.length,this.notifications=this.notifications.filter(t=>!(e.indexOf(t.OBID)>-1)),this.notificationsSubscription.next(this.notifications),this.deleteNotificationSubscription.next(e)}sortNotifications(e,t){return["-Timestamp","OriginalName"].map(i=>{const n="-"===i[0]?-1:1;return i=i.replace(/-/g,""),e[i]>t[i]?n:e[i]<t[i]?-n:0}).reduce((e,t)=>e||t,0)}DownloadFileObjectFromNotification(e){return this.odataService.post("GetReportFileUrlFromNotification?pstrNotificationOBID='"+e.OBID+"'","")}getNotificationInfo(e){const t={updated:"Updated: ",terminated:"Terminated: ",copied:"Copied: ",created:"Created: "};let i="",n=e.Name,s="",a=!1;for(const o in t)Object.prototype.hasOwnProperty.call(t,o)&&new RegExp(t[o],"g").test(e.Name)&&(i=o,n=n.replace(t[o],""));return["EXCEL","EXCELOPENXML","CSV","CSVREPEATED","LISTVIEW"].forEach(t=>{new RegExp(t,"g").test(e.Description)&&(s=t)}),["template"].forEach(t=>{new RegExp(t,"g").test(e.Description)&&(a=!0)}),{name:n,tag:i,fileType:s,isTemplateSelected:a}}}return e.\u0275fac=function(t){return new(t||e)(p.dc(n.g),p.dc(u.a),p.dc(h.a),p.dc(d.a),p.dc(l.a))},e.\u0275prov=p.Ob({token:e,factory:e.\u0275fac}),e})()},"YQ+9":function(e,t,i){"use strict";i.d(t,"a",(function(){return s}));var n=i("fXoL");let s=(()=>{class e{constructor(){this.filterChecks={type:{reports:e=>!e.SPFContextObjectOBID,subscriptions:e=>!!e.SPFContextObjectOBID},reports:{csv:e=>!!e.fileType&&"csv"===e.fileType.toLowerCase(),csvrepeated:e=>!!e.fileType&&"csvrepeated"===e.fileType.toLowerCase(),excel:e=>!!e.fileType&&"excel"===e.fileType.toLowerCase(),listview:e=>!!e.fileType&&"listview"===e.fileType.toLowerCase()},subscriptions:{created:e=>!!e.tag&&"created"===e.tag,copied:e=>!!e.tag&&"copied"===e.tag,updated:e=>!!e.tag&&"updated"===e.tag,terminated:e=>!!e.tag&&"terminated"===e.tag}}}filter(e,t){return e?t.filter(t=>t.Name.includes(e)||t.Description.includes(e)):t}refine(e,t){return e?t.filter(t=>{let i=!0;const n=this.filterChecks.type;for(const s in n)if(Object.prototype.hasOwnProperty.call(n,s)&&n[s](t)){if(!e.type[s]){i=!1;break}const n=e[s];for(const a in n)if(Object.prototype.hasOwnProperty.call(n,a)&&this.filterChecks[s][a](t)&&!e[s][a]){i=!1;break}}return i}):t}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=n.Ob({token:e,factory:e.\u0275fac}),e})()},Yiju:function(e,t,i){"use strict";i.d(t,"a",(function(){return s}));var n=i("fXoL");let s=(()=>{class e{getItem(e){return localStorage.getItem(e)}setItem(e,t){localStorage.setItem(e,t)}removeItem(e){localStorage.removeItem(e)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=n.Ob({token:e,factory:e.\u0275fac}),e})()},YkmU:function(e,t,i){"use strict";i.d(t,"a",(function(){return u}));var n=i("fXoL"),s=i("IzEk"),a=i("ONOH"),o=i("PK7q"),r=i("n01O"),c=i("Ejbi"),l=i("JSP6"),d=i("Qi+w"),h=i("JQef");let u=(()=>{class e{constructor(e,t,i,s){this.pinsMenuService=e,this.pinsHelperService=t,this.sdaTranslateService=i,this.configService=s,this.pinToGroupMode=!0,this.iconOnlyMode=!1,this.hideIcon=!1,this.showCreateListButton=!0,this.displayCounts=!1,this.syncSelectedGroupWithMenu=!0,this.isDisabled=!1,this.selectedGroupChanged=new n.o,this.selectionBoxItems=[],this.NEW_LIST=this.sdaTranslateService.get("NEW_LIST","New List"),this.PIN_TO_NEW_LIST=this.sdaTranslateService.get("PIN_TO_NEW_LIST","Add to a new pins list"),this.PIN_TO_NEW_LIST_DISABLED=this.sdaTranslateService.get("PIN_TO_NEW_LIST_DISABLED","Pins Lists can only be created using data from the current create scope and above"),this.pinGroups=[],this.initialised=!1,this.pinGroups=this.pinsMenuService.allPinGroupsValues.concat(),this.addPinsFunction=e=>this.selectGroup(e),this.createListButton=new o.a(()=>this.createNewListModal(),{displayName:this.NEW_LIST,tooltip:this.PIN_TO_NEW_LIST_DISABLED,disabled:!0}),this.pinGroupChangesSubscription=this.pinsMenuService.pinGroupsChanges$.subscribe(e=>{this.pinGroups=e||[],this.setSelectionBoxItems()})}ngOnInit(){this.setSelectionBoxItems(),this.setupSelectedGroupSub()}ngOnChanges(e){this.initialised&&((e.itemsToPin||e.configFilterOverride)&&this.setSelectionBoxItems(),e.selectedGroup&&e.selectedGroup.currentValue!==e.selectedGroup.previousValue&&this.updateSelectedItem(this.selectionBoxItems.find(e=>e.id===this.selectedGroup),!1,!0),e.syncSelectedGroupWithMenu&&e.syncSelectedGroupWithMenu.currentValue!==e.syncSelectedGroupWithMenu.previousValue&&this.setupSelectedGroupSub()),e.showCreateListButton&&this.updateCreateButtonVisibility()}ngOnDestroy(){this.pinGroupChangesSubscription&&this.pinGroupChangesSubscription.unsubscribe(),this.unsubscribeSelectedGroupSub()}selectGroup(e){this.updateSelectedItem(e,!0,!0),e&&this.pinToGroupMode&&this.itemsToPin&&this.itemsToPin.length&&this.pinsMenuService.pinToPinGroup(this.itemsToPin,e.id,!0)}updateSelectedItem(e,t=!0,i=!1){this.selectedGroup=e?e.id:void 0,this.selectedQuickSelectGroup=e,t&&this.selectedGroupChanged.emit(this.selectedGroup),i&&this.syncSelectedGroupWithMenu&&this.selectedGroup!==this.pinsMenuService.selectedPinGroupObid&&(this.pinsMenuService.selectedPinGroupObid=this.selectedGroup)}setSelectionBoxItems(){let e;this.initialised=!0,e=this.configFilterOverride?this.pinsHelperService.filterPinGroupsBySpecificConfigs(this.pinGroups,[this.configFilterOverride]):this.pinsHelperService.filterPinGroupsByObjectItemConfigs(this.pinGroups,this.itemsToPin),this.selectionBoxItems=this.convertToQuickSelectItem(e),this.updateCreateButtonVisibility(),this.selectionBoxItems.length?this.updateSelectedItemToItem(e):this.updateSelectedItem(void 0,!this.pinToGroupMode)}updateCreateButtonVisibility(){this.showCreateListButton?(this.createListButton.disabled=this.configFilterOverride?!this.configService.areConfigsAllCreateRelated([this.configFilterOverride]):!this.itemsToPin||!this.pinsHelperService.checkPinsAreRelatedToCreateConfig(this.itemsToPin),this.createListButton.tooltip=this.createListButton.disabled?this.PIN_TO_NEW_LIST_DISABLED:this.PIN_TO_NEW_LIST,this.displayedCreateListButton=this.createListButton):this.displayedCreateListButton=void 0}convertToQuickSelectItem(e){return e.map(e=>{const t=new r.a(e.obid,e.name);return t.secondaryText=e.configName,t.tooltip=this.pinToGroupMode?this.sdaTranslateService.getFormatted("PIN_TO","Pin to {0}",[e.name]):e.name,t.secondaryText&&(t.tooltip+="\n"+t.secondaryText),t.badgeCount=this.displayCounts&&1===this.configService.selectedQueryConfigs.length?e.pinsCount:void 0,t.isDefaultItem=e.isOriginalPinboardGroup,t})}updateSelectedItemToItem(e){let t=this.selectedGroup?this.selectionBoxItems.find(e=>e.id===this.selectedGroup):void 0;if(t)this.updateSelectedItem(t,!this.pinToGroupMode);else{const i=e.find(e=>e.selected);t=this.selectionBoxItems.find(i?e=>e.id===i.obid:e=>e.id===this.pinsMenuService.selectedPinGroupObid),this.updateSelectedItem(t||this.selectionBoxItems[0],!this.pinToGroupMode)}}createNewListModal(){this.pinsHelperService.createNewListModal(this.itemsToPin,this.configFilterOverride).pipe(Object(s.a)(1)).subscribe(e=>{const t=this.selectionBoxItems.find(t=>t.id===e);t&&this.updateSelectedItem(t,!1),this.selectedGroupChanged.emit(e)})}setupSelectedGroupSub(){this.syncSelectedGroupWithMenu?this.selectedPinGroupChangesSubscription=this.pinsMenuService.selectedPinGroupChanges$.subscribe(e=>{this.updateSelectedItem(this.selectionBoxItems.find(t=>t.id===e.obid),!1)}):this.unsubscribeSelectedGroupSub()}unsubscribeSelectedGroupSub(){this.selectedPinGroupChangesSubscription&&this.selectedPinGroupChangesSubscription.unsubscribe()}}return e.\u0275fac=function(t){return new(t||e)(n.Sb(d.a),n.Sb(l.a),n.Sb(c.a),n.Sb(a.a))},e.\u0275cmp=n.Mb({type:e,selectors:[["sda-pins-group-selector"]],inputs:{pinToGroupMode:"pinToGroupMode",itemsToPin:"itemsToPin",iconOnlyMode:"iconOnlyMode",hideIcon:"hideIcon",showCreateListButton:"showCreateListButton",displayCounts:"displayCounts",syncSelectedGroupWithMenu:"syncSelectedGroupWithMenu",isDisabled:"isDisabled",configFilterOverride:"configFilterOverride",selectedGroup:"selectedGroup",fixedWidth:"fixedWidth"},outputs:{selectedGroupChanged:"selectedGroupChanged"},features:[n.Cb],decls:1,vars:8,consts:[[3,"dropdownIcon","iconOnly","splitFunction","items","selectedItem","bottomButton","isDisabled","fixedWidth","itemSelected"]],template:function(e,t){1&e&&(n.Yb(0,"sda-quick-select",0),n.hc("itemSelected",(function(e){return t.selectGroup(e)})),n.Xb()),2&e&&n.sc("dropdownIcon",t.hideIcon?void 0:"pin")("iconOnly",t.iconOnlyMode)("splitFunction",t.pinToGroupMode?t.addPinsFunction:void 0)("items",t.selectionBoxItems)("selectedItem",t.selectedQuickSelectGroup)("bottomButton",t.displayedCreateListButton)("isDisabled",t.isDisabled)("fixedWidth",t.fixedWidth)},directives:[h.a],styles:["[_nghost-%COMP%]{display:flex;align-items:center}"]}),e})()},YlGB:function(e,t,i){"use strict";i.d(t,"a",(function(){return a}));var n=i("XNiG"),s=i("fXoL");let a=(()=>{class e{constructor(){this.configTreeValuesSubject=new n.a}get configTreeValuesChanged$(){return this.configTreeValuesSubject.asObservable()}updateSelectedConfigs(e){this.configTreeValuesSubject.next(e)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=s.Ob({token:e,factory:e.\u0275fac}),e})()},YsCO:function(e,t,i){"use strict";i.d(t,"a",(function(){return g}));var n=i("vxfF"),s=i("ofXK"),a=i("l3mi"),o=i("83Gb"),r=i("vFAW"),c=i("UqQ1"),l=i("+L4j"),d=i("fXoL");let h=(()=>{class e{}return e.\u0275mod=d.Qb({type:e}),e.\u0275inj=d.Pb({factory:function(t){return new(t||e)},imports:[[s.c,c.a,l.a]]}),e})(),u=(()=>{class e{}return e.\u0275mod=d.Qb({type:e}),e.\u0275inj=d.Pb({factory:function(t){return new(t||e)},imports:[[s.c,r.a,h,o.a]]}),e})();var p=i("9NXz");let g=(()=>{class e{}return e.\u0275mod=d.Qb({type:e}),e.\u0275inj=d.Pb({factory:function(t){return new(t||e)},imports:[[s.c,u,o.a,p.a,a.a,n.g]]}),e})()},YsXg:function(e,t,i){"use strict";i.d(t,"a",(function(){return r}));var n=i("blvr"),s=i("W5cs"),a=i("f8sK"),o=i("fXoL");let r=(()=>{class e{createFilterSetting(e,t,i){const o=new n.a;let r;return e.length>1?(r=new s.a,r.logic=a.a.OR,e.forEach(e=>{r.filters.push(this.createFilter(e,t,i))})):1===e.length&&(r=this.createFilter(e[0],t,i)),r&&o.filters.push(r),o}createFiltersSetting(e,t,i,o=a.a.OR){let r,c;return i&&i.length>0&&(r=new n.a,c=new s.a,c.logic=o,i.forEach(i=>{c.filters.push(this.createFilter(e,t,i))})),r&&r.filters.push(c),r}createLinkFilterSettings(e){const t=new n.a;return t.expandFromObjectId=e,t.hasLink=!0,t}createFilter(e,t,i,n=a.a.AND){const o=new s.a;return o.field=e,o.operator=t,o.value=i,o.filters=void 0,o.logic=n,o}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=o.Ob({token:e,factory:e.\u0275fac}),e})()},YwUS:function(e,t,i){"use strict";i.d(t,"a",(function(){return a}));var n=i("XNiG"),s=i("fXoL");let a=(()=>{class e{constructor(){this.pageTitleSubject=new n.a,this.pageTitle=""}setPageTitle(e){setTimeout(()=>{this.pageTitle=e,this.pageTitleSubject.next(e)})}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=s.Ob({token:e,factory:e.\u0275fac}),e})()},Yyug:function(e,t,i){"use strict";i.d(t,"a",(function(){return o}));var n=i("XNiG"),s=i("J7mc"),a=i("fXoL");let o=(()=>{class e{constructor(e){this.dataService=e,this.comparisonOperatorsSubject=new n.a}get comparisonOperatorsChanged$(){return this.comparisonOperatorsSubject.asObservable()}getComparisonOperators(){return this.dataService.get("SelectLists('e1SPFComparisonOperators')?$expand=Items",void 0,void 0,"",void 0,!0)}}return e.\u0275fac=function(t){return new(t||e)(a.dc(s.a))},e.\u0275prov=a.Ob({token:e,factory:e.\u0275fac}),e})()},Yzie:function(e,t,i){"use strict";i.d(t,"a",(function(){return G}));var n=i("u47x"),s=i("FtGj"),a=i("vxfF"),o=i("fXoL"),r=i("pLZG"),c=i("Kj3r"),l=i("Ejbi"),d=i("qzxf"),h=i("ofXK"),u=i("MutI"),p=i("NFeN"),g=i("FKr1"),f=i("bTqV");function m(e,t){if(1&e&&o.Tb(0,"img",8),2&e){const e=o.lc(2);o.sc("src",e.picture,o.Mc)}}function b(e,t){if(1&e&&o.Tb(0,"mat-icon",9),2&e){const e=o.lc(2);o.sc("svgIcon",e.itemIcon)}}function S(e,t){if(1&e&&(o.Yb(0,"div",10),o.Uc(1),o.Xb()),2&e){const e=o.lc(2);o.sc("title",e.primaryText),o.Eb(1),o.Vc(e.primaryText)}}function v(e,t){if(1&e&&(o.Yb(0,"div",11),o.Uc(1),o.Xb()),2&e){const e=o.lc(2);o.sc("title",e.secondaryText),o.Eb(1),o.Wc(" ",e.secondaryText," ")}}function _(e,t){if(1&e&&(o.Yb(0,"div",11),o.Uc(1),o.Xb()),2&e){const e=o.lc(2);o.sc("title",e.tertiaryText),o.Eb(1),o.Wc(" ",e.tertiaryText," ")}}function O(e,t){if(1&e){const e=o.Zb();o.Yb(0,"button",12),o.hc("click",(function(t){return o.Kc(e),o.lc(2).handleActionClick(t)})),o.Tb(1,"mat-icon",13),o.Xb()}if(2&e){const e=o.lc(2);o.Eb(1),o.sc("svgIcon",e.actionIconName)}}function I(e,t){if(1&e){const e=o.Zb();o.Yb(0,"mat-list-item",2),o.hc("click",(function(t){return o.Kc(e),o.lc().handleClick(t)})),o.Sc(1,m,1,1,"img",3),o.Sc(2,b,1,1,"mat-icon",4),o.Sc(3,S,2,2,"div",5),o.Sc(4,v,2,2,"div",6),o.Sc(5,_,2,2,"div",6),o.Sc(6,O,2,1,"button",7),o.Xb()}if(2&e){const e=o.lc();o.Ib("mat-list-item--selected",e.isSelected),o.Eb(1),o.sc("ngIf",e.isPictureVisible),o.Eb(1),o.sc("ngIf",e.itemIcon),o.Eb(1),o.sc("ngIf",e.isPrimaryTextVisible),o.Eb(1),o.sc("ngIf",e.isSecondaryTextVisible),o.Eb(1),o.sc("ngIf",e.isTertiaryTextVisible),o.Eb(1),o.sc("ngIf",e.actionIconName)}}function C(e,t){if(1&e&&(o.Yb(0,"div",10),o.Uc(1),o.Xb()),2&e){const e=o.lc(2);o.sc("title",e.primaryText),o.Eb(1),o.Wc(" ",e.primaryText," ")}}function T(e,t){if(1&e&&(o.Yb(0,"div",11),o.Uc(1),o.Xb()),2&e){const e=o.lc(2);o.sc("title",e.secondaryText),o.Eb(1),o.Wc(" ",e.secondaryText," ")}}function E(e,t){if(1&e&&(o.Yb(0,"div",11),o.Uc(1),o.Xb()),2&e){const e=o.lc(2);o.sc("title",e.tertiaryText),o.Eb(1),o.Wc(" ",e.tertiaryText," ")}}function y(e,t){if(1&e){const e=o.Zb();o.Yb(0,"mat-list-option",14),o.hc("click",(function(t){return o.Kc(e),o.lc().handleCheckboxClick(t)})),o.Sc(1,C,2,2,"div",5),o.Sc(2,T,2,2,"div",6),o.Sc(3,E,2,2,"div",6),o.Xb()}if(2&e){const e=o.lc();o.Ib("mat-list-item--selected",e.isSelected),o.sc("value",e.item)("selected",e.isSelected),o.Eb(1),o.sc("ngIf",e.isPrimaryTextVisible),o.Eb(1),o.sc("ngIf",e.isSecondaryTextVisible),o.Eb(1),o.sc("ngIf",e.isTertiaryTextVisible)}}let P=(()=>{class e{constructor(e){this.elementRef=e,this.action=void 0,this.isMultiselectActive=!1,this.isMultiselectEnabled=!1,this.isSelected=!1,this.item=void 0,this.select=new o.o,this.toggle=new o.o,this.isHovered=!1}tabIndex(){return-1}ngOnInit(){this.updateItem()}ngOnChanges(e){e.item?this.updateItem():((e.isMultiselectActive||e.isScreenWide)&&this.checkCheckboxVisibilty(),this.item&&((e.iconAccessor||e.listIcon)&&(this.getIcon(),this.checkPictureVisibilty()),(e.pictureAccessor||e.listImage)&&(this.getPicture(),this.checkPictureVisibilty()),e.primaryTextAccessor&&(this.getPrimaryText(),this.checkPrimaryText()),e.secondaryTextAccessor&&(this.getSecondaryText(),this.checkSecondaryText()),e.tertiaryTextAccessor&&(this.getTertiaryText(),this.checkTertiaryText())))}handleActionClick(e){"function"==typeof this.action&&(e.preventDefault(),e.stopPropagation(),this.action(this.item))}handleClick(e){e.preventDefault(),e.stopPropagation(),this.onSelect(this.item)}selectItem(){this.isMultiselectEnabled&&this.isMultiselectActive?this.onToggle(this.item):this.onSelect(this.item)}focus(){this.elementRef.nativeElement.focus()}handleCheckboxClick(e){e.preventDefault(),e.stopPropagation(),this.onToggle(this.item)}onSelect(e){this.select.emit(e)}onToggle(e){this.toggle.emit(e)}updateItem(){this.item?(this.getIcon(),this.getPicture(),this.getPrimaryText(),this.getSecondaryText(),this.getTertiaryText()):(this.itemIcon=void 0,this.picture=void 0,this.primaryText=void 0,this.secondaryText=void 0,this.tertiaryText=void 0),this.checkPictureVisibilty(),this.checkCheckboxVisibilty(),this.checkPrimaryText(),this.checkSecondaryText(),this.checkTertiaryText()}getIcon(){this.itemIcon=this.iconAccessor?this.item[this.iconAccessor]:this.listIcon}getPicture(){this.picture=this.pictureAccessor?this.item[this.pictureAccessor]:this.listImage}checkPictureVisibilty(){this.isPictureVisible=!this.itemIcon&&!!this.picture}checkCheckboxVisibilty(){this.isCheckboxVisible=this.isMultiselectActive||this.isScreenWide&&this.isHovered}getPrimaryText(){this.primaryText=this.item[this.primaryTextAccessor]}checkPrimaryText(){this.isPrimaryTextVisible=!!this.primaryText}getSecondaryText(){this.secondaryText=this.item[this.secondaryTextAccessor]}checkSecondaryText(){this.isSecondaryTextVisible=null!=this.secondaryText}getTertiaryText(){this.tertiaryText=this.item[this.tertiaryTextAccessor]}checkTertiaryText(){this.isTertiaryTextVisible=null!=this.tertiaryText}}return e.\u0275fac=function(t){return new(t||e)(o.Sb(o.l))},e.\u0275cmp=o.Mb({type:e,selectors:[["sda-list-item"]],hostVars:1,hostBindings:function(e,t){2&e&&o.bc("tabIndex",t.tabIndex)},inputs:{action:"action",actionIconName:"actionIconName",listIcon:"listIcon",iconAccessor:"iconAccessor",isMultiselectActive:"isMultiselectActive",isMultiselectEnabled:"isMultiselectEnabled",isScreenWide:"isScreenWide",isSelected:"isSelected",item:"item",listImage:"listImage",pictureAccessor:"pictureAccessor",primaryTextAccessor:"primaryTextAccessor",secondaryTextAccessor:"secondaryTextAccessor",tertiaryTextAccessor:"tertiaryTextAccessor"},outputs:{select:"select",toggle:"toggle"},features:[o.Cb],decls:2,vars:2,consts:[["role","listitem",3,"mat-list-item--selected","click",4,"ngIf"],["role","listitem","checkboxPosition","'left'",3,"mat-list-item--selected","value","selected","click",4,"ngIf"],["role","listitem",3,"click"],["matListAvatar","","class","mat-list-item__avatar",3,"src",4,"ngIf"],["matListIcon","","class","mat-list-item__icon",3,"svgIcon",4,"ngIf"],["matLine","",3,"title",4,"ngIf"],["matLine","","class","mat-line-secondary",3,"title",4,"ngIf"],["mat-icon-button","","class","mat-list-item__button",3,"click",4,"ngIf"],["matListAvatar","",1,"mat-list-item__avatar",3,"src"],["matListIcon","",1,"mat-list-item__icon",3,"svgIcon"],["matLine","",3,"title"],["matLine","",1,"mat-line-secondary",3,"title"],["mat-icon-button","",1,"mat-list-item__button",3,"click"],[1,"mat-list-item__button-icon",3,"svgIcon"],["role","listitem","checkboxPosition","'left'",3,"value","selected","click"]],template:function(e,t){1&e&&(o.Sc(0,I,7,8,"mat-list-item",0),o.Sc(1,y,4,7,"mat-list-option",1)),2&e&&(o.sc("ngIf",!t.isMultiselectEnabled),o.Eb(1),o.sc("ngIf",t.isMultiselectEnabled&&t.isCheckboxVisible))},directives:[h.t,u.c,u.a,p.a,u.b,g.f,f.a,u.e],styles:["[_nghost-%COMP%]   .mat-list-item[_ngcontent-%COMP%]{height:32px}[_nghost-%COMP%]   .mat-list-item__avatar[_ngcontent-%COMP%], [_nghost-%COMP%]   .mat-list-item__button-icon[_ngcontent-%COMP%], [_nghost-%COMP%]   .mat-list-item__icon[_ngcontent-%COMP%]{width:24px;height:24px}[_nghost-%COMP%]   .mat-list-item.mat-2-line[_ngcontent-%COMP%]{height:48px}[_nghost-%COMP%]   .mat-list-item.mat-2-line__avatar[_ngcontent-%COMP%], [_nghost-%COMP%]   .mat-list-item.mat-2-line__button-icon[_ngcontent-%COMP%], [_nghost-%COMP%]   .mat-list-item.mat-2-line__icon[_ngcontent-%COMP%]{width:28px;height:28px}[_nghost-%COMP%]   .mat-list-item.mat-3-line[_ngcontent-%COMP%]{height:60px}[_nghost-%COMP%]   .mat-list-item.mat-3-line__avatar[_ngcontent-%COMP%], [_nghost-%COMP%]   .mat-list-item.mat-3-line__button-icon[_ngcontent-%COMP%], [_nghost-%COMP%]   .mat-list-item.mat-3-line__icon[_ngcontent-%COMP%]{width:30px;height:30px}[_nghost-%COMP%]   .mat-list-item.mat-list-option[_ngcontent-%COMP%]     .mat-list-item-content{align-items:flex-start;padding-top:6px}[_nghost-%COMP%]   .mat-list-item.mat-list-option[_ngcontent-%COMP%]     .mat-list-item-content .mat-pseudo-checkbox{margin-top:2px}[_nghost-%COMP%]   .mat-list-item--selected[_ngcontent-%COMP%]{background-color:#02adff;color:#ebedf0}[_nghost-%COMP%]   .mat-list-item--selected[_ngcontent-%COMP%]   .mat-line[_ngcontent-%COMP%]:first-of-type{color:#fff}[_nghost-%COMP%]   .mat-list-item[_ngcontent-%COMP%]:not(.mat-list-item--selected):hover{background-color:#afe5ff}[_nghost-%COMP%]   .mat-list-item[_ngcontent-%COMP%]     .mat-list-text{width:100%;padding-right:0;overflow:hidden;color:inherit}[_nghost-%COMP%]   .mat-list-item[_ngcontent-%COMP%]     .mat-list-text .mat-line-secondary{font-size:12px}[_nghost-%COMP%]:focus   .mat-list-item[_ngcontent-%COMP%]:not(.mat-list-item--selected){background-color:#ebedf0}"]}),e})();const x=function(e){return{item:e}};function A(e,t){if(1&e&&(o.Wb(0),o.Ub(1,8),o.Vb()),2&e){const e=t.$implicit;o.lc(3);const i=o.Hc(3);o.Eb(1),o.sc("ngTemplateOutlet",i)("ngTemplateOutletContext",o.xc(2,x,e))}}function w(e,t){if(1&e&&(o.Wb(0),o.Sc(1,A,2,4,"ng-container",7),o.Vb()),2&e){const e=o.lc(2);o.Eb(1),o.sc("ngForOf",e.getFilteredItems())}}function M(e,t){if(1&e&&(o.Wb(0),o.Ub(1,8),o.Vb()),2&e){const e=t.$implicit;o.lc(3);const i=o.Hc(3);o.Eb(1),o.sc("ngTemplateOutlet",i)("ngTemplateOutletContext",o.xc(2,x,e))}}function D(e,t){if(1&e&&(o.Yb(0,"cdk-virtual-scroll-viewport",9),o.Sc(1,M,2,4,"ng-container",10),o.Xb()),2&e){const e=o.lc(2);o.sc("itemSize",32),o.Eb(1),o.sc("cdkVirtualForOf",e.getFilteredItems())("cdkVirtualForTemplateCacheSize",0)}}function N(e,t){if(1&e){const e=o.Zb();o.Yb(0,"mat-nav-list",3),o.Yb(1,"div",4),o.hc("keydown",(function(t){return o.Kc(e),o.lc().handleKeyUp(t)})),o.Sc(2,w,2,1,"ng-container",5),o.Sc(3,D,2,3,"cdk-virtual-scroll-viewport",6),o.Xb(),o.Xb()}if(2&e){const e=o.lc();o.Eb(2),o.sc("ngIf",!e.enablePaging),o.Eb(1),o.sc("ngIf",e.enablePaging)}}function R(e,t){if(1&e){const e=o.Zb();o.Yb(0,"mat-list-option",14),o.hc("click",(function(t){return o.Kc(e),o.lc(2).handleSelectAllToggle(t)})),o.Uc(1),o.Xb()}if(2&e){const e=o.lc(2);o.sc("disabled",e.disabled)("selected",e.getAreAllItemsSelected())("value",e.selectAllText),o.Eb(1),o.Wc(" ",e.selectAllText," ")}}function L(e,t){if(1&e){const e=o.Zb();o.Yb(0,"sda-list-item",16),o.hc("toggle",(function(t){return o.Kc(e),o.lc(3).handleListItemToggle(t)})),o.Xb()}if(2&e){const e=t.$implicit,i=o.lc(3);o.sc("action",i.action)("actionIconName",i.actionIconName)("iconAccessor",i.iconProperty)("isMultiselectActive",i.isMultiselectActive)("isMultiselectEnabled",i.isMultiselectEnabled)("item",e)("isSelected",i.getIsItemSelected(e))("pictureAccessor",i.pictureProperty)("primaryTextAccessor",i.primaryTextAccessor)("secondaryTextAccessor",i.secondaryTextAccessor)("tertiaryTextAccessor",i.tertiaryTextAccessor)}}function F(e,t){if(1&e&&(o.Wb(0),o.Sc(1,L,1,11,"sda-list-item",15),o.Vb()),2&e){const e=o.lc(2);o.Eb(1),o.sc("ngForOf",e.getFilteredItems())}}function k(e,t){if(1&e){const e=o.Zb();o.Yb(0,"sda-list-item",16),o.hc("toggle",(function(t){return o.Kc(e),o.lc(3).handleListItemToggle(t)})),o.Xb()}if(2&e){const e=t.$implicit,i=o.lc(3);o.sc("action",i.action)("actionIconName",i.actionIconName)("iconAccessor",i.iconProperty)("isMultiselectActive",i.isMultiselectActive)("isMultiselectEnabled",i.isMultiselectEnabled)("item",e)("isSelected",i.getIsItemSelected(e))("pictureAccessor",i.pictureProperty)("primaryTextAccessor",i.primaryTextAccessor)("secondaryTextAccessor",i.secondaryTextAccessor)("tertiaryTextAccessor",i.tertiaryTextAccessor)}}function U(e,t){if(1&e&&(o.Yb(0,"cdk-virtual-scroll-viewport",9),o.Sc(1,k,1,11,"sda-list-item",17),o.Xb()),2&e){const e=o.lc(2);o.sc("itemSize",32),o.Eb(1),o.sc("cdkVirtualForOf",e.getFilteredItems())("cdkVirtualForTemplateCacheSize",0)}}function j(e,t){if(1&e){const e=o.Zb();o.Yb(0,"mat-selection-list",11,12),o.Sc(2,R,2,4,"mat-list-option",13),o.Yb(3,"div",4),o.hc("keydown",(function(t){return o.Kc(e),o.lc().handleKeyUp(t)})),o.Sc(4,F,2,1,"ng-container",5),o.Sc(5,U,2,3,"cdk-virtual-scroll-viewport",6),o.Xb(),o.Xb()}if(2&e){const e=o.lc();o.sc("disabled",e.disabled),o.Eb(2),o.sc("ngIf",e.isSelectAllEnabled&&e.items&&e.items.length>0),o.Eb(2),o.sc("ngIf",!e.enablePaging),o.Eb(1),o.sc("ngIf",e.enablePaging)}}function B(e,t){if(1&e){const e=o.Zb();o.Yb(0,"sda-list-item",18),o.hc("toggle",(function(t){return o.Kc(e),o.lc().handleListItemToggle(t)}))("select",(function(t){return o.Kc(e),o.lc().handleListItemSelect(t)})),o.Xb()}if(2&e){const e=t.item,i=o.lc();o.sc("action",i.action)("actionIconName",i.actionIconName)("listIcon",i.listIcon)("iconAccessor",i.iconProperty)("isMultiselectActive",i.isMultiselectActive)("isMultiselectEnabled",i.isMultiselectEnabled)("item",e)("isSelected",i.getIsItemSelected(e))("listImage",i.listImage)("pictureAccessor",i.pictureProperty)("primaryTextAccessor",i.primaryTextAccessor)("secondaryTextAccessor",i.secondaryTextAccessor)("tertiaryTextAccessor",i.tertiaryTextAccessor)}}let G=(()=>{class e{constructor(e,t){this.scrollDispatcher=e,this.sdaTranslateService=t,this.disabled=!1,this.action=void 0,this.actionIconName="",this.filters=[],this.idAccessor="id",this.idProperty="id",this.isMultiselectActive=!1,this.isMultiselectEnabled=!1,this.isSelectAllEnabled=!1,this.items=[],this.pictureProperty="",this.primaryTextAccessor=void 0,this.primaryTextFunction=void 0,this.primaryTextProperty="",this.secondaryTextAccessor=void 0,this.secondaryTextFunction=void 0,this.secondaryTextProperty="",this.tertiaryTextFunction=void 0,this.tertiaryTextProperty="",this.tertiaryTextAccessor=void 0,this.selectAllText=this.sdaTranslateService.get("SELECT_ALL","Select All"),this.selectedIds=[],this.selectedItems=[],this.enablePaging=!1,this.selectedIdChange=new o.o,this.selectedIdsChange=new o.o,this.selectedItemChange=new o.o,this.selectedItemsChange=new o.o,this.loadMoreTriggered=new o.o,this.onSelectedIdChange=e=>this.selectedIdChange.emit(e),this.onSelectedIdsChange=e=>this.selectedIdsChange.emit(e),this.onSelectedItemChange=e=>this.selectedItemChange.emit(e),this.onSelectedItemsChange=e=>this.selectedItemsChange.emit(e),this.idAccessor=this.idProperty,this.primaryTextAccessor=this.primaryTextFunction||this.primaryTextProperty,this.secondaryTextAccessor=this.secondaryTextFunction||this.secondaryTextProperty,this.tertiaryTextAccessor=this.tertiaryTextFunction||this.tertiaryTextProperty}ngOnChanges(e){e.idProperty&&(this.idAccessor=this.idProperty),(e.primaryTextFunction||e.primaryTextProperty)&&(this.primaryTextAccessor=this.primaryTextFunction||this.primaryTextProperty),(e.secondaryTextFunction||e.secondaryTextProperty)&&(this.secondaryTextAccessor=this.secondaryTextFunction||this.secondaryTextProperty),(e.tertiaryTextFunction||e.tertiaryTextProperty)&&(this.tertiaryTextAccessor=this.tertiaryTextFunction||this.tertiaryTextProperty)}ngAfterViewInit(){this.keyManager=new n.e(this.listItems).withWrap(),this.virtualScroll&&this.enablePaging&&(this.scrollSubscription=this.scrollDispatcher.scrolled().pipe(Object(r.a)(e=>0===this.virtualScroll.measureScrollOffset("bottom")),Object(c.a)(300)).subscribe(e=>{this.loadMoreTriggered.emit()}))}ngOnDestroy(){this.scrollSubscription&&this.scrollSubscription.unsubscribe()}handleKeyUp(e){e.stopImmediatePropagation(),this.keyManager&&(e.keyCode===s.d||e.keyCode===s.n?this.keyManager.onKeydown(e):e.keyCode===s.f&&this.keyManager.activeItem&&this.keyManager.activeItem.selectItem())}handleSelectAllToggle(e){e.preventDefault(),e.stopPropagation(),this.handleSelectAllClick()}getSelectedItemIndex(){let e=-1;return this.getFilteredItems().forEach((t,i)=>{t===this.selectedItem&&(e=i)}),e}handleListItemSelect(e){this.onSelectedIdChange(e[this.idAccessor]?e[this.idAccessor]:"id"),this.onSelectedItemChange(e)}handleListItemToggle(e){const t=e[this.idAccessor]?e[this.idAccessor]:"id",i=this.toggleInArray(e,this.selectedItems),n=this.toggleInArray(t,this.selectedIds);this.onSelectedIdsChange(n),this.onSelectedItemsChange(i)}handleSelectAllClick(){const e=this.idAccessor?this.idAccessor:"id",t=this.getAreAllItemsSelected()?[]:this.getFilteredItems();this.onSelectedItemsChange(t);const i=t.map(t=>t[e]);this.onSelectedIdsChange(i)}getAreAllItemsSelected(){const e=this.getFilteredItems();return!!(this.selectedItems&&this.selectedItems.length||this.selectedIds&&this.selectedIds.length)&&!e.some(e=>!this.getIsItemSelected(e))}getFilteredItems(){return 0===this.filters.length||0===this.items.length?this.items||[]:d.a.filterList(this.items,this.filters)}getIsItemSelected(e){return this.isSelectedItem(e)||this.hasSelectedId(e)||this.isInSelectedItems(e)||this.hasIdInSelectedIds(e)}getSelectAllText(){return this.selectAllText?this.selectAllText:"Select All"}toggleInArray(e,t){return t.includes(e)?t.filter(t=>e!==t):[...t,e]}isSelectedItem(e){return this.selectedItem===e}hasSelectedId(e){return!!this.selectedId&&this.selectedId===(e[this.idAccessor]?e[this.idAccessor]:"id")}isInSelectedItems(e){return this.isMultiselectActive&&this.selectedItems.includes(e)}hasIdInSelectedIds(e){return this.isMultiselectActive&&this.selectedIds.includes(e[this.idAccessor]?e[this.idAccessor]:"id")}}return e.\u0275fac=function(t){return new(t||e)(o.Sb(a.f),o.Sb(l.a))},e.\u0275cmp=o.Mb({type:e,selectors:[["sda-list-view"]],viewQuery:function(e,t){var i;1&e&&(o.bd(a.e,!0),o.bd(P,!0)),2&e&&(o.Gc(i=o.ic())&&(t.virtualScroll=i.first),o.Gc(i=o.ic())&&(t.listItems=i))},inputs:{disabled:"disabled",action:"action",actionIconName:"actionIconName",filters:"filters",listIcon:"listIcon",iconProperty:"iconProperty",idAccessor:"idAccessor",idProperty:"idProperty",isMultiselectActive:"isMultiselectActive",isMultiselectEnabled:"isMultiselectEnabled",isSelectAllEnabled:"isSelectAllEnabled",items:"items",pictureProperty:"pictureProperty",listImage:"listImage",primaryTextAccessor:"primaryTextAccessor",primaryTextFunction:"primaryTextFunction",primaryTextProperty:"primaryTextProperty",secondaryTextAccessor:"secondaryTextAccessor",secondaryTextFunction:"secondaryTextFunction",secondaryTextProperty:"secondaryTextProperty",tertiaryTextFunction:"tertiaryTextFunction",tertiaryTextProperty:"tertiaryTextProperty",tertiaryTextAccessor:"tertiaryTextAccessor",selectAllText:"selectAllText",selectedId:"selectedId",selectedIds:"selectedIds",selectedItem:"selectedItem",selectedItems:"selectedItems",enablePaging:"enablePaging"},outputs:{selectedIdChange:"selectedIdChange",selectedIdsChange:"selectedIdsChange",selectedItemChange:"selectedItemChange",selectedItemsChange:"selectedItemsChange",loadMoreTriggered:"loadMoreTriggered"},features:[o.Cb],decls:4,vars:2,consts:[["class","list-base","role","listbox",4,"ngIf"],["class","list-base","role","listbox",3,"disabled",4,"ngIf"],["listitemTemplate",""],["role","listbox",1,"list-base"],["tabindex","0",1,"list-base__items",3,"keydown"],[4,"ngIf"],[3,"itemSize",4,"ngIf"],[4,"ngFor","ngForOf"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],[3,"itemSize"],[4,"cdkVirtualFor","cdkVirtualForOf","cdkVirtualForTemplateCacheSize"],["role","listbox",1,"list-base",3,"disabled"],["list",""],["class","list-option-select-all","checkboxPosition","'left'",3,"disabled","selected","value","click",4,"ngIf"],["checkboxPosition","'left'",1,"list-option-select-all",3,"disabled","selected","value","click"],[3,"action","actionIconName","iconAccessor","isMultiselectActive","isMultiselectEnabled","item","isSelected","pictureAccessor","primaryTextAccessor","secondaryTextAccessor","tertiaryTextAccessor","toggle",4,"ngFor","ngForOf"],[3,"action","actionIconName","iconAccessor","isMultiselectActive","isMultiselectEnabled","item","isSelected","pictureAccessor","primaryTextAccessor","secondaryTextAccessor","tertiaryTextAccessor","toggle"],[3,"action","actionIconName","iconAccessor","isMultiselectActive","isMultiselectEnabled","item","isSelected","pictureAccessor","primaryTextAccessor","secondaryTextAccessor","tertiaryTextAccessor","toggle",4,"cdkVirtualFor","cdkVirtualForOf","cdkVirtualForTemplateCacheSize"],["mat-list-item","",3,"action","actionIconName","listIcon","iconAccessor","isMultiselectActive","isMultiselectEnabled","item","isSelected","listImage","pictureAccessor","primaryTextAccessor","secondaryTextAccessor","tertiaryTextAccessor","toggle","select"]],template:function(e,t){1&e&&(o.Sc(0,N,4,2,"mat-nav-list",0),o.Sc(1,j,6,4,"mat-selection-list",1),o.Sc(2,B,1,13,"ng-template",null,2,o.Tc)),2&e&&(o.sc("ngIf",!t.isMultiselectEnabled),o.Eb(1),o.sc("ngIf",t.isMultiselectEnabled))},directives:[h.t,u.f,h.s,h.A,a.e,a.a,a.d,u.g,u.e,P],styles:[".list-base__items[_ngcontent-%COMP%]{overflow-x:hidden;overflow-y:scroll}.list-base[_ngcontent-%COMP%]{width:100%;padding-top:0;overflow:hidden}.list-base__items[_ngcontent-%COMP%], .list-base__items[_ngcontent-%COMP%]   cdk-virtual-scroll-viewport[_ngcontent-%COMP%]{height:100%}.list-base[_ngcontent-%COMP%]   .list-option-select-all[_ngcontent-%COMP%]{overflow:hidden;background-color:#ebedf0;border-bottom:1px solid #cad0d7}"]}),e})()},Z2of:function(e,t,i){"use strict";i.d(t,"a",(function(){return p}));var n=i("XNiG");class s{constructor(e,t,i,n){this.chunkNumber=t,this.withCredentials=i,this.url=n,this.chunkName=this.padInteger(this.chunkNumber,5)+e.tempFileName,this.state="NotStarted",this.fileItemReference=e}isError(){return"Error"===this.state}padInteger(e,t){const i=new Array(t+1).join("0");return(i+e).slice(-i.length)}}var a=i("+Avo"),o=i("oTPA"),r=i("zHoD"),c=function(e){return e.FILE_UPLOAD_UPLOAD_ERROR="FILE_UPLOAD_UPLOAD_ERROR",e.FILE_UPLOAD_CSV_VALIDATION_ERROR="FILE_UPLOAD_CSV_VALIDATION_ERROR",e.FILE_UPLOAD_VIRUS_SCAN_ERROR="FILE_UPLOAD_VIRUS_SCAN_ERROR",e.FILE_UPLOAD_AVAILABILITY_ERROR="FILE_UPLOAD_AVAILABILITY_ERROR",e.FILE_UPLOAD_ATTACH_ERROR="FILE_UPLOAD_ATTACH_ERROR",e.FILE_UPLOAD_SUBMISSION_ERROR="FILE_UPLOAD_SUBMISSION_ERROR",e}({});class l{constructor(e,t){this.errorType=e,this.errorMessage=t}}var d=i("Z9D8");class h{constructor(){this.isStarted=!1,this.isFinished=!1,this.isSuccess=!1,this.needsRetry=!1,this.isCancelled=!1,this.progressPercent=0,this.errorProgressPercent=0,this.isFailureValue=!1}isInProgress(){return this.isStarted&&!this.isFinished&&!this.isFailure}get isFailure(){let e=this.isFailureValue;return this.error&&(e=!0),e}getProgressString(){return"isStarted: "+this.isStarted+"\nisFinished: "+this.isFinished+"\nisSuccess: "+this.isSuccess+"\nisFailure: "+this.isFailure+"\nneedsRetry: "+this.needsRetry+"\nprogressPercent: "+this.progressPercent+"\nerrorProgressPercent: "+this.errorProgressPercent+"\n"}start(){this.retry(),this.progressPercent=0,this.errorProgressPercent=0}success(){this.isSuccess=!0,this.isFailureValue=!1,this.isFinished=!0,this.progressPercent=100,this.errorProgressPercent=0,this.needsRetry=!1}retry(){this.isStarted=!0,this.isSuccess=!1,this.isFailureValue=!1,this.needsRetry=!1,this.isFinished=!1,this.isCancelled=!1}failure(e){this.isFailureValue=!0,this.isSuccess=!1,this.error=e,this.isStarted=!1,this.isFinished=!0,this.setErrorPercentage()}setFailureAndRetry(e){this.failure(new d.a(e)),this.needsRetry=!0}isPartialSuccess(){return this.errorProgressPercent>0}setErrorPercentage(){0===this.errorProgressPercent&&(this.errorProgressPercent=100)}}class u{constructor(e,t,i){this.inLineVirusScanIsAvailable=t,this.inlineCSVFileValidationAvailable=i,this.enableAttachStage=!1,this.enableMoveToShareStage=!1,this.enableOnlyAttachStage=!1,this.fileUploadProgress=new h,this.virusScanProgress=new h,this.attachProgress=new h,this.isAvailableProgress=new h,this.moveToShareForSubmission=new h,this.csvValidationProgress=new h,e===r.a.InLineVaulting&&(this.enableAttachStage=!0),e===r.a.InLineMoveToShare&&(this.enableMoveToShareStage=!0)}get totalProgress(){return Math.trunc(100*this.progress())}get totalErrorProgress(){return Math.trunc(100*this.errorProgress())}isStarted(){return this.fileUploadProgress.isStarted||this.inLineVirusScanIsAvailable&&this.virusScanProgress.isStarted||this.inlineCSVFileValidationAvailable&&this.csvValidationProgress.isStarted||this.isAvailableProgress.isStarted||this.enableAttachStage&&this.attachProgress.isStarted||this.enableMoveToShareStage&&this.moveToShareForSubmission.isStarted}isUploading(){return this.fileUploadProgress.isStarted&&!this.fileUploadProgress.isFinished}isFinished(){return this.fileUploadProgress.isFinished&&(!this.inLineVirusScanIsAvailable||this.virusScanProgress.isFinished)&&(!this.inlineCSVFileValidationAvailable||this.csvValidationProgress.isFinished)&&this.isAvailableProgress.isFinished&&(!this.enableAttachStage||this.attachProgress.isFinished)&&(!this.enableMoveToShareStage||this.moveToShareForSubmission.isFinished)}isSuccess(){return this.fileUploadProgress.isSuccess&&(!this.inLineVirusScanIsAvailable||this.virusScanProgress.isSuccess)&&(!this.inlineCSVFileValidationAvailable||this.csvValidationProgress.isSuccess)&&this.isAvailableProgress.isSuccess&&(!this.enableAttachStage||this.attachProgress.isSuccess)&&(!this.enableMoveToShareStage||this.moveToShareForSubmission.isSuccess)}progress(){let e=0,t=0;return t+=this.fileUploadProgress.progressPercent,e+=100,this.inLineVirusScanIsAvailable&&(t+=this.virusScanProgress.progressPercent,e+=100),this.inlineCSVFileValidationAvailable&&(t+=this.csvValidationProgress.progressPercent,e+=100),t+=this.isAvailableProgress.progressPercent,e+=100,this.enableAttachStage&&(t+=this.attachProgress.progressPercent,e+=100),this.enableMoveToShareStage&&(t+=this.moveToShareForSubmission.progressPercent,e+=100),t/e}errorProgress(){let e=0,t=0;return this.enableOnlyAttachStage?(t+=this.attachProgress.errorProgressPercent,e+=100):(t+=this.fileUploadProgress.errorProgressPercent,e+=100,this.inLineVirusScanIsAvailable&&(t+=this.virusScanProgress.errorProgressPercent,e+=100),this.inlineCSVFileValidationAvailable&&(t+=this.csvValidationProgress.errorProgressPercent,e+=100),t+=this.isAvailableProgress.errorProgressPercent,e+=100,this.enableAttachStage&&(t+=this.attachProgress.errorProgressPercent,e+=100),this.enableMoveToShareStage&&(t+=this.moveToShareForSubmission.errorProgressPercent,e+=100)),t/e}isInProgress(){return this.isStarted()&&!this.isFinished()}setSuccess(){this.fileUploadProgress.success(),this.inLineVirusScanIsAvailable&&this.virusScanProgress.success(),this.inlineCSVFileValidationAvailable&&this.csvValidationProgress.success(),this.isAvailableProgress.success(),this.enableAttachStage&&this.attachProgress.success(),this.enableMoveToShareStage&&this.moveToShareForSubmission.success()}isError(){return this.fileUploadProgress&&this.fileUploadProgress.isFailure||this.virusScanProgress&&this.virusScanProgress.isFailure||this.csvValidationProgress&&this.csvValidationProgress.isFailure||this.attachProgress&&this.attachProgress.isFailure||this.isAvailableProgress&&this.isAvailableProgress.isFailure||this.moveToShareForSubmission&&this.moveToShareForSubmission.isFailure}getFailureMessage(){let e=o.a.FILE_UPLOAD_PROGRESS_ERROR,t="";return this.fileUploadProgress.error?(e=c.FILE_UPLOAD_UPLOAD_ERROR,t=this.fileUploadProgress.error.message):this.csvValidationProgress&&this.csvValidationProgress.error?(e=c.FILE_UPLOAD_CSV_VALIDATION_ERROR,t=this.csvValidationProgress.error.message):this.virusScanProgress&&this.virusScanProgress.error?(e=c.FILE_UPLOAD_VIRUS_SCAN_ERROR,t=this.virusScanProgress.error.message):this.isAvailableProgress&&this.isAvailableProgress.error?(e=c.FILE_UPLOAD_AVAILABILITY_ERROR,t=this.isAvailableProgress.error.message):this.attachProgress&&this.attachProgress.error?(e=c.FILE_UPLOAD_ATTACH_ERROR,t=this.attachProgress.error.message):this.moveToShareForSubmission&&this.moveToShareForSubmission.error&&(e=c.FILE_UPLOAD_SUBMISSION_ERROR,t=this.moveToShareForSubmission.error.message),new l(e,t)}}class p{constructor(e,t,i,o,r,c){this.url=e,this.moveToShareFolderName=t,this.fileData=i,this.args=c,this.withCredentials=!0,this.isError=!1,this.isCSVValid=!1,this.index=void 0,this.isRemovedFromQueue=!1,this.fileIsCancelledSubject=new n.a,this.numberOfSuccessfulChunks=0,this.numberOfErrorChunks=0,this.numberOfChunksBeingProcessed=0,this.args||(this.args={inLineVirusScanIsAvailable:!1,inlineCSVFileValidationAvailable:!1,csvLoaderClassification:void 0}),this.chunks=new Array,this.file=new a.a(this.fileData),this.chunkSize=1048576,this.totalSize=this.file.fileData.size,this.totalNumberOfChunks=Math.ceil(this.totalSize/this.chunkSize),this.tempFileName=this.getGuid()+this.file.name,this.objectsForAttach=o,this.fileName=this.file.name,this.fileSize=this.getFileSize();for(let n=0;n<this.totalNumberOfChunks;n++){const e=new s(this,n,this.withCredentials,this.url);this.chunks.push(e)}this.progress=new u(r,this.args.inLineVirusScanIsAvailable,this.args.inlineCSVFileValidationAvailable)}isVirus(){return this.progress.virusScanProgress.isFinished&&!this.progress.virusScanProgress.isSuccess}get progressStatus(){let e;return 0===this.progress.totalProgress&&(e=o.a.FILE_UPLOAD_PROGRESS_QUEUED),this.progress.totalProgress>0&&this.progress.totalProgress<100&&(e=o.a.FILE_UPLOAD_PROGRESS_INPROGRESS),100===this.progress.totalProgress&&0===this.progress.totalErrorProgress&&(e=o.a.FILE_UPLOAD_PROGRESS_COMPLETED),this.progress.totalErrorProgress>0&&(e=o.a.FILE_UPLOAD_PROGRESS_ERROR),e}hasException(){return!!this.exceptionMessage}cancelFileUpload(){this.fileIsCancelledSubject.next(),this.fileIsCancelledSubject.complete()}dispose(){this.xhr=void 0,this.form=void 0,this.file=void 0}chunkError(e){this.numberOfChunksBeingProcessed-=1,"ReStarted"!==e.state&&(this.numberOfErrorChunks+=1),e.state="Error",e.blob=void 0}chunkSuccess(e){this.numberOfChunksBeingProcessed-=1,"Started"===e.state?this.numberOfSuccessfulChunks+=1:"ReStarted"===e.state&&(this.numberOfErrorChunks-=1,this.numberOfSuccessfulChunks+=1),e.state="Success",e.blob=void 0}errorChunkCount(){return this.numberOfErrorChunks}getNextChunkAndSetupBlob(){if(this.chunks.length>0){let e;return this.chunks.filter(e=>"NotStarted"===e.state).length>0?(e=this.chunks.filter(e=>"NotStarted"===e.state)[0],e.state="Started",this.numberOfChunksBeingProcessed+=1):this.chunks.filter(e=>"Error"===e.state).length>0&&(e=this.chunks.filter(e=>"Error"===e.state)[0],e.state="ReStarted",this.numberOfChunksBeingProcessed+=1),e&&(e.blob=this.file.getChunkBlob(this.chunkSize,e.chunkNumber,this.totalNumberOfChunks)),e}}getChunkProgress(){return Math.trunc(this.numberOfSuccessfulChunks/this.totalNumberOfChunks*100)}getChunkErrorPercentage(){return Math.trunc(this.numberOfErrorChunks/this.totalNumberOfChunks*100)}getNumberOfChunksBeingProcessed(){return this.numberOfChunksBeingProcessed}checkComplete(){return this.numberOfSuccessfulChunks===this.totalNumberOfChunks&&(this.progress.fileUploadProgress.isStarted&&!this.progress.fileUploadProgress.isFinished&&this.progress.fileUploadProgress.success(),!0)}getStatusString(){return"File Name: "+this.file.name+"\nTotal number of Chunks: "+this.totalNumberOfChunks+"\nNumber of successful chunks: "+this.numberOfSuccessfulChunks+"\nNumber of error chunks: "+this.numberOfErrorChunks+"\nNumber of chunks being processed: "+this.numberOfChunksBeingProcessed+"\nFile Upload Progress {\n"+this.progress.fileUploadProgress.getProgressString()+" }\nVirus Scan Progress {\n"+this.progress.virusScanProgress.getProgressString()+" }\nAttach Progress {\n"+this.progress.attachProgress.getProgressString()+" }\nis Available Progress {\n"+this.progress.isAvailableProgress.getProgressString()+" } \nisError: "+this.isError}overallSuccess(){this.progress.setSuccess(),this.index=void 0}getFileSize(){let e="";if(this.file){const t=["Bytes","KB","MB","GB","TB"];if(0===this.file.size)return"0 Bytes";const i=Math.floor(Math.log(this.file.size)/Math.log(1024));e=(this.file.size/Math.pow(1024,i)).toFixed(2)+" "+t[i]}return e}getGuidPart(){return Math.floor(65536*(Math.random()+1)).toString(16).substring(1)}getGuid(){return this.getGuidPart()+this.getGuidPart()+"-"+this.getGuidPart()+"-"+this.getGuidPart()+"-"+this.getGuidPart()+"-"+this.getGuidPart()+this.getGuidPart()+this.getGuidPart()}}},Z4id:function(e,t,i){"use strict";i.d(t,"a",(function(){return h}));var n=i("fXoL"),s=i("ONOH"),a=i("Ejbi"),o=i("ofXK"),r=i("Yzie");function c(e,t){if(1&e&&(n.Yb(0,"div",3),n.Uc(1),n.Xb()),2&e){const e=n.lc();n.Eb(1),n.Yc("1 - ",e.peekList.length," ",e.OF," ",e.totalPeekCount,"")}}function l(e,t){if(1&e){const e=n.Zb();n.Yb(0,"sda-list-view",4),n.hc("selectedItemChange",(function(t){return n.Kc(e),n.lc().peekItemChanged(t)}))("selectedItemsChange",(function(t){return n.Kc(e),n.lc().peekItemsChanged(t)}))("loadMoreTriggered",(function(){return n.Kc(e),n.lc().loadMore()})),n.Xb()}if(2&e){const e=n.lc();n.sc("items",e.peekList)("selectedItem",e.selectedItem)("selectedItems",e.selectedItems)("isMultiselectActive",e.isMultiselectActive)("isMultiselectEnabled",e.isMultiselectEnabled)("isSelectAllEnabled",e.isSelectAllEnabled)("selectAllText",e.SELECT_ALL)("enablePaging",e.enablePaging)}}function d(e,t){if(1&e&&(n.Yb(0,"p",5),n.Uc(1),n.Xb()),2&e){const e=n.lc();n.Eb(1),n.Vc(e.peekMessage)}}let h=(()=>{class e{constructor(e,t){this.configService=e,this.sdaTranslateService=t,this.isMultiselectActive=!1,this.isMultiselectEnabled=!1,this.isSelectAllEnabled=!1,this.minimumPeekCharacters=1,this.searchTerm="",this.isLoading=!1,this.allowMultipleConfigs=!0,this.enablePaging=!1,this.clearSelectedItems=!0,this.onPeekItemSelected=new n.o,this.onPeekItemsSelected=new n.o,this.loadMoreClicked=new n.o,this.SELECT_ALL=this.sdaTranslateService.get("SELECT_ALL","Select All"),this.OF=this.sdaTranslateService.get("OF","of"),this.selectedList=[],this.LOADING_ELLIPSIS=this.sdaTranslateService.get("LOADING_ELLIPSIS","Loading..."),this.NO_RESULTS_FOUND=this.sdaTranslateService.get("NO_RESULTS_FOUND","No results found"),this.SEARCH_BAR_PEEK_SINGLE_QUERY_SCOPE=this.sdaTranslateService.get("SEARCH_BAR_PEEK_SINGLE_QUERY_SCOPE","Select a single query scope to preview matching data"),this.minReqSearchCharacters=3}ngOnChanges(e){e.peekResults&&this.updatePeek(e.peekResults.currentValue),e.isLoading&&this.updatePeekMessage()}get selectedItems(){let e=[];return this.peekList&&(e=this.peekList.filter(e=>this.selectedList.filter(t=>t===e.id).length>0)),e}peekItemChanged(e){this.selectedItem=e,this.onPeekItemSelected.emit(e.id)}peekItemsChanged(e){this.selectedList=[],e&&e.length>0&&(this.selectedList=e.map(e=>e.id)),this.onPeekItemsSelected.emit(this.selectedList)}loadMore(){this.totalPeekCount!==this.peekResults.length&&this.loadMoreClicked.emit()}updatePeek(e){this.peekList=this.updateList(e),this.updatePeekMessage(),this.clearSelectedItems&&(this.selectedList=[])}updatePeekMessage(){this.peekMessage=this.isLoading?this.LOADING_ELLIPSIS:this.allowMultipleConfigs||1===this.configService.selectedQueryConfigs.length?this.searchTerm.length<this.minimumPeekCharacters?this.minimumPeekCharacters>this.minReqSearchCharacters?this.sdaTranslateService.getFormatted("SEARCH_BAR_PEEK_START_TYPING","To search for matching data, enter at least {0} characters.",[this.minimumPeekCharacters.toString()]):this.sdaTranslateService.getFormatted("SEARCH_BAR_PEEK_START_TYPING_PREVIEW","To preview matching data, enter at least {0} characters.",[this.minimumPeekCharacters.toString()]):this.NO_RESULTS_FOUND:this.SEARCH_BAR_PEEK_SINGLE_QUERY_SCOPE}updateList(e){const t=[];return e&&e.forEach(e=>{e.id&&t.push(e)}),t}}return e.\u0275fac=function(t){return new(t||e)(n.Sb(s.a),n.Sb(a.a))},e.\u0275cmp=n.Mb({type:e,selectors:[["sda-peek-search-view"]],inputs:{peekResults:"peekResults",isMultiselectActive:"isMultiselectActive",isMultiselectEnabled:"isMultiselectEnabled",isSelectAllEnabled:"isSelectAllEnabled",minimumPeekCharacters:"minimumPeekCharacters",searchTerm:"searchTerm",isLoading:"isLoading",allowMultipleConfigs:"allowMultipleConfigs",enablePaging:"enablePaging",totalPeekCount:"totalPeekCount",clearSelectedItems:"clearSelectedItems"},outputs:{onPeekItemSelected:"onPeekItemSelected",onPeekItemsSelected:"onPeekItemsSelected",loadMoreClicked:"loadMoreClicked"},features:[n.Cb],decls:3,vars:3,consts:[["class","peek-list-info",4,"ngIf"],["class","peek-search-list","primaryTextProperty","displayName","secondaryTextProperty","secondaryDisplayName",3,"items","selectedItem","selectedItems","isMultiselectActive","isMultiselectEnabled","isSelectAllEnabled","selectAllText","enablePaging","selectedItemChange","selectedItemsChange","loadMoreTriggered",4,"ngIf"],["class","peek-search-list__empty",4,"ngIf"],[1,"peek-list-info"],["primaryTextProperty","displayName","secondaryTextProperty","secondaryDisplayName",1,"peek-search-list",3,"items","selectedItem","selectedItems","isMultiselectActive","isMultiselectEnabled","isSelectAllEnabled","selectAllText","enablePaging","selectedItemChange","selectedItemsChange","loadMoreTriggered"],[1,"peek-search-list__empty"]],template:function(e,t){1&e&&(n.Sc(0,c,2,3,"div",0),n.Sc(1,l,1,8,"sda-list-view",1),n.Sc(2,d,2,1,"p",2)),2&e&&(n.sc("ngIf",t.enablePaging&&t.peekList.length),n.Eb(1),n.sc("ngIf",t.peekList.length),n.Eb(1),n.sc("ngIf",!t.peekList.length))},directives:[o.t,r.a],styles:["[_nghost-%COMP%]   .peek-list-info[_ngcontent-%COMP%]{position:absolute;right:17px;bottom:0;padding:3px 6px;font-size:11px;font-weight:500;border-top-left-radius:4px;background-color:#cad0d7;z-index:100!important}[_nghost-%COMP%]   .peek-search-list[_ngcontent-%COMP%]{display:flex;flex:1 0 auto;min-height:80px;max-height:248px}@media screen and (min-width:59.375em){[_nghost-%COMP%]   .peek-search-list[_ngcontent-%COMP%]{max-height:269px}}[_nghost-%COMP%]   .peek-search-list__empty[_ngcontent-%COMP%]{flex:1;min-height:70px;padding:0 8px;font-size:14px;color:#333}[_nghost-%COMP%]   .peek-search-list[_ngcontent-%COMP%]     .list-base__items{height:180px;overflow-y:hidden}[_nghost-%COMP%]   .peek-search-list[_ngcontent-%COMP%]     .list-base__items cdk-virtual-scroll-viewport{height:180px}[_nghost-%COMP%]   .peek-search-list[_ngcontent-%COMP%]     .list-base__items cdk-virtual-scroll-viewport .cdk-virtual-scroll-content-wrapper{width:100%;padding-bottom:20px}"]}),e})()},Z9D8:function(e,t,i){"use strict";i.d(t,"a",(function(){return o}));var n=i("tk/3"),s=i("ADS0"),a=i("JrsU");class o extends Error{constructor(e,t,i,a){super(t),this.name="Error",this.userDetails=[],this.debugDetails=[],this.innerException=void 0,Object.setPrototypeOf(this,o.prototype),e&&(e.hasOwnProperty("ngDebugContext")&&delete e.ngDebugContext,e.hasOwnProperty("ngErrorLogger")&&delete e.ngErrorLogger,"string"==typeof e?this.handleStringException(e,t):e instanceof s.c?this.handleAuthenticationException(e,t):e instanceof n.c?this.handleResponseException(e,t):e instanceof o?this.handleClientException(e,t):e instanceof Error?this.handleError(e,t):this.handleUnknownErrorType(e,t)),i&&this.debugDetails.push({key:"class",value:i}),a&&this.debugDetails.push({key:"method",value:a})}toJSON(){return Object.assign({},this,{message:this.message?this.message.toString():"",stack:this.stack?this.stack.toString():""})}handleStringException(e,t){t?this.innerException=new o(e):this.message=e}handleError(e,t){t||this.getMessage(e,"No error message"),this.addDebugDetails(e,"Error")}handleClientException(e,t){this.innerException=e,this.statusCode=e.statusCode,this.getMessage(e,t),this.userDetails=e.userDetails}handleAuthenticationException(e,t){this.message=t||e.description,this.addDebugDetails(e,"AuthenticationError")}handleUnknownErrorType(e,t){t||(this.getMessage(e,t),this.message||(this.message=this.stringifyObject(e)))}pushExceptionToDebugDetails(e,t){this.debugDetails.push(new a.a(t,this.stringifyObject(e)))}stringifyObject(e){let t;try{t=JSON.stringify(e)}catch(i){t=this.getBasicObjectInformation(e)}return t}getBasicObjectInformation(e){const t={};for(const i in e)e.hasOwnProperty(i)&&"object"!=typeof e[i]&&(t[i]=e[i]);return JSON.stringify(t)}getMessage(e,t){this.message=e.message?e.message:t}addDebugDetails(e,t){e.stack&&this.debugDetails.push({key:"Stack",value:e.stack}),this.pushExceptionToDebugDetails(e,t)}handleResponseException(e,t){this.name="HTTP Error",t||this.createHttpException(e,t);const i=new a.a("Response Status Code",e.status.toString());this.userDetails.push(i),this.statusCode=e.status;const n=new a.a("Response Status Text",e.statusText);this.userDetails.push(n),this.statusText=e.statusText;const s=new a.a("Response Url",e.url);this.userDetails.push(s);const o=new a.a("Response Headers",JSON.stringify(e.headers));this.userDetails.push(o)}createHttpException(e,t){if(e.error){let t=e.error.error?e.error.error:e.error;if("string"==typeof t)try{t=JSON.parse(t)}catch(i){}t.hasOwnProperty("innererror")?this.message=this.getMessageFromInnerError(t):t.hasOwnProperty("InnerException")?this.message=this.getMessageFromInnerException(t):t.hasOwnProperty("error")&&(this.message=this.getMessageFromInnerError(t)),this.message||(this.message=t.message?t.message:t.ExceptionMessage?t.ExceptionMessage:e.message)}}getMessageFromInnerError(e){let t="";return e&&e.hasOwnProperty("innererror")&&e.innererror?t=this.getMessageFromInnerError(e.innererror):e&&e.hasOwnProperty("internalexception")&&e.internalexception?t=this.getMessageFromInternalException(e.internalexception):e&&e.hasOwnProperty("error")&&e.error?t=this.getMessageFromInnerError(e.error):e.hasOwnProperty("message")&&(t=e.message),t}getMessageFromInternalException(e){let t="";return e&&e.hasOwnProperty("internalexception")&&e.internalexception?t=this.getMessageFromInternalException(e.internalexception):e.hasOwnProperty("message")&&(t=e.message),t}getMessageFromInnerException(e){return e&&e.hasOwnProperty("InnerException")&&e.InnerException?this.getMessageFromInnerException(e.InnerException):e.hasOwnProperty("ExceptionMessage")?e.ExceptionMessage:e.hasOwnProperty("Message")?e.Message:""}}},ZQvh:function(e,t,i){"use strict";i.d(t,"a",(function(){return l}));var n=i("ofXK"),s=i("NFeN"),a=i("STbY"),o=i("l3mi"),r=i("83Gb"),c=i("fXoL");let l=(()=>{class e{}return e.\u0275mod=c.Qb({type:e}),e.\u0275inj=c.Pb({factory:function(t){return new(t||e)},imports:[[n.c,r.a,o.a,s.b,a.c]]}),e})()},ZW2Q:function(e,t,i){"use strict";i.d(t,"a",(function(){return n}));class n{constructor(e,t,i="",n=!1,s="",a=!0,o="",r="",c){this.obid=e,this.name=t,this.displayValue=i,this.isDisabled=n,this.description=s,this.isDescendant=a,this.uid=o,this.classDef=r,this.secondaryDisplayValue=c,this.displayValue||(this.displayValue=this.name)}}},"aT/X":function(e,t,i){"use strict";i.d(t,"a",(function(){return p}));var n=i("XNiG"),s=i("VRyK"),a=i("xgIS"),o=i("IzEk"),r=i("I9/b"),c=i("cee5"),l=i("dEBh"),d=i("hqbt"),h=i("Yiju"),u=i("fXoL");let p=(()=>{class e{constructor(e,t,i,s,a){this.dateService=e,this.securityService=t,this.timeoutService=i,this.localStorageService=s,this.windowService=a,this.SECONDS_BEFORE_EXPIRY_CHECK=60,this.MIN_TIMEOUT=3e4,this.onTimedOut$=new n.a,this.onTimedOutCountdown$=new n.a,this.idleTimeout=54e4,this.idleTimeoutTimeout=6e4,this.fileOpsActive=new Array,this.secondsBeforeExpiryCheck=1e3*this.SECONDS_BEFORE_EXPIRY_CHECK,this.keepAlive=!1,this.idleTimeoutCountdown=60,this.lastActiveTimeKey="lastActiveTime"}get onTimedOut(){return this.onTimedOut$.asObservable()}get onTimedOutCountdown(){return this.onTimedOutCountdown$.asObservable()}get lastActiveTime(){const e=this.localStorageService.getItem(this.lastActiveTimeKey),t=parseInt(e,10);return isNaN(t)?0:t}set lastActiveTime(e){this.localStorageService.setItem(this.lastActiveTimeKey,e.toString())}init(){this.stop(),this.addEventHandlers(),this.keepAlive=!1,Settings.application&&Settings.application.inactivityTimeout&&(Settings.application.inactivityTimeout<5&&(Settings.application.inactivityTimeout=5),this.idleTimeout=60*Settings.application.inactivityTimeout*1e3-this.idleTimeoutTimeout);const e=this.securityService.getAuthenticationDetails().authResponse.accessExpiration.toString();new this.dateService.date(e).getTime()-this.dateService.date.now()>this.secondsBeforeExpiryCheck?this.setRefreshTimeout():this.refreshAccessToken(),this.updateActivityTime()}stop(){this.removeEventHandlers(),this.clearTimeoutTimer(),this.clearIdleTimer(),this.keepAlive=!0,this.localStorageService.removeItem(this.lastActiveTimeKey)}addActiveFileOperation(){this.fileOpsActive.push(!0)}removeActiveFileOperation(){this.fileOpsActive.pop()}onResume(){this.clearTimeoutTimer(),this.updateActivityTime()}onLogOff(){this.stop(),this.onTimedOut$.next(!1),this.securityService.logoff()}hasActiveFileOperation(){return this.fileOpsActive.length>0}setRefreshTimeout(){const e=this.securityService.getAuthenticationDetails().authResponse.accessExpiration.toString();let t=new this.dateService.date(e).getTime()-this.dateService.date.now()-this.secondsBeforeExpiryCheck;t>2147483647&&(t=12e4),this.refreshTimer&&this.timeoutService.clearTimeout(this.refreshTimer),this.refreshTimer=this.timeoutService.setTimeout(()=>this.refreshAccessToken(),Math.max(this.MIN_TIMEOUT,t))}refreshAccessToken(){this.securityService.preemptiveRefreshToken().pipe(Object(o.a)(1)).subscribe(e=>{e&&this.setRefreshTimeout()})}updateActivityTime(){this.lastActiveTime=this.dateService.date.now(),this.refreshIdleTimer()}refreshIdleTimer(e){e||(e=this.idleTimeout),this.idleTimer&&this.clearIdleTimer(),this.idleTimeoutTimer||(this.idleTimer=this.timeoutService.setTimeout(()=>this.onIdleTimeout(),e))}clearIdleTimer(){this.idleTimer&&(this.timeoutService.clearTimeout(this.idleTimer),this.idleTimer=void 0)}clearTimeoutTimer(){this.idleTimeoutTimer&&(this.timeoutService.clearTimeout(this.idleTimeoutTimer),this.idleTimeoutTimer=void 0,this.clearCountdownInterval())}clearCountdownInterval(){this.idleTimeoutCountdownTimer&&(this.timeoutService.clearInterval(this.idleTimeoutCountdownTimer),this.idleTimeoutCountdownTimer=void 0)}onIdleTimeout(){this.keepAlive||this.hasActiveFileOperation()?this.refreshIdleTimer():this.lastActiveTime+this.idleTimeout<=this.dateService.date.now()?(this.idleTimeoutTimer=this.timeoutService.setTimeout(()=>this.onIdleTimeoutTimeout(),this.idleTimeoutTimeout),this.idleTimeoutCountdown=this.idleTimeoutTimeout/1e3,this.onDoCountdown(),this.idleTimeoutCountdownTimer=this.timeoutService.setInterval(()=>this.onDoCountdown(),1e3),this.onTimedOut$.next(!0)):this.idleTimeoutTimer=this.timeoutService.setTimeout(()=>this.onIdleTimeout(),this.lastActiveTime+this.idleTimeout-this.dateService.date.now())}onDoCountdown(){this.onTimedOutCountdown$.next(this.idleTimeoutCountdown),this.idleTimeoutCountdown--,this.idleTimeoutCountdown<0&&(this.idleTimeoutCountdown=0)}onIdleTimeoutTimeout(){this.onLogOff()}addEventHandlers(){const e=Object(s.a)(...["mousemove","keypress","touchstart"].map(e=>Object(a.a)(this.windowService.Window,e)));this.movementSubscription=e.subscribe(e=>{this.updateActivityTime()})}removeEventHandlers(){this.movementSubscription&&this.movementSubscription.unsubscribe()}}return e.\u0275fac=function(t){return new(t||e)(u.dc(r.a),u.dc(d.a),u.dc(c.a),u.dc(h.a),u.dc(l.a))},e.\u0275prov=u.Ob({token:e,factory:e.\u0275fac}),e})()},ac1k:function(e,t,i){"use strict";i.d(t,"a",(function(){return n}));class n{}},ayYE:function(e,t,i){"use strict";i.d(t,"a",(function(){return c}));var n=i("LRne"),s=i("lJxs"),a=i("5+tZ"),o=i("tce7"),r=i("fXoL");let c=(()=>{class e{constructor(e){this.columnSetDataService=e,this.columnSetsByUID={},this.columnSetsUIDsByRel={},this.columnSetsUIDsByName={},this.columnSetsUIDsByInterfaceDefUID={},this.columnSetsUIDsByClassDef={}}getColumnSetByRel(e){return this.columnSetsUIDsByRel[e]?Object(n.a)(this.columnSetsByUID[this.columnSetsUIDsByRel[e]]):this.columnSetDataService.GetColumnSetByNavigationPath(e).pipe(Object(s.a)(t=>(this.columnSetsUIDsByRel[e]=t.value.ColumnSetUID,this.columnSetsByUID[t.value.ColumnSetUID]=t.value,t.value)))}getColumnSetByInterfaceDefUID(e){return this.columnSetsUIDsByInterfaceDefUID[e]?Object(n.a)(this.columnSetsByUID[this.columnSetsUIDsByInterfaceDefUID[e]]):this.columnSetDataService.GetColumnSetByInterfaceDefUID(e).pipe(Object(s.a)(t=>(this.columnSetsUIDsByInterfaceDefUID[e]=t.value.ColumnSetUID,this.columnSetsByUID[t.value.ColumnSetUID]=t.value,t.value)))}getColumnSetByName(e){return this.columnSetsUIDsByName[e]?Object(n.a)(this.columnSetsByUID[this.columnSetsUIDsByName[e]]):this.columnSetDataService.GetColumnSetByName(e).pipe(Object(s.a)(t=>(this.columnSetsUIDsByName[e]=t.value.ColumnSetUID,this.columnSetsByUID[t.value.ColumnSetUID]=t.value,t.value)))}getColumnSetByUID(e){return this.columnSetsByUID[e]?Object(n.a)(this.columnSetsByUID[e]):this.columnSetDataService.GetColumnSetByUID(e).pipe(Object(s.a)(e=>(this.columnSetsByUID[e.value.ColumnSetUID]=e.value,e.value)))}getColumnSetUIDByClassDefOrClassification(e,t=""){return this.columnSetsUIDsByClassDef[e+t]?Object(n.a)(this.columnSetsByUID[this.columnSetsUIDsByClassDef[e+t]]):this.columnSetDataService.GetColumnSetUIDByClassDefOrClassification(e,t).pipe(Object(a.a)(i=>(this.columnSetsUIDsByClassDef[e+t]=i,this.getColumnSetByUID(i))))}}return e.\u0275fac=function(t){return new(t||e)(r.dc(o.a))},e.\u0275prov=r.Ob({token:e,factory:e.\u0275fac}),e})()},"b/tf":function(e,t,i){"use strict";i.d(t,"a",(function(){return r}));var n=i("2Vo4"),s=i("lJxs"),a=i("J7mc"),o=i("fXoL");let r=(()=>{class e{constructor(e){this.dataService=e,this.preferences=new n.a({})}get preferencesChanged$(){return this.preferences.asObservable()}getPreferences(){return this.dataService.get("User/SDAPreferences").pipe(Object(s.a)(e=>{this.preferences.next(this.formatPreferences(e))}))}updatePreferences(e){return this.dataService.post("User/SDAPreferences",JSON.stringify(e)).pipe(Object(s.a)(()=>this.preferences.next(e)))}getDisplayValueFromObject(e){return this.getDisplayValue(e.Name,e.Description?e.Description:e.CI_Description)}getDisplayValue(e,t=""){let i;switch(this.preferences.value.PickListDisplayOption){case"Name":i=e;break;case"Description":i=t||e;break;case"Both":i=e,t&&(i&&(i+=", "),i+=t);break;default:i=e}return i}formatPreferences(e){return e.DashboardIsDefaultHomePage=void 0!==e.DashboardIsDefaultHomePage&&"true"===e.DashboardIsDefaultHomePage.toString().toLowerCase(),e.SDXOpsOpenInfoMapInNewTab=void 0===e.SDXOpsOpenInfoMapInNewTab||"false"!==e.SDXOpsOpenInfoMapInNewTab.toString().toLowerCase(),e.SPFInfoMapNodeDisplayType=e.SPFInfoMapNodeDisplayType||"e1ClassdefDisplayName",e.ShowAllItemsOnUpdateReferencesDialog=void 0!==e.ShowAllItemsOnUpdateReferencesDialog&&"true"===e.ShowAllItemsOnUpdateReferencesDialog.toString().toLowerCase(),e}}return e.\u0275fac=function(t){return new(t||e)(o.dc(a.a))},e.\u0275prov=o.Ob({token:e,factory:e.\u0275fac}),e})()},biIz:function(e,t,i){"use strict";i.d(t,"a",(function(){return _}));var n=i("2Vo4"),s=i("XNiG"),a=i("VRyK"),o=i("LRne"),r=i("eIep"),c=i("lJxs"),l=i("vkgz"),d=i("Z9D8"),h=i("LUpO"),u=i("PEjJ"),p=i("HLw3"),g=i("A3La"),f=i("+eYH"),m=i("JrsU"),b=i("U7l/"),S=i("Xfz+"),v=i("fXoL");let _=(()=>{class e{constructor(e,t,i,a,o){this.odataService=e,this.dataRefreshService=t,this.todoListConfigService=i,this.batchRequestFactory=a,this.exceptionService=o,this.toDoListStepsCount$=new n.a(0),this.doesUserHasAccessToTodoList=!1,this.todoListClassDefColumnsets=[],this.refreshToDoListCount$=new s.a,this.changeTabIndexSubject=new s.a,this.initializeRefreshTodoListCount()}get onTabIndexUpdated$(){return this.changeTabIndexSubject.asObservable()}updateTabIndex(e){this.changeTabIndexSubject.next(e)}attachWFToMultipleObjects(e,t,i=""){let n;return n=""===i?this.buildbatchRequestService(e,t):this.buildbatchRequestServiceCopy(e,t,i),n.execute()}buildbatchRequestService(e,t){const i=this.batchRequestFactory.createBatchRequest(),n=i.createChangeset();return e.forEach(e=>{n.addPostRequest("AttachToDefaultWorkflow",{ObjectOBID:e,WorkflowNameOrUID:t})}),i.addChangeset(n),i}buildbatchRequestServiceCopy(e,t,i){const n=this.batchRequestFactory.createBatchRequest(),s=n.createChangeset();return e.forEach(e=>{s.addPostRequest("CopyWorkflowToItem",{targetOBID:e,sourceOBID:i,useTemplate:"copytemplate"===t})}),n.addChangeset(s),n}initializeRefreshTodoListCount(){this.refreshCountSubscription=Object(a.a)(this.dataRefreshService.refreshData$,this.refreshToDoListCount$,this.todoListConfigService.availableConfigsSubject$).pipe(Object(r.a)(()=>this.refreshToDoListItemsCount())).subscribe()}ngOnDestroy(){this.refreshCountSubscription.unsubscribe()}refreshToDoListCount(){this.refreshToDoListCount$.next()}signOffStep(e,t,i){return this.odataService.post("User/Intergraph.SPF.Server.API.Model.SignOffWorkflowStep()",JSON.stringify({stepOBIDs:e,signOffComment:t,messageToNextStep:i}))}rejectStep(e,t,i){return this.odataService.post("User/Intergraph.SPF.Server.API.Model.RejectWorkflowStep()",JSON.stringify({stepOBIDs:e,rejectComment:t,messageToNextStep:i}))}claimStep(e,t,i,n,s){return this.odataService.post("User/Intergraph.SPF.Server.API.Model.ClaimWorkflowStep()",JSON.stringify({stepOBIDs:e,claimComment:t,setDates:i,userRel:n,stepDefUID:s}))}reassignStepsToUser(e,t){return this.odataService.post("ReassignWorkflowStepsToUser",JSON.stringify({workFlowStepOBIDs:e,userOBID:t}))}reassignStepsToRole(e,t){return this.odataService.post("ReassignWorkflowStepsToRole",JSON.stringify({workFlowStepOBIDs:e,roleOBID:t}))}doNotShowRolesPane(e,t){return this.odataService.post("DoNotShowRolesPane",JSON.stringify({RoleNames:e,WorkFlowStepOBIDs:t})).pipe(Object(c.a)(e=>e.value))}getRoleOBIDs(e,t){const i=`GetRolesForWorkflowSteps?WorkFlowStepOBIDs=${JSON.stringify(e)}&RolesToDisplay='${t}'`;return this.odataService.get(i).pipe(Object(c.a)(e=>e.value.map(e=>e.OBID)))}addRecipientsToWorkflowStep(e,t,i,n,s){return this.odataService.post("AddRecipients",JSON.stringify({workFlowStepOBIDs:e,userOBIDs:t,workFlowTemplateName:i,stepDefName:n,relDefUID:s}))}attachWorkflow(e,t){return this.odataService.post("AttachToDefaultWorkflow",JSON.stringify({ObjectOBID:e,WorkflowNameOrUID:t})).pipe(Object(c.a)(e=>e.value))}refreshToDoListItemsCount(){const e=this.todoListConfigService.availableConfigs.map(e=>e.configUID);return this.doesUserHasAccessToTodoList=e.length>0,e.length?this.odataService.post("GetToDolistItemsCountByCreateConfig",JSON.stringify({ConfigUIDs:e})).pipe(Object(c.a)(e=>e?e.value:void 0),Object(l.a)(e=>{let t=0;e&&e.value&&(t=e.value),this.toDoListStepsCount$.next(t)})):(this.toDoListStepsCount$.next(0),Object(o.a)(void 0))}getClassDefTodoListColumnSet(e){return this.odataService.get("Objects?$filter=Class eq 'ClassDef' and UID eq '"+e+"'&$expand=SPFClassDefToDoListColumnSet_12").pipe(Object(c.a)(e=>{let t;if(e&&e.value&&e.value.length>0){const i=e.value[0].SPFClassDefToDoListColumnSet_12;i&&i.UID&&(t=i.UID)}return t}))}getColumnSetByNameOrUID(e){return this.odataService.get(`Objects?$filter=contains(Interfaces, 'ISPFColumnSet') and ((Name eq '${e}') or (UID eq '${e}'))&$select=UID`).pipe(Object(c.a)(e=>{let t;return e&&e.value&&1===e.value.length&&(t=e.value[0].UID),t}))}getVersionObjects(e){const t=this.batchRequestFactory.createBatchRequest(),i=`(${e.map(e=>`OBID eq '${e.obid}'`).join(" or ")})`;return t.addGetRequest("Objects?$filter="+i,!1,e[0].config),t.execute().pipe(Object(c.a)(e=>{const t=[];return e&&e.length&&e[0].data&&e[0].data.value&&e[0].data.value.forEach(e=>{t.push(new f.a(e.OBID,e.Name,e.Config?e.Config:b.b))}),t}))}getToDolistItemsCountByConfigandClassDef(){const e=this.todoListConfigService.availableConfigs.map(e=>e.configUID),t=this.batchRequestFactory.createBatchRequest();return e.forEach(e=>{t.addGetRequest("GetToDolistItemsCountByConfigandClassDef",!0,e)}),t.execute().pipe(Object(c.a)(e=>{const t=[];return e.forEach(e=>{if(e.statusCode<200||e.statusCode>=300)if(e.data&&e.data.error&&e.data.error.innererror&&e.data.error.innererror.message){const t=new d.a(e.data.error.innererror.message,void 0);this.exceptionService.handleException(t)}else this.exceptionService.handleException(e.exception);else if(e&&e.data&&e.data.value){const i=JSON.parse(e.data.value);t.push(...i)}}),this.buildToDoListClassDefColumnsetCollection(t),t}))}getColumnsetUIDByClassDef(e){const t=this.todoListClassDefColumnsets.find(t=>t.key===e);if(t&&t.value)return t.value}buildToDoListClassDefColumnsetCollection(e){e&&e.forEach(e=>{e.Value.forEach(e=>{e.ColumnSetUID&&-1===this.todoListClassDefColumnsets.findIndex(t=>t.key===e.Classdef)&&this.todoListClassDefColumnsets.push(new m.a(e.Classdef,e.ColumnSetUID))})})}}return e.\u0275fac=function(t){return new(t||e)(v.dc(g.a),v.dc(u.a),v.dc(S.a),v.dc(p.a),v.dc(h.a))},e.\u0275prov=v.Ob({token:e,factory:e.\u0275fac}),e})()},blvr:function(e,t,i){"use strict";i.d(t,"a",(function(){return s}));var n=i("fXoL");let s=(()=>{class e extends class{constructor(){this.filters=[]}}{constructor(){super(),this.pageSize=Settings.application.defaultPageSize,this.page=1,this.ignoreQueryBySelectedConfig=!1,this.relatedItemFilters=[]}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=n.Ob({token:e,factory:e.\u0275fac}),e})()},bm9C:function(e,t,i){"use strict";i.d(t,"a",(function(){return c}));var n=i("ONOH"),s=i("A1MZ"),a=i("Ejbi"),o=i("fXoL"),r=i("tyNb");let c=(()=>{class e{constructor(e,t,i,n){this.router=e,this.configService=t,this.guidService=i,this.sdaTranslateService=n,this.ADVANCED_SEARCH=this.sdaTranslateService.get("ADVANCED_SEARCH","Advanced Search")}routeToQueries(e={}){e=Object.assign({id:this.guidService.getGuid()},e),this.router.navigate(["/query",e])}playQuery(e){this.router.navigate(["/results",{queryFilter:JSON.stringify(e),config:JSON.stringify(this.configService.selectedQueryConfigs),title:this.ADVANCED_SEARCH,id:this.guidService.getGuid()}])}}return e.\u0275fac=function(t){return new(t||e)(o.dc(r.g),o.dc(n.a),o.dc(s.a),o.dc(a.a))},e.\u0275prov=o.Ob({token:e,factory:e.\u0275fac}),e})()},"c+03":function(e,t,i){"use strict";i.d(t,"a",(function(){return a}));var n=i("2Vo4"),s=i("fXoL");let a=(()=>{class e{constructor(){this.loadingOverlayUpdate=new n.a({isLoading:!1})}get loadingOverlayChanged$(){return this.loadingOverlayUpdate.asObservable()}showLoadingOverlay(e){this.loadingOverlayUpdate.next({isLoading:!0,message:e})}hideLoadingOverlay(){this.loadingOverlayUpdate.next({isLoading:!1})}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=s.Ob({token:e,factory:e.\u0275fac}),e})()},cee5:function(e,t,i){"use strict";i.d(t,"a",(function(){return s}));var n=i("fXoL");let s=(()=>{class e{setTimeout(e,t=0){return window.setTimeout(e,t)}clearTimeout(e){window.clearTimeout(e)}setInterval(e,t=0){return window.setInterval(e,t)}clearInterval(e){window.clearInterval(e)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=n.Ob({token:e,factory:e.\u0275fac}),e})()},"ch+g":function(e,t,i){"use strict";i.d(t,"a",(function(){return C}));var n=i("tk/3"),s=i("tyNb"),a=i("cp0P"),o=i("lJxs"),r=i("/uUt"),c=i("pLZG"),l=i("4B5/"),d=i("5Viu"),h=i("Z9D8"),u=i("dEBh"),p=i("NYVZ"),g=i("tCxB"),f=i("J7mc"),m=i("A3La"),b=i("hqbt"),S=i("Ejbi"),v=i("eC4p"),_=i("ONOH"),O=i("5vhC"),I=i("fXoL");let C=(()=>{class e{constructor(e,t,i,n,s,a,o,r,c,l,d,h){this.actionMenuProvider=e,this.dynamicLoaderService=t,this.loggingService=i,this.odataService=n,this.dataService=s,this.windowService=a,this.sdaTranslationService=o,this.securityService=r,this.configService=c,this.rolesService=l,this.initializationStatusService=d,this.router=h,this.initialized=!1}initialize(){if(this.windowService.Window.self!==this.windowService.Window.top)if(this.windowService.Window.document.referrer){const e=this.getUrlOrigin(this.windowService.Window.document.referrer);Object(a.a)(this.dynamicLoaderService.importPostRobot(),this.validateDomain(e)).subscribe(([t,i])=>{if(i)this.initializeSecureParentCommunication(t,e);else{const e=this.sdaTranslationService.get("EMBEDDED_WHITELIST","Embedded mode: The domain has not be whitelisted");this.handleException(new h.a(e))}},e=>{this.handleException(new h.a(e))})}else{const e=this.sdaTranslationService.get("EMBEDDED_REFERRER","Embedded mode: No document referrer. Ensure both sites are https");this.handleException(new h.a(e))}}send(e,t){this.initialized&&this.client.send(e,t)}setUpListener(e,t){if(this.initialized)return this.listener.on(e,t)}validateDomain(e){return this.dataService.post("ValidateDomain",JSON.stringify({domain:e})).pipe(Object(o.a)(e=>e.value))}initializeSecureParentCommunication(e,t){try{this.client=e.client({window:this.windowService.Window.parent,domain:t}),this.listener=e.listener({window:this.windowService.Window.parent,domain:t}),this.initializeLoginHandler(),this.initializeSelectionChangedHandler(),this.initializeQueryContextHandler(),this.initializeRouteChangedHandler(),this.initializeLogOutHandler(),this.initializeGetRequestHandler(),this.initializePostRequestHandler(),this.initialized=!0}catch(i){this.handleException(new h.a(i))}}initializeLoginHandler(){this.initializationStatusService.isInitialized.subscribe(e=>{e.isInitialized&&this.client.send("ready")})}initializeSelectionChangedHandler(){this.actionMenuProvider.onActionMenuItemsUpdated$.pipe(Object(r.a)((e,t)=>e.length===t.length)).subscribe(e=>{this.contextObjectsChanged({data:e})},e=>{this.handleException(new h.a(e))})}initializeRouteChangedHandler(){this.router.events.pipe(Object(c.a)(e=>e instanceof s.d)).subscribe(e=>{this.client.send("route",{url:e.urlAfterRedirects})})}getUrlOrigin(e){const t=new v.a,i=t.getURLHref(e,this.windowService);return t.getURLOrigin(i)}contextObjectsChanged(e){e.data&&e.data.forEach(e=>{e.data&&Object.keys(e.data).forEach(t=>{(t.startsWith("_")||"uid"===t||"dirty"===t||"dirtyFields"===t)&&delete e.data[t]})}),this.client.send("contextObjectsChanged",e)}initializeQueryContextHandler(){this.listener.on("queryContext",()=>({queryConfig:this.configService.selectedQueryConfigs,createConfig:this.configService.selectedCreateConfig,queryBySelectedConfigsOnly:this.configService.queryBySelectedConfigs,selectedRoles:this.rolesService.selectedRoles.map(e=>e.RoleUID)}))}initializeGetRequestHandler(){this.listener.on("query",e=>{let t=new n.d;return e.data.headers&&e.data.headers.forEach(e=>{t=t.append(e.key,e.value)}),this.performGet(e.data.query,t).toPromise()})}performGet(e,t){return this.odataService.get(e,void 0,!1,void 0,t).pipe(Object(o.a)(e=>e.originalResponse))}initializePostRequestHandler(){this.listener.on("post",e=>{let t=new n.d;return e.data.headers&&e.data.headers.forEach(e=>{t=t.append(e.key,e.value)}),this.performPost(e.data.query,e.data.content,t).toPromise()})}performPost(e,t,i){return this.odataService.post(e,t,void 0,void 0,void 0,i).pipe(Object(o.a)(e=>e.originalResponse))}initializeLogOutHandler(){this.securityService.onLogout$.subscribe(()=>{this.client.send("logout")})}handleException(e){this.loggingService.error(e),console.error(e.message)}}return e.\u0275fac=function(t){return new(t||e)(I.dc(l.a),I.dc(p.a),I.dc(g.a),I.dc(m.a),I.dc(f.a),I.dc(u.a),I.dc(S.a),I.dc(b.a),I.dc(_.a),I.dc(O.a),I.dc(d.a),I.dc(s.g))},e.\u0275prov=I.Ob({token:e,factory:e.\u0275fac}),e})()},cooZ:function(e,t,i){"use strict";i.d(t,"a",(function(){return h}));var n=i("fXoL"),s=i("Z9D8"),a=i("LUpO"),o=i("jNCI"),r=i("dEBh"),c=i("Ejbi"),l=i("41Lq"),d=i("jhN1");let h=(()=>{class e{constructor(e,t,i,n,s,a){this.exceptionService=e,this.notificationService=t,this.windowService=i,this.sdaTranslateService=n,this.domSanitizer=s,this.modalService=a,this.LAUNCH_URL_INVALID_URL=this.sdaTranslateService.get("LAUNCH_URL_INVALID_URL","The URL is not set on method argument 1"),this.LAUNCH_URL_INVALID_ARG=this.sdaTranslateService.get("LAUNCH_URL_INVALID_ARG","Found an invalid argument on method"),this.LAUNCH_URL_ERROR=this.sdaTranslateService.get("LAUNCH_URL_ERROR","An error occurred while retrieving the URL"),this.LAUNCH_URL_SUCCESS=this.sdaTranslateService.get("LAUNCH_URL_SUCCESS","Enable popups, if URL is not launched"),this.LAUNCH_UNSAFE_URL_TITLE=this.sdaTranslateService.get("LAUNCH_UNSAFE_URL_ALERT_TITLE","Attempt to launch Unsafe URL"),this.LAUNCH_UNSAFE_URL_MESSAGE=this.sdaTranslateService.get("LAUNCH_UNSAFE_URL_ALERT_MESSAGE","Proceed with caution as this URL can potentially be unsafe"),this.PROCEED=this.sdaTranslateService.get("PROCEED","PROCEED"),this.CANCEL=this.sdaTranslateService.get("CANCEL","CANCEL")}launchURLInBrowser(e,t,i,n){let s,a;const o=i&&["get","post"].includes(i.toLowerCase())?i:"get";t&&"open"===t.toLowerCase()?(s="newWindow",a=!0):(s=n?"_self":"_blank",a=!1),"get"===o.toLowerCase()?this.openUrlInBrowserWindow(e,a,s):this.launchURLWithPostMethod(e,a,s),this.notificationService.info(this.LAUNCH_URL_SUCCESS)}hasValidMethodParams(e){const t=e.apiParam1;let i=!0;if(t){if(!(t.toLowerCase().includes("obj.")||t.toLowerCase().includes("obj->")||t.toLowerCase().includes("env."))){i=!1;const s=this.domSanitizer.sanitize(n.K.URL,t);this.launchURLInBrowser(s,e.apiParam2,e.apiParam3)}}else i=!1,this.exceptionService.handleException(new s.a(this.LAUNCH_URL_INVALID_URL+": "+e.name));return i}getQueryStringParams(e){let t=[],i="";return(e=decodeURI(e)).indexOf("?")>0?i=e.substring(e.indexOf("?")+1):e.indexOf("/~")>0&&(i=e.substring(e.indexOf("/~")+1)),i&&(t=i.split("&")),t}validateProtocol(e){return e.includes("://")?e:`${location.protocol}//${e}`}launchURL(e,t,i){if(e&&e.length>0){const n=this.checkURLUsingSanitizer(e);!i&&n&&n.startsWith("unsafe:")?this.modalService.confirm(this.LAUNCH_UNSAFE_URL_TITLE,this.LAUNCH_UNSAFE_URL_MESSAGE,this.PROCEED,this.CANCEL).then(i=>{i&&this.launchURLInBrowser(e," "," ",t)}):this.launchURLInBrowser(e," "," ",t)}}checkURLUsingSanitizer(e){return this.domSanitizer.sanitize(n.K.URL,e)}openUrlInBrowserWindow(e,t,i,n=!0){let s="";t&&(s="toolbar=yes,resizable=yes,width:800,height:800"),n&&this.windowService.Window.open(e,i,s)}launchURLWithPostMethod(e,t,i,s="post"){let a=`<form name="launchURL" action="${e.split("?")[0]}" target="${i}" method="${s}"\n                        onsubmit="${this.openUrlInBrowserWindow("",t,i,!("_blank"===i))}">`;const o=this.getQueryStringParams(e);o&&o.length>0&&o.forEach(e=>{const t=e.substring(0,e.indexOf("=")),i=e.substring(e.indexOf("=")+1);if(t){const e=this.domSanitizer.sanitize(n.K.HTML,t),s=this.domSanitizer.sanitize(n.K.HTML,i);a+=`<input type="hidden" name="${e}" value="${s}"/>`}}),a+="</form>",$("body").append(a),$("form").submit(),setTimeout(()=>{$("form").remove()},100)}}return e.\u0275fac=function(t){return new(t||e)(n.dc(a.a),n.dc(l.a),n.dc(r.a),n.dc(c.a),n.dc(d.b),n.dc(o.a))},e.\u0275prov=n.Ob({token:e,factory:e.\u0275fac}),e})()},crnd:function(e,t,i){var n={"src/app/core/admin/apis/admin-unlock-user/admin-unlock-user.api.module":["aPtu",72],"src/app/core/admin/apis/copy-access/copy-access.api.module":["1YVQ",0,1,2,5,12,22,21,73],"src/app/core/admin/apis/regenerate-metadata/regenerate-metadata.api.module":["hFAM",75],"src/app/core/crud/apis/delete-terminate-object/delete-terminate-object.api.module":["PNap",77],"src/app/core/crud/apis/details/details.api.module":["IJ3p",78],"src/app/core/crud/routes/relationship-builder/relationship-builder.routing.module":["o/i9",0,1,7,9,45,57,89],"src/app/core/crud/routes/update-modal/edit-obj-modal.api.module":["sl8g",0,1,2,3,4,5,6,7,8,9,11,10,13,12,14,15,16,17,18,19,20,22,23,39,21,92],"src/app/core/documents/apis/cancel-uncanceldoc/cancel-uncanceldoc.api.module":["TjoW",98],"src/app/core/documents/apis/signoff-undosignoffdoc/signoff-undosignoffdoc.api.module":["Oisz",2,3,6,11,13,21,100],"src/app/core/documents/apis/signoff-with-form/signoff-with-form.api.module":["iRTB",0,1,2,3,4,5,6,7,8,9,11,10,13,12,14,15,16,17,18,19,20,101],"src/app/core/enterprise-view/apis/view/modules/enterprise-view.api.module":["vLWg",0,1,2,3,4,5,6,8,12,22,25,26,33,40,47,104],"src/app/core/external/external.api.module":["8Kl+",21,105],"src/app/core/files/apis/copy-to-local-file/copy-to-local-file.api.module":["y0EP",21,108],"src/app/core/files/apis/edit-files/edit-files.api.module":["uNF7",2,3,6,11,13,21,109],"src/app/core/files/apis/edit-files/undo-edit-files.api.module":["Y6IC",2,3,6,11,13,21,110],"src/app/core/files/apis/generate-merged-rendition/generate-merged-rendition.api.module":["lpjF",111],"src/app/core/files/apis/generate-rendition/generate-rendition.api.module":["8SWT",112],"src/app/core/files/apis/generate-thumbnail/generate-thumbnail.api.module":["Z/rN",113],"src/app/core/files/routes/update-references/update-references.api.module":["DH1Q",2,3,6,117],"src/app/core/launch-url/launch-url-from-fs/launch-url-from-fs.api.module":["nF57",21,122],"src/app/core/launch-url/launch-url-with-dynamic-args/launch-url-with-dynamic-args.api.module":["dslb",123],"src/app/core/list-edit/apis/list-edit-uncontrolled-items/list-edit-uncontrolled-items.api.module":["hx4D",124],"src/app/core/query-entity/apis/query-entity/query-entity.api.module":["s3kq",130],"src/app/core/reports/apis/exchange-data/exchange-data.api.module":["0jti",132],"src/app/core/reports/apis/execute-saved-report/execute-saved-report.api.module":["zbG/",21,133],"src/app/core/reports/apis/openxml-wordreport/openxml-wordreport.api.module":["aBuU",134],"src/app/core/reports/apis/workflow-details-report/workflow-details-report.api.module":["Savy",135],"src/app/core/scheduler/scheduler.api.module":["bh96",140],"src/app/core/share-file/share-file.api.module":["whq/",147],"src/app/core/sharepoint/apis/sharepoint-create-document.api/sharepoint-create-document.api.module":["Rm0y",0,1,2,3,6,7,11,13,14,148],"src/app/core/sharepoint/apis/sharepoint-download-file.api/sharepoint-download-file.api.module":["6vcO",149],"src/app/core/sharepoint/apis/sharepoint-view-native.api/sharepoint-view-native.api.module":["TV4q",150],"src/app/core/shortcuts/apis/share-url/share-url.api.module":["b8pl",151],"src/app/core/todo-list/apis/accept-step/accept-step.api.module":["xwrg",21,154],"src/app/core/todo-list/apis/claim-step/claim-step.api.module":["xsw9",155],"src/app/core/todo-list/apis/reject-step/reject-step.api.module":["GoF4",21,156],"src/app/core/transmittals/api/cancel-uncanceltransmittal/cancel-uncanceltransmittal.api.module":["osi7",161],"src/app/core/workflow/apis/attach-workflow/attach-workflow.api.module":["2qhE",163],"src/app/modules/collaboration/client-apis/handover-request/handover-request.api.module":["cDey",0,1,2,3,4,5,6,7,8,9,11,10,13,12,14,15,16,17,18,19,20,22,58,165],"src/app/modules/collaboration/client-apis/manage-markup-layers/manage-markup-layers.api.module":["w0V/",0,1,2,3,4,5,6,7,8,9,11,10,13,12,14,15,16,17,18,19,20,22,23,24,166],"src/app/modules/collaboration/client-apis/moc/apis/conflict-resolution/conflict-resolution.api.module":["VgGA",0,1,2,3,4,5,6,7,8,9,11,10,13,12,14,15,16,17,18,19,20,22,23,24,25,26,29,53,168],"src/app/modules/collaboration/client-apis/moc/apis/impact-analysis/impact-analysis.api.module":["UH3R",0,1,2,3,4,5,6,7,8,9,11,10,13,12,14,15,16,17,18,19,20,22,23,24,26,29,45,57,169],"src/app/modules/collaboration/client-apis/register-for-interest/register-for-interest.api.module":["DR4F",170],"src/app/modules/concurrent-engineering/apis/cancel-project/cancel-project.api.module":["2I//",175],"src/app/modules/concurrent-engineering/apis/change-config-status/change-config-status.api.module":["iZ91",176],"src/app/modules/concurrent-engineering/sync/sync-obj.api.module":["QeWr",0,1,2,3,4,5,10,21,178],"src/app/modules/datacapture/client-apis/content-extraction/content-extraction.api.module":["xJDM",180],"src/app/modules/integration/apis/change-action/cancel-change-action/cancel-change-action.api.module":["7f4h",184],"src/app/modules/integration/apis/inconsistency-report/inconsistency-report-document/inconsistency-report-document.api.module":["GUGl",21,185],"src/app/modules/integration/apis/inconsistency-report/inconsistency-report-query/inconsistency-report-query.api.module":["QxEa",21,186],"src/app/modules/integration/apis/inconsistency-report/inconsistency-report-shared-object/inconsistency-report-shared-object.api.module":["uNlo",21,187],"src/app/modules/integration/apis/inconsistency-report/sio-inconsistency-report-query/sio-inconsistency-report-query.api.module":["Z7kz",21,188],"src/app/modules/integration/apis/regenerate-common-schema/regenerate-common-schema.api.module":["mgO6",189],"src/app/modules/integration/apis/register-authoring-tool/register-authouring-tool.api.module":["96kg",190],"src/app/modules/integration/apis/relate-objects-to-work-area/relate-objects-to-work-area.api.module":["dpqg",191],"src/app/modules/sap/apis/sapsync/sap-sync.api.module":["Ja6F",193],"src/app/modules/sdv/routes/job-management/apis/sdv-job-approve/sdv-job-approve.api.module":["b2Ep",194],"src/app/modules/sdv/routes/job-management/apis/sdv-job-delete/sdv-job-delete.api.module":["fqF+",195],"src/app/modules/sdv/routes/job-management/apis/sdv-job-download-validation/sdv-job-download-validation.api.module":["0dmP",21,196],"src/app/modules/sdv/routes/job-management/apis/sdv-job-view-summary/sdv-job-view-summary.api.module":["w3Ki",21,197],"src/app/modules/truview/apis/tvg-synchronize/tvg-synchronize.api.module":["05aZ",50,202],"src/app/modules/truview/apis/tvg-view-tag-in-laserscan/tvg-view-tag-in-laserscan.api.module":["ryQ+",203],"src/app/modules/view-and-navigation/apis/clear-brava-cache/clear-brava-cache.api.module":["jVTc",206],"src/app/modules/view-and-navigation/apis/navigate/navigate.api.module":["OTy2",207],"src/app/modules/view-and-navigation/apis/view-batch-rendition-log/view-batch-rendition-log.api.module":["UsQt",208],"src/app/modules/view-and-navigation/apis/view-in-document/view-in-document.api.module":["1EQZ",34,209],"src/app/modules/view-and-navigation/apis/view-in-smartreview/view-in-smartreview.api.module":["0pPS",34,41,21,210],"src/app/modules/view-and-navigation/apis/view-in-visual-report/view-in-visual-report.api.module":["swBS",34,211]};function s(e){if(!i.o(n,e))return Promise.resolve().then((function(){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}));var t=n[e],s=t[0];return Promise.all(t.slice(1).map(i.e)).then((function(){return i(s)}))}s.keys=function(){return Object.keys(n)},s.id="crnd",e.exports=s},d09n:function(e,t,i){"use strict";i.d(t,"a",(function(){return a}));var n=i("J7mc"),s=i("fXoL");let a=(()=>{class e{constructor(e){this.dataService=e}GetDisplayNames(e,t,i){return this.dataService.post("GetTreeViewColumnSet",JSON.stringify({ObjectObidAndDomains:e}),t,void 0,i,void 0,!0)}}return e.\u0275fac=function(t){return new(t||e)(s.dc(n.a))},e.\u0275prov=s.Ob({token:e,factory:e.\u0275fac}),e})()},d2KQ:function(e,t,i){"use strict";i.d(t,"a",(function(){return f}));var n=i("XNiG"),s=i("z6cu"),a=i("lJxs"),o=i("JIr8"),r=i("vkgz"),c=i("Z9D8"),l=i("HLw3"),d=i("J7mc"),h=i("Ejbi"),u=i("U7l/"),p=i("ONOH"),g=i("fXoL");let f=(()=>{class e{constructor(e,t,i,s){this.dataService=e,this.batchRequestFactory=t,this.configService=i,this.sdaTranslateService=s,this.setRolesSubject=new n.a}get setRolesChange$(){return this.setRolesSubject.asObservable()}getRoles(){const e=this.batchRequestFactory.createBatchRequest();return 0===this.configService.selectedQueryConfigs.length?e.addGetRequest("User/Roles",!0,u.b):this.configService.selectedQueryConfigs.forEach(t=>{e.addGetRequest("User/Roles",!0,t)}),e.execute().pipe(Object(a.a)(e=>{const t=[];return e.forEach(e=>{if(e.statusCode<200||e.statusCode>=300)throw new c.a(this.sdaTranslateService.get("ROLES_GET_STATUS_ERROR","Bad status code retrieving roles"));e.data.value&&e.data.value.forEach(e=>{let i=!1;t.forEach(t=>{t.RoleUID===e.RoleUID&&(e.Selected&&(t.Selected=e.Selected),i=!0)}),i||t.push(e)})}),t}),Object(o.a)(e=>Object(s.a)(e instanceof c.a?e:this.sdaTranslateService.get("ROLES_GET_GENERIC_ERROR","Error getting roles"))))}setRoles(e){return this.dataService.post("User/Roles",JSON.stringify(e)).pipe(Object(r.a)(()=>this.setRolesSubject.next()))}}return e.\u0275fac=function(t){return new(t||e)(g.dc(d.a),g.dc(l.a),g.dc(p.a),g.dc(h.a))},e.\u0275prov=g.Ob({token:e,factory:e.\u0275fac}),e})()},dEBh:function(e,t,i){"use strict";i.d(t,"a",(function(){return s}));var n=i("fXoL");let s=(()=>{class e{get Window(){return window}get EVENT_LISTENER_ARGS(){return{capture:!0,passive:!0}}get LEGACY_EVENT_LISTENER_ARGS(){return!0}isBrowserIE(){const e=this.Window.navigator.userAgent;return e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0}isDeviceIos(){return/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream}isDeviceAndroid(){return/Android/.test(navigator.userAgent)&&!window.MSStream}isDeviceMobile(){return/Android|Blackberry|iPad|iPhone|iPod|Opera Mini|IEMobile/.test(navigator.userAgent)&&!window.MSStream}isDeviceMac(){return/Macintosh/.test(navigator.userAgent)&&!window.MSStream}ieSaveArrayBuffer(e,t){const i=new Uint8Array(e),n=new Blob([i]);this.ieSaveArrayBlob(n,t)}ieSaveArrayBlob(e,t){window.navigator.msSaveOrOpenBlob(e,t)}openWindow(e){e=encodeURI(e),this.Window.open(e)}createUrlFromBlob(e){return window.URL.createObjectURL(e)}getBrowserEventListenerArgs(){let e=!0;try{const t=Object.defineProperty({},"passive",{get:()=>{e=!0}});this.Window.addEventListener("test",t,t),this.Window.removeEventListener("test",t,t)}catch(t){e=!1}return e?this.EVENT_LISTENER_ARGS:this.LEGACY_EVENT_LISTENER_ARGS}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=n.Ob({token:e,factory:e.\u0275fac}),e})()},dO6S:function(e,t,i){"use strict";i.d(t,"a",(function(){return s}));var n=i("fXoL");let s=(()=>{class e{constructor(e,t){this.element=e,this.changeDetection=t}ngOnChanges(e){e.sdaFocus&&(this.element.nativeElement.focus(),this.changeDetection.detectChanges())}}return e.\u0275fac=function(t){return new(t||e)(n.Sb(n.l),n.Sb(n.h))},e.\u0275dir=n.Nb({type:e,selectors:[["","sdaFocus",""]],inputs:{sdaFocus:"sdaFocus"},features:[n.Cb]}),e})()},e8r8:function(e,t,i){"use strict";i.d(t,"a",(function(){return F}));var n=i("LRne"),s=i("HDdC"),a=i("Cfvw"),o=i("eIep"),r=i("lJxs"),c=i("bOdf"),l=i("IAdc"),d=i("Z9D8"),h=i("LUpO"),u=i("i8JG"),p=i("ESHU"),g=i("+ooB"),f=i("jNCI"),m=i("Ejbi"),b=i("41Lq"),S=i("8ihU"),v=i("IUya"),_=i("fXoL"),O=i("DjP+"),I=i("O6oy"),C=i("+0xr"),T=i("ofXK");function E(e,t){if(1&e&&(_.Yb(0,"mat-header-cell"),_.Uc(1),_.Xb()),2&e){const e=_.lc();_.Eb(1),_.Wc(" ",e.FILE_DOWNLOAD_HEADER_FILE," ")}}function y(e,t){if(1&e&&(_.Yb(0,"mat-cell"),_.Yb(1,"a",9),_.Uc(2),_.Xb(),_.Xb()),2&e){const e=t.$implicit;_.Eb(1),_.sc("href",e.URL,_.Mc)("download",e.Name),_.Eb(1),_.Vc(e.Name)}}function P(e,t){if(1&e&&(_.Yb(0,"mat-header-cell"),_.Uc(1),_.Xb()),2&e){const e=_.lc(2);_.Eb(1),_.Wc(" ",e.FILE_DOWNLOAD_HEADER_SIZE," ")}}function x(e,t){if(1&e&&(_.Yb(0,"mat-cell"),_.Uc(1),_.Xb()),2&e){const e=t.$implicit;_.Eb(1),_.Wc(" ",e.ReadableContentLength," ")}}function A(e,t){1&e&&(_.Wb(0,10),_.Sc(1,P,2,1,"mat-header-cell",4),_.Sc(2,x,2,1,"mat-cell",5),_.Vb())}function w(e,t){1&e&&_.Tb(0,"mat-header-row")}function M(e,t){1&e&&_.Tb(0,"mat-row")}let D=(()=>{class e extends S.a{constructor(e,t){super(e),this.sdaTranslateService=t,this.FILE_DOWNLOAD_PROPERTIES_TITLE=this.sdaTranslateService.get("FILE_DOWNLOAD_PROPERTIES_TITLE","A large file has been detected; for each of the following files use your browser's 'Save As' functionality to download them."),this.FILE_DOWNLOAD_HEADER_FILE=this.sdaTranslateService.get("FILE_DOWNLOAD_HEADER_FILE","File"),this.FILE_DOWNLOAD_HEADER_SIZE=this.sdaTranslateService.get("FILE_DOWNLOAD_HEADER_SIZE","Size")}ngOnInit(){this.data=this.getData(),this.setDisplayedColumns()}ok(){const e=new v.a(!0);this.closeModal.next(e)}setDisplayedColumns(){this.displayedColumns=["URL"],this.data.showFileSizes&&this.displayedColumns.push("ReadableContentLength")}}return e.\u0275fac=function(t){return new(t||e)(_.Sb(f.a),_.Sb(m.a))},e.\u0275cmp=_.Mb({type:e,selectors:[["ng-component"]],features:[_.Bb],decls:9,vars:9,consts:[[1,"file-download-title"],[3,"name","isOpen","data","isCollapsible"],[3,"dataSource"],["matColumnDef","URL"],[4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","ReadableContentLength",4,"ngIf"],[4,"matHeaderRowDef","matHeaderRowDefSticky"],[4,"matRowDef","matRowDefColumns"],[3,"href","download"],["matColumnDef","ReadableContentLength"]],template:function(e,t){1&e&&(_.Yb(0,"uxt-property-grid",0),_.Tb(1,"uxt-property-section",1),_.Xb(),_.Yb(2,"mat-table",2),_.Wb(3,3),_.Sc(4,E,2,1,"mat-header-cell",4),_.Sc(5,y,3,3,"mat-cell",5),_.Vb(),_.Sc(6,A,3,0,"ng-container",6),_.Sc(7,w,1,0,"mat-header-row",7),_.Sc(8,M,1,0,"mat-row",8),_.Xb()),2&e&&(_.Eb(1),_.sc("name",t.FILE_DOWNLOAD_PROPERTIES_TITLE)("isOpen",!1)("data",t.data)("isCollapsible",!1),_.Eb(1),_.sc("dataSource",t.data.files),_.Eb(4),_.sc("ngIf",t.data.showFileSizes),_.Eb(1),_.sc("matHeaderRowDef",t.displayedColumns)("matHeaderRowDefSticky",!0),_.Eb(1),_.sc("matRowDefColumns",t.displayedColumns))},directives:[O.a,I.a,C.j,C.c,C.e,C.b,T.t,C.g,C.i,C.d,C.a,C.f,C.h],styles:[".file-download-title[_ngcontent-%COMP%]{flex-shrink:0}"]}),e})();class N{constructor(e,t){this.files=e,this.showFileSizes=t}}var R=i("c+03"),L=i("qXoz");let F=(()=>{class e{constructor(e,t,i,n,s,a,o){this.modalService=e,this.sdaTranslateService=t,this.loadingOverlayService=i,this.urlValidateServices=n,this.exceptionService=s,this.uxtNotificationService=a,this.retrieveFileURLsService=o,this.FILE_DOWNLOAD_FILES=this.sdaTranslateService.get("FILE_DOWNLOAD_FILE","Download files"),this.MAX_FILE_SIZE=209715200,this.idleTimeout=6e4,Settings.application&&void 0!==Settings.application.downloadFileSizeThreshold&&(Settings.application.downloadFileSizeThreshold<1&&(Settings.application.downloadFileSizeThreshold=200),this.MAX_FILE_SIZE=1024*Settings.application.downloadFileSizeThreshold*1024),Settings.application&&void 0!==Settings.application.downloadFileTimeout&&(Settings.application.downloadFileTimeout<1&&(Settings.application.downloadFileTimeout=1),this.idleTimeout=60*Settings.application.downloadFileTimeout*1e3)}selectFiles(e,t,i,a=!0){return i&&0!==i.length?s.a.create(n=>{const s=new g.a(this.FILE_DOWNLOAD_FILES,D,e,t);s.data=new N(i,a),s.hideCancel=!0,s.okBtnText=this.sdaTranslateService.get("CLOSE","Close"),s.size="large",this.modalService.showModal(s).then(()=>{n.next(!0),n.complete()})}):Object(n.a)(!1)}downloadFileObjects(e,t,i,n,s,a,c,l){const d=[];return i.forEach(e=>{d.push(void 0!==e.OBID?e.OBID:e.obid)}),this.getFileInfoFromObject(d,n,s,l).pipe(Object(o.a)(i=>{const n=[];return i.forEach(e=>{e.forEach(e=>{n.push(e)})}),this.validateUrlAndDownloadFiles(e,t,n).pipe(Object(r.a)(()=>d))}))}getFileInfoFromObject(e,t,i,n){return this.loadingOverlayService.showLoadingOverlay(this.sdaTranslateService.get("PREPARING_FILES","Preparing files...")),Object(a.a)(e).pipe(Object(c.a)(e=>this.getFileObjectURL(e,t,i,n)),Object(l.a)())}getFileObjectURL(e,t,i,n){const s=[u.a.PRIMARY];return i&&s.push(u.a.REFERENCE),this.retrieveFileURLsService.retrieveFileURLs(e,t,s,!0,n).pipe(Object(r.a)(e=>e))}validateUrlAndDownloadFiles(e,t,i){return this.urlValidateServices.validateFileURLs(i).pipe(Object(o.a)(i=>{const s=new Array;let a=!1;return i.forEach(e=>{if(200===e.StatusCode)s.push(e),e.ContentLength>=this.MAX_FILE_SIZE&&(a=!0);else{const t=this.sdaTranslateService.getFormatted("FILE_NOT_FOUND-URL","File not found: '{0}'",[e.URL]);this.exceptionService.handleException(new d.a(t))}}),this.loadingOverlayService.hideLoadingOverlay(),a?this.selectFiles(e,t,s,!0):(s.map(e=>e.URL).length>0&&(this.uxtNotificationService.success(this.sdaTranslateService.get("DOWNLOAD_STARTED","Download started")),this.downloadFiles(s)),Object(n.a)(!0))}))}downloadFiles(e){try{let t="{ 'URLList' : [ ";const i=[];let n=0;e.forEach(e=>{n+=1,i.push("{ 'Name' : 'File "+n+"', 'URL' : '"+e.URL+"', 'FileOBID' : '"+e.Id+"', 'ParentFileOBID' : '"+e.ParentFileOBID+"' } ")}),t+=i.join(","),t+=" ] }";const s=Settings.odata.url+"/DownloadFile",a=$('<iframe style="visibility: collapse;"></iframe>');$("body").append(a),a[0].contentDocument.write(`<form action="${s}" method="POST"><input type="hidden" name="data" value="${t}" /></form>`),$("form",a[0].contentDocument).submit(),setTimeout(()=>{a.remove()},this.idleTimeout)}catch(t){}}}return e.\u0275fac=function(t){return new(t||e)(_.dc(f.a),_.dc(m.a),_.dc(R.a),_.dc(p.a),_.dc(h.a),_.dc(b.a),_.dc(L.a))},e.\u0275prov=_.Ob({token:e,factory:e.\u0275fac}),e})()},eC4p:function(e,t,i){"use strict";i.d(t,"a",(function(){return n}));class n{getURLHref(e,t){return"function"==typeof URL?new URL(e):this.getURLHrefIE(e,t)}getURLOrigin(e){return e instanceof URL?e.origin:this.getURLOriginIE(e)}getURLHrefIE(e,t){const i=t.Window.document.createElement("a");if(i.href=e,":"===i.protocol||!/:/.test(i.href))throw new TypeError("Invalid URL");return i}getURLOriginIE(e){const t=e.port!=={"http:":80,"https:":443}[e.protocol]&&""!==e.port&&e.href.includes(e.port);return e.protocol+"//"+e.hostname+(t?":"+e.port:"")}}},em9o:function(e,t,i){"use strict";i.d(t,"a",(function(){return n}));var n=function(e){return e.NewItems="NewItems",e.Pinboard="Pinboard",e}({})},emLD:function(e,t,i){"use strict";i.d(t,"a",(function(){return a}));var n=i("J7mc"),s=i("fXoL");let a=(()=>{class e{constructor(e){this.dataService=e}getLinkInterfacePropertiesForObject(e,t,i){return this.dataService.get(`GetLinkInterfacePropertiesForObject(ObjectID='${e}', RelDefUIDWithDirection='${t}', LinkProperties='${i}')`)}}return e.\u0275fac=function(t){return new(t||e)(s.dc(n.a))},e.\u0275prov=s.Ob({token:e,factory:e.\u0275fac}),e})()},eruR:function(e,t,i){"use strict";i.d(t,"a",(function(){return o}));var n=i("lJxs"),s=i("J7mc"),a=i("fXoL");let o=(()=>{class e{constructor(e){this.dataService=e}getAllFeatureSets(e){return this.dataService.post("User/Intergraph.SPF.Server.API.Model.GetFeatureSets",JSON.stringify({ClientApis:e}))}getClientApiMethods(e,t){return this.dataService.post("User/Intergraph.SPF.Server.API.Model.GetClientApiMethods",JSON.stringify({ClientApi:e}),t)}getFeatureSetsByObject(e,t){return this.getFeatureSetsByObjectOBIDs(e,t.map(e=>e.obid),t[0].queryContextConfig)}getFeatureSetsByObjectOBIDs(e,t,i){return this.dataService.post("User/Intergraph.SPF.Server.API.Model.GetFeatureSetsByObject",JSON.stringify({ClientApis:e,ObjectObidAndDomains:t}),i,void 0,"",void 0,!0)}validateUserHasAccessToMethod(e,t,i,s){return this.dataService.post("User/Intergraph.SPF.Server.API.Model.ValidateMethodAccess",JSON.stringify({ClientApi:e,MethodObid:t,ObjectObidAndDomains:i}),s,void 0,"",void 0,!0).pipe(Object(n.a)(e=>e.value))}getShortcutFeaturesByObject(e,t){return this.dataService.post("User/Intergraph.SPF.Server.API.Model.GetShortcutFeaturesByObject",JSON.stringify({ClientApis:e,ObjectObidAndDomains:t.map(e=>e.obid)}),t[0].queryContextConfig,void 0,"",void 0,!0)}getShortcutConditionResult(e){return this.dataService.post("User/Intergraph.SPF.Server.API.Model.GetShortcutConditionResult",JSON.stringify({MethodObid:e.methodOBID,ObjectObidAndDomains:e.contextObjectOBIDs}),this.getConfigFromObjectItems(e.objects),void 0,"",void 0,!0)}getConfigFromObjectItems(e){return 1===Array.from(new Set(e.map(e=>e.config))).length?e[0].config:e[0].queryContextConfig}getFeaturesFromActionsMenus(e){const t=[];return e.forEach(e=>{this.iterateThroughFeatures(e,t)}),t}iterateThroughFeatures(e,t){e.Features&&e.Features.length>0&&t.push(...e.Features),e.FeatureSets&&e.FeatureSets.length>0&&e.FeatureSets.forEach(e=>{this.iterateThroughFeatures(e,t)})}}return e.\u0275fac=function(t){return new(t||e)(a.dc(s.a))},e.\u0275prov=a.Ob({token:e,factory:e.\u0275fac}),e})()},ey8P:function(e,t,i){"use strict";i.d(t,"a",(function(){return a}));var n=i("Ejbi"),s=i("fXoL");let a=(()=>{class e{constructor(e){this.sdaTranslateService=e,this.NO_RECORDS=this.sdaTranslateService.get("NO_RESULTS_FOUND","No results found..."),this.PAGER_PAGE=this.sdaTranslateService.get("PAGER_PAGE","Page"),this.PAGER_OF=this.sdaTranslateService.get("PAGER_OF","of"),this.PAGER_ITEMS=this.sdaTranslateService.get("PAGER_ITEMS","items"),this.PAGER_PREVIOUS_PAGE=this.sdaTranslateService.get("PAGER_PREVIOUS_PAGE","Go to the previous page"),this.PAGER_NEXT_PAGE=this.sdaTranslateService.get("PAGER_NEXT_PAGE","Go to the next page"),this.PAGER_FIRST_PAGE=this.sdaTranslateService.get("PAGER_FIRST_PAGE","Go to the first page"),this.PAGER_LAST_PAGE=this.sdaTranslateService.get("PAGER_LAST_PAGE","Go to the last page"),this.NO_RESULTS_FOUND=this.sdaTranslateService.get("NO_RESULTS_FOUND","No results found...")}}return e.\u0275fac=function(t){return new(t||e)(s.dc(n.a))},e.\u0275prov=s.Ob({token:e,factory:e.\u0275fac}),e})()},f38H:function(e,t,i){"use strict";i.d(t,"a",(function(){return b}));var n=i("LRne"),s=i("eIep"),a=i("lJxs"),o=i("IzEk");class r{constructor(e=0,t=[],i=[],n=[]){this.total=e,this.byTask=t,this.byConfig=i,this.byStatus=n}}var c=i("C4gn"),l=i("xc+7"),d=i("J7mc"),h=i("yAwn"),u=i("ONOH"),p=i("Xfz+"),g=i("biIz"),f=i("JrsU"),m=i("fXoL");let b=(()=>{class e{constructor(e,t,i,n,s,a,o){this.todoListConfigService=e,this.featureSetService=t,this.featureSetNavigationService=i,this.dataService=n,this.configDataService=s,this.configService=a,this.toDoListService=o}getToDoListCounts(){return this.configDataService.getUserSelectableConfigs().pipe(Object(s.a)(e=>this.dataService.post("GetToDoListCounts",JSON.stringify({configUIDs:e.map(e=>e.ConfigUID)}))),Object(a.a)(e=>{const t=new r;return e&&(t.total=e.Total?e.Total:0,e.ByClassDef&&(t.byTask=e.ByClassDef?this.formatServerResults(e.ByClassDef):[],this.setupColumnSets(t.byTask)),t.byConfig=e.ByConfig?this.formatServerResults(e.ByConfig):[],t.byStatus=e.ByStatus?this.formatServerResults(e.ByStatus):[]),t}))}showToDoListByStatus(e,t){this.navigateToTodoListItems(e,[],t)}showTodoListForClassDef(e,t){this.navigateToTodoListItems(e,[t])}navigateToTodoListItems(e,t,i){const a=this.getConfigsMissingFromQueryConfigs(e),r=e[0];(a.length>0?this.configDataService.setConfigs(this.configService.selectedQueryConfigs.concat(a),r):Object(n.a)([])).pipe(Object(o.a)(1),Object(s.a)(()=>this.todoListConfigService.getClientAPIFeaturesInConfig(r))).subscribe(n=>{this.navigateToTodoListFeature(n,e,t,i)})}navigateToTodoListFeature(e,t,i,n){if(e&&e.length){const s=this.featureSetService.convertToFeature(e[0],void 0,t);s.data={selectedClassDefs:i,selectedConfigs:t,targetdatetype:n,calledFromWidget:!0},this.featureSetNavigationService.navigateToFeature(s)}}getConfigsMissingFromQueryConfigs(e){const t=this.configService.selectedQueryConfigs,i=[];return e.forEach(e=>{t.includes(e)||i.push(e)}),i}formatServerResults(e){const t=new Array;return e.forEach(e=>{const i=[];e.Configs.forEach(e=>{i.push(this.createChartDataItem(e))});const n=this.createChartDataItem(e);n.configs=i,t.push(n)}),t}createChartDataItem(e){return{uid:e.UID,name:e.DisplayName,displayName:e.DisplayName,value:e.Count,columnSet:e.ColumnSetUID,color:this.getColorFromString(e.UID)}}getColorFromString(e){let t="#";if(e&&""!==e){let i=0;for(let t=0;t<e.length;t++)i=e.charCodeAt(t)+(i*Math.pow(2,3)-i);let n=Math.abs(i).toString(16);n=n.replace(/[^0-9A-Fa-f]/g,""),n.length<6?t=t+"000000".substring(0,6-n.length)+n:t+=n.substring(0,6)}return t}setupColumnSets(e){e.map(e=>new f.a(e.uid,e.columnSet)).forEach(e=>{-1===this.toDoListService.todoListClassDefColumnsets.findIndex(t=>t.key===e.key)&&this.toDoListService.todoListClassDefColumnsets.push(e)})}}return e.\u0275fac=function(t){return new(t||e)(m.dc(p.a),m.dc(l.a),m.dc(c.a),m.dc(d.a),m.dc(h.a),m.dc(u.a),m.dc(g.a))},e.\u0275prov=m.Ob({token:e,factory:e.\u0275fac}),e})()},f8sK:function(e,t,i){"use strict";i.d(t,"a",(function(){return n}));let n=(()=>{class e{}return e.OR="or",e.AND="and",e.NOT="not",e})()},f9sw:function(e,t,i){"use strict";i.d(t,"a",(function(){return n}));var n=function(e){return e[e.Grid=0]="Grid",e[e.List=1]="List",e[e.Tree=2]="Tree",e}({})},fKP2:function(e,t,i){"use strict";i.d(t,"a",(function(){return T}));var n=i("2Vo4"),s=i("XNiG"),a=i("itXk"),o=i("vkgz"),r=i("4B5/"),c=i("LUpO"),l=i("eruR"),d=i("PEjJ"),h=i("J7mc"),u=i("Ejbi"),p=i("+eYH"),g=i("YsXg"),f=i("41Lq"),m=i("BltP"),b=i("AvVi"),S=i("yAwn"),v=i("ONOH"),_=i("izpr"),O=i("5vhC"),I=i("fXoL"),C=i("tyNb");let T=(()=>{class e{constructor(e,t,i,o,r,c,l,d,h,u,p,g,f){this.router=e,this.urlFilterFactory=t,this.exceptionService=i,this.dataService=o,this.featureSetDataService=r,this.notificationService=c,this.sdaTranslateService=l,this.configService=d,this.configDataService=h,this.rolesRepository=u,this.rolesService=p,this.dataRefreshService=g,this.actionMenuProvider=f,this.atProjectLevel=!1,this.rolesSelected=!1,this.claims=[],this.claimEnabledSubject=new n.a(!1),this.claimItemSubject=new n.a([]),this.claimsUpdatingSubject=new s.a,Object(a.a)(this.configsUpdated(),this.rolesUpdated()).subscribe(()=>this.canAccessClaims()),this.dataRefreshService.refreshData$.subscribe(()=>{this.claimEnabled&&this.refreshClaims()})}refreshClaims(){this.getSavedClaims()}get claimEnabledChange$(){return this.claimEnabledSubject.asObservable()}get claimItemsChange$(){return this.claimItemSubject.asObservable()}get claimsUpdating$(){return this.claimsUpdatingSubject.asObservable()}addActionsMenuItemsToClaimboard(){this.addToClaimsList(this.actionMenuProvider.getItems())}addToClaimsList(e){this.claimsUpdatingSubject.next(!0);const t=e.map(e=>e.obid);this.dataService.post("AddClaims",JSON.stringify({obids:t})).subscribe(()=>this.handleClaimsListUpdated(this.sdaTranslateService.getFormatted("CLAIMBOARD_ITEMS_ADDED","{0} item(s) added to claimboard",[t.length.toString()])),e=>this.handleClaimsListUpdateErrors(e))}deleteClaims(e){this.claimsUpdatingSubject.next(!0);const t=[];"string"==typeof e?t.push(e):t.push(...e),this.dataService.post("DeleteClaims",JSON.stringify({obids:t})).subscribe(()=>this.handleClaimsListUpdated(this.sdaTranslateService.getFormatted("CLAIMBOARD_ITEMS_REMOVED","{0} item(s) removed from claimboard",[t.length.toString()])),e=>this.handleClaimsListUpdateErrors(e))}viewItemDetails(e){const t=JSON.stringify(this.urlFilterFactory.createLinkFilterSettings(e.obid)),i=JSON.stringify([e.config]);this.router.navigate(["/objects",{queryFilter:t,config:i},"detail",e.obid])}checkObjectClaimsButtonState(e){let t=!1;if(this.claimEnabled&&e&&e.length&&e[0].queryContextConfig===this.configService.selectedCreateConfig){const i=Array.from(new Set(e.map(e=>e.config)));t=!i.includes(this.configService.selectedCreateConfig),t&&(t=!i.some(e=>this.configService.checkConfigRelation(e,this.configService.selectedCreateConfig)!==b.a.PARENT_OF_TARGET))}return t}configsUpdated(){return this.configDataService.configs$.pipe(Object(o.a)(e=>{if(this.atProjectLevel=!1,e&&e.length&&!this.configService.queryBySelectedConfigs){const e=this.configService.getConfigLevel([this.configService.selectedCreateConfig]);e.length&&(this.atProjectLevel=e[0].value===m.a.PROJECT)}}))}rolesUpdated(){return this.rolesRepository.roles$.pipe(Object(o.a)(()=>{this.rolesSelected=!(!this.rolesService.selectedRoles||!this.rolesService.selectedRoles.length)}))}canAccessClaims(){this.atProjectLevel&&this.rolesSelected?(this.claimsUpdatingSubject.next(!0),this.featureSetDataService.getClientApiMethods("ClaimObj").subscribe(e=>{const t=!(!e||!e.length);t&&this.refreshClaims(),this.updateClaimEnabled(t)})):this.updateClaimEnabled(!1)}updateClaimEnabled(e){e||(this.claims=[],this.claimItemSubject.next([]),this.claimsUpdatingSubject.next(!1)),this.claimEnabled=e,this.claimEnabledSubject.next(e)}getSavedClaims(){this.claimsUpdatingSubject.next(!0),this.dataService.post("GetClaims()",void 0,this.configService.selectedCreateConfig).subscribe(e=>{this.parseClaimItems(e)},e=>{this.handleClaimsListUpdateErrors(e)})}parseClaimItems(e){this.claims=e.map(e=>new p.a(e.OBID,e.Name,e.Config,e.Description||e.CI_Description)),this.claims.sort((e,t)=>e.name.localeCompare(t.name)),this.claimItemSubject.next(this.claims),this.claimsUpdatingSubject.next(!1)}handleClaimsListUpdated(e){this.getSavedClaims(),this.notificationService.info(e)}handleClaimsListUpdateErrors(e){this.exceptionService.handleException(e),this.claimsUpdatingSubject.next(!1)}}return e.\u0275fac=function(t){return new(t||e)(I.dc(C.g),I.dc(g.a),I.dc(c.a),I.dc(h.a),I.dc(l.a),I.dc(f.a),I.dc(u.a),I.dc(v.a),I.dc(S.a),I.dc(_.a),I.dc(O.a),I.dc(d.a),I.dc(r.a))},e.\u0275prov=I.Ob({token:e,factory:e.\u0275fac}),e})()},fPNj:function(e,t,i){"use strict";i.d(t,"a",(function(){return n}));var n=function(e){return e[e.Success=0]="Success",e[e.NoViewableFiles=1]="NoViewableFiles",e[e.MethodSuppressed=2]="MethodSuppressed",e[e.MethodInaccessible=3]="MethodInaccessible",e}({})},fdS2:function(e,t,i){"use strict";i.d(t,"a",(function(){return b}));var n=i("ofXK"),s=i("3Pt+"),a=i("NFeN"),o=i("l3mi"),r=i("Vpc6"),c=i("LuMj"),l=i("iVUw"),d=i("fXoL");let h=(()=>{class e{}return e.\u0275mod=d.Qb({type:e}),e.\u0275inj=d.Pb({factory:function(t){return new(t||e)},imports:[[n.c,s.j,c.b,l.a,o.a]]}),e})();var u=i("YsCO");let p=(()=>{class e{}return e.\u0275mod=d.Qb({type:e}),e.\u0275inj=d.Pb({factory:function(t){return new(t||e)},imports:[[n.c,s.j,u.a]]}),e})();var g=i("sh/L"),f=i("LI1j"),m=i("giKh");let b=(()=>{class e{}return e.\u0275mod=d.Qb({type:e}),e.\u0275inj=d.Pb({factory:function(t){return new(t||e)},imports:[[n.c,s.j,m.a,r.a,f.a,h,p,g.a,o.a,a.b]]}),e})()},fpIb:function(e,t,i){"use strict";i.d(t,"a",(function(){return a}));var n=i("J7mc"),s=i("fXoL");let a=(()=>{class e{constructor(e){this.dataService=e}getNavigationOptions(e,t,i=!1,n=!0,s=!0){return this.dataService.post("GetNavigationOptions",JSON.stringify({StartingObjectOBID:e,RelLookAhead:n,EdgeLookAhead:s,IsInfoMap:i}),t,void 0,"",void 0,!0)}}return e.\u0275fac=function(t){return new(t||e)(s.dc(n.a))},e.\u0275prov=s.Ob({token:e,factory:e.\u0275fac}),e})()},"ftI+":function(e,t,i){"use strict";i.d(t,"a",(function(){return n}));let n=(()=>{class e{}return e.EQUAL_TO="EqualToOption",e.SHAREPOINT="IncludeSharepointOption",e})()},gBNM:function(e,t,i){"use strict";i.d(t,"a",(function(){return s}));var n=i("0LVO");class s extends n.a{constructor(e,t,i,n,s,a,o){super(e,t,i,n,s,a,o),this.title=e,this.odataUrl=t,this.config=i,this.columnSetUID=n,this.parentOBID=s,this.parentRelDef=a,this.additionalHeaders=o,this.showEmptyTabsIfFilterEnabled=!1,this.showOverflowMenu=!0,this.tabMenu=[]}}},gSF1:function(e,t,i){"use strict";i.d(t,"a",(function(){return u}));var n=i("m8I0"),s=i("9Vyx"),a=i("fXoL"),o=i("ofXK"),r=i("NFeN");function c(e,t){1&e&&(a.Yb(0,"span",5),a.Tb(1,"span",6),a.Tb(2,"span",6),a.Tb(3,"span",6),a.Xb())}function l(e,t){if(1&e&&a.Tb(0,"mat-icon",7),2&e){const e=a.lc();a.sc("svgIcon",e.matSvgIcon)}}function d(e,t){if(1&e&&a.Tb(0,"i",8),2&e){const e=a.lc();a.Ib("fa-fw",e.displayName),a.sc("ngClass",e.styleClassIcon)}}function h(e,t){if(1&e&&(a.Yb(0,"span",9),a.Uc(1),a.Xb()),2&e){const e=a.lc();a.Eb(1),a.Wc(" ",e.displayName," ")}}let u=(()=>{class e extends s.a{constructor(){super(...arguments),this.type=n.a.Abort}}return e.\u0275fac=function(t){return p(t||e)},e.\u0275cmp=a.Mb({type:e,selectors:[["sda-button-abort"]],inputs:{type:"type"},features:[a.Bb],decls:5,vars:23,consts:[["type","button",1,"button",3,"ngClass","disabled","click"],["class","button-loader",4,"ngIf"],["class","button__mat-icon",3,"svgIcon",4,"ngIf"],["class","button__icon","role","icon","aria-hidden","true",3,"fa-fw","ngClass",4,"ngIf"],["class","button__name",4,"ngIf"],[1,"button-loader"],[1,"button-loader__bar"],[1,"button__mat-icon",3,"svgIcon"],["role","icon","aria-hidden","true",1,"button__icon",3,"ngClass"],[1,"button__name"]],template:function(e,t){1&e&&(a.Yb(0,"button",0),a.hc("click",(function(e){return t.onClick.emit(e)})),a.Sc(1,c,4,0,"span",1),a.Sc(2,l,1,1,"mat-icon",2),a.Sc(3,d,1,3,"i",3),a.Sc(4,h,2,1,"span",4),a.Xb()),2&e&&(a.Ib("button--compact",t.isCompact)("button--default","Default"===t.type)("button--primary","Primary"===t.type)("button--neutral","Neutral"===t.type)("button--success","Success"===t.type)("button--destroy","Destroy"===t.type)("button--abort","Abort"===t.type)("button--plain","Plain"===t.type),a.sc("ngClass",t.styleClassButton)("disabled",t.isDisabled),a.Fb("title",t.title),a.Eb(1),a.sc("ngIf",t.isLoading),a.Eb(1),a.sc("ngIf",t.matSvgIcon&&!t.isLoading),a.Eb(1),a.sc("ngIf",t.styleClassIcon&&!t.isLoading),a.Eb(1),a.sc("ngIf",t.displayName))},directives:[o.q,o.t,r.a],styles:[".button[_ngcontent-%COMP%]{display:flex;align-items:center;flex:1 1 auto;min-width:40px;height:34px;padding:0 12px;font-size:14px;transition:all 175ms cubic-bezier(.1,.65,.1,.65);box-shadow:none;text-shadow:none;border-radius:3px}.button--compact[_ngcontent-%COMP%]{min-width:30px;height:30px;padding-right:10px;padding-left:10px}.button[disabled][_ngcontent-%COMP%]   *[_ngcontent-%COMP%]{opacity:.4;pointer-events:none}.button[disabled][_ngcontent-%COMP%]:active{background-color:initial}.button__icon[_ngcontent-%COMP%]{flex-shrink:0;color:inherit}.button__icon[_ngcontent-%COMP%]:only-child{font-size:18px}.button__icon[_ngcontent-%COMP%]:not(:only-child){font-size:14px}.button__mat-icon[_ngcontent-%COMP%]{width:20px;height:20px}.button__name[_ngcontent-%COMP%]{color:inherit}.button__name[_ngcontent-%COMP%]:not(:only-child){margin-left:8px}.button[_ngcontent-%COMP%]     svg[role=icon]{color:inherit;width:20px;height:auto}.button-loader[_ngcontent-%COMP%]{display:flex;justify-content:space-between;flex-basis:18px}@-webkit-keyframes bars{0%,to{opacity:1;-webkit-transform:scaleY(1);transform:scaleY(1)}35%{opacity:.5}50%{-webkit-transform:scaleY(1.8);transform:scaleY(1.8)}65%{opacity:1}}@keyframes bars{0%,to{opacity:1;-webkit-transform:scaleY(1);transform:scaleY(1)}35%{opacity:.5}50%{-webkit-transform:scaleY(1.8);transform:scaleY(1.8)}65%{opacity:1}}.button-loader__bar[_ngcontent-%COMP%]{width:4px;height:10px;background-color:#fff;-webkit-animation:bars 1s ease-in-out infinite;animation:bars 1s ease-in-out infinite}.button-loader__bar[_ngcontent-%COMP%]:first-child{-webkit-animation-delay:.15s;animation-delay:.15s}.button-loader__bar[_ngcontent-%COMP%]:nth-child(2){-webkit-animation-delay:.3s;animation-delay:.3s}.button-loader__bar[_ngcontent-%COMP%]:nth-child(3){-webkit-animation-delay:.45s;animation-delay:.45s}",".button--abort[_ngcontent-%COMP%]{color:#d7142c;background:transparent;border-color:transparent;transition:all 175ms cubic-bezier(.1,.65,.1,.65)}.button--abort[_ngcontent-%COMP%]:not([disabled]):hover{background:#b51125;color:#fff;border-color:rgba(181,17,37,.8)}"]}),e})();const p=a.ac(u)},ghPn:function(e,t,i){"use strict";i.d(t,"b",(function(){return n})),i.d(t,"a",(function(){return s}));class n{constructor(e,t,i=0,n,s,a,o){this.id=e,this.orderValue=i,this.parentGroupId=n,this.parentGroupDisplayName=s,this.params=a,this.secondaryDisplayName=o,this.peekCount=1,this.displayName=t||e,this.equalToSearchByDefault=!1}}class s{constructor(e,t,i,n=0){this.id=e,this.displayName=t,this.childFlatList=i,this.orderValue=n}}},giKh:function(e,t,i){"use strict";i.d(t,"a",(function(){return c}));var n=i("ofXK"),s=i("3Pt+"),a=i("F+hv"),o=i("sRnt"),r=i("fXoL");let c=(()=>{class e{}return e.\u0275mod=r.Qb({type:e}),e.\u0275inj=r.Pb({factory:function(t){return new(t||e)},imports:[[n.c,s.j,a.a,o.a]]}),e})()},gtQ4:function(e,t,i){"use strict";i.d(t,"a",(function(){return _}));var n=i("z6cu"),s=i("LRne"),a=i("IzEk"),o=i("eIep"),r=i("JIr8"),c=i("Z9D8"),l=i("LUpO"),d=i("349d"),h=i("wKWS"),u=i("c+03"),p=i("Qi+w"),g=i("HLw3"),f=i("/XUs"),m=i("Ejbi"),b=i("+eYH"),S=i("41Lq"),v=i("fXoL");let _=(()=>{class e{constructor(e,t,i,n,s,a,o,r){this.httpService=e,this.fileQueueFactory=t,this.batchRequestFactory=i,this.pinsMenuService=n,this.exceptionService=s,this.sdaTranslateService=a,this.notificationService=o,this.loadingOverlayService=r,this.CREATE_OBJ_CREATED_SUCCESS=this.sdaTranslateService.get("CREATE_OBJ_CREATED_SUCCESS","Object successfully created"),this.FORM_CREATE_OBJECT_ERROR=this.sdaTranslateService.get("FORM_CREATE_OBJECT_ERROR","An error occurred creating an object"),this.MIXED_CONTENT_DOWNLOAD=this.sdaTranslateService.get("MIXED_CONTENT_DOWNLOAD","Unable to download requested resource as it is from a non-secure server")}uploadFileAndCreateDoc(e,t,i,l){this.mainObject=i;const d=this.fileQueueFactory.createFileQueue();if(d.autoUploadFiles=!1,Settings.authorization.redirectUri.toLowerCase().startsWith("https")&&!e.toLowerCase().startsWith("https")){const e=new c.a(this.MIXED_CONTENT_DOWNLOAD,"SharepointDocumentService","uploadFileAndCreateDoc");return Object(n.a)(e)}return this.httpService.send("GET",e,void 0,void 0,"arraybuffer","body",!1).pipe(Object(a.a)(1),Object(o.a)(e=>this.setupSharepointFileDownload(e,t,l,d)),Object(o.a)(e=>this.attachFile(e)),Object(r.a)(e=>{this.loadingOverlayService.hideLoadingOverlay();const t=new c.a(e,void 0,"SharepointDocumentService","uploadFileAndCreateDoc");return this.exceptionService.handleException(t),Object(s.a)(void 0)}))}setupSharepointFileDownload(e,t,i,n){const s=new Uint8Array(e),a=new Blob([s]);return a.name=t,a.lastModifiedDate=new Date,n.addToQueue([a],i),n.uploadFiles(i)}attachFile(e){const t=this.batchRequestFactory.createBatchRequest(),i=t.createChangeset(),a=i.addCreateRequest(this.mainObject);return e.forEach(e=>{const t=new d.a;t.ClientFilePath=e.file.path+e.file.name,t.TargetObjectOBID="$"+a,t.DeleteScannedFile=!1,i.addPostRequest("Upload('"+e.uploadID+"')/Intergraph.SPF.Server.API.Model.Attach",t,!0,void 0,void 0,void 0,void 0,"FileMgmt")}),t.addChangeset(i),t.execute().pipe(Object(o.a)(e=>{let t=!0;if(e.forEach(e=>{e.hasErrored&&(this.loadingOverlayService.hideLoadingOverlay(),this.exceptionService.handleException(e.exception),t=!1)}),t){const t=new b.a(e[0].data.OBID,e[0].data.Name,e[0].data.Config,e[0].data.Description,e[0].data.Class);return this.pinsMenuService.addToNewItems(t),this.notificationService.success(this.CREATE_OBJ_CREATED_SUCCESS),Object(s.a)(!0)}return Object(s.a)(!1)}),Object(r.a)(e=>{const t=new c.a(e,this.FORM_CREATE_OBJECT_ERROR,"sharepoint-document.service","attachFile");return Object(n.a)(t)}))}}return e.\u0275fac=function(t){return new(t||e)(v.dc(f.a),v.dc(h.a),v.dc(g.a),v.dc(p.a),v.dc(l.a),v.dc(m.a),v.dc(S.a),v.dc(u.a))},e.\u0275prov=v.Ob({token:e,factory:e.\u0275fac}),e})()},gxu3:function(e,t,i){"use strict";i.d(t,"a",(function(){return o}));var n=i("+eYH"),s=i("NEWU"),a=i("fXoL");let o=(()=>{class e{getNavigationArgsForClientApi(e){let t={};for(let i=1;i<19;i++){const n="apiParam"+i;e[n]&&(t[n]=e[n])}return t=this.getParamsFromFeature(t,e),t=this.getParamsFromParentMethod(t,e),t}getParamsFromFeature(e,t){return t.objects&&t.objects.length>0&&(e[s.z]=JSON.stringify(t.objects.map(e=>new n.a(e.obid,e.name,e.config,e.displayAs,e.entityType)))),t.config&&t.config.length>0&&(e[s.t]=JSON.stringify(t.config)),t.methodOBID&&(e[s.y]=t.methodOBID),t.returnFeature?e[s.D]=JSON.stringify(t.returnFeature):t.returnRoute&&(e[s.E]=JSON.stringify(t.returnRoute)),t.contextObjectOBIDs&&t.contextObjectOBIDs.length&&(e[s.u]=JSON.stringify(t.contextObjectOBIDs)),t.data&&(e.data=JSON.stringify(t.data)),e[s.x]=t.displayName,e[s.s]=t.clientAPI,e}getParamsFromParentMethod(e,t){return t.parentObjects&&t.parentObjects.length&&(e[s.C]=JSON.stringify(t.parentObjects.map(e=>new n.a(e.obid,e.name,e.config,e.displayAs,e.entityType)))),t.parentMethodOBID&&(e[s.B]=t.parentMethodOBID),t.parentClientAPI&&(e[s.A]=t.parentClientAPI),e}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=a.Ob({token:e,factory:e.\u0275fac}),e})()},hGER:function(e,t,i){"use strict";i.d(t,"a",(function(){return o}));var n=i("XNiG"),s=i("2ufx"),a=i("fXoL");let o=(()=>{class e{constructor(e){this.documentService=e,this.hoveredRowObjectSubject=new n.a}get hoveredRowObjectChanged$(){return this.hoveredRowObjectSubject.asObservable()}updateHoveredRow(e){this.hoveredRowObjectSubject.next(e)}manageElementClasses(e,t){const i=e[1],n=i.querySelector(".grid-shortcuts");if(i&&n)if(t){e.addClass("shortcuts"),this.setShortcutsElementMaxWidth(n,i,t);const s=60,a=n.getBoundingClientRect().height+s;this.documentService.bottomCollideCheck(i,a)?n.classList.add("grid-shortcuts--top"):n.classList.add("grid-shortcuts--bottom")}else e.removeClass("shortcuts"),this.setShortcutsElementMaxWidth(n,i,t),n.classList.contains("grid-shortcuts--bottom")?n.classList.remove("grid-shortcuts--bottom"):n.classList.contains("grid-shortcuts--top")&&n.classList.remove("grid-shortcuts--top")}setShortcutsElementMaxWidth(e,t,i=!1){if(i){const i=this.documentService.Document.documentElement.clientWidth,n=t.getBoundingClientRect().left;e.style.maxWidth=i-n-50+"px"}else e.style.maxWidth="0"}}return e.\u0275fac=function(t){return new(t||e)(a.dc(s.a))},e.\u0275prov=a.Ob({token:e,factory:e.\u0275fac}),e})()},hoCq:function(e,t,i){"use strict";i.d(t,"b",(function(){return n})),i.d(t,"a",(function(){return s})),i.d(t,"c",(function(){return a}));const n="787103",s="797372",a="825573"},hqbt:function(e,t,i){"use strict";i.d(t,"a",(function(){return v}));var n=i("C2rS"),s=i("ADS0"),a=i("XNiG"),o=i("LRne"),r=i("5+tZ"),c=i("lJxs"),l=i("JIr8"),d=i("Z9D8"),h=i("LUpO"),u=i("c+03"),p=i("dEBh"),g=i("tCxB"),f=i("Yiju");class m{constructor(e){if(this.authResponse=e,!e)throw new Error("no authentication response")}getSessionID(e){let t;return t=this.authResponse.profile["ingr.session_id"]?this.authResponse.profile["ingr.session_id"]:e.decodeToken(this.authResponse.accessToken)["ingr.session_id"],t}getUserName(){let e=this.authResponse.profile.name;return e&&0!==e.length||(e=this.authResponse.profile.sub),e}getUserId(){let e=this.authResponse.profile.sub;return e&&0!==e.length||(e=this.authResponse.profile.name),e}getClientHostName(){let e=this.authResponse.profile.ClientHostName;return e&&0!==e.length||(e=this.authResponse.profile.preferred_username),e}}var b=i("fXoL"),S=i("tk/3");let v=(()=>{class e{constructor(e,t,i,n,s,o,r){this.windowService=e,this.authClient=t,this.http=i,this.loadingOverlayService=n,this.exceptionService=s,this.localStorageService=o,this.loggingService=r,this.retrieving=!1,this.onLogout$=new a.a,this.retrievingNewToken=new a.a,this.isAuthorized=!!this.getAuthenticationDetails()}getUserName(){const e=this.getAuthenticationDetails();return e?e.getUserName():""}getUserId(){const e=this.getAuthenticationDetails();return e?this.getAccessTokenUserId(e):""}get IsAuthorized(){const e=this.getAuthenticationDetails();return e&&!this.authClient.isTokenExpired(e.authResponse.accessToken)||this.resetAuthorizationData(),this.isAuthorized}set IsAuthorized(e){this.isAuthorized=e}getAuthenticationDetails(){const e=this.localStorageService.getItem(this.getStorageKey());return e?new m(JSON.parse(e)):void 0}refreshToken(){return this.retrieving?this.retrievingNewToken:(this.retrieving=!0,this.authorize().pipe(Object(r.a)(e=>(this.retrieving=!1,this.retrievingNewToken.next(e),Object(o.a)(e)))))}preemptiveRefreshToken(){return this.retrieving?this.retrievingNewToken:(this.retrieving=!0,this.authorizeInternal().pipe(Object(r.a)(e=>(this.retrieving=!1,this.retrievingNewToken.next(e),Object(o.a)(e)))))}authorize(){const e=this.getAuthenticationDetails();return!e||this.authClient.isTokenExpired(e.authResponse.accessToken)?this.authorizeInternal():Object(o.a)(e.authResponse)}authorizedCallback(e){this.resetAuthorizationData(),this.storeAuthorizationDetails(e)}logoff(){this.loadingOverlayService.showLoadingOverlay();const e=this.getAuthenticationDetails();if(e){const t=e.authResponse.idToken,i=e.getSessionID(this.authClient),n=e.getClientHostName(),s=JSON.stringify({SessionID:i,HostName:n});this.http.post(Settings.odata.url+"/User/Intergraph.SPF.Server.API.Model.LogoutUser",s,{withCredentials:!0}).subscribe(()=>{this.authClient.endSession(t,Settings.odata.url,{credentials:"include"}).subscribe(()=>{this.onLogOff()},e=>{this.exceptionService.handleException(e),this.onLogOffWithRedirect()})},e=>{this.exceptionService.handleException(new d.a(e)),this.loadingOverlayService.hideLoadingOverlay()})}else this.onLogOffWithRedirect()}onLogOffWithRedirect(){this.windowService.Window.location.href=Settings.authorization.redirectUri,this.onLogOff()}onLogOff(){this.clearAuthorizationData(),this.onLogout$.next(),this.loadingOverlayService.hideLoadingOverlay()}storeAuthorizationDetails(e){this.localStorageService.setItem(this.getStorageKey(),JSON.stringify(e)),this.IsAuthorized=!0}resetAuthorizationData(){this.IsAuthorized=!1}clearAuthorizationData(){this.localStorageService.removeItem(this.getStorageKey()),this.resetAuthorizationData()}getAccessTokenUserId(e){return e.authResponse?this.authClient.decodeToken(e.authResponse.accessToken).sub:""}getStorageKey(){return Settings.authorization.clientId+"_auth"}getAuthenticateArgs(e){this.windowService.Window.self!==this.windowService.Window.top&&(e=s.d.Popup);let t=Settings.authorization.scopes;return t||(t="ingr.api"),{mode:e,serviceUri:Settings.odata.url,state:this.windowService.Window.btoa(this.windowService.Window.location.hostname),acr:[{idp:Settings.authorization.identityProvider}],requestOptions:{credentials:"include"},resource:!0,scopes:[t]}}authorizeInternal(){return this.clearAuthorizationData(),this.authClient.authenticate(this.getAuthenticateArgs(s.d.Silent)).pipe(Object(c.a)(e=>(this.authorizedCallback(e),e)),Object(l.a)(e=>(this.loggingService.debug("Authentication",e),this.localStorageService.setItem("REDIRECT_URL",this.windowService.Window.location.hash.substring(1)),this.authClient.authenticate(this.getAuthenticateArgs(s.d.Redirect)))))}}return e.\u0275fac=function(t){return new(t||e)(b.dc(p.a),b.dc(n.a),b.dc(S.a),b.dc(u.a),b.dc(h.a),b.dc(f.a),b.dc(g.a))},e.\u0275prov=b.Ob({token:e,factory:e.\u0275fac}),e})()},i8JG:function(e,t,i){"use strict";i.d(t,"a",(function(){return n}));let n=(()=>{class e{}return e.PRIMARY="Primary",e.RENDITION="Rendition",e.MARKUP="Markup",e.REFERENCE="Reference",e.GRAPHICSMAP="GraphicsMap",e.SPFGRAPHICSMAP="SPFGraphicsMap",e.NAVIGATION="Navigation",e.OTHER="Other",e})()},iCYq:function(e,t,i){"use strict";i.d(t,"a",(function(){return o}));var n=i("vkgz"),s=i("SXtU"),a=i("fXoL");let o=(()=>{class e{constructor(e){this.rootDataService=e}retrieveUserDetails(){return this.rootDataService.get("User").pipe(Object(n.a)(e=>this.cachedUserEndpoint=e))}}return e.\u0275fac=function(t){return new(t||e)(a.dc(s.a))},e.\u0275prov=a.Ob({token:e,factory:e.\u0275fac}),e})()},iVUw:function(e,t,i){"use strict";i.d(t,"a",(function(){return d}));var n=i("vxfF"),s=i("ofXK"),a=i("bTqV"),o=i("bSwM"),r=i("NFeN"),c=i("MutI"),l=i("fXoL");let d=(()=>{class e{}return e.\u0275mod=l.Qb({type:e}),e.\u0275inj=l.Pb({factory:function(t){return new(t||e)},imports:[[s.c,c.d,r.b,o.b,a.b,n.g]]}),e})()},iZyC:function(e,t,i){"use strict";i.d(t,"a",(function(){return m}));var n=i("8yBR"),s=i("KsTO"),a=i("C8de"),o=i("8RLy"),r=i("8NKS"),c=i("WjcW"),l=i("qSfU"),d=i("wN6G"),h=i("J7mc"),u=i("hqbt"),p=i("Ejbi"),g=i("ONOH"),f=i("fXoL");let m=(()=>{class e{constructor(e,t,i,s,a){this.dataService=e,this.configService=t,this.securityService=i,this.crudService=s,this.sdaTranslateService=a,this.MAIN_DETAILS=this.sdaTranslateService.get("MAIN_DETAILS","Main Details"),this.SEARCH_FOR_CRITERIA=this.sdaTranslateService.get("SEARCH_FOR_CRITERIA","Search For Criteria"),this.GENERATE_OPTIONS=this.sdaTranslateService.get("GENERATE_OPTIONS","Generate Options"),this.TASK_DETAILS=this.sdaTranslateService.get("TASK_DETAILS","Task Details"),this.NAME=this.sdaTranslateService.get("NAME","Name"),this.DESCRIPTION=this.sdaTranslateService.get("DESCRIPTION","Description"),this.DOCUMENT_NAME_TEXT=this.sdaTranslateService.get("DOCUMENT_NAME_TEXT","Document Name"),this.CONFIGURATION_TEXT=this.sdaTranslateService.get("CONFIGURATION_TEXT","Document Configuration"),this.REVISION_STATE_TEXT=this.sdaTranslateService.get("REVISION_STATE_TEXT","Document Revision State"),this.DATE_TIME_TEXT=this.sdaTranslateService.get("DATE_TIME_TEXT","Schedule Start Date & Time"),this.OVERWRITE_TEXT=this.sdaTranslateService.get("OVERWRITE_TEXT","Overwrite Existing Files"),this.FILES_CREATED_TEXT=this.sdaTranslateService.get("FILES_CREATED_TEXT","Files Created"),this.SPIOP_VERSION_TEXT=this.sdaTranslateService.get("SPIOP_VERSION_TEXT","SPIOP Version"),this.nestedDataSource=new n.f,this.revisionStates=[],this.webglCreateObject={},this.selectedOperator=""}getRevisionStates(){return this.dataService.get("SelectLists('e1RevisionStates')?$expand=Items",void 0,void 0,"",void 0,!0)}setConfigurationFieldValue(e){this.configurationField.Value=e}setSelectedOperatorValue(e){this.selectedOperator=e}onOverwriteExistingFiles(e){e.DisplayType===a.a.BOOLEAN_TYPE&&(e.Value&&"true"===e.Value.toLowerCase()?(this.filesCreatedField.IsHidden=!1,this.fieldSpiopVersion.IsHidden=!1):(this.filesCreatedField.IsHidden=!0,this.fieldSpiopVersion.IsHidden=!0))}getForm(e){return this.setFormFields(e),{IsMainTabValid:!1,FormSections:[{DisplayName:this.MAIN_DETAILS,FormDisplayLines:[{FormDisplayItems:[this.nameField]},{FormDisplayItems:[this.descriptionField]}]},{DisplayName:this.SEARCH_FOR_CRITERIA,FormDisplayLines:[{FormDisplayItems:[this.documentNameField]},{FormDisplayItems:[this.configurationField]},{FormDisplayItems:[this.revisionStatesField]}]},{DisplayName:this.GENERATE_OPTIONS,FormDisplayLines:[{FormDisplayItems:[this.overwriteExistingFilesField]},{FormDisplayItems:[this.filesCreatedField]},{FormDisplayItems:[this.fieldSpiopVersion]}]},{DisplayName:this.TASK_DETAILS,FormDisplayLines:[{FormDisplayItems:[this.dateTimeField]}]}],SPFFormTabs:[],ContainsTabs:!1,ClassDefUID:"",ComplexClassDefDetails:[],FormPurpose:o.a.Create}}onCreateObjectFromForm(){return this.crudService.create(this.getCrudObject())}setFormFields(e){this.nestedDataSource.data=Object(s.a)(e[0],this.configService.selectedQueryConfigs),e[1].Items.forEach(e=>{this.revisionStates.push({OBID:e.Id,UID:"",DisplayValue:e.Name,Description:"",Name:e.Name})}),this.nameField={DisplayName:this.NAME,DisplayType:"StringType",UID:"",IsMandatory:!0},this.descriptionField={DisplayName:this.DESCRIPTION,DisplayType:"StringType",UID:"",FieldSize:320},this.documentNameField={DisplayName:this.DOCUMENT_NAME_TEXT,DisplayType:"StringType",UID:""},this.configurationField={DisplayName:this.CONFIGURATION_TEXT,DisplayType:"WBSTreeType",UID:"",SelectedParentSignature:"",plantUID:"",nestedDataSource:this.nestedDataSource,allowMultipleConfigSelection:!0},this.revisionStatesField={DisplayName:this.REVISION_STATE_TEXT,DisplayType:"RelDef",UID:"",DefaultDropDownOptions:this.revisionStates,NavigationPath:"",MaxRels:"*"},this.dateTimeField={DisplayName:this.DATE_TIME_TEXT,DisplayType:"DateTimeType",UID:"",IsMandatory:!0},this.overwriteExistingFilesField={DisplayName:this.OVERWRITE_TEXT,DisplayType:"BooleanType",UID:"",Value:"false"},this.filesCreatedField={DisplayName:this.FILES_CREATED_TEXT,DisplayType:"DateTimeType",UID:"",IsHidden:!0,ShowDateTimeComparison:!0},this.fieldSpiopVersion={DisplayName:this.SPIOP_VERSION_TEXT,DisplayType:"StringType",UID:"",PlaceholderValue:"xx.xx.xx.xxxx",IsHidden:!0,PictureProperty:"new^[0-9]{2}.[0-9]{2}.[0-9]{2}.[0-9]{4}$"}}getCrudObject(){const e=new c.a("SPFSchedulerTask");return e.interfaces.push(new r.a("ISPFSchedulerTaskPrimary",!0)),e.interfaces.push(new r.a("ISPFGenerateWebGLSchedulerTask",!0)),e.interfaces.push(new r.a("ISPFSchedulerTask",!0)),e.interfaces.push(new r.a("ISPFAdminItem",!0)),this.webglCreateObject={taskName:this.nameField.Value,description:this.descriptionField.Value,documentName:this.documentNameField.Value,listOfDocConfigs:this.configurationField.Value,listOfRevisionStates:this.setRevisionStatesFieldValue()?this.setRevisionStatesFieldValue():void 0,overwriteFiles:this.overwriteExistingFilesField.Value,comparisonOperator:this.selectedOperator,filesCreatedDate:this.filesCreatedField.Value,spiopVersion:this.fieldSpiopVersion.Value,scheduleCreateDateTime:this.dateTimeField.Value},this.webglCreateObject.taskName&&e.properties.push(new l.a("Name",this.webglCreateObject.taskName)),this.webglCreateObject.description&&e.properties.push(new l.a("Description",this.webglCreateObject.description)),this.webglCreateObject.documentName&&e.properties.push(new l.a("SPFWebGLSearchCriteria_DocName",this.webglCreateObject.documentName)),this.webglCreateObject.listOfDocConfigs&&e.properties.push(new l.a("SPFWebGLSearchCriteria_Configs",this.webglCreateObject.listOfDocConfigs)),this.webglCreateObject.listOfRevisionStates&&e.properties.push(new l.a("SPFWebGLSearchCriteria_DocRevState",this.webglCreateObject.listOfRevisionStates)),e.properties.push(new l.a("SPFRegenerateOption_RegenerateExisitingWebGLFiles",this.webglCreateObject.overwriteFiles)),"True"===this.webglCreateObject.overwriteFiles&&(this.webglCreateObject.comparisonOperator&&e.properties.push(new l.a("SPFWebGLSearchCriteria_DateComparison",this.webglCreateObject.comparisonOperator)),this.webglCreateObject.filesCreatedDate&&e.properties.push(new l.a("SPFWebGLSearchCriteria_WebGLFileCreationDate",this.webglCreateObject.filesCreatedDate)),this.webglCreateObject.spiopVersion&&e.properties.push(new l.a("SPFWebGLSearchCriteria_FileSPIOPVersion",this.webglCreateObject.spiopVersion))),e.properties.push(new l.a("SPFSchTskStartDate",this.webglCreateObject.scheduleCreateDateTime)),e.properties.push(new l.a("SPFSchTskStatus","e1SchdReady")),e.properties.push(new l.a("SPFSchTskFrequency","0")),e.properties.push(new l.a("SPFSchTskContextUser","superuser")),e.properties.push(new l.a("SPFSchTskContextIncludeHigherConfig","True")),e.properties.push(new l.a("SPFSchTskContextCreateConfig",this.configService.selectedCreateConfig)),e.properties.push(new l.a("SPFSchTskEnabled","True")),e.properties.push(new l.a("SPFSchTskInterval","86400000")),e.properties.push(new l.a("SPFSchTskContextRoles","RL_Super_User")),e.properties.push(new l.a("SPFSchTskSubmitter",this.securityService.getUserName())),e.properties.push(new l.a("SPFSchTskLocked","False")),e}setRevisionStatesFieldValue(){return this.revisionStatesField.RelObjects.map(e=>e.Key).join(";")}}return e.\u0275fac=function(t){return new(t||e)(f.dc(h.a),f.dc(g.a),f.dc(u.a),f.dc(d.a),f.dc(p.a))},e.\u0275prov=f.Ob({token:e,factory:e.\u0275fac}),e})()},iwlc:function(e,t,i){"use strict";i.d(t,"a",(function(){return g}));var n=i("LRne"),s=i("cp0P"),a=i("lJxs"),o=i("Z9D8"),r=i("LUpO"),c=i("dEBh"),l=i("J7mc"),d=i("Qpiy"),h=i("Ejbi"),u=i("hoCq"),p=i("fXoL");let g=(()=>{class e{constructor(e,t,i,n,s){this.windowService=e,this.exceptionService=t,this.dataService=i,this.sdaTranslateService=n,this.serverInformationService=s,this.mainHelpId=u.b,this.contextHelpId="",this.HELP_SERVICE_LOCATION_NOT_SET=this.sdaTranslateService.get("HELP_SERVICE_LOCATION_NOT_SET","The location of the help documentation has not been set")}showHelp(e){e&&0!==e.trim().length||(e=this.mainHelpId),this.createHelpURL(e).subscribe(e=>{e&&this.windowService.Window.open(e,"HelpWin")})}getBaseHelpInfo(){return this.helpInfo?Object(n.a)(this.helpInfo):this.dataService.get("GetBaseHelpInfo()",void 0).pipe(Object(a.a)(e=>e&&e.URI?(this.helpInfo=e,e):void this.exceptionService.handleException(new o.a(this.HELP_SERVICE_LOCATION_NOT_SET))))}createHelpURL(e){return Object(s.a)(this.getBaseHelpInfo(),this.serverInformationService.getServerInformation()).pipe(Object(a.a)(([t,i])=>{let n;return t&&(n=t.URI,n+="/topic?ait:filename=",e&&0!==e.trim().length?n+=e:n+=this.mainHelpId,t.Version&&(n+="&SPFVersion="+t.Version),i&&i.DatabaseVariants&&i.DatabaseVariants.toUpperCase().includes("SDX")?n+="&WebClientProduct=SDx":n+="&WebClientProduct=SPF"),n}))}setHandlers(e){this.contextHelpId=e&&0!==e.trim().length?e:this.mainHelpId,"onhelp"in window?(document.removeEventListener("help",e=>(this.killEvent(e),this.showCurrentContextHelp())),document.addEventListener("help",e=>(this.killEvent(e),this.showCurrentContextHelp()))):window.onkeydown=e=>{if(112===e.keyCode)return this.killEvent(e),this.showCurrentContextHelp()}}killEvent(e){e.preventDefault(),e.stopPropagation(),e.stopImmediatePropagation(),e.cancelBubble=!0,e.returnValue=!1}showCurrentContextHelp(){return this.showHelp(this.contextHelpId)}}return e.\u0275fac=function(t){return new(t||e)(p.dc(c.a),p.dc(r.a),p.dc(l.a),p.dc(h.a),p.dc(d.a))},e.\u0275prov=p.Ob({token:e,factory:e.\u0275fac}),e})()},izpr:function(e,t,i){"use strict";i.d(t,"a",(function(){return l}));var n=i("2Vo4"),s=i("lJxs"),a=i("FedY"),o=i("d2KQ"),r=i("5vhC"),c=i("fXoL");let l=(()=>{class e{constructor(e,t){this.rolesDataService=e,this.rolesService=t,this.roles$=new n.a([])}initializeRoles(){return this.rolesService.clearSelectedRoles(),this.rolesDataService.getRoles().pipe(Object(s.a)(e=>(this.setRoles(e),!0)))}refresh(){this.rolesDataService.getRoles().subscribe(e=>{this.setRoles(e)})}setRoles(e){e&&((e=e.sort((e,t)=>a.a.sortByString(e.DisplayName,t.DisplayName))).forEach(e=>{e.DirtyFlag=!1,this.rolesService.adjustSelectedRoles(e,!!e.Selected)}),this.rolesService.selectedRoles=this.rolesService.selectedRoles.sort((e,t)=>a.a.sortByString(e.DisplayName,t.DisplayName))),this.roles$.next(e)}}return e.\u0275fac=function(t){return new(t||e)(c.dc(o.a),c.dc(r.a))},e.\u0275prov=c.Ob({token:e,factory:e.\u0275fac}),e})()},jNCI:function(e,t,i){"use strict";i.d(t,"a",(function(){return c}));var n=i("fXoL"),s=i("tyNb"),a=i("pLZG"),o=i("Ejbi"),r=i("EcfP");let c=(()=>{class e{constructor(e,t,i){this.uxtDialogService=e,this.sdaTranslateService=t,this.router=i,this.showModalEmitter=new n.o,this.router.events.pipe(Object(a.a)(e=>e instanceof s.d)).subscribe(()=>{this.uxtDialogService.removeDialog()})}showModal(e){return this.modalData=e.data,this.showModalEmitter.emit(e),new Promise((e,t)=>{this.modalResolve=e,this.modalReject=t})}alert(e,t){this.uxtDialogService.removeDialog();const i=this.sdaTranslateService.get("OK","OK");return t=t||this.sdaTranslateService.get("ERROR","Error"),this.uxtDialogService.alert(e,t,i)}multiMessageAlert(e,t){let i="",n=0;return e.forEach(e=>{0!==n&&(i+="<br/>"),i+=e,n++}),this.alert(i,t)}confirm(e,t,i,n){return i||(i=this.sdaTranslateService.get("OK","OK")),n||(n=this.sdaTranslateService.get("CANCEL","Cancel")),this.uxtDialogService.confirm({titleText:e,message:t,cancelText:n,submitText:i}).then(e=>!!e)}promiseRejected(){this.modalReject&&this.modalReject()}promiseResolved(e){this.modalResolve&&this.modalResolve(e)}}return e.\u0275fac=function(t){return new(t||e)(n.dc(r.a),n.dc(o.a),n.dc(s.g))},e.\u0275prov=n.Ob({token:e,factory:e.\u0275fac}),e})()},"js/d":function(e,t,i){"use strict";i.d(t,"a",(function(){return n}));class n{constructor(e,t,i){this.name=e,this.displayName=t,this.iconPath=i,this.features=[],this.entryPoints=[],this.displayItems=[],this.groupedFeatures=[],this.summaryReports=[],this.adhocReports=[]}}},"k/hs":function(e,t,i){"use strict";i.d(t,"a",(function(){return n}));class n{constructor(e,t,i,n,s){this.relDefUID=e,this.direction12=t,this.obidsOfOtherEndObject=i,this.otherEndObjects=n,this.linkProperties=s}}},k1up:function(e,t,i){"use strict";i.d(t,"a",(function(){return n}));var n=function(e){return e[e.Diagnostic=0]="Diagnostic",e[e.Verbose=1]="Verbose",e[e.Information=2]="Information",e[e.Feature=3]="Feature",e[e.Warning=4]="Warning",e[e.Error=5]="Error",e[e.Critical=6]="Critical",e}({})},kOSm:function(e,t,i){"use strict";i.d(t,"a",(function(){return n}));class n{constructor(e){this.searchTerm=e,this.activeChips=[],this.selectedOptions=[],this.selectedFilters=[],this.isPeekSelectionSearch=!1}}},kx0E:function(e,t,i){"use strict";i.d(t,"a",(function(){return o}));var n=i("fXoL"),s=i("OdF/"),a=i("jhN1");let o=(()=>{class e{constructor(e){this.domSanitizer=e,this.monthDayYearDateFormat="M/d/yyyy",this.dateFormat="d",this.timeFormat="HH:mm:ss",this.dateTimeFormat="g",this.integerNumberFormat="n0",this.doubleNumberFormat="#,#.###############"}getDateFormat(){return this.dateFormat}getTimeFormat(){return this.timeFormat}getDateTimeFormat(){return this.dateTimeFormat}getIntegerNumberFormat(){return this.integerNumberFormat}getDoubleNumberFormat(){return this.doubleNumberFormat}convertToLocalDateTimeFormat(e){return this.convertToCustomDateFormat(e,this.dateFormat,!0)}convertToLocalDateFormat(e){return this.convertToCustomDateFormat(e,this.dateFormat,!1)}convertToCustomDateFormat(e,t,i){let n="",s=[];return e&&this.isStringMultipleDate(e.toString())?s=e.toString().split(","):s.push(e),s.forEach((e,a)=>{const o=e instanceof Date;if(e){let r,c=!1;if(o)r=e;else{let t=e;if(t=this.formatToSlashesDateString(t,i),this.isStringAnISODate(t))r=new Date(t),c=!0;else if(this.isStringAParsableODate(t))r=new Date(t),t.toLowerCase().includes("z")&&(c=!0);else{const e=t.split(" "),i=e[0].split("/");let n=["0","0","0","0"];e[1]&&(n=e[1].split(":")),r=new Date(parseInt(i[0],10),parseInt(i[1],10)-1,parseInt(i[2],10),parseInt(n[0],10),parseInt(n[1],10),parseInt(n[2],10),parseInt(n[3],10))}}if(!c&&i){const e=r.getTimezoneOffset();r=new Date(r.getTime()-6e4*e)}n+=kendo.toString(r,t),i&&(n+=" "+kendo.toString(r,this.timeFormat)),a!==s.length-1&&(n+=", ")}}),n}formatNumber(e){return kendo.toString(e,"00")}convertToLocalInteger(e,t){let i="number"==typeof e?e.toString():e;if(i&&"-"!==i&&/^[0-9.,-]+$/.test(i)&&!(i.startsWith("-")?i.substring(1):i).includes("-")){t||(t=kendo.culture().name);const e=i.replace(new RegExp("\\"+kendo.cultures[t].numberFormat[","],"g"),""),n=parseInt(e,10);i=kendo.toString(n,this.integerNumberFormat,t)}return i}convertToServerInteger(e){if(/(?!^[+-]?)[0-9]+[,+-.]+/g.test(e)&&(e=e.replace(/(?!^[+-]?)[,.+-]+/g,"")),e&&"-"!==e){const t=kendo.parseInt(e.replace(/\s/g,""),kendo.culture().name);e=null!==t?t.toString():e}return e}convertToLocalUom(e,t,i,n=!1){let a="";if(n)a=e;else if(e){a=e;const n=e.split(" ");if(n.length&&n.length<=2){let e="";switch(t){case s.a.INTEGER:e=this.convertToLocalInteger(n[0],i);break;case s.a.DOUBLE:e=this.convertToLocalDouble(n[0],void 0,i)}e=e||n[0],a=2===n.length?e.concat(" ",n[1]):e}}return a}convertToLocalDouble(e,t,i){let n="number"==typeof e?e.toString():e;if(n&&"-"!==n){let e=n.startsWith("-")?n.substring(1):n;if(e=e.toUpperCase().includes("E")?e.replace(/[eE][+-]?/,""):e,/^[0-9.,]+$/.test(e)){const e=this.retrieveUnconvertableLocalDecimal(n,".",kendo.culture().numberFormat["."]);n=this.performLocalDoubleConversion(n,t,i),n=e?n+e:n}}return n}retrieveUnconvertableLocalDecimal(e,t,i){let n="";if(e.includes(t)){const s=e.split(t)[1];s?s.split("").every(e=>"0"===e)&&(n=i+s):n=i}return n}convertToServerDouble(e){if(e&&"-"!==e){const t=e.replace(new RegExp("s|\\"+kendo.culture().numberFormat[","],"g"),""),i=kendo.parseFloat(t,kendo.culture().name);i&&(e=i.toString())}return e}isDateTypeString(e){return this.isDateAndTime(e)||this.isDate(e)}isDateAndTime(e){let t=!1;return/^(\d{4})-(\d{2})-(\d{2})T(\d{2}:\d{2}(:\d{2})?(\d)?(\.\d+)?(Z?))$/.exec(e)&&(t=!0),t}isDate(e){let t=!1;return/^(19|20)\d\d[-/.](0[1-9]|1[012])[- /.](0[1-9]|[12][0-9]|3[01])$/.exec(e)&&(t=!0),t}getFormatedDateTimeFromString(e){let t="";if(e){const i=(e=this.domSanitizer.sanitize(n.K.HTML,e)).split(",").map(e=>e.trim()),s=`{0:${this.getDateFormat()}} {0:${this.getTimeFormat()}}`;i.forEach(e=>{let i=new Date(e.trim().replace(" ","T"));isNaN(i.getDay())&&(i=kendo.parseDate(e,"u")),t=t?i?t+", "+kendo.format(s,i):t+", "+e:i?kendo.format(s,i):e})}return t}formatToSlashesDateString(e,t=!1){let i=e;return t||!e.includes("-")||e.includes(":")||(i=e.replace("-","/")),i}isStringAnISODate(e){const t=new Date(e);return"Invalid Date"!==t.toString()&&(t.toISOString()===e||t.toISOString().substring(0,23)===e.substring(0,23))}isStringAParsableODate(e){return"Invalid Date"!==new Date(e).toString()}isStringMultipleDate(e){let t=!1;return e.split(",").length>1&&(t=!0),t}performLocalDoubleConversion(e,t,i){let s=e;if(e&&"-"!==e){e=(e=this.domSanitizer.sanitize(n.K.HTML,e)).replace(/,/g,"");const a=parseFloat(e);let o;i||(i=kendo.culture().name),e.toLowerCase().indexOf("e")<0?t?s=kendo.toString(a,"n".concat(t.toString()),i):(o=0,a.toString().indexOf(".")>-1&&(o=a.toString().length-a.toString().indexOf(".")-1),s=kendo.toString(a,"n".concat(o.toString()),i)):s=kendo.toString(a,"e",i)}return s}}return e.\u0275fac=function(t){return new(t||e)(n.dc(a.b))},e.\u0275prov=n.Ob({token:e,factory:e.\u0275fac}),e})()},l0e4:function(e,t,i){"use strict";i.d(t,"a",(function(){return o}));var n=i("A1MZ"),s=i("fXoL"),a=i("tyNb");let o=(()=>{class e{constructor(e,t){this.router=e,this.guidService=t}showExceptionAsPage(e,t=""){this.router.navigate(["/error",{title:t,seed:this.guidService.getGuid()}],{state:{exception:JSON.stringify(e)}})}}return e.\u0275fac=function(t){return new(t||e)(s.dc(a.g),s.dc(n.a))},e.\u0275prov=s.Ob({token:e,factory:e.\u0275fac}),e})()},l3mi:function(e,t,i){"use strict";i.d(t,"a",(function(){return o}));var n=i("ofXK"),s=i("NFeN"),a=i("fXoL");let o=(()=>{class e{}return e.\u0275mod=a.Qb({type:e}),e.\u0275inj=a.Pb({factory:function(t){return new(t||e)},imports:[[n.c,s.b]]}),e})()},lV1b:function(e,t,i){"use strict";i.d(t,"a",(function(){return n}));class n{constructor(e,t,i,n,s,a,o,r){this.displayName=e,this.name=t,this.reportObid=i,this.outputType=n,this.hasPrompt=s,this.reportType=a,this.icon=o,this.runInBackground=r}}},lcS2:function(e,t,i){"use strict";i.d(t,"a",(function(){return a}));var n=i("Ejbi"),s=i("fXoL");let a=(()=>{class e{constructor(e){this.sdaTranslateService=e,this.setupCalendarTranslations(),this.setupDateFormat()}setupCalendarTranslations(){this.calendarTranslations={firstDayOfWeek:kendo.culture().calendars.standard.firstDay,dayNames:kendo.culture().calendars.standard.days.names,monthNames:kendo.culture().calendars.standard.months.names,dayNamesMin:kendo.culture().calendars.standard.days.namesShort,dayNamesShort:kendo.culture().calendars.standard.days.namesAbbr,monthNamesShort:kendo.culture().calendars.standard.months.namesAbbr,today:this.sdaTranslateService.get("TODAY","today"),clear:this.sdaTranslateService.get("CLEAR","clear")}}setupDateFormat(){this.dateFormat=kendo.culture().calendar.patterns.d.toLowerCase().replace("yyyy","yy")}}return e.\u0275fac=function(t){return new(t||e)(s.dc(n.a))},e.\u0275prov=s.Ob({token:e,factory:e.\u0275fac}),e})()},lycW:function(e,t,i){"use strict";i.d(t,"a",(function(){return s}));var n=i("fXoL");let s=(()=>{class e{constructor(){this.isTracingOn=!0}logToConsole(e){this.isTracingOn&&console.log(e)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=n.Ob({token:e,factory:e.\u0275fac}),e})()},m8I0:function(e,t,i){"use strict";i.d(t,"a",(function(){return n}));var n=function(e){return e.Default="Default",e.Primary="Primary",e.Neutral="Neutral",e.Success="Success",e.Destroy="Destroy",e.Abort="Abort",e.Plain="Plain",e}({})},mOod:function(e,t,i){"use strict";i.d(t,"a",(function(){return n}));class n{constructor(){this.sourceObjects=[],this.sharedRelDefs={},this.allRelDefs={}}}},mQCr:function(e,t,i){"use strict";i.d(t,"a",(function(){return a}));var n=i("ofXK"),s=i("fXoL");let a=(()=>{class e{}return e.\u0275mod=s.Qb({type:e}),e.\u0275inj=s.Pb({factory:function(t){return new(t||e)},imports:[[n.c]]}),e})()},mRuZ:function(e,t,i){"use strict";i.d(t,"a",(function(){return n}));const n=new(i("fXoL").r)("ClientAPIActionToken")},ml6x:function(e,t,i){"use strict";i.d(t,"a",(function(){return a}));var n=i("J7mc"),s=i("fXoL");let a=(()=>{class e{constructor(e){this.dataService=e}GetPBSRelForCreateFromDisplayItem(e){let t=[];const i=[];if(e.Value){t=Array.from(e.Value);const n=[];t.map(e=>{e.uid&&n.push(e.obid)}),t.forEach(e=>{if(e.uid){const t=this.filterNodeBasedOnSelectedTreeNode(e,n);i.indexOf(t.obid)<0&&i.push(t.obid)}})}return i}GetPBSRelForTerminateFromDisplayItem(e){let t=[],i=[];const n=[];let s=!1;return e.preSelectedObids&&(i=e.preSelectedObids.split(",")),e.hasTreeBeenModified&&(s=e.hasTreeBeenModified),e.Value&&(t=Array.from(e.Value),t.map(e=>{e.uid&&n.push(e.obid)})),this.idenifyTerminatedNodes(i,n,s)}filterNodeBasedOnSelectedTreeNode(e,t){let i=e;for(;i;)if(i=i.parentNode,i&&t.includes(i.obid))return i;return e}idenifyTerminatedNodes(e,t,i){return e.length>0&&t.length>0?e.filter(e=>!t.includes(e)):i&&e.length>0&&0===t.length?e:[]}}return e.\u0275fac=function(t){return new(t||e)(s.dc(n.a))},e.\u0275prov=s.Ob({token:e,factory:e.\u0275fac}),e})()},n01O:function(e,t,i){"use strict";i.d(t,"a",(function(){return n}));class n{constructor(e,t){this.id=e,this.primaryText=t,this.isDefaultItem=!1}}},nI0F:function(e,t,i){"use strict";i.d(t,"a",(function(){return r}));var n=i("lJxs"),s=i("SXtU"),a=i("Ejbi"),o=i("fXoL");let r=(()=>{class e{constructor(e,t){this.odataService=e,this.sdaTranslateService=t}getRestrictedFileExtensions(){return this.odataService.post("FileMgmt/GetRestrictedFileTypes","")}inLineVirusScannersAvailable(){return this.odataService.post("FileMgmt/InlineVirusScannersAvailable","").pipe(Object(n.a)(e=>e.value))}validateFile(e,t,i){let n;const s=e.split(".");if(s&&s.length>1){if(i&&i.length>0){const t="."+s[s.length-1].toLocaleLowerCase();i.indexOf(t)>-1&&(n=this.sdaTranslateService.getFormatted("UNSUPPORTED_FILE_EXTENSION_ERROR","File '{0}' with extension {1} cannot be loaded due to file security settings.",[e,t]))}!n&&t&&t.length>0&&-1===t.indexOf("."+s[s.length-1])&&(n=this.sdaTranslateService.getFormatted("INVALID_FILES_SELECTED-FILE_TYPES","Unexpected file type selected. Files must be of type '{0}'",[t.join(", ")]))}else n=this.sdaTranslateService.getFormatted("FILE_WITH_OUT_EXTENSION_ERROR","File '{0}' is missing a file extension and cannot be loaded.",[e]);return n}}return e.\u0275fac=function(t){return new(t||e)(o.dc(s.a),o.dc(a.a))},e.\u0275prov=o.Ob({token:e,factory:e.\u0275fac}),e})()},nYpA:function(e,t,i){"use strict";i.d(t,"a",(function(){return n}));class n{constructor(e,t,i,n,s,a,o,r,c,l){this.configUID=e,this.name=t,this.status=i,this.querySelected=n,this.createSelected=s,this.dirtyFlag=a,this.canUserSetCreateConfig=o,this.canUserSelectConfig=r,this.obid=c,this.description=l,this.selectable=!0}}},nprN:function(e,t,i){"use strict";i.d(t,"a",(function(){return l}));const n={"arrow-left":'<svg id="bc42e281-f3eb-40ea-bda2-2c1904d205f5" data-name="master-bold" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><g id="33fe4e4c-3321-4d3e-b5b3-b5fb3159d6b1" data-name="arrow_left"><path d="M8.29,18.71a1,1,0,0,0,1.41-1.41L5.41,13H21a1,1,0,0,0,0-2H5.41L9.71,6.71h0A1,1,0,1,0,8.29,5.29l-6,6h0a1,1,0,0,0,0,1.41h0l6,6h0Z"/></g></svg>',check:'<svg id="5e649540-278e-434f-8232-b7de3b467446" data-name="master-bold" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><metadata><?xpacket begin="\ufeff" id="W5M0MpCehiHzreSzNTczkc9d"?>\n<x:xmpmeta xmlns:x="adobe:ns:meta/" x:xmptk="Adobe XMP Core 5.6-c111 79.158366, 2015/09/25-01:12:00        ">\n   <rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#">\n      <rdf:Description rdf:about=""\n            xmlns:xmp="http://ns.adobe.com/xap/1.0/"\n            xmlns:xmpMM="http://ns.adobe.com/xap/1.0/mm/"\n            xmlns:stEvt="http://ns.adobe.com/xap/1.0/sType/ResourceEvent#">\n         <xmp:Rating>5</xmp:Rating>\n         <xmp:MetadataDate>2016-09-14T11:15:22-05:00</xmp:MetadataDate>\n         <xmpMM:InstanceID>xmp.iid:01aec41b-ce62-a140-9a00-17fbaa814289</xmpMM:InstanceID>\n         <xmpMM:DocumentID>xmp.did:01aec41b-ce62-a140-9a00-17fbaa814289</xmpMM:DocumentID>\n         <xmpMM:OriginalDocumentID>xmp.did:01aec41b-ce62-a140-9a00-17fbaa814289</xmpMM:OriginalDocumentID>\n         <xmpMM:History>\n            <rdf:Seq>\n               <rdf:li>\n                  <rdf:Description>\n                     <stEvt:action>saved</stEvt:action>\n                     <stEvt:instanceID>xmp.iid:01aec41b-ce62-a140-9a00-17fbaa814289</stEvt:instanceID>\n                     <stEvt:when>2016-09-14T11:15:22-05:00</stEvt:when>\n                     <stEvt:softwareAgent>Adobe Bridge CC (Windows)</stEvt:softwareAgent>\n                     <stEvt:changed>/metadata</stEvt:changed>\n                  </rdf:Description>\n               </rdf:li>\n            </rdf:Seq>\n         </xmpMM:History>\n      </rdf:Description>\n   </rdf:RDF>\n</x:xmpmeta>\n                                                                                                    \n                                                                                                    \n                                                                                                    \n                                                                                                    \n                                                                                                    \n                                                                                                    \n                                                                                                    \n                                                                                                    \n                                                                                                    \n                                                                                                    \n                                                                                                    \n                                                                                                    \n                                                                                                    \n                                                                                                    \n                                                                                                    \n                                                                                                    \n                                                                                                    \n                                                                                                    \n                                                                                                    \n                                                                                                    \n                           \n<?xpacket end="w"?></metadata>\n<g id="a64a5f50-65db-4ad9-9bba-94374103d1fd" data-name="check"><path d="M9,16.17L5.53,12.7a1,1,0,0,0-1.41,0h0a1,1,0,0,0,0,1.42L8.3,18.3a1,1,0,0,0,1.41,0L20.3,7.7a1,1,0,0,0,0-1.41h0a1,1,0,0,0-1.41,0Z"/></g></svg>',"chevron-down":'<svg id="27468372-cfa5-4508-8893-60c3c709f7b9" data-name="master-bold" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><g id="c7d107a1-a1cc-4a46-8ab2-6bacb4fae56e" data-name="chevron-down"><path d="M19.71,8.29a1,1,0,0,0-1.41,0L12,14.59,5.71,8.29A1,1,0,0,0,4.29,9.71l7,7a1,1,0,0,0,1.41,0l7-7A1,1,0,0,0,19.71,8.29Z"/></g></svg>',"chevron-up":'<svg id="a6e7e397-d22f-448b-a225-218de14d293e" data-name="master-bold" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><g id="0d31d865-ec9d-4f90-97dc-6a9c57d56519" data-name="chevron-up"><path d="M4.29,15.71a1,1,0,0,0,1.41,0L12,9.41l6.29,6.29a1,1,0,0,0,1.41-1.41l-7-7a1,1,0,0,0-1.41,0l-7,7A1,1,0,0,0,4.29,15.71Z"/></g></svg>',close:'<svg id="00121ee7-9e51-4f21-a759-1fe0c797d18f" data-name="master-bold" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><g id="6b39704f-4303-483b-aeea-234e3842f6fe" data-name="close"><path d="M13.41,12l6.31-6.31a1,1,0,1,0-1.41-1.41L12,10.57,5.69,4.27A1,1,0,1,0,4.28,5.68L10.59,12l-6.31,6.3A1,1,0,1,0,5.69,19.7L12,13.4l6.31,6.3a1,1,0,1,0,1.41-1.41Z"/></g></svg>',multiselect:'<svg id="6557306b-9acc-46f9-bdeb-4bde7d0cefcc" data-name="multiselect" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><defs><style>.c2c3fe33-c145-4c28-a618-b4caf5462e86{fill:#0b0d0f;}</style></defs><path class="c2c3fe33-c145-4c28-a618-b4caf5462e86" d="M18.68,20.05a3.37,3.37,0,0,1-3.08,2H4a2,2,0,0,1-2-2V8.45A3.37,3.37,0,0,1,4,5.37V20.05H18.68Z"/><path d="M20,17.05H7v-13H20v13Zm-15,0a2,2,0,0,0,2,2H20a2,2,0,0,0,2-2v-13a2,2,0,0,0-2-2H7a2,2,0,0,0-2,2v13Z"/><path d="M18.71,7.08a1,1,0,0,0-1.41,0l-5.66,5.66L9.51,10.61A1,1,0,0,0,8.1,12l2.83,2.83a1,1,0,0,0,1.41,0l6.36-6.36A1,1,0,0,0,18.71,7.08Z"/></svg>',overflow:'<svg id="7469ca38-bb65-4d9e-92c2-1bc49c52bbd4" data-name="overflow" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><g id="1854ef21-d3e6-4ee0-9158-fdda52d3268d" data-name="overflow"><circle cx="12" cy="12" r="2"/><circle cx="12" cy="5" r="2"/><circle cx="12" cy="19" r="2"/></g></svg>',refresh:'<svg id="3477a93d-4126-479c-8af4-24a7c0c4e751" data-name="refresh" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><g id="a2d93540-93e6-4ff6-bc48-bcd52c5e4696" data-name="refresh"><path d="M20.94,12a1,1,0,0,0-1,.87A8,8,0,0,1,5.08,16H9a1,1,0,0,0,0-2H3a1,1,0,0,0-1,1v6a1,1,0,0,0,2,0V18a10,10,0,0,0,17.94-4.86,1,1,0,0,0-1-1.12h0Z"/><path d="M3.06,12a1,1,0,0,0,1-.87A8,8,0,0,1,18.92,8H15a1,1,0,0,0,0,2h6a1,1,0,0,0,1-1V3a1,1,0,0,0-2,0V6A10,10,0,0,0,2.06,10.88a1,1,0,0,0,1,1.12h0Z"/></g></svg>'};var s=i("fXoL"),a=i("jhN1"),o=i("ofXK");function r(e,t){if(1&e&&s.Tb(0,"div",2),2&e){const e=s.lc();s.sc("innerHtml",e.getContentHTML(),s.Lc)}}function c(e,t){if(1&e&&s.Tb(0,"img",3),2&e){const e=s.lc();s.sc("src",e.iconSrc,s.Mc)}}let l=(()=>{class e{constructor(e){this.domSanitizer=e,this.className="uxt-icon"}getContentClassName(){let e="uxt-icon__content";return e+="large"===this.size?" uxt-icon__content--large":"small"===this.size?" uxt-icon__content--small":" "+this.getIsMinimal(),e}getContentHTML(){const e=n[this.iconName];let t=`<svg viewBox="0 0 24 24" width="24" height="24">${e}</svg>`;return(this.iconName.includes("-rad-")||this.iconName.includes("-view-"))&&(t=`<svg viewBox="0 0 32 32" width="32" height="32">${e}</svg>`),this.domSanitizer.bypassSecurityTrustHtml(t)}getIsSrcImgVisible(){return!this.iconName&&!!this.iconSrc}getIsSvgWrapperVisible(){return!!this.iconName}getIsMinimal(){let e="";return this.iconName.includes("-nav-")||this.iconName.includes("-rad-")||this.iconName.includes("-view-")||(e="uxt-icon__content--minimal"),e}}return e.\u0275fac=function(t){return new(t||e)(s.Sb(a.b))},e.\u0275cmp=s.Mb({type:e,selectors:[["uxt-icon"]],hostVars:2,hostBindings:function(e,t){2&e&&s.Gb(t.className)},inputs:{iconName:"iconName",iconSrc:"iconSrc",size:"size"},decls:3,vars:4,consts:[["class","uxt-icon__content__svg-wrapper",3,"innerHtml",4,"ngIf"],["class","uxt-icon__content__src-img",3,"src",4,"ngIf"],[1,"uxt-icon__content__svg-wrapper",3,"innerHtml"],[1,"uxt-icon__content__src-img",3,"src"]],template:function(e,t){1&e&&(s.Yb(0,"div"),s.Sc(1,r,1,1,"div",0),s.Sc(2,c,1,1,"img",1),s.Xb()),2&e&&(s.Gb(t.getContentClassName()),s.Eb(1),s.sc("ngIf",t.getIsSvgWrapperVisible()),s.Eb(1),s.sc("ngIf",t.getIsSrcImgVisible()))},directives:[o.t],styles:[".uxt-icon{display:flex;align-items:center;justify-content:center;flex-shrink:0;width:40px;height:40px;overflow:hidden}.uxt-icon__content,.uxt-icon__content__svg-wrapper{display:flex;align-items:center;flex-shrink:0;width:24px;height:24px}.uxt-icon__content--minimal svg *{fill:#697a8b}.uxt-icon__content--small,.uxt-icon__content--small .uxt-icon__content__svg-wrapper{width:16px;height:16px}.uxt-icon__content--large,.uxt-icon__content--large .uxt-icon__content__svg-wrapper{width:32px;height:32px}.uxt-icon img,.uxt-icon svg{width:100%;height:100%}"],encapsulation:2,changeDetection:0}),e})()},nqum:function(e,t,i){"use strict";i.d(t,"a",(function(){return r}));var n=i("lJxs"),s=i("fpIb");class a{constructor(e,t,i,n,s,a,o,r,c,l,d,h,u){this.displayName=e,this.objectObid=t,this.link=i,this.uid=n,this.pathDefinition=s,this.startingOBID=a,this.startingInterface=o,this.endInterface=r,this.groupingId=c,this.count=l,this.config=d,this.navigation=h,this.columnSet=u}}var o=i("fXoL");let r=(()=>{class e{constructor(e){this.relationshipDataService=e}getNavigationOptions(e,t,i=!1){return this.relationshipDataService.getNavigationOptions(e,t,i).pipe(Object(n.a)(e=>e.map(e=>new a(e.DisplayName,e.StartingOBID,e.Link,e.UID,e.PathDefinition,e.StartingOBID,e.StartingInterface,e.EndInterface,e.GroupingID,e.Count,t,e.Navigation,e.ColumnSetUID))))}}return e.\u0275fac=function(t){return new(t||e)(o.dc(s.a))},e.\u0275prov=o.Ob({token:e,factory:e.\u0275fac}),e})()},oCVS:function(e,t,i){"use strict";i.d(t,"a",(function(){return l}));var n=i("ofXK"),s=i("3Pt+"),a=i("0IaG"),o=i("l3mi"),r=i("F+hv"),c=i("fXoL");let l=(()=>{class e{}return e.\u0275mod=c.Qb({type:e}),e.\u0275inj=c.Pb({factory:function(t){return new(t||e)},imports:[[n.c,s.j,r.a,a.e,o.a]]}),e})()},oJii:function(e,t,i){"use strict";i.d(t,"a",(function(){return s}));var n=i("fXoL");let s=(()=>{class e{getProgressObject(e){return e.progress.isAvailableProgress}execute(){return Promise.resolve()}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=n.Ob({token:e,factory:e.\u0275fac}),e})()},"oT+2":function(e,t,i){"use strict";i.d(t,"a",(function(){return L}));var n=i("HDdC"),s=i("+ooB"),a=i("jNCI"),o=i("0EQZ"),r=i("M9IT"),c=i("+0xr"),l=i("Qqho"),d=i("8ihU"),h=i("IUya"),u=i("Ejbi"),p=i("DxXH"),g=i("fXoL"),f=i("ofXK"),m=i("DjP+"),b=i("O6oy"),S=i("QibW"),v=i("bSwM");function _(e,t){if(1&e&&(g.Yb(0,"div",9),g.Uc(1),g.Xb()),2&e){const e=g.lc();g.Eb(1),g.Vc(e.FILE_PICKER_NO_FILE)}}function O(e,t){1&e&&g.Tb(0,"mat-header-cell")}function I(e,t){if(1&e){const e=g.Zb();g.Yb(0,"mat-cell"),g.Yb(1,"mat-radio-button",13),g.hc("change",(function(){g.Kc(e);const i=t.$implicit;return g.lc(2).onRowSelect(i)})),g.Xb(),g.Xb()}if(2&e){const e=t.$implicit,i=g.lc(2);g.Eb(1),g.sc("checked",i.selection.isSelected(e))}}function C(e,t){1&e&&(g.Wb(0,10),g.Sc(1,O,1,0,"mat-header-cell",11),g.Sc(2,I,2,1,"mat-cell",12),g.Vb())}function T(e,t){if(1&e){const e=g.Zb();g.Yb(0,"mat-header-cell"),g.Yb(1,"mat-checkbox",13),g.hc("change",(function(t){return g.Kc(e),g.lc(2).selectOrRemoveAll(t.checked)})),g.Xb(),g.Xb()}if(2&e){const e=g.lc(2);g.Eb(1),g.sc("checked",e.isAllCheckboxSelected)}}function E(e,t){if(1&e){const e=g.Zb();g.Yb(0,"mat-cell"),g.Yb(1,"mat-checkbox",13),g.hc("change",(function(){g.Kc(e);const i=t.$implicit;return g.lc(2).selection.toggle(i)})),g.Xb(),g.Xb()}if(2&e){const e=t.$implicit,i=g.lc(2);g.Eb(1),g.sc("checked",i.selection.isSelected(e))}}function y(e,t){1&e&&(g.Wb(0,10),g.Sc(1,T,2,1,"mat-header-cell",11),g.Sc(2,E,2,1,"mat-cell",12),g.Vb())}function P(e,t){if(1&e&&(g.Yb(0,"mat-header-cell"),g.Uc(1),g.Xb()),2&e){const e=g.lc().$implicit;g.Eb(1),g.Vc(e.header)}}function x(e,t){if(1&e&&(g.Yb(0,"mat-cell"),g.Uc(1),g.Xb()),2&e){const e=t.$implicit,i=g.lc().$implicit;g.Eb(1),g.Vc(e[i.field])}}function A(e,t){1&e&&(g.Wb(0,14),g.Sc(1,P,2,1,"mat-header-cell",11),g.Sc(2,x,2,1,"mat-cell",12),g.Vb()),2&e&&g.sc("matColumnDef",t.$implicit.header)}function w(e,t){1&e&&g.Tb(0,"mat-header-row")}function M(e,t){if(1&e){const e=g.Zb();g.Yb(0,"mat-row",15),g.hc("click",(function(){g.Kc(e);const i=t.$implicit;return g.lc().onRowSelect(i)})),g.Xb()}}function D(e,t){if(1&e&&g.Tb(0,"mat-paginator",16),2&e){const e=g.lc();g.sc("pageSize",e.pageSize)}}let N=(()=>{class e extends d.a{constructor(e,t,i){super(e),this.sdaTranslateService=t,this.filterFileService=i,this.displayedColumns=[],this.selectedFiles=[],this.document={},this.noFileWarning=!1,this.collapsable=!1,this.FILE_PICKER_NO_FILE=this.sdaTranslateService.get("FILE_PICKER_NO_FILE","Please select a file before continuing or select CANCEL to close the dialog"),this.pageSize=Settings.application.defaultPageSize,this.isAllCheckboxSelected=!1}ngOnInit(){this.showLoadingIndicator(),this.data=this.getData(),this.data.files=this.filterFileService.convertFilesDates(this.data.files),this.dataSource=new c.k(this.data.files),this.selection=new o.c(!0,[]),this.isSingleSelectionMode=this.data.singleSelect,this.isCompareDocuments=this.data.filePickerType===l.a.CompareDocuments,this.collapsable=this.dataSource.data.length>1,this.setDefaultSelectedFiles(),this.setupPropertySection(),this.setupGrid(),this.hideLoadingIndicator()}ngAfterViewInit(){this.dataSource.paginator=this.paginator}selectOrRemoveAll(e){e?this.dataSource.data.forEach(e=>{this.selection.select(e),this.fileIndexInSelectedFiles(e)>-1||this.selectedFiles.push(e)}):(this.selection.clear(),this.selectedFiles=[]),this.isAllCheckboxSelected=this.isAllSelected()}onRowSelect(e){this.noFileWarning=!1,this.isSingleSelectionMode?(this.selection.clear(),this.selection.toggle(e),this.selectedFile=e):(this.selection.toggle(e),this.isAllCheckboxSelected=this.isAllSelected(),this.addOrRemoveSelectedFiles(e))}ok(){let e;this.isSingleSelectionMode?this.selectedFile&&(e=[this.selectedFile]):this.selectedFiles.length&&(e=this.selectedFiles),e?this.returnValue(e):this.noFileWarning=!0}cancel(){this.returnValue(void 0)}returnValue(e){const t=new h.a(!0);t.setData(e),this.closeModal.next(t)}setDefaultSelectedFiles(){this.isSingleSelectionMode||(this.isCompareDocuments?(this.disableOkayButton(),this.selectOrRemoveAll(!1)):this.selectOrRemoveAll(!0))}isAllSelected(){return this.selection.selected.length===this.dataSource.data.length}setupPropertySection(){this.setPropertiesForTitle();const e=[];this.dataSource.data.forEach(t=>{t.CI_FileDocName&&!e.includes(t.CI_FileDocName)?e.push(t.CI_FileDocName):t.CI_AlternateRenditionDocName&&!e.includes(t.CI_AlternateRenditionDocName)&&e.push(t.CI_AlternateRenditionDocName)}),e.length>0&&(this.data.document={name:e.join(", ")});for(const t in this.data.document)if(this.data.document.hasOwnProperty(t)){const e=t.replace(/_/g," ");"Id"!==e&&"OBID"!==e&&(this.document[e]=this.data.document[t])}}setPropertiesForTitle(){this.FILE_PICKER_PROPERTIES_TITLE=this.sdaTranslateService.getFormatted("FILE_PICKER_PROPERTIES_TITLE-NAME","Information about {0}",[this.data.displayTitle?this.data.displayTitle:this.data.document.Name])}setupGrid(){if(this.columnset=new Array,this.data.isColumnsetConfigured)Object.keys(this.dataSource.data[0]).forEach(e=>{e.startsWith("CI_")&&!1===e.includes("@Intergraph.SPF.Server.API.Model")&&this.columnset.push({field:e,header:this.dataSource.data[0][e+"@Intergraph.SPF.Server.API.Model.DisplayName"]})});else for(const e in this.dataSource.data[0])if(this.dataSource.data[0].hasOwnProperty(e)&&"uid"!==e.toLowerCase()&&"id"!==e.toLowerCase()&&"obid"!==e.toLowerCase()){const t=e.replace(/_/g," ");this.columnset.push({field:e,header:t})}this.setDisplayedColumns()}setDisplayedColumns(){this.displayedColumns=this.columnset.map(e=>e.header),this.displayedColumns.unshift("selectionColumn")}addOrRemoveSelectedFiles(e){const t=this.fileIndexInSelectedFiles(e);this.selection.isSelected(e)?this.selectedFiles.push(e):this.selectedFiles.splice(t,1),this.isCompareDocuments&&(2===this.selectedFiles.length?this.enableOkayButton():this.disableOkayButton())}fileIndexInSelectedFiles(e){return this.selectedFiles.findIndex(t=>t.OBID===e.OBID)}}return e.\u0275fac=function(t){return new(t||e)(g.Sb(a.a),g.Sb(u.a),g.Sb(p.a))},e.\u0275cmp=g.Mb({type:e,selectors:[["ng-component"]],viewQuery:function(e,t){var i;1&e&&g.bd(r.a,!0),2&e&&g.Gc(i=g.ic())&&(t.paginator=i.first)},features:[g.Bb],decls:11,vars:13,consts:[["class","no-file",4,"ngIf"],[3,"name","isOpen","data","isCollapsible"],[1,"file-picker"],[3,"dataSource"],["matColumnDef","selectionColumn",4,"ngIf"],[3,"matColumnDef",4,"ngFor","ngForOf"],[4,"matHeaderRowDef","matHeaderRowDefSticky"],[3,"click",4,"matRowDef","matRowDefColumns"],[3,"pageSize",4,"ngIf"],[1,"no-file"],["matColumnDef","selectionColumn"],[4,"matHeaderCellDef"],[4,"matCellDef"],[3,"checked","change"],[3,"matColumnDef"],[3,"click"],[3,"pageSize"]],template:function(e,t){1&e&&(g.Sc(0,_,2,1,"div",0),g.Yb(1,"uxt-property-grid"),g.Tb(2,"uxt-property-section",1),g.Xb(),g.Yb(3,"div",2),g.Yb(4,"mat-table",3),g.Sc(5,C,3,0,"ng-container",4),g.Sc(6,y,3,0,"ng-container",4),g.Sc(7,A,3,1,"ng-container",5),g.Sc(8,w,1,0,"mat-header-row",6),g.Sc(9,M,1,0,"mat-row",7),g.Xb(),g.Xb(),g.Sc(10,D,1,1,"mat-paginator",8)),2&e&&(g.sc("ngIf",t.noFileWarning),g.Eb(2),g.sc("name",t.FILE_PICKER_PROPERTIES_TITLE)("isOpen",!1)("data",t.document)("isCollapsible",t.collapsable),g.Eb(2),g.sc("dataSource",t.dataSource),g.Eb(1),g.sc("ngIf",t.isSingleSelectionMode),g.Eb(1),g.sc("ngIf",!t.isSingleSelectionMode),g.Eb(1),g.sc("ngForOf",t.columnset),g.Eb(1),g.sc("matHeaderRowDef",t.displayedColumns)("matHeaderRowDefSticky",!0),g.Eb(1),g.sc("matRowDefColumns",t.displayedColumns),g.Eb(1),g.sc("ngIf",t.dataSource.data.length>t.pageSize))},directives:[f.t,m.a,b.a,c.j,f.s,c.g,c.i,c.c,c.e,c.b,c.d,c.a,S.a,v.a,c.f,c.h,r.a],styles:["[_nghost-%COMP%]{display:flex;flex:1 1 100%;flex-direction:column;overflow:hidden}[_nghost-%COMP%]     .uxt-property__name:first-child{flex:0 0 auto;max-width:33%}[_nghost-%COMP%]     .uxt-property-grid{flex-shrink:0}[_nghost-%COMP%]     .mat-radio-label{flex-direction:column}[_nghost-%COMP%]   .no-file[_ngcontent-%COMP%]{padding:8px;font-size:14px;color:#fff;background-color:#f5b80a}[_nghost-%COMP%]   .file-picker[_ngcontent-%COMP%]{display:flex;flex-direction:column;width:100%;height:100%;overflow:auto}[_nghost-%COMP%]   .mat-table[_ngcontent-%COMP%]{min-width:1000px}[_nghost-%COMP%]   .mat-header-cell[_ngcontent-%COMP%]{color:#1f2429}[_nghost-%COMP%]   .mat-row[_ngcontent-%COMP%]{cursor:pointer}[_nghost-%COMP%]   .mat-cell[_ngcontent-%COMP%]:first-of-type, [_nghost-%COMP%]   .mat-header-cell[_ngcontent-%COMP%]:first-of-type{max-width:50px;justify-content:center}[_nghost-%COMP%]   .mat-cell[_ngcontent-%COMP%]   .mat-checkbox[_ngcontent-%COMP%]{pointer-events:none}"]}),e})();var R=i("tYhX");let L=(()=>{class e{constructor(e){this.modalService=e}selectFiles(e,t,i,a,o,r=!0,c,l,d,h){return n.a.create(n=>{const u=new R.a(i,a,o,r,c,l);u.filePickerType=h;const p=new s.a(d,N,e,t);p.data=u,p.size="large",this.modalService.showModal(p).then(e=>{const t=e.getData();n.next(t),n.complete()})})}}return e.\u0275fac=function(t){return new(t||e)(g.dc(a.a))},e.\u0275prov=g.Ob({token:e,factory:e.\u0275fac}),e})()},oTPA:function(e,t,i){"use strict";i.d(t,"a",(function(){return n}));var n=function(e){return e.FILE_UPLOAD_PROGRESS_QUEUED="FILE_UPLOAD_PROGRESS_QUEUED",e.FILE_UPLOAD_PROGRESS_INPROGRESS="FILE_UPLOAD_PROGRESS_INPROGRESS",e.FILE_UPLOAD_PROGRESS_ERROR="FILE_UPLOAD_PROGRESS_ERROR",e.FILE_UPLOAD_PROGRESS_COMPLETED="FILE_UPLOAD_PROGRESS_COMPLETED",e}({})},orEM:function(e,t,i){"use strict";i.d(t,"a",(function(){return n}));class n{constructor(e,t,i){this.isInitialized=e,this.initializationMessage=t,this.exception=i}}},osZK:function(e,t,i){"use strict";i.d(t,"a",(function(){return _}));var n=i("LRne"),s=i("eIep"),a=i("Z9D8"),o=i("LUpO"),r=i("Ejbi"),c=i("HLw3"),l=i("349d"),d=i("zHoD"),h=i("ac1k"),u=i("TH8o"),p=i("71wh"),g=i("oJii"),f=i("renH"),m=i("3xPZ"),b=i("y+N1"),S=i("9JZq"),v=i("fXoL");let _=(()=>{class e{constructor(e,t,i,n,s,a,o,r,c,l){this.uploadFileStage=e,this.makeFileAvailableStage=t,this.makeFileAvailableWithVirusScanStage=i,this.attachFileToObjectStage=n,this.moveToShareForSubmissionStage=s,this.isFileAvailableStage=a,this.fileCSVValidationStage=o,this.sdaTranslateService=r,this.batchRequestFactory=c,this.exceptionService=l,this.FILE_CLEANUP_ERROR=this.sdaTranslateService.get("FILE_CLEANUP_ERROR","There is an error whille cleaning up file from server temp.")}uploadFile(e,t,i,n){return this.attachFileToObjectStage.fileClass=this.fileClass,t===d.a.InLineVaulting?this.fileIsAvailable(e,i,n).then(()=>this.withErrorHandlingAndProgress(this.attachFileToObjectStage,e)):t===d.a.InLineMoveToShare?this.fileIsAvailable(e,i,n).then(()=>this.withErrorHandlingAndProgress(this.moveToShareForSubmissionStage,e)):t===d.a.OnlyAttach?this.withErrorHandlingAndProgress(this.attachFileToObjectStage,e):this.fileIsAvailable(e,i,n)}uploadFiles(e,t,i,n){const s=e.shift();return this.attachFileToObjectStage.fileClass=this.fileClass,0===e.length?this.uploadFile(s,t,i,n):t===d.a.InLineVaulting?this.uploadFilesForInLineVaulting(s,e,t,i,n):t===d.a.InLineMoveToShare?this.uploadFilesForInLineMoveToShare(s,e,t,i,n):t===d.a.OnlyAttach?this.AttachFiles(s,e,t,i,n):this.uploadFilesForNoFollowUpAcion(s,e,t,i,n)}cleanUploadedFilesFromServer(e){if(e.length>0){const t=this.batchRequestFactory.createBatchRequest(),i=t.createChangeset();return e.forEach(e=>{const t=new l.a;t.ClientFilePath="",t.CleanupOnly=!0,t.TargetObjectOBID="",i.addPostRequest("Upload('"+e.uploadID+"')/Intergraph.SPF.Server.API.Model.Attach",t,!0,void 0,void 0,void 0,void 0,"FileMgmt")}),t.addChangeset(i),t.execute().toPromise().then(e=>{e.forEach(e=>{void 0!==e&&e.hasErrored&&this.exceptionService.handleException(new a.a(e[0].exception,this.FILE_CLEANUP_ERROR))})})}return Promise.resolve()}cleanUpSubmissionDirectoryFromServer(e){if(e.length>0){const t=this.batchRequestFactory.createBatchRequest(),i=t.createChangeset();return e.forEach(e=>{const t=new h.a;t.ClientFileName=e.file.name,t.DestinationDirectory=e.moveToShareFolderName,t.CleanupOnly=!0,i.addPostRequest("Upload('"+e.uploadID+"')/Intergraph.SPF.Server.API.Model.Move",t,!0,void 0,void 0,void 0,void 0,"FileMgmt")}),t.addChangeset(i),t.execute().pipe(Object(s.a)(e=>(void 0!==e&&e.length>0&&e[0].hasErrored&&this.exceptionService.handleException(new a.a(e[0].exception,this.FILE_CLEANUP_ERROR)),Object(n.a)(!0))))}return Object(n.a)(!0)}AttachFiles(e,t,i,n,s){return this.withErrorHandlingAndProgress(this.attachFileToObjectStage,e).then(()=>this.uploadFiles(t,i,n,s),()=>this.uploadRemainingFiles(t,i,n,s))}uploadFilesForInLineVaulting(e,t,i,n,s){return n?this.withErrorHandlingAndProgress(this.uploadFileStage,e).then(()=>Promise.all([this.validateCSVStage(s,e).then(()=>this.withErrorHandlingAndProgress(this.makeFileAvailableWithVirusScanStage,e)).then(()=>this.withErrorHandlingAndProgress(this.isFileAvailableStage,e)).then(()=>this.withErrorHandlingAndProgress(this.attachFileToObjectStage,e)),new Promise(e=>this.uploadFiles(t,i,n,s).then(()=>{e()}))]),()=>this.uploadRemainingFiles(t,i,n,s)).then(()=>{}):this.withErrorHandlingAndProgress(this.uploadFileStage,e).then(()=>Promise.all([this.validateCSVStage(s,e).then(()=>this.withErrorHandlingAndProgress(this.makeFileAvailableStage,e)).then(()=>this.withErrorHandlingAndProgress(this.attachFileToObjectStage,e)),new Promise(e=>this.uploadFiles(t,i,n,s).then(()=>{e()}))]),()=>this.uploadRemainingFiles(t,i,n,s)).then(()=>{})}uploadFilesForInLineMoveToShare(e,t,i,n,s){return n?this.withErrorHandlingAndProgress(this.uploadFileStage,e).then(()=>new Promise((a,o)=>Promise.all([this.validateCSVStage(s,e).then(()=>this.withErrorHandlingAndProgress(this.makeFileAvailableWithVirusScanStage,e)).then(()=>this.withErrorHandlingAndProgress(this.isFileAvailableStage,e)).then(()=>this.withErrorHandlingAndProgress(this.moveToShareForSubmissionStage,e)),this.uploadFiles(t,i,n,s)]).then(()=>{a()}).catch(e=>{o(e)})),()=>this.uploadRemainingFiles(t,i,n,s)).then(()=>{}):this.withErrorHandlingAndProgress(this.uploadFileStage,e).then(()=>new Promise((a,o)=>Promise.all([this.validateCSVStage(s,e).then(()=>this.withErrorHandlingAndProgress(this.makeFileAvailableStage,e)).then(()=>this.withErrorHandlingAndProgress(this.moveToShareForSubmissionStage,e)),this.uploadFiles(t,i,n,s)]).then(()=>{a()}).catch(e=>{o(e)})),()=>this.uploadRemainingFiles(t,i,n,s)).then(()=>{})}uploadFilesForNoFollowUpAcion(e,t,i,n,s){return n?this.withErrorHandlingAndProgress(this.uploadFileStage,e).then(()=>new Promise((a,o)=>Promise.all([this.withErrorHandlingAndProgress(this.makeFileAvailableWithVirusScanStage,e).then(()=>this.withErrorHandlingAndProgress(this.isFileAvailableStage,e)),this.uploadFiles(t,i,n,s)]).then(()=>{a()}).catch(e=>{o(e)})),()=>this.uploadRemainingFiles(t,i,n,s)).then(()=>{}):this.withErrorHandlingAndProgress(this.uploadFileStage,e).then(()=>new Promise((a,o)=>Promise.all([this.withErrorHandlingAndProgress(this.makeFileAvailableStage,e),this.uploadFiles(t,i,n,s)]).then(()=>{a()}).catch(e=>{o(e)})),()=>this.uploadRemainingFiles(t,i,n,s)).then(()=>{})}fileIsAvailable(e,t,i){return t?this.withErrorHandlingAndProgress(this.uploadFileStage,e).then(()=>this.withErrorHandlingAndProgress(this.makeFileAvailableWithVirusScanStage,e)).then(()=>this.validateCSVStage(i,e)).then(()=>this.withErrorHandlingAndProgress(this.isFileAvailableStage,e)):this.withErrorHandlingAndProgress(this.uploadFileStage,e).then(()=>this.validateCSVStage(i,e)).then(()=>this.withErrorHandlingAndProgress(this.makeFileAvailableStage,e))}withErrorHandlingAndProgress(e,t){return new Promise(i=>{e.getProgressObject(t).start(),i()}).then(()=>e.execute(t).catch(i=>{e.getProgressObject(t).failure(i)})).then(()=>{if(e.getProgressObject(t).isFailure){let i=e.getProgressObject(t).error;return i||(i=new a.a(this.sdaTranslateService.getFormatted("ERROR_FAILING_UPLOAD_STAGE-STAGE","Object failed upload stage {0}",[e.toString()]))),Promise.reject(i)}return e.getProgressObject(t).success()}).catch(i=>e.getProgressObject(t).failure(i))}uploadRemainingFiles(e,t,i,n){return new Promise(s=>this.uploadFiles(e,t,i,n).then(()=>{s()}))}validateCSVStage(e,t){return e?this.withErrorHandlingAndProgress(this.fileCSVValidationStage,t):Promise.resolve()}}return e.\u0275fac=function(t){return new(t||e)(v.dc(S.a),v.dc(f.a),v.dc(m.a),v.dc(u.a),v.dc(b.a),v.dc(g.a),v.dc(p.a),v.dc(r.a),v.dc(c.a),v.dc(o.a))},e.\u0275prov=v.Ob({token:e,factory:e.\u0275fac}),e})()},pyKC:function(e,t,i){"use strict";i.d(t,"a",(function(){return o}));var n=i("XNiG"),s=i("KkJr"),a=i("fXoL");let o=(()=>{class e{constructor(){this.rowRemoved=new n.a,this.chipRemoved=new n.a}get chipRemoved$(){return this.chipRemoved.asObservable()}get rowRemoved$(){return this.rowRemoved.asObservable()}selectedItemsChanged(e,t){const i=[];return e&&e.forEach(e=>{e&&e!==s.c&&e!==s.a&&e!==s.b&&(t&&-1!==t.lastIndexOf(e)?i.push({Key:e,Value:"",DisplayAs:"",Config:"",Terminate:!1,Existing:!0}):i.push({Key:e,Value:"",DisplayAs:"",Config:"",Terminate:!1,Existing:!1}))}),t&&t.forEach(e=>{-1===i.map(e=>e.Key).indexOf(e)&&i.push({Key:e,Value:"",DisplayAs:"",Config:"",Terminate:!0,Existing:!0})}),i}removeRow(e,t){this.rowRemoved.next({obid:e,displayItem:t})}removeChip(e){this.chipRemoved.next({obid:e})}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=a.Ob({token:e,factory:e.\u0275fac}),e})()},qFO9:function(e,t,i){"use strict";i.d(t,"a",(function(){return w}));var n=i("fXoL"),s=i("2ufx"),a=i("dEBh"),o=i("Ejbi"),r=i("kOSm"),c=i("ofXK"),l=i("NFeN"),d=i("7Ihv");function h(e,t){if(1&e){const e=n.Zb();n.Yb(0,"span",4),n.hc("click",(function(){n.Kc(e);const t=n.lc().$implicit;return n.lc().removeChip(t)})),n.Tb(1,"mat-icon",5),n.Xb()}if(2&e){const e=n.lc().$implicit,t=n.lc();n.Eb(1),n.sc("id",e.uid)("title",t.REMOVE)}}function u(e,t){if(1&e){const e=n.Zb();n.Yb(0,"div",1),n.Yb(1,"span",2),n.hc("click",(function(){n.Kc(e);const i=t.$implicit;return n.lc().chipClicked(i)})),n.Uc(2),n.mc(3,"sdaTruncate"),n.Xb(),n.Sc(4,h,2,2,"span",3),n.Xb()}if(2&e){const e=t.$implicit;n.Eb(1),n.sc("title",e.displayName),n.Eb(1),n.Wc(" ",n.oc(3,3,e.displayName,18)," "),n.Eb(2),n.sc("ngIf",e.chipRemovable)}}let p=(()=>{class e{constructor(e){this.sdaTranslateService=e,this.chips=[],this.onChipClicked=new n.o,this.chipsChange=new n.o,this.REMOVE=this.sdaTranslateService.get("REMOVE","Remove")}chipClicked(e){this.onChipClicked.emit(e)}removeChip(e){const t=this.chips.findIndex(t=>t.uid===e.uid);t>-1&&this.chips.splice(t,1),this.chipsChange.emit(this.chips)}}return e.\u0275fac=function(t){return new(t||e)(n.Sb(o.a))},e.\u0275cmp=n.Mb({type:e,selectors:[["sda-search-chips"]],inputs:{chips:"chips"},outputs:{onChipClicked:"onChipClicked",chipsChange:"chipsChange"},decls:1,vars:1,consts:[["class","search-chip",4,"ngFor","ngForOf"],[1,"search-chip"],[1,"search-chip__data",3,"title","click"],["class","search-chip__icon-container",3,"click",4,"ngIf"],[1,"search-chip__icon-container",3,"click"],["svgIcon","close",1,"search-chip__icon",3,"id","title"]],template:function(e,t){1&e&&n.Sc(0,u,5,6,"div",0),2&e&&n.sc("ngForOf",t.chips)},directives:[c.s,c.t,l.a],pipes:[d.a],styles:[".search-chip__data[_ngcontent-%COMP%]{overflow:hidden;white-space:nowrap;text-overflow:ellipsis}[_nghost-%COMP%]{padding:4px}.search-chip[_ngcontent-%COMP%], [_nghost-%COMP%]{display:flex;align-items:center}.search-chip[_ngcontent-%COMP%]{max-width:150px;color:#fff;background-color:#0087c8;padding:0 8px;border-radius:2px;cursor:pointer;overflow:hidden}.search-chip[_ngcontent-%COMP%]:not([disabled]):hover{background-color:#007ab5}.search-chip__data[_ngcontent-%COMP%]{max-width:120px;height:26px;font-size:12px;line-height:26px}@media screen and (min-width:33.125em){.search-chip__data[_ngcontent-%COMP%]{min-width:75px}}.search-chip__icon-container[_ngcontent-%COMP%]{display:flex;align-items:center;height:100%;margin-left:8px}.search-chip__icon[_ngcontent-%COMP%]{width:16px;height:16px}"]}),e})();var g=i("3Pt+"),f=i("FcA5");function m(e,t){1&e&&n.Tb(0,"mat-icon",11)}function b(e,t){1&e&&n.Tb(0,"i",12)}function S(e,t){if(1&e){const e=n.Zb();n.Yb(0,"div",8),n.hc("click",(function(){return n.Kc(e),n.lc().focusInput()})),n.Sc(1,m,1,0,"mat-icon",9),n.Sc(2,b,1,0,"i",10),n.Xb()}if(2&e){const e=n.lc();n.Eb(1),n.sc("ngIf",!e.isLoading),n.Eb(1),n.sc("ngIf",e.isLoading)}}function v(e,t){if(1&e){const e=n.Zb();n.Yb(0,"sda-search-chips",13),n.hc("onChipClicked",(function(t){return n.Kc(e),n.lc().onChipClicked.emit(t)}))("chipsChange",(function(t){return n.Kc(e),n.lc().chipsChange.emit(t)})),n.Xb()}if(2&e){const e=n.lc();n.sc("chips",e.chips)}}function _(e,t){if(1&e&&(n.Yb(0,"span",14),n.Uc(1),n.Xb()),2&e){const e=n.lc();n.Eb(1),n.Vc(e.disabledPlaceholder)}}function O(e,t){if(1&e){const e=n.Zb();n.Yb(0,"input",15),n.hc("ngModelChange",(function(t){return n.Kc(e),n.lc().searchQuery=t}))("keyup.enter",(function(){return n.Kc(e),n.lc().search()}))("click",(function(){return n.Kc(e),n.lc().searchInputClicked.emit()})),n.Xb()}if(2&e){const e=n.lc();n.sc("ngModel",e.searchQuery)("disabled",e.isDisabled)("title",e.searchTooltip)("placeholder",e.placeholder)}}function I(e,t){if(1&e){const e=n.Zb();n.Yb(0,"span",16),n.hc("click",(function(t){return n.Kc(e),n.lc().search(t)})),n.Uc(1),n.Xb()}if(2&e){const e=n.lc();n.Eb(1),n.Vc(e.peekCount)}}function C(e,t){if(1&e){const e=n.Zb();n.Yb(0,"sda-button-primary",17),n.hc("click",(function(t){return n.Kc(e),n.lc().search(t)})),n.Xb()}if(2&e){const e=n.lc();n.sc("matSvgIcon",e.searchButtonIcon)("isLoading",e.isLoading)("isDisabled",e.isDisabled||e.isInvalid)}}let T=(()=>{class e{constructor(e,t){this.sdaTranslateService=e,this.elementRef=t,this.useFilterMode=!1,this.searchTerm="",this.placeholder="",this.disabledPlaceholder="",this.tooltip="",this.isDisabled=!1,this.isInvalid=!1,this.isLoading=!1,this.searchButtonIcon="search",this.onSearch=new n.o,this.searchTermChange=new n.o,this.onChipClicked=new n.o,this.searchInputClicked=new n.o,this.chipsChange=new n.o,this.SEARCH_BAR_PLACEHOLDER=this.sdaTranslateService.get("SEARCH_BAR_PLACEHOLDER","Search..."),this.SEARCH_DISABLED=this.sdaTranslateService.get("SEARCH_DISABLED","Search disabled"),this.placeholder=this.SEARCH_BAR_PLACEHOLDER,this.searchTooltip=this.placeholder,this.disabledPlaceholder=this.SEARCH_DISABLED}ngOnInit(){this.focusSearchInput&&(this.focusSubscription=this.focusSearchInput.subscribe(()=>{this.focusInput()}))}ngOnChanges(e){e.placeholder&&""===this.placeholder&&(this.placeholder=this.SEARCH_BAR_PLACEHOLDER),e.disabledPlaceholder&&""===this.disabledPlaceholder&&(this.disabledPlaceholder=this.SEARCH_DISABLED),(e.tooltip||e.placeholder||e.disabled||e.disabledPlaceholder)&&this.updateTooltip()}ngOnDestroy(){this.focusSubscription&&this.focusSubscription.unsubscribe()}get searchQuery(){return this.searchTerm}set searchQuery(e){this.searchTerm=e,this.searchTermChange.emit(e)}search(e){this.isInvalid||this.isDisabled||(e&&e.stopPropagation(),this.onSearch.emit(this.setupSearchQueryData()))}focusInput(){if(!this.isDisabled){const e=this.elementRef.nativeElement.querySelector(".search-input__data");e&&e.focus()}}setupSearchQueryData(){const e=new r.a(this.searchTerm);return e.activeChips=this.chips,e}updateTooltip(){this.searchTooltip=this.isDisabled?this.disabledPlaceholder:""===this.tooltip?this.placeholder:this.tooltip}}return e.\u0275fac=function(t){return new(t||e)(n.Sb(o.a),n.Sb(n.l))},e.\u0275cmp=n.Mb({type:e,selectors:[["sda-searchbar"]],inputs:{useFilterMode:"useFilterMode",searchTerm:"searchTerm",chips:"chips",peekCount:"peekCount",placeholder:"placeholder",disabledPlaceholder:"disabledPlaceholder",tooltip:"tooltip",isDisabled:"isDisabled",isInvalid:"isInvalid",isLoading:"isLoading",focusSearchInput:"focusSearchInput",searchButtonIcon:"searchButtonIcon"},outputs:{onSearch:"onSearch",searchTermChange:"searchTermChange",onChipClicked:"onChipClicked",searchInputClicked:"searchInputClicked",chipsChange:"chipsChange"},features:[n.Cb],decls:8,vars:8,consts:[[1,"search-query"],["class","search-query__icon-container",3,"click",4,"ngIf"],[3,"chips","onChipClicked","chipsChange",4,"ngIf"],[1,"search-input",3,"click"],["class","search-input__placeholder",4,"ngIf"],["type","text","class","search-input__data","spellcheck","false",3,"ngModel","disabled","title","placeholder","ngModelChange","keyup.enter","click",4,"ngIf"],["class","search-input__peek",3,"click",4,"ngIf"],["class","search-query__submit",3,"matSvgIcon","isLoading","isDisabled","click",4,"ngIf"],[1,"search-query__icon-container",3,"click"],["svgIcon","search","class","search-query__icon",4,"ngIf"],["class","fa fa-spinner fa-spin","aria-hidden","true",4,"ngIf"],["svgIcon","search",1,"search-query__icon"],["aria-hidden","true",1,"fa","fa-spinner","fa-spin"],[3,"chips","onChipClicked","chipsChange"],[1,"search-input__placeholder"],["type","text","spellcheck","false",1,"search-input__data",3,"ngModel","disabled","title","placeholder","ngModelChange","keyup.enter","click"],[1,"search-input__peek",3,"click"],[1,"search-query__submit",3,"matSvgIcon","isLoading","isDisabled","click"]],template:function(e,t){1&e&&(n.Yb(0,"div",0),n.Sc(1,S,3,2,"div",1),n.Sc(2,v,1,1,"sda-search-chips",2),n.Yb(3,"div",3),n.hc("click",(function(){return t.focusInput()})),n.Sc(4,_,2,1,"span",4),n.Sc(5,O,1,4,"input",5),n.Sc(6,I,2,1,"span",6),n.Xb(),n.Sc(7,C,1,3,"sda-button-primary",7),n.Xb()),2&e&&(n.Eb(1),n.sc("ngIf",t.useFilterMode),n.Eb(1),n.sc("ngIf",t.chips&&t.chips.length),n.Eb(1),n.Ib("search-input--peek",t.peekCount),n.Eb(1),n.sc("ngIf",t.isDisabled),n.Eb(1),n.sc("ngIf",!t.isDisabled),n.Eb(1),n.sc("ngIf",t.peekCount),n.Eb(1),n.sc("ngIf",!t.useFilterMode))},directives:[c.t,l.a,p,g.c,g.p,g.s,f.a],styles:[".search-input__data[_ngcontent-%COMP%]{overflow:hidden;white-space:nowrap;text-overflow:ellipsis}[_nghost-%COMP%]{width:100%}.search-query[_ngcontent-%COMP%]{display:flex;flex:1;height:inherit;border:1px solid #dce0e5;background-color:#fff}.search-query__icon-container[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;width:40px;color:#8997a5}.search-query__icon[_ngcontent-%COMP%]{width:20px;height:20px}.search-query__submit[_ngcontent-%COMP%]     .button--primary{display:flex;align-items:center;width:56px;height:100%;border:0;border-radius:0}.search-input[_ngcontent-%COMP%]{position:relative;display:flex;flex:1;padding:0 8px}.search-input--peek[_ngcontent-%COMP%]{padding-right:40px}.search-input__placeholder[_ngcontent-%COMP%]{display:flex;flex:1;align-items:center;height:38px;color:#97a0ad}.search-input__data[_ngcontent-%COMP%]{flex:1;width:100%;min-width:0!important;height:38px;padding:0;border:0;outline:0;background-color:initial}.search-input__data[_ngcontent-%COMP%]::-webkit-input-placeholder{color:#8c9dad}.search-input__data[_ngcontent-%COMP%]:-ms-input-placeholder{color:#8c9dad}.search-input__data[_ngcontent-%COMP%]::-ms-input-placeholder{color:#8c9dad}.search-input__data[_ngcontent-%COMP%]::placeholder{color:#8c9dad}.search-input__data[_ngcontent-%COMP%]:disabled{background:transparent}.search-input__peek[_ngcontent-%COMP%]{position:absolute;top:50%;right:8px;min-width:24px;height:22px;padding:0 4px;-webkit-transform:translateY(-50%);transform:translateY(-50%);background-color:#cad0d7;font-size:14px;border-radius:2px;line-height:22px;font-weight:500;text-align:center;cursor:pointer;-webkit-user-select:none;-ms-user-select:none;user-select:none;transition:background-color .2s}.search-input__peek[_ngcontent-%COMP%]:hover{background-color:#b6bfc8}"]}),e})();var E=i("TLn4");function y(e,t){1&e&&n.Tb(0,"sda-loading-indicator",9)}function P(e,t){if(1&e&&(n.Yb(0,"div",5),n.qc(1),n.Yb(2,"div",6),n.Sc(3,y,1,0,"sda-loading-indicator",7),n.qc(4,1),n.Xb(),n.Yb(5,"div",8),n.qc(6,2),n.Xb(),n.Xb()),2&e){const e=n.lc();n.Ib("search-panel--loading",e.isLoading)("search-panel--top",e.raiseContentsBox)("search-panel--bottom",!e.raiseContentsBox),n.Eb(3),n.sc("ngIf",e.isLoading)}}const x=[[["","searchContentTopbar",""]],[["","searchPanel",""]],[["","searchSettingsBar",""]]],A=["[searchContentTopbar]","[searchPanel]","[searchSettingsBar]"];let w=(()=>{class e{constructor(e,t){this.windowService=e,this.documentService=t,this.useFilterMode=!1,this.searchTerm="",this.chips=[],this.placeholder="",this.disabledPlaceholder="",this.tooltip="",this.isDisabled=!1,this.isInvalid=!1,this.isLoading=!1,this.searchFocused=!1,this.searchButtonIcon="search",this.onSearch=new n.o,this.searchTermChange=new n.o,this.searchFocusedChange=new n.o,this.onChipClicked=new n.o,this.searchInputClicked=new n.o,this.chipsChange=new n.o,this.definitelyFocusSearchInput=new n.o,this.searchJustClicked=!1,this.windowEvent=()=>{this.searchJustClicked||this.removePanel(),this.searchJustClicked=!1}}ngOnInit(){this.focusSearchInput&&(this.focusSubscription=this.focusSearchInput.subscribe(()=>{this.searchFocused&&this.definitelyFocusSearchInput.emit()}))}ngOnChanges(e){e.searchFocused&&(e.searchFocused.currentValue?(this.searchJustClicked=!0,this.focusWindow()):setTimeout(()=>{this.removePanel()}))}ngOnDestroy(){this.searchFocused&&this.removePanel(),this.focusSubscription&&this.focusSubscription.unsubscribe()}searchBarClicked(e){this.isDisabled||(this.searchJustClicked=!0,this.searchFocused||(this.focusWindow(),this.searchFocusedChange.emit(this.searchFocused)),this.raiseContentsBox=this.documentService.bottomCollideCheck(e,340))}focusWindow(){this.searchFocused=!0,this.windowService.Window.addEventListener("click",this.windowEvent)}removePanel(){this.searchFocused=!1,this.searchJustClicked=!1,this.searchFocusedChange.emit(this.searchFocused),this.windowService.Window.removeEventListener("click",this.windowEvent)}}return e.\u0275fac=function(t){return new(t||e)(n.Sb(a.a),n.Sb(s.a))},e.\u0275cmp=n.Mb({type:e,selectors:[["sda-searchbar-with-panel"]],inputs:{useFilterMode:"useFilterMode",searchTerm:"searchTerm",chips:"chips",peekCount:"peekCount",placeholder:"placeholder",disabledPlaceholder:"disabledPlaceholder",tooltip:"tooltip",isDisabled:"isDisabled",isInvalid:"isInvalid",isLoading:"isLoading",focusSearchInput:"focusSearchInput",searchFocused:"searchFocused",searchButtonIcon:"searchButtonIcon"},outputs:{onSearch:"onSearch",searchTermChange:"searchTermChange",searchFocusedChange:"searchFocusedChange",onChipClicked:"onChipClicked",searchInputClicked:"searchInputClicked",chipsChange:"chipsChange"},features:[n.Cb],ngContentSelectors:A,decls:5,vars:17,consts:[[1,"search",3,"click"],["searchContainer",""],[1,"search__inner"],[3,"useFilterMode","searchTerm","chips","peekCount","placeholder","disabledPlaceholder","tooltip","searchButtonIcon","isDisabled","isInvalid","isLoading","focusSearchInput","onSearch","searchTermChange","onChipClicked","searchInputClicked","chipsChange"],["class","search-panel","id","search-panel",3,"search-panel--loading","search-panel--top","search-panel--bottom",4,"ngIf"],["id","search-panel",1,"search-panel"],[1,"search-panel__content"],["size","40",4,"ngIf"],[1,"settings"],["size","40"]],template:function(e,t){if(1&e){const e=n.Zb();n.rc(x),n.Yb(0,"div",0,1),n.hc("click",(function(){n.Kc(e);const i=n.Hc(1);return t.searchBarClicked(i)})),n.Yb(2,"div",2),n.Yb(3,"sda-searchbar",3),n.hc("onSearch",(function(e){return t.onSearch.emit(e)}))("searchTermChange",(function(e){return t.searchTermChange.emit(e)}))("onChipClicked",(function(e){return t.onChipClicked.emit(e)}))("searchInputClicked",(function(){return t.searchInputClicked.emit()}))("chipsChange",(function(e){return t.chipsChange.emit(e)})),n.Xb(),n.Sc(4,P,7,7,"div",4),n.Xb(),n.Xb()}2&e&&(n.Ib("search--active",!t.isDisabled)("search--disabled",t.isDisabled),n.Eb(3),n.sc("useFilterMode",t.useFilterMode)("searchTerm",t.searchTerm)("chips",t.chips)("peekCount",t.peekCount)("placeholder",t.placeholder)("disabledPlaceholder",t.disabledPlaceholder)("tooltip",t.tooltip)("searchButtonIcon",t.searchButtonIcon)("isDisabled",t.isDisabled)("isInvalid",t.isInvalid)("isLoading",t.isLoading)("focusSearchInput",t.definitelyFocusSearchInput),n.Eb(1),n.sc("ngIf",t.searchFocused))},directives:[T,c.t,E.a],styles:['.search-panel__content[_ngcontent-%COMP%]{overflow-x:hidden;overflow-y:auto}.search-panel[_ngcontent-%COMP%]   sda-loading-indicator[_ngcontent-%COMP%]{position:absolute;top:50%;left:50%;-webkit-transform:translate3d(-50%,-50%,0);transform:translate3d(-50%,-50%,0)}.search[_ngcontent-%COMP%]{display:flex;flex-grow:1;width:100%;justify-content:center;min-width:220px}.search--active[_ngcontent-%COMP%]   .search-input__data[disabled][_ngcontent-%COMP%]{cursor:help}.search--disabled[_ngcontent-%COMP%]{cursor:not-allowed;-webkit-user-select:none;-ms-user-select:none;user-select:none}.search--disabled[_ngcontent-%COMP%]   .search-query__submit[_ngcontent-%COMP%]{background-color:#a9b4be!important}.search--disabled[_ngcontent-%COMP%]   .search-input__data[disabled][_ngcontent-%COMP%]{cursor:not-allowed}.search__inner[_ngcontent-%COMP%]{position:relative;display:flex;flex:1 1 auto;flex-flow:row wrap;align-items:center;height:40px;line-height:1.2}.search-panel[_ngcontent-%COMP%]{position:absolute;left:1px;right:1px;display:flex;background-color:#fff;z-index:100!important}.search-panel--top[_ngcontent-%COMP%]{bottom:40px;border:1px solid #f0f2f4;flex-direction:column-reverse;box-shadow:0 -1px 1px rgba(0,0,0,.12),0 0 1px rgba(0,0,0,.24)}.search-panel--top[_ngcontent-%COMP%]   .settings[_ngcontent-%COMP%]{border-bottom:1px solid #ebedf0}.search-panel--bottom[_ngcontent-%COMP%]{top:40px;flex-direction:column;box-shadow:0 0 2px rgba(0,0,0,.12),0 2px 4px rgba(0,0,0,.24),inset 0 1px 6px -4px rgba(0,0,0,.15)}.search-panel--bottom[_ngcontent-%COMP%]   .settings[_ngcontent-%COMP%]{border-top:1px solid #ebedf0}.search-panel--loading[_ngcontent-%COMP%]:after{content:"";position:absolute;top:0;left:0;display:block;width:100%;height:100%;background-color:rgba(231,232,234,.35)}.search-panel__content[_ngcontent-%COMP%]{position:relative;display:flex;flex-grow:1;flex-direction:column;height:100%;padding-top:8px}.search-panel[_ngcontent-%COMP%]   sda-loading-indicator[_ngcontent-%COMP%]{top:40%;display:block;z-index:100!important}']}),e})()},qKxU:function(e,t,i){"use strict";i.d(t,"a",(function(){return a}));var n=i("fXoL"),s=i("nprN");let a=(()=>{class e{constructor(){this.action=new n.o,this.className=!0}get isDisabledClass(){return this.isDisabled}handleClick(e){this.isDisabled||this.action.emit(e)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=n.Mb({type:e,selectors:[["uxt-icon-button"]],hostVars:4,hostBindings:function(e,t){1&e&&n.hc("click",(function(e){return t.handleClick(e)})),2&e&&n.Ib("uxt-icon-button",t.className)("uxt-icon-button--disabled",t.isDisabledClass)},inputs:{iconName:"iconName",iconSrc:"iconSrc",isDisabled:"isDisabled",size:"size"},outputs:{action:"action"},decls:2,vars:3,consts:[[1,"uxt-icon-button__background"],[1,"uxt-icon-button__icon",3,"iconName","iconSrc","size"]],template:function(e,t){1&e&&(n.Tb(0,"div",0),n.Tb(1,"uxt-icon",1)),2&e&&(n.Eb(1),n.sc("iconName",t.iconName)("iconSrc",t.iconSrc)("size",t.size))},directives:[s.a],styles:[".uxt-icon-button{position:relative;display:block;flex-shrink:0;width:40px;height:40px;border-radius:100%;cursor:pointer}.uxt-icon-button__background{width:40px;height:40px;background-color:#cad0d7;border-radius:100%;opacity:0;transition:opacity .25s ease}.uxt-icon-button .uxt-icon,.uxt-icon-button__background{position:absolute;top:0;left:0}.uxt-icon-button svg *{transition:fill .25s ease}.uxt-icon-button:active:not(.uxt-icon-button--disabled) .uxt-icon-button__background{opacity:1}.uxt-icon-button--disabled{cursor:not-allowed}.uxt-icon-button--disabled svg *{fill:#cad0d7}"],encapsulation:2,changeDetection:0}),e})()},qPJN:function(e,t,i){"use strict";i.d(t,"a",(function(){return s}));var n=i("XIp8");class s{constructor(e){this.originalValue=e,this.cloneOriginal()}get original(){return this.originalValue}get isDirty(){return!this.deepCompare(this.copy,this.originalValue)}cloneOriginal(){return this.copy=Object(n.a)(this.original),this.copy}hasPropertyChanged(e){return Array.isArray(e)?!e.every(e=>this.isValueSame(this.originalValue,this.copy,e)):!this.isValueSame(this.originalValue,this.copy,e)}deepCompare(e,t){return Object.getOwnPropertyNames(t).every(i=>this.isValueSame(e,t,i))}isValueSame(e,t,i){return Array.isArray(t[i])?t[i].length===e[i].length&&t[i].every((t,n)=>this.deepCompare(e[i][n],t)):t[i]===e[i]}}},qSfU:function(e,t,i){"use strict";i.d(t,"a",(function(){return n}));class n{constructor(e,t){this.propertyDefUID=e,this.value=t}}},qXoz:function(e,t,i){"use strict";i.d(t,"a",(function(){return o}));var n=i("lJxs"),s=i("J7mc"),a=i("fXoL");let o=(()=>{class e{constructor(e){this.dataService=e}retrieveFileURLs(e,t,i,s=!1,a){return this.dataService.post(`Files('${e}')/Intergraph.SPF.Server.API.Model.RetrieveFileUris`,JSON.stringify({purposes:i,downloadFile:s,copyNestedReferences:a}),t).pipe(Object(n.a)(e=>e.map(e=>({Id:e.FileId,Name:e.ItemType,URL:e.Uri,Purpose:e.Purpose,ItemType:e.ItemType,ContentLength:e.ContentLength,ParentFileOBID:e.ParentFileOBID}))))}}return e.\u0275fac=function(t){return new(t||e)(a.dc(s.a))},e.\u0275prov=a.Ob({token:e,factory:e.\u0275fac}),e})()},quZr:function(e,t,i){"use strict";i.d(t,"a",(function(){return a}));var n=i("EcfP"),s=i("fXoL");let a=(()=>{class e{constructor(e){this.uxtDialogService=e}canDeactivate(e,t,i,n){return!!(!e||n&&"/home"===n.url||this.uxtDialogService.isDialogOpen())||!e.canDeactivate||e.canDeactivate(n,i)}}return e.\u0275fac=function(t){return new(t||e)(s.dc(n.a))},e.\u0275prov=s.Ob({token:e,factory:e.\u0275fac}),e})()},qzxf:function(e,t,i){"use strict";i.d(t,"a",(function(){return a}));var n=i("fujP"),s=i("NFsq");const a={types:{AND:"AND",OR:"OR"},createFilter(e,t=[],i=[]){return{type:this.types.OR,activePredicates:i,name:e,predicates:t}},filterList(e,t){return Object(n.a)(t)?e:e.filter(e=>t.every(t=>{if(t.type===this.types.OR){const i=t.predicates.filter(e=>Object(s.a)(t.activePredicates,e.text));return!!Object(n.a)(i)||i.some(t=>t.test(e))}return t.type!==this.types.AND||!t.value||t.predicates.every(e)}))}}},rFDT:function(e,t,i){"use strict";i.d(t,"a",(function(){return c}));var n=i("vyim"),s=i("Ejbi"),a=i("kx0E"),o=i("I2fW"),r=i("fXoL");let c=(()=>{class e{constructor(e,t,i,n){this.sharePointSettingService=e,this.sdaTranslateService=t,this.dataFormatService=i,this.objectIconService=n,this.SHAREPOINT_CONTAINS=this.sdaTranslateService.get("SHAREPOINT_CONTAINS","Contains"),this.SHAREPOINT_STARTS_WITH=this.sdaTranslateService.get("SHAREPOINT_STARTS_WITH","Starts With"),this.SHAREPOINT_EQUALS=this.sdaTranslateService.get("SHAREPOINT_EQUALS","Is equal to"),this.SHAREPOINT_NOT_EQUALS=this.sdaTranslateService.get("SHAREPOINT_NOT_EQUALS","Is not equal to"),this.SHAREPOINT_ENDS_WITH=this.sdaTranslateService.get("SHAREPOINT_ENDS_WITH","Ends with"),this.SHAREPOINT_LESS_THAN=this.sdaTranslateService.get("SHAREPOINT_LESS_THAN","Less than"),this.SHAREPOINT_GREATER_THAN=this.sdaTranslateService.get("SHAREPOINT_GREATER_THAN","Greater than"),this.SHAREPOINT_ERROR=this.sdaTranslateService.get("SHAREPOINT_ERROR","SharePoint error")}getColumnModelForKendo(){const e=this.getSharepointColumns(),t={fields:{}};let i;for(const n in e)e.hasOwnProperty(n)&&(e[n].type?(i=e[n].type,t.fields[n]="date"===i.toLowerCase()||"datetime"===i.toLowerCase()?{type:"date"}:{type:i}):t.fields[n]={type:"string"});return t}getSharepointColumns(){const e={};return this.sharePointSettingService.sharepointColumns.forEach(t=>{t.display&&(e[t.field]=t)}),e}isRefinerColumn(e){let t=!1;return this.sharePointSettingService.sharepointColumns.forEach(i=>{i.field.toLowerCase()===e.toLowerCase()&&i.isRefiner&&(t=i.isRefiner)}),t}formatFieldValueForQuery(e,t){return this.sharePointSettingService.sharepointColumns.forEach(i=>{if(i.field===e&&!i.validList&&i.type&&("date"===i.type.toLowerCase()||"datetime"===i.type.toLowerCase())){const e=new Date(t);t=e.toUTCString()}}),t}isFilterableColumn(e){let t=!1;return this.sharePointSettingService.sharepointColumns.forEach(i=>{i.field===e&&i.filter&&(t=i.filter)}),t}getColumnSetForGridOptions(e){const t=this.getSharepointColumns(),i=[];for(const n in t)if(t.hasOwnProperty(n)){const s=t[n],a={};a.field=n,a.title=s.header,a.sortable=s.sortable,a.lockable=!1,a.sortable||(a.headerTemplate="<a class='k-link'>"+a.title+"</a>"),this.objectIconService.showIcons&&"FileName"===s.field&&(a.template=e=>{const t=this.getIconNameFromExtention(e.FileExtension);return this.objectIconService.getObjectIconAndNameTemplate(e.FileName,t)}),this.formatSharepointColumn(s,a),this.applyFilterSettings(s,a,e),i.push(a)}return i}getSelectedValue(e,t,i){let n=[],s=[];return i.forEach(t=>{t.refiner===e&&(s=t.values)}),s.forEach(e=>{e.displayName===t.trim()&&(n=e.mappedValues)}),n}getFilterOperators(e){const t={};let i="string";return e.type&&(i=e.type),t[i]={},e.filterOperators&&e.filterOperators.forEach(e=>{t[i][e]=this.getOpertorDisplayName(e)}),t}getIconNameFromExtention(e){let t="default";switch(e){case"doc":case"docx":t="doc";break;case"ppt":case"pptx":t="ppt";break;default:t="default"}return t}formatSharepointColumn(e,t){e.format?t.format=e.format:"date"!==e.type&&"datetime"!==e.type||(t.format=`{0:${this.dataFormatService.getDateFormat()}} {0:${this.dataFormatService.getTimeFormat()}}`)}applyFilterSettings(e,t,i){if(!0===e.filter&&(e.filterOperators||e.validList)){let n={extra:!1,operators:this.getFilterOperators(e)};if(e.validList){const t=[];e.validList.forEach(i=>{const n={};n[e.field]=i,t.push(n)}),n={multi:!0,dataSource:t}}else if(e.isRefiner){let t=[];i.forEach(i=>{i.refiner===e.field&&(t=i.values)});const s=[];t.forEach(t=>{const i={};i[e.field]=" "+t.displayName,s.push(i)}),n={multi:!0,dataSource:s}}else if(e.type)switch(e.type){case"date":case"datetime":n.extra=!0}t.filterable=n}else t.filterable=e.filter}getOpertorDisplayName(e){let t="";switch(e){case"contains":t=this.SHAREPOINT_CONTAINS;break;case"eq":t=this.SHAREPOINT_EQUALS;break;case"neq":t=this.SHAREPOINT_NOT_EQUALS;break;case"startswith":t=this.SHAREPOINT_STARTS_WITH;break;case"endswith":t=this.SHAREPOINT_ENDS_WITH;break;case"gt":t=this.SHAREPOINT_GREATER_THAN;break;case"lt":t=this.SHAREPOINT_LESS_THAN}return t}}return e.\u0275fac=function(t){return new(t||e)(r.dc(n.a),r.dc(s.a),r.dc(a.a),r.dc(o.a))},e.\u0275prov=r.Ob({token:e,factory:e.\u0275fac}),e})()},renH:function(e,t,i){"use strict";i.d(t,"a",(function(){return l}));var n=i("lJxs"),s=i("Z9D8"),a=i("SXtU"),o=i("Ejbi"),r=i("lycW"),c=i("fXoL");let l=(()=>{class e{constructor(e,t,i){this.odataService=e,this.fileUploadLoggerService=t,this.sdaTranslateService=i}getProgressObject(e){return e.progress.isAvailableProgress}execute(e){return this.makeFileAvailable(e).then(()=>this.isFileAvailable(e))}makeFileAvailable(e){return this.fileUploadLoggerService.logToConsole("Calling MakeUploadAvailable with file "+e.uploadID),this.odataService.post("FileMgmt/MakeUploadAvailable",JSON.stringify({Filename:e.uploadID})).pipe(Object(n.a)(t=>{this.fileUploadLoggerService.logToConsole("Response "+t);const i=t;this.fileUploadLoggerService.logToConsole("Result "+i.value),this.fileUploadLoggerService.logToConsole(i.value?"Finished making file available: "+e.file.name+" file passed virus scanning.":"Finished making file available: "+e.file.name+" file failed virus scanning.")})).toPromise()}isFileAvailable(e){return this.getStatus(e).then(t=>this.statusIsSuccess(t)?Promise.resolve():this.delayPromise(2e3).then(()=>this.isFileAvailable(e)))}delayPromise(e){return new Promise(t=>{setTimeout(t,e)})}getStatus(e){return this.odataService.get("FileMgmt/Upload('"+e.uploadID+"')").toPromise()}statusIsSuccess(e){if(1===e.FileStatus)return!1;if(255===e.FileStatus)throw new s.a(this.sdaTranslateService.get("FILE_UPLOAD_QUARANTINED","File has been quarantined"));return 0===e.FileStatus}}return e.\u0275fac=function(t){return new(t||e)(c.dc(a.a),c.dc(r.a),c.dc(o.a))},e.\u0275prov=c.Ob({token:e,factory:e.\u0275fac}),e})()},sRnt:function(e,t,i){"use strict";i.d(t,"a",(function(){return l}));var n=i("ofXK"),s=i("3Pt+"),a=i("NFeN"),o=i("l3mi"),r=i("txXS"),c=i("fXoL");let l=(()=>{class e{}return e.\u0275mod=c.Qb({type:e}),e.\u0275inj=c.Pb({factory:function(t){return new(t||e)},imports:[[n.c,s.j,o.a,r.a,a.b]]}),e})()},"sh/L":function(e,t,i){"use strict";i.d(t,"a",(function(){return r}));var n=i("ofXK"),s=i("3Pt+"),a=i("iVUw"),o=i("fXoL");let r=(()=>{class e{}return e.\u0275mod=o.Qb({type:e}),e.\u0275inj=o.Pb({factory:function(t){return new(t||e)},imports:[[n.c,s.j,a.a]]}),e})()},shG1:function(e,t,i){"use strict";i.d(t,"a",(function(){return f}));var n=i("ofXK"),s=i("NFeN"),a=i("bv9b"),o=i("F+hv"),r=i("txXS"),c=i("cooZ"),l=i("eruR"),d=i("gxu3"),h=i("C4gn"),u=i("xc+7"),p=i("t2XF"),g=i("fXoL");let f=(()=>{class e{static forRoot(){return{ngModule:e,providers:[c.a,u.a,l.a,d.a,h.a,p.a]}}}return e.\u0275mod=g.Qb({type:e}),e.\u0275inj=g.Pb({factory:function(t){return new(t||e)},imports:[[n.c,o.a,r.a,s.b,a.b]]}),e})()},swmP:function(e,t,i){"use strict";i.d(t,"a",(function(){return n}));class n{constructor(e,t,i,n,s=!1,a,o){this.displayName=e,this.name=t,this.setName=i,this.redirectToSearch=n,this.equalToSearchByDefault=s,this.hideFromHomePage=a,this.hideFromSearch=o,this.peekCount=1}}},t2XF:function(e,t,i){"use strict";i.d(t,"a",(function(){return r}));var n=i("k1up"),s=i("VFM9"),a=i("gxu3"),o=i("fXoL");let r=(()=>{class e{constructor(e,t){this.telemetryService=e,this.featureSetNavigationParamsService=t}sendClientAPIAction(e){const t=this.featureSetNavigationParamsService.getNavigationArgsForClientApi(e);delete t.objects,delete t.config,this.telemetryService.sendEvent({eventName:t.ClientAPI,eventType:n.a.Feature,eventData:Object.assign({},t),component:"UserAction"})}}return e.\u0275fac=function(t){return new(t||e)(o.dc(s.a),o.dc(a.a))},e.\u0275prov=o.Ob({token:e,factory:e.\u0275fac}),e})()},tCxB:function(e,t,i){"use strict";i.d(t,"a",(function(){return r}));var n=i("tk/3"),s=i("Z9D8");let a=(()=>{class e{}return e.TRACE="log/trace",e.DEBUG="log/debug",e.INFO="log/info",e.WARN="log/warn",e.ERROR="log/error",e.FATAL="log/fatal",e})();var o=i("fXoL");let r=(()=>{class e{constructor(e){this.http=e}error(e){const t=this.setLogUrl(a.ERROR);this.http.post(t,e,{withCredentials:!0}).subscribe(void 0,e=>{console.log(e)})}info(e){const t=this.setLogUrl(a.INFO),i=(new n.d).set("Content-Type","application/json");this.http.post(t,JSON.stringify(e),{withCredentials:!0,headers:i}).subscribe(void 0,e=>{console.log(e)})}debug(e,t){if(t){const i=Array.isArray(t)?t:[t];i.length>0&&(console.groupCollapsed(`** ${e} debug info **`),i.forEach(e=>{console.warn(new s.a(e).message)}),console.groupEnd())}}setLogUrl(e){let t=Settings.clientServices.url;return t&&"/"!==t.slice(-1)&&(t+="/"),t+e}}return e.\u0275fac=function(t){return new(t||e)(o.dc(n.a))},e.\u0275prov=o.Ob({token:e,factory:e.\u0275fac}),e})()},tGjb:function(e,t,i){"use strict";i.d(t,"a",(function(){return f}));var n=i("tk/3"),s=i("z6cu"),a=i("IzEk"),o=i("eIep"),r=i("JIr8"),c=i("lJxs"),l=i("Z9D8"),d=i("A1MZ"),h=i("Ejbi"),u=i("rFDT"),p=i("vyim"),g=i("fXoL");let f=(()=>{class e{constructor(e,t,i,n,s){this.http=e,this.sharePointColumnSetService=t,this.sharepointSettingService=i,this.sdaTranslateService=n,this.guidService=s,this.globalSearchString="*",this.doubleQuote='"',this.SHAREPOINT_CONTAINS=this.sdaTranslateService.get("SHAREPOINT_CONTAINS","Contains"),this.SHAREPOINT_STARTS_WITH=this.sdaTranslateService.get("SHAREPOINT_STARTS_WITH","Starts With"),this.SHAREPOINT_EQUALS=this.sdaTranslateService.get("SHAREPOINT_EQUALS","Is equal to"),this.SHAREPOINT_NOT_EQUALS=this.sdaTranslateService.get("SHAREPOINT_NOT_EQUALS","Is not equal to"),this.SHAREPOINT_ENDS_WITH=this.sdaTranslateService.get("SHAREPOINT_ENDS_WITH","Ends with"),this.SHAREPOINT_ERROR=this.sdaTranslateService.get("SHAREPOINT_ERROR","SharePoint error"),this.getDataSource=e=>{const t=this.sharePointColumnSetService.getSharepointColumns(),i=this.sharePointColumnSetService.getColumnModelForKendo(),n=new kendo.data.DataSource({schema:{model:i,total:e=>e?e.count:1,parse:e=>this.parseSharepointResults(e,t)},transport:{read:e=>{this.getSharepointData(e,t).subscribe(t=>{e.success(t)})}},error:e=>this.handleGridDataSourceError(),sort:e.orderBy,filter:e.filters,page:e.page,serverPaging:!0,serverFiltering:!0,serverSorting:!0,pageSize:e.pageSize});return n.pageSize=()=>Settings.application.defaultPageSize,n}}getOptions(e){return{scrollable:!0,dataSource:this.getDataSource(e),columns:this.sharePointColumnSetService.getColumnSetForGridOptions(this.sharepointSettingService.refinerFilters),pageable:{input:!0,numeric:!1,refresh:!0},selectable:"cell",sortable:!0,filterable:{extra:!1,operators:{string:{contains:this.SHAREPOINT_CONTAINS,startswith:this.SHAREPOINT_STARTS_WITH,eq:this.SHAREPOINT_EQUALS,neq:this.SHAREPOINT_NOT_EQUALS,endswith:this.SHAREPOINT_ENDS_WITH}}},resizable:!0,columnMenu:!0}}getSharepointData(e,t){let i=0,n=10;e&&e.data&&(i=e.data.skip,n=e.data.pageSize);const s=this.getFilters(e.data),a=this.getSortFields(e.data);return this.getSharepointResults(this.globalSearchString,a,s,i,n,t)}handleGridDataSourceError(){}getSharepointResults(e,t,i,c,d,h){const u=new n.d({accept:"application/json; odata=verbose"});let p=e;const g=this.getFilterArguments(i);return""!==e&&""!==g&&(p=encodeURIComponent(e)+"+"+g),this.http.get(this.sharepointSettingService.siteUrl+"/_api/Web/effectiveBasePermissions",{withCredentials:!0,headers:u}).pipe(Object(a.a)(1),Object(o.a)(()=>this.getSharepointRefinerArguments(i)),Object(o.a)(e=>{const i=this.propertiesToPullFromSharepoint(h),n=this.getSharepointSortArguments(t);return this.http.get(this.sharepointSettingService.siteUrl+"/_api/search/query?querytext='"+p+"'&clienttype='ContentSearchRegular'"+i+"&startRow="+c+n+e+"&rowlimit="+d+"&rowsperpage="+d,{withCredentials:!0,headers:u})}),Object(r.a)(e=>{const t=new l.a(e,`${this.SHAREPOINT_ERROR} - ${e.message}`);return Object(s.a)(t)}))}propertiesToPullFromSharepoint(e){let t="";for(const i in e)e.hasOwnProperty(i)&&(t=""===t?i:t+","+i);return""!==t&&(t="&selectproperties='"+t+"'"),t}getSharepointRefinerArguments(e){let t="";return this.sharepointSettingService.init().pipe(Object(c.a)(()=>(this.sharepointSettingService.refinerFilters.forEach(i=>{let n=[];const s=e[i.refiner];if(s)!0===this.sharePointColumnSetService.isRefinerColumn(i.refiner)&&s.filters.forEach(e=>{const t=this.sharePointColumnSetService.getSelectedValue(i.refiner,e.value,this.sharepointSettingService.refinerFilters);n=n.concat(t)});else for(const e of i.values)n=n.concat(e.mappedValues);let a=[];a=n.map(e=>'"'+encodeURIComponent(e)+'"'),t=""!==t?t+",":t;const o=a.join();t+=n.length>1?i.refiner+":or("+o+")":i.refiner+":equals("+o+")"}),this.sharepointSettingService.refinerFilters.length>1&&""!==t&&(t="and("+t+")"),""!==t&&(t="&refinementfilters='"+t+"'"),t)))}parseSharepointResults(e,t){const i=e.d.query.PrimaryQueryResult.RelevantResults.Table.Rows.results,n=[],s=Object.keys(t);return i.forEach(e=>{const t={};e.Cells.results.forEach(e=>{const i=s.find(t=>t.toLowerCase()===String(e.Key).toLowerCase());i&&(t[i]=e.Value)}),t&&(t["SDA-GUID"]=this.guidService.getGuid(),n.push(t))}),n.count=JSON.stringify(e.d.query.PrimaryQueryResult.RelevantResults.TotalRows),n}getSharepointSortArguments(e){let t="";for(const i in e)e.hasOwnProperty(i)&&(""!==t&&(t+=","),t=i+":",t+=1===e[i]?"ascending":"descending");return""!==t&&(t="&sortlist='"+t+"'"),t}getFilters(e){let t;const i={};if(e.filter&&e.filter.filters&&(t=e.filter),t&&t.filters)for(const n of t.filters){const e=n.filters;if(e)for(const n of e)this.addFilter(t,i,n);else this.addFilter(t,i,n,!0)}return i}addFilter(e,t,i,n=!1){"*"!==i.value&&!0===this.sharePointColumnSetService.isFilterableColumn(i.field)?t.hasOwnProperty(i.field)?(t[i.field].filters.push({value:i.value,operator:i.operator}),t[i.field].logic=n?e.logic:i.logic):t[i.field]={filters:[{value:i.value,operator:i.operator}]}:"name"===i.field.toLowerCase()&&(this.globalSearchString=i.value)}getFilterArguments(e){let t="";for(const i in e)if(e.hasOwnProperty(i)&&!1===this.sharePointColumnSetService.isRefinerColumn(i)){let n="";e[i].filters.forEach(t=>{""!==n&&(n+="+"+e[i].logic.toUpperCase()+"+"),n+=this.getSharepointEquivalentFilter(i,t.operator,t.value)}),""!==t&&(t+="+AND+"),t+="("+n+")"}return t}getSortFields(e){const t={};if(e.sort)for(const i of e.sort)t[i.field]="desc"===i.dir?-1:1;return t}addQuotes(e){return this.doubleQuote+encodeURIComponent(e)+this.doubleQuote}getSharepointEquivalentFilter(e,t,i){let n="";const s=this.sharePointColumnSetService.formatFieldValueForQuery(e,i);switch(t){case"contains":n=e+":"+this.addQuotes(s);break;case"eq":n=e+"="+this.addQuotes(s);break;case"neq":n="NOT("+e+":"+this.addQuotes(s)+")";break;case"startswith":n=e+"="+this.addQuotes(s+"*");break;case"endswith":n=e+"="+this.addQuotes("*"+s);break;case"lt":n=e+"<"+this.addQuotes(s);break;case"lte":n=e+"<="+this.addQuotes(s);break;case"gt":n=e+">"+this.addQuotes(s);break;case"gte":n=e+">="+this.addQuotes(s);break;case"isnull":n=e+"="+this.addQuotes(s);break;case"isnotnull":n="NOT("+e+":"+this.addQuotes(s)+")"}return n}}return e.\u0275fac=function(t){return new(t||e)(g.dc(n.a),g.dc(u.a),g.dc(p.a),g.dc(h.a),g.dc(d.a))},e.\u0275prov=g.Ob({token:e,factory:e.\u0275fac}),e})()},tTON:function(e,t,i){"use strict";i.d(t,"a",(function(){return l}));var n=i("fXoL"),s=i("KIpx"),a=i("ofXK"),o=i("Yzie");function r(e,t){if(1&e){const e=n.Zb();n.Yb(0,"div",3),n.Yb(1,"sda-list-view",4),n.hc("selectedItemsChange",(function(t){return n.Kc(e),n.lc().selectedOptionsChange(t)})),n.Xb(),n.Xb()}if(2&e){const e=n.lc();n.Eb(1),n.sc("items",e.displayOptions)("primaryTextProperty","displayName")("selectedItems",e.selectedOptions)("selectedId","selected")("isMultiselectEnabled",!0)("isMultiselectActive",!0)}}function c(e,t){if(1&e){const e=n.Zb();n.Yb(0,"div",5),n.Yb(1,"sda-list-view",4),n.hc("selectedItemsChange",(function(t){return n.Kc(e),n.lc().selectedFiltersChange(t)})),n.Xb(),n.Xb()}if(2&e){const e=n.lc();n.Eb(1),n.sc("items",e.displayFilters)("primaryTextProperty","displayName")("selectedItems",e.selectedFilters)("selectedId","selected")("isMultiselectEnabled",!0)("isMultiselectActive",!0)}}let l=(()=>{class e{constructor(){this.searchOptionsChange=new n.o,this.searchFiltersChange=new n.o,this.filtersDefaultUpdate=new n.o,this.displayOptions=[],this.displayFilters=[],this.selectedOptions=[],this.selectedFilters=[]}ngOnChanges(e){(e.searchOptions||e.searchFilters)&&(e.searchOptions&&this.updateDisplayOptions(e.searchOptions.currentValue),e.searchFilters&&this.updateDisplayFilters(e.searchFilters.currentValue),this.checkFiltersAreDefault()),e.resetTriggered&&(this.unsubscribeResetSubscription(),e.resetTriggered.currentValue&&(this.resetSubscription=this.resetTriggered.subscribe(()=>{this.reset()})))}ngOnDestroy(){this.unsubscribeResetSubscription()}selectedOptionsChange(e){this.selectedOptions=e,this.selectFilters(this.searchOptions,e),this.updateDisplayOptions(this.searchOptions),this.checkFiltersAreDefault(),this.searchOptionsChange.emit(this.searchOptions)}selectedFiltersChange(e){this.selectedFilters=e,this.selectFilters(this.searchFilters,e),this.updateDisplayFilters(this.searchFilters),this.checkFiltersAreDefault(),this.searchFiltersChange.emit(this.searchFilters)}updateDisplayFilters(e){this.displayFilters=this.collectVisibleFilters(e),this.selectedFilters=this.collectSelectedFilters(this.displayFilters)}updateDisplayOptions(e){this.displayOptions=this.collectVisibleFilters(e),this.selectedOptions=this.collectSelectedFilters(this.displayOptions)}collectVisibleFilters(e){let t=[];return e&&(t=e.filter(e=>!e.hidden)),t}collectSelectedFilters(e){return e.filter(e=>e.selected)}selectFilters(e,t){e.forEach(e=>{if(!e.hidden){const i=t.find(t=>t.name===e.name);e.selected=!!i}})}checkFiltersAreDefault(){this.filtersDefaultUpdate.emit(Object(s.d)(this.displayOptions)&&Object(s.d)(this.displayFilters))}reset(){this.selectedOptions=this.collectDefaultSelectedFilters(this.searchOptions),this.selectedFilters=this.collectDefaultSelectedFilters(this.searchFilters),this.searchOptionsChange.emit(this.searchOptions),this.searchFiltersChange.emit(this.searchFilters),this.filtersDefaultUpdate.emit(!0)}collectDefaultSelectedFilters(e){return e.filter(e=>(e.selected=e.defaultSelected,e.defaultSelected))}unsubscribeResetSubscription(){this.resetSubscription&&this.resetSubscription.unsubscribe()}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=n.Mb({type:e,selectors:[["sda-filters-search-view"]],inputs:{searchOptions:"searchOptions",searchFilters:"searchFilters",resetTriggered:"resetTriggered"},outputs:{searchOptionsChange:"searchOptionsChange",searchFiltersChange:"searchFiltersChange",filtersDefaultUpdate:"filtersDefaultUpdate"},features:[n.Cb],decls:3,vars:2,consts:[[1,"search-options"],["class","search-options__left",4,"ngIf"],["class","search-options__right",4,"ngIf"],[1,"search-options__left"],[1,"filters-search-list",3,"items","primaryTextProperty","selectedItems","selectedId","isMultiselectEnabled","isMultiselectActive","selectedItemsChange"],[1,"search-options__right"]],template:function(e,t){1&e&&(n.Yb(0,"div",0),n.Sc(1,r,2,6,"div",1),n.Sc(2,c,2,6,"div",2),n.Xb()),2&e&&(n.Eb(1),n.sc("ngIf",t.displayOptions.length),n.Eb(1),n.sc("ngIf",t.displayFilters.length))},directives:[a.t,o.a],styles:["[_nghost-%COMP%]   .search-options[_ngcontent-%COMP%]{display:flex;flex-grow:1;min-height:88px;max-height:248px}@media screen and (min-width:59.375em){[_nghost-%COMP%]   .search-options[_ngcontent-%COMP%]{min-height:66px;max-height:269px}}[_nghost-%COMP%]   .search-options__left[_ngcontent-%COMP%]{display:flex;width:50%;padding:0 8px;border-right:1px solid #ebedf0}[_nghost-%COMP%]   .search-options__left[_ngcontent-%COMP%]     .list-base__items .mat-list-item--selected{background-color:#fff}[_nghost-%COMP%]   .search-options__left[_ngcontent-%COMP%]     .list-base__items .mat-list-item--selected .mat-list-text .mat-line{color:#1f2429}[_nghost-%COMP%]   .search-options__left[_ngcontent-%COMP%]:only-child{width:100%}[_nghost-%COMP%]   .search-options__right[_ngcontent-%COMP%]{display:flex;width:50%}[_nghost-%COMP%]   .search-options__right[_ngcontent-%COMP%]:only-child{width:100%}[_nghost-%COMP%]   .filters-search-list[_ngcontent-%COMP%]{width:100%;min-height:80px;max-height:248px}@media screen and (min-width:59.375em){[_nghost-%COMP%]   .filters-search-list[_ngcontent-%COMP%]{max-height:269px}}[_nghost-%COMP%]   .filters-search-list[_ngcontent-%COMP%]     .mat-list-item--selected{background-color:#0087c8}[_nghost-%COMP%]   .filters-search-list[_ngcontent-%COMP%]     .list-base__items{flex:1 1 auto;height:130px;padding:0;overflow-y:auto}"]}),e})()},tYhX:function(e,t,i){"use strict";i.d(t,"a",(function(){return n}));class n{constructor(e,t,i,n,s,a,o){this.document=e,this.files=t,this.singleSelect=i,this.showProperties=n,this.isColumnsetConfigured=s,this.displayTitle=a,this.filePickerType=o}}},tce7:function(e,t,i){"use strict";i.d(t,"a",(function(){return r}));var n=i("lJxs"),s=i("J7mc"),a=i("A3La"),o=i("fXoL");let r=(()=>{class e{constructor(e,t){this.odataService=e,this.dataService=t}GetColumnSetByNavigationPath(e){return this.odataService.get(`GetColumnSetForNavigationPath(NavigationPathUID='${e}')`)}GetColumnSetByUID(e){return this.odataService.get(`GetColumnSetByUID(ColumnSetUID='${e}')`)}GetColumnSetByName(e){return this.odataService.get(`GetColumnSetByName(Name='${e}')`)}GetColumnSetByInterfaceDefUID(e){return this.odataService.get(`GetColumnSetForInterfaceDef(InterfaceDefUID='${e}')`)}GetColumnSetUIDByClassDefOrClassification(e,t=""){return this.dataService.get(`GetColumnSetUIDByClassDefOrClassification(ClassDefUID='${e}', ClassificationUID='${t}')`).pipe(Object(n.a)(e=>e.value))}}return e.\u0275fac=function(t){return new(t||e)(o.dc(a.a),o.dc(s.a))},e.\u0275prov=o.Ob({token:e,factory:e.\u0275fac}),e})()},tgvy:function(e,t,i){"use strict";i.d(t,"a",(function(){return o}));var n=i("ftI+"),s=i("KIpx"),a=i("Sj5/");class o{constructor(e){this.sdaTranslateService=e,this.peekDebounce=Settings.application.peekDebounceDuration,!this.peekDebounce||this.peekDebounce<300?this.peekDebounce=300:this.peekDebounce>1e3&&(this.peekDebounce=1e3)}addCommonSearchOptions(e,t=!1,i=!1){let o=e||[];return o=Object(s.a)(o,new a.a(n.a.EQUAL_TO,this.sdaTranslateService.get("SEARCH_EQUAL_TO_OPERATOR","Use 'Is equal to' Operator")),!1,!t),o=Object(s.a)(o,new a.a(n.a.SHAREPOINT,this.sdaTranslateService.get("SEARCH_INCLUDE_SHAREPOINT","Include SharePoint Results")),!1,!i),o}getSelectedFromFilterArray(e){let t=[];return e&&(t=e.filter(e=>e.selected)),t}getPeekResultFilters(e,t){let i=[];return t?i.push(t):e&&e.length&&(i=[e.find(e=>"Name"===e.name)],i=i[0]?i:[e[0]]),i}}},tqyv:function(e,t,i){"use strict";i.d(t,"a",(function(){return N}));var n=i("tk/3"),s=i("LRne"),a=i("z6cu"),o=i("5+tZ"),r=i("lJxs"),c=i("eIep"),l=i("JIr8"),d=i("F8JD"),h=i("D7bQ"),u=i("Z9D8"),p=i("LUpO"),g=i("5G0X"),f=i("eruR"),m=i("C4gn"),b=i("Tx8r"),S=i("c+03"),v=i("DgwV"),_=i("J7mc"),O=i("A3La"),I=i("Ejbi"),C=i("+eYH"),T=i("JrsU"),E=i("41Lq"),y=i("fPNj"),P=i("i8JG"),x=i("vOvS"),A=i("Qqho"),w=i("oT+2"),M=i("DxXH"),D=i("fXoL");let N=(()=>{class e{constructor(e,t,i,n,s,a,o,r,c,l,d,h){this.metadataService=e,this.dataService=t,this.odataService=i,this.filePickerService=n,this.featureSetNavigationService=s,this.sdaTranslateService=a,this.loadingOverlayService=o,this.uxtNotificationService=r,this.exceptionService=c,this.featureSetDataService=l,this.filterFileService=d,this.methodService=h,this.RESULTS_NO_FILES=this.sdaTranslateService.get("RESULTS_NO_FILES","No viewable files were found."),this.SELECT_DOCUMENT=this.sdaTranslateService.get("SELECT_DOCUMENT","Select a Document"),this.DOCUMENT=this.sdaTranslateService.get("DOCUMENT","Document"),this.REQUESTED_METHOD_UNAVAILABLE=this.sdaTranslateService.get("REQUESTED_METHOD_UNAVAILABLE","Requested method unavailable"),this.FILE_PICKER_SELECT_FILE=this.sdaTranslateService.get("FILE_PICKER_SELECT_FILE","Select a file to view"),this.ISPFGDSCONNECTION="ISPFGDSConnection",this.ISDXIHUBADVANCED3DFILTER="ISDxiHubAdvanced3DFilter",this.setupDefaultViewingFeature()}canShowFile(e,t,i,n=!1,a){return e&&t?this.getFileViewType(e,t).pipe(Object(o.a)(s=>this.showFile(e,t,s,i,n,a))):Object(s.a)(y.a.NoViewableFiles)}showFile(e,t,i,n,a=!1,o){const r=n||this.defaultViewingFeature;let c;switch(i){case x.a.BUSINESSFILE:c=this.showAlternateOrMarkupOrNative(e,t,!0,r,a);break;case x.a.ATTACHEDTO:c=this.canShowViewAndMarkup(e,t,!1,r,a);break;case x.a.LSCANSITE:c=this.showLScanSiteorScan(e,t,!0,r,a);break;case x.a.LSCANSCAN:c=this.showLScanSiteorScan(e,t,!1,r,a);break;case x.a.GDSCONNECTION:c=this.showGdsConnectionOrFilter(e,t,r.apiParam8,a,o);break;case x.a.GDSFILTER:c=this.showGdsConnectionOrFilter(e,t,r.apiParam9,a,o);break;case x.a.INVALID:c=Object(s.a)(y.a.NoViewableFiles);break;default:c=Object(s.a)(y.a.NoViewableFiles)}return c}viewFile(e,t,i=!1){this.loadingOverlayService.showLoadingOverlay(),this.canShowFile(e,t,void 0,i).subscribe(e=>{e===y.a.NoViewableFiles&&this.uxtNotificationService.info(this.RESULTS_NO_FILES),setTimeout(()=>this.loadingOverlayService.hideLoadingOverlay(),300)},e=>{this.loadingOverlayService.hideLoadingOverlay(),this.exceptionService.handleException(e)})}isBravaAvailable(e){return this.dataService.post("User/Intergraph.SPF.Server.API.Model.IsBravaAvailable",JSON.stringify({FileObid:e})).pipe(Object(r.a)(e=>e.value))}getInterfacesForObject(e,t){return this.dataService.post("GetInterfacesForObject",JSON.stringify({ObjectOBID:e}),t)}compareFiles(e,t,i,n){const s=new g.a("Compare","Compare","SDACompareFiles");s.data=[new T.a(e,i),new T.a(t,n)],this.featureSetNavigationService.navigateToFeature(s)}hasViewableTypes(e){let t=!1;const i=this.metadataService.getViewableNavigationProperties(e);return i&&i.length>0&&(t=!0),t}getAttachedFileWithColumnset(e,t,i,n,a,r,c,l,d,h,u,p,g){return i instanceof Array?this.getFilesFromMultipleDocuments(e,t,i,n,a,r,c,l,h,u):this.getVersionOBIDs([i.OBID],n).pipe(Object(o.a)(f=>{f&&f.length>0&&(i.OBID=f[0]);let m=`Objects('${i.OBID}')/SPFFileComposition_21`;return p?m+=`?$filter=${p}&$count=true`:(r&&!1===l&&(m=`Objects('${i.OBID}')/SPFFileComposition_21?$filter=SPFViewInd eq true&$count=true`),l&&(m="Objects?$filter=Interfaces eq 'ISPFAlternateRendition' and EDG_AlternateFileToAttachingObject/any(doc:doc/OBID eq '"+i.OBID+"')&$count=true")),this.validateAndSelectFiles(m,n,l,r,c,a,h,u).pipe(Object(o.a)(n=>{if(n&&n.length>0){if(1===n.length)return Object(s.a)(n[0]);if(2===n.length&&!0===g){const e=this.filterNonPPMDrawing(n);if(0===e||1===e)return Object(s.a)(n[e])}return this.filePickerService.selectFiles(e,t,i,n,"Navigate"===d||"SmartPlantReview"===d,!0,!0,i.Name||this.sdaTranslateService.get("SELECTED_OBJECTS","Selected Objects").toLowerCase(),this.FILE_PICKER_SELECT_FILE,A.a.View).pipe(Object(o.a)(e=>e?Object(s.a)(e):Object(s.a)("")))}return Object(s.a)(void 0)}))}))}getFilesFromMultipleDocuments(e,t,i,n,a,r,c,l,d,h){const u=i.map(e=>e.Id);return this.getVersionOBIDs(u,n).pipe(Object(o.a)(u=>{const p=u.map(e=>`doc/OBID eq '${e}'`).join(" or ");return this.validateAndSelectFiles(l?`Objects?$filter=Interfaces eq 'ISPFAlternateRendition' and EDG_AlternateFileToAttachingObject/any(doc:${p})&$count=true`:`Objects?$filter=contains(Interfaces,'ISPFBusinessFile') and SPFFileComposition_12/any(doc:${p})&$count=true`,n,l,r,c,a,d,h).pipe(Object(o.a)(n=>n&&n.length>0?1===n.length?Object(s.a)(n[0]):this.filePickerService.selectFiles(e,t,i,n,!1,!0,!0,this.sdaTranslateService.get("SELECTED_OBJECTS","Selected Objects").toLowerCase(),this.FILE_PICKER_SELECT_FILE,A.a.View).pipe(Object(o.a)(e=>e?Object(s.a)(e):Object(s.a)(""))):Object(s.a)(void 0)))}))}validateAndSelectFiles(e,t,i,s,a,o,l,d){const h=new n.d({Prefer:'odata.include-annotations="*"'});return e=this.formQueryToGetTotalCount(e),this.getFilesCount(e,t).pipe(Object(c.a)(n=>(e=this.formQueryToGetAllFiles(n,e),this.dataService.get(e,t,!1,o,h).pipe(Object(r.a)(e=>{if(e){let t;return t=i?e:this.filterFileService.filterViewableFiles(e,s,a,d),l&&l.length>0&&(t=t.filter(e=>{let t=!1;return l.forEach(i=>{e.Name.toUpperCase().endsWith(i)&&(t=!0)}),t})),t}})))))}filterFiles(e,t,i,n,a,r,c){const l=[];if(i.length){if(i.length>1){i.forEach(e=>{e.CI_FileDocName&&!l.includes(e.CI_FileDocName)&&l.push(e.CI_FileDocName)});const n={name:l.join(", ")};return this.filePickerService.selectFiles(e,t,n,i,r,!0,!0,this.sdaTranslateService.get("SELECTED_OBJECTS","Selected Objects").toLowerCase()).pipe(Object(o.a)(e=>e?Object(s.a)(e):Object(s.a)("")))}return Object(s.a)(i[0])}return Object(s.a)(void 0)}getFileViewType(e,t){return this.getInterfacesForObject(e,t).pipe(Object(o.a)(i=>i&&i.length>0?i.indexOf("ISPFBusinessFile")>-1||i.indexOf("ISPFAlternateRendition")>-1?Object(s.a)(x.a.BUSINESSFILE):i.indexOf("ILScanSite")>-1?Object(s.a)(x.a.LSCANSITE):i.indexOf("ILScanScan")>-1?Object(s.a)(x.a.LSCANSCAN):i.indexOf(this.ISPFGDSCONNECTION)>-1?Object(s.a)(x.a.GDSCONNECTION):i.indexOf(this.ISDXIHUBADVANCED3DFILTER)>-1?Object(s.a)(x.a.GDSFILTER):this.checkIfFileAttached(e,t).pipe(Object(o.a)(e=>e?Object(s.a)(x.a.ATTACHEDTO):Object(s.a)(x.a.INVALID))):Object(s.a)(x.a.INVALID)))}getVersionOBIDs(e,t){const i=`(${e.map(e=>`OBID eq '${e}'`).join(" or ")})`;return this.dataService.get(`Objects?$filter=${i}&$select=OBID&$top=1000`,t).pipe(Object(r.a)(e=>e.map(e=>e.OBID)))}getFilesCount(e,t){return this.odataService.get(e,t).pipe(Object(r.a)(e=>{let t;return e&&e.count>0&&(t=e.count),t}))}getSelectedObjectType(e){switch(e.entityType){case"SPFDesignDocVersion":case"SPFTEFPublishedDocVersion":case"SPFP3DCompositeDocVersion":return Object(s.a)(h.a.FileComposition);case"SPFDesignFile":case"SPFTEFPublishedFile":return Object(s.a)(h.a.File);case"SPFMarkupFile":return Object(s.a)(h.a.Markup);case"SPFGDSConnection":return Object(s.a)(h.a.GDSConnection);case"SDxiHubAdvanced3DFilter":return Object(s.a)(h.a.GDSFilter);default:return this.getInterfacesForObject(e.obid,e.config).pipe(Object(c.a)(e=>{let t=h.a.Unknown;return e.indexOf("ISDAMarkupAction")>-1?t=h.a.Action:e.indexOf("ISPFFileComposition")>-1?t=h.a.FileComposition:e.indexOf("ISPFFile")>-1?t=h.a.File:e.indexOf(this.ISPFGDSCONNECTION)>-1?t=h.a.GDSConnection:e.indexOf(this.ISDXIHUBADVANCED3DFILTER)>-1&&(t=h.a.GDSFilter),Object(s.a)(t)}))}}canShowViewAndMarkup(e,t,i,n,s){return this.getMethodsAndNavigate(i?n.apiParam4:n.apiParam2,e,t,"Navigate",s)}formQueryToGetTotalCount(e){return e&&-1===e.indexOf("?")?e+="?&$count=true":e&&-1===e.indexOf("$count")&&(e+="&$count=true"),e}formQueryToGetAllFiles(e,t){return e>0&&(t&&-1===t.indexOf("$top")?t+="&$top="+e:t&&-1!==t.indexOf("$top")&&(t=t.replace(/top=\d+/,"top="+e))),t}canShowViewAlternate(e,t,i,n){return this.getMethodsAndNavigate(i.apiParam5,e,t,"Navigate",n)}checkIfFileAttached(e,t){return this.dataService.get(`Objects('${e}')/SPFFileComposition_21`,t).pipe(Object(r.a)(e=>e&&e.length>0))}convertMethodToFeature(e,t){return this.methodService.transformToFeature(e.SPFGUIDisplayAs,e.Name,t,e)}getMethodsAndNavigate(e,t,i,n,c,d=""){return this.dataService.get(`Objects?$filter=UID eq '${e}' and contains(Interfaces, 'ISPFMethod')`,i,!0).pipe(Object(o.a)(a=>{if(a&&a.length>0)return a[0].SPFSuppressInWebClient?(this.uxtNotificationService.info(this.REQUESTED_METHOD_UNAVAILABLE),Object(s.a)(y.a.MethodSuppressed)):this.featureSetDataService.validateUserHasAccessToMethod(n,a[0].OBID,[t],i).pipe(Object(r.a)(e=>{if(e){const e=[new C.a(t,d,i)],s=this.convertMethodToFeature(a[0],n);return s.objects=e,this.featureSetNavigationService.navigateToFeature(s,c),y.a.Success}return this.uxtNotificationService.info(this.sdaTranslateService.getFormatted("METHOD_INACCESSIBLE","Method {0} inaccessible",[a[0].Name])),y.a.MethodInaccessible}));{const t=this.sdaTranslateService.getFormatted("METHOD_DOES_NOT_EXIST-NAME","{0} method does not exist",[e]);throw new Error(t)}}),Object(l.a)(e=>{const t=new u.a(e,e.message,"ViewNativeDataService","getMethodsAndNavigate");return Object(a.a)(t)}))}getMethodsAndViewLaserScan(e,t,i,n,s){return this.getMethodsAndNavigate(e?n.apiParam6:n.apiParam7,t,i,e?"LScanViewSite":"LScanViewScan",s)}getAssociatedFiles(e,t){return this.dataService.get(`Files('${e}')/Intergraph.SPF.Server.API.Model.AssociatedFiles`,t)}showAlternateOrMarkupOrNative(e,t,i,n,s){return this.getAssociatedFiles(e,t).pipe(Object(o.a)(a=>a&&a.length>1&&a[0].Purpose===P.a.RENDITION?this.canShowViewAlternate(a[1].Id,t,n,s):this.canShowViewAndMarkup(e,t,i,n,s)))}showLScanSiteorScan(e,t,i,n,s){return this.getMethodsAndViewLaserScan(i,e,t,n,s)}showGdsConnectionOrFilter(e,t,i,n,s){return this.getMethodsAndNavigate(i,e,t,"Navigate",n,s)}setupDefaultViewingFeature(){this.defaultViewingFeature=new g.a("stubFeature","stubFeature","stubFeature"),this.defaultViewingFeature.apiParam1="MTH_ViewNativeFiles",this.defaultViewingFeature.apiParam2="MTH_ViewNavigateFiles",this.defaultViewingFeature.apiParam3="MTH_FileViewNative",this.defaultViewingFeature.apiParam4="MTH_FileViewNavigate",this.defaultViewingFeature.apiParam5="MTH_FileViewAlternative",this.defaultViewingFeature.apiParam6="MTH_LScanSiteView",this.defaultViewingFeature.apiParam7="MTH_LScanScanView",this.defaultViewingFeature.apiParam8="MTH_GDSViewNavigate",this.defaultViewingFeature.apiParam9="MTH_GDSFilterViewNavigate"}filterNonPPMDrawing(e){const t=e[0].Name.substr(e[0].Name.lastIndexOf(".")+1).toUpperCase(),i=e[1].Name.substr(e[1].Name.lastIndexOf(".")+1).toUpperCase(),n=e[0].Name.toUpperCase(),s=e[1].Name.toUpperCase();return t in b.b&&s.endsWith("VECZ")&&n.substr(0,n.indexOf("."))===s.substr(0,s.indexOf("."))?1:i in b.b&&n.endsWith("VECZ")&&s.substr(0,s.indexOf("."))===n.substr(0,n.indexOf("."))?0:-1}}return e.\u0275fac=function(t){return new(t||e)(D.dc(v.a),D.dc(_.a),D.dc(O.a),D.dc(w.a),D.dc(m.a),D.dc(I.a),D.dc(S.a),D.dc(E.a),D.dc(p.a),D.dc(f.a),D.dc(M.a),D.dc(d.a))},e.\u0275prov=D.Ob({token:e,factory:e.\u0275fac}),e})()},txXS:function(e,t,i){"use strict";i.d(t,"a",(function(){return a}));var n=i("ofXK"),s=i("fXoL");let a=(()=>{class e{}return e.\u0275mod=s.Qb({type:e}),e.\u0275inj=s.Pb({factory:function(t){return new(t||e)},imports:[[n.c]]}),e})()},uFRd:function(e,t,i){"use strict";i.d(t,"a",(function(){return x}));var n=i("fXoL"),s=i("LRne"),a=i("IzEk"),o=i("JIr8"),r=i("LUpO"),c=i("wKJe"),l=i("dEBh"),d=i("Ejbi"),h=i("41Lq"),u=function(e){return e.CSV="csv",e.CSVREPEATED="csvrepeated",e.EXCELOPENXML="excelopenxml",e.EXCEL="excel",e.LISTVIEW="listview",e}({}),p=i("Y9Bn"),g=i("ofXK"),f=i("cee5");let m=(()=>{class e{constructor(e,t){this.sdaTranslateService=e,this.timeoutService=t,this.LESS_THAN_MINUTE=this.sdaTranslateService.get("LESS_THAN_MINUTE","less than a minute ago"),this.MINUTE_AGO=this.sdaTranslateService.get("MINUTE_AGO","1 minute ago"),this.MINUTES_AGO=this.sdaTranslateService.get("MINUTES_AGO-COUNT","{0} minutes ago").replace("{0}","%distance"),this.HOUR_AGO=this.sdaTranslateService.get("HOUR_AGO","an hour ago"),this.HOURS_AGO=this.sdaTranslateService.get("HOURS_AGO-COUNT","{0} hours ago").replace("{0}","%r"),this.YESTERDAY_AT=this.sdaTranslateService.get("YESTERDAY_AT-HOUR-MINUTE","Yesterday at {0}:{1}").replace("{0}","%h").replace("{1}","%i"),this.MONDAY=this.sdaTranslateService.get("MONDAY","Monday"),this.TUESDAY=this.sdaTranslateService.get("TUESDAY","Tuesday"),this.WEDNESDAY=this.sdaTranslateService.get("WEDNESDAY","Wednesday"),this.THURSDAY=this.sdaTranslateService.get("THURSDAY","Thursday"),this.FRIDAY=this.sdaTranslateService.get("FRIDAY","Friday"),this.SATURDAY=this.sdaTranslateService.get("SATURDAY","Saturday"),this.SUNDAY=this.sdaTranslateService.get("SUNDAY","Sunday"),this.JANUARY=this.sdaTranslateService.get("JANUARY","January"),this.FEBRUARY=this.sdaTranslateService.get("FEBRUARY","February"),this.MARCH=this.sdaTranslateService.get("MARCH","March"),this.APRIL=this.sdaTranslateService.get("APRIL","April"),this.MAY=this.sdaTranslateService.get("MAY","May"),this.JUNE=this.sdaTranslateService.get("JUNE","June"),this.JULY=this.sdaTranslateService.get("JULY","July"),this.AUGUST=this.sdaTranslateService.get("AUGUST","August"),this.SEPTEMBER=this.sdaTranslateService.get("SEPTEMBER","September"),this.OCTOBER=this.sdaTranslateService.get("OCTOBER","October"),this.NOVEMBER=this.sdaTranslateService.get("NOVEMBER","November"),this.DECEMBER=this.sdaTranslateService.get("DECEMBER","December"),this.days=[this.MONDAY,this.TUESDAY,this.WEDNESDAY,this.THURSDAY,this.FRIDAY,this.SATURDAY,this.SUNDAY],this.months=[this.JANUARY,this.FEBRUARY,this.MARCH,this.APRIL,this.MAY,this.JUNE,this.JULY,this.AUGUST,this.SEPTEMBER,this.OCTOBER,this.NOVEMBER,this.DECEMBER]}ngOnInit(){this.update()}update(){this.wording=this.getWording(),this.longDate=this.getLongDate(),this.timeoutService.setTimeout(()=>this.update(),6e4)}getWording(){const e={0:this.LESS_THAN_MINUTE,1:this.MINUTE_AGO,59:this.MINUTES_AGO,118:this.HOUR_AGO,1439:this.HOURS_AGO,2879:this.YESTERDAY_AT,14567:"%l at %h:%i"},t=new Date(this.timestamp),i=Math.round((Date.now()-t.getTime())/6e4);let n="";for(const r in e)if(i<parseInt(r,10)){n=e[r];break}const s=("0"+t.getHours()).slice(-2),a=("0"+t.getMinutes()).slice(-2),o=this.days[t.getDay()];if(n){const e=Math.round(i/60);return n.replace(/%distance/i,i.toString()).replace(/%r/i,e.toString()).replace(/%h/i,s).replace(/%i/i,a).replace(/%l/i,o)}return this.getLongDate()}getOrdinal(e){const t=["th","st","nd","rd"],i=e%100;return t[(i-20)%10]||t[i]||t[0]}getLongDate(){let e="%d%o %f %y at %h:%i";const t=new Date(this.timestamp),i=("0"+t.getHours()).slice(-2),n=("0"+t.getMinutes()).slice(-2),s=""+t.getDate(),a=this.months[t.getMonth()],o=t.getFullYear();return e=(new Date).getFullYear()!==o?e.replace(/%y/i,o.toString()):e.replace(/%y/i,""),e.replace(/%d/i,s).replace(/%f/i,a).replace(/%o/i,this.getOrdinal(t.getDate())).replace(/%h/i,i).replace(/%i/i,n)}}return e.\u0275fac=function(t){return new(t||e)(n.Sb(d.a),n.Sb(f.a))},e.\u0275cmp=n.Mb({type:e,selectors:[["sda-nice-time"]],inputs:{timestamp:"timestamp"},decls:2,vars:2,consts:[[3,"title"]],template:function(e,t){1&e&&(n.Yb(0,"abbr",0),n.Uc(1),n.Xb()),2&e&&(n.tc("title",t.longDate),n.Eb(1),n.Wc(" ",t.wording,"\n"))},encapsulation:2}),e})();var b=i("NFeN");function S(e,t){1&e&&n.Tb(0,"mat-icon",20)}function v(e,t){if(1&e&&(n.Yb(0,"div",18),n.Sc(1,S,1,0,"mat-icon",19),n.Xb()),2&e){const e=n.lc();n.Eb(1),n.sc("ngIf",e.showIcon)}}function _(e,t){if(1&e&&(n.Yb(0,"span"),n.Uc(1),n.Xb()),2&e){const e=n.lc();n.Hb("notification__type notification__type--",e.notification.tag,""),n.Eb(1),n.Wc(" ",e.refineTranslations.get(e.notification.tag)," ")}}function O(e,t){if(1&e&&n.Tb(0,"i",23),2&e){const e=n.lc(2);n.Ib("fa-file-excel-o","EXCEL"===e.notification.fileType)("fa-file-text-o","CSVREPEATED || CSV"===e.notification.fileType)}}function I(e,t){if(1&e&&(n.Yb(0,"span",21),n.Sc(1,O,1,4,"i",22),n.Xb()),2&e){const e=n.lc();n.Eb(1),n.sc("ngIf",e.notification.fileType&&"listview"!==e.notification.fileType.toLowerCase())}}function C(e,t){if(1&e&&(n.Yb(0,"p",24),n.Uc(1),n.Xb()),2&e){const e=n.lc();n.Eb(1),n.Vc(e.notification.Description)}}function T(e,t){if(1&e){const e=n.Zb();n.Yb(0,"div",13),n.hc("click",(function(){n.Kc(e);const t=n.lc();return t.openNotificationContext(t.notification)})),n.Yb(1,"span",14),n.Uc(2),n.Xb(),n.Tb(3,"img",25),n.Xb()}if(2&e){const e=n.lc();n.Eb(2),n.Vc(e.VIEW_CONTEXT),n.Eb(1),n.sc("alt",e.VIEW_CONTEXT)}}function E(e,t){if(1&e){const e=n.Zb();n.Yb(0,"div",13),n.hc("click",(function(t){n.Kc(e);const i=n.lc();return i.downloadNotification(i.notification,t)})),n.Yb(1,"span",14),n.Uc(2),n.Xb(),n.Tb(3,"mat-icon",26),n.Xb()}if(2&e){const e=n.lc();n.Eb(2),n.Vc(e.DOWNLOAD_REPORT)}}function y(e,t){if(1&e&&n.Tb(0,"img",27),2&e){const e=n.lc();n.sc("alt",e.DELETE_NOTIFICATION)}}function P(e,t){if(1&e&&n.Tb(0,"img",28),2&e){const e=n.lc();n.sc("alt",e.DELETE_NOTIFICATION)}}let x=(()=>{class e{constructor(e,t,i,s,a,o,r,c){this.notificationsService=e,this.sdaTranslateService=t,this.fileDownloaderService=i,this.componentFactoryResolver=s,this.injector=a,this.exceptionService=o,this.windowService=r,this.uxtNotificationService=c,this.isSelected=!1,this.delete=new n.o,this.select=new n.o,this.VIEW_CONTEXT=this.sdaTranslateService.get("VIEW_CONTEXT","View Context"),this.VIEW_NOTIFICATION=this.sdaTranslateService.get("VIEW_NOTIFICATION","View Notification"),this.DELETE_NOTIFICATION=this.sdaTranslateService.get("NOTIFICATIONS_CONFIRM_HEADER","Delete Notification"),this.DOWNLOAD_REPORT=this.sdaTranslateService.get("DOWNLOAD_REPORT","Download Report"),this.notificationFileType=!1,this.refineTranslations=new Map([["created",this.sdaTranslateService.get("CREATED","Created")],["copied",this.sdaTranslateService.get("COPIED","Copied")],["terminated",this.sdaTranslateService.get("TERMINATED","Terminated")],["updated",this.sdaTranslateService.get("UPDATED","Updated")]]),this.FILE_DOWNLOAD_NOT_SUPPORTED=this.sdaTranslateService.get("FILE_DOWNLOAD_NOT_SUPPORTED","File download is not supported on this device")}ngOnChanges(){this.showDownloadBtn=!1,this.showIcon=!1,this.notification.fileType.toLowerCase()===u.EXCELOPENXML&&!1===this.notification.isTemplateSelected&&(this.showDownloadBtn=!0),u[this.notification.fileType.toUpperCase()]&&(this.showIcon=!0)}deleteNotification(e,t){t.preventDefault(),t.stopPropagation(),e.isDeleting||this.delete.emit(e)}openNotification(e){e.isDeleting||this.notificationsService.openNotification(e)}openNotificationContext(e){e.isDeleting||this.notificationsService.openNotificationContext(e)}selectNotification(e){this.select.emit(e)}downloadNotification(e,t){t.preventDefault(),t.stopPropagation(),this.windowService.isDeviceIos()?this.uxtNotificationService.warning(this.FILE_DOWNLOAD_NOT_SUPPORTED):this.notificationsService.DownloadFileObjectFromNotification(e).pipe(Object(a.a)(1),Object(o.a)(e=>(this.exceptionService.handleException(e),Object(s.a)(void 0)))).subscribe(e=>{e&&e.value&&e.value.URL&&this.fileDownloaderService.downloadFile(this.componentFactoryResolver,this.injector,e.value.URL,100)})}}return e.\u0275fac=function(t){return new(t||e)(n.Sb(p.a),n.Sb(d.a),n.Sb(c.a),n.Sb(n.j),n.Sb(n.s),n.Sb(r.a),n.Sb(l.a),n.Sb(h.a))},e.\u0275cmp=n.Mb({type:e,selectors:[["sda-notification"]],inputs:{notification:"notification",isSelected:"isSelected"},outputs:{delete:"delete",select:"select"},features:[n.Cb],decls:24,vars:25,consts:[[1,"notification"],[1,"notification__select",3,"click"],[1,"fa","fa-fw","notification__select__icon"],["class","notification__indicator",4,"ngIf"],["aria-haspopup","true",1,"notification__info"],[1,"notification__info__title",3,"title"],[3,"class",4,"ngIf"],["class","notification__file-icon",4,"ngIf"],["class","notification__description",4,"ngIf"],[1,"notification__nice-time"],[3,"timestamp"],[1,"notification__buttons"],["class","notification__button",3,"click",4,"ngIf"],[1,"notification__button",3,"click"],[1,"notification__button__tooltip"],["svgIcon","external-link",1,"notification__button__icon"],["class","notification__button__icon","src","content/images/notifications/trash.svg","height","18","width","18",3,"alt",4,"ngIf"],["class","notification__button__icon fa-spin","src","content/images/notifications/spinner.svg","height","18","width","18",3,"alt",4,"ngIf"],[1,"notification__indicator"],["svgIcon","scheduler","class","notification__indicator__icon",4,"ngIf"],["svgIcon","scheduler",1,"notification__indicator__icon"],[1,"notification__file-icon"],["class","fa fa-fw",3,"fa-file-excel-o","fa-file-text-o",4,"ngIf"],[1,"fa","fa-fw"],[1,"notification__description"],["src","content/images/notifications/link.svg","height","18","width","18",1,"notification__button__icon",3,"alt"],["svgIcon","download",1,"notification__button__icon"],["src","content/images/notifications/trash.svg","height","18","width","18",1,"notification__button__icon",3,"alt"],["src","content/images/notifications/spinner.svg","height","18","width","18",1,"notification__button__icon","fa-spin",3,"alt"]],template:function(e,t){1&e&&(n.Yb(0,"div",0),n.Yb(1,"div",1),n.hc("click",(function(){return t.selectNotification(t.notification)})),n.Tb(2,"i",2),n.Xb(),n.Sc(3,v,2,1,"div",3),n.Yb(4,"div",4),n.Yb(5,"h4",5),n.Sc(6,_,2,4,"span",6),n.Uc(7),n.Sc(8,I,2,1,"span",7),n.Xb(),n.Sc(9,C,2,1,"p",8),n.Yb(10,"span",9),n.Tb(11,"sda-nice-time",10),n.Xb(),n.Xb(),n.Yb(12,"div",11),n.Sc(13,T,4,2,"div",12),n.Yb(14,"div",13),n.hc("click",(function(){return t.openNotification(t.notification)})),n.Yb(15,"span",14),n.Uc(16),n.Xb(),n.Tb(17,"mat-icon",15),n.Xb(),n.Sc(18,E,4,1,"div",12),n.Yb(19,"div",13),n.hc("click",(function(e){return t.deleteNotification(t.notification,e)})),n.Yb(20,"span",14),n.Uc(21),n.Xb(),n.Sc(22,y,1,1,"img",16),n.Sc(23,P,1,1,"img",17),n.Xb(),n.Xb(),n.Xb()),2&e&&(n.Ib("notification--new",t.notification.isNew)("notification--deleting",t.notification.isDeleting)("notification--selected",t.isSelected),n.Eb(2),n.Ib("fa-square-o",!t.isSelected)("fa-check-square",t.isSelected),n.Eb(1),n.sc("ngIf",!t.notification.SPFContextObjectOBID&&!!t.notification.fileType),n.Eb(1),n.Ib("notification__info--report",!t.notification.SPFContextObjectOBID),n.Eb(1),n.sc("title",t.notification.Name),n.Eb(1),n.sc("ngIf",t.notification.tag),n.Eb(1),n.Wc(" ",t.notification.Name," "),n.Eb(1),n.sc("ngIf",!t.notification.SPFContextObjectOBID),n.Eb(1),n.sc("ngIf",t.notification.SPFContextObjectOBID),n.Eb(2),n.sc("timestamp",t.notification.Timestamp),n.Eb(2),n.sc("ngIf",t.notification.hasContext),n.Eb(3),n.Vc(t.VIEW_NOTIFICATION),n.Eb(2),n.sc("ngIf",t.showDownloadBtn),n.Eb(3),n.Vc(t.DELETE_NOTIFICATION),n.Eb(1),n.sc("ngIf",!t.notification.isDeleting),n.Eb(1),n.sc("ngIf",t.notification.isDeleting))},directives:[g.t,m,b.a],styles:['.notification__indicator__icon[_ngcontent-%COMP%], .notification__select__icon[_ngcontent-%COMP%]{position:absolute;top:50%;left:50%;-webkit-transform:translate3d(-50%,-50%,0);transform:translate3d(-50%,-50%,0)}@-webkit-keyframes background{0%{background:#87c2fe}to{background:#fff}}@keyframes background{0%{background:#87c2fe}to{background:#fff}}.notification[_ngcontent-%COMP%]{position:relative;display:flex;flex:1;box-shadow:0 1px 5px rgba(0,0,0,.1);background:#fff;overflow:hidden}@media screen and (max-width:52.5em){.notification[_ngcontent-%COMP%]{margin:0}}.notification[_ngcontent-%COMP%]:hover{background:#fafafa}.notification__buttons[_ngcontent-%COMP%]{display:flex;flex:0 0 153px;justify-content:flex-end}@media screen and (max-width:33.125em){.notification__buttons[_ngcontent-%COMP%]{flex:0 0 50px;flex-direction:column}}.notification--selected[_ngcontent-%COMP%], .notification--selected[_ngcontent-%COMP%]:hover{background:rgba(255,255,190,.5)}.notification--selected[_ngcontent-%COMP%]   .notification__select__icon[_ngcontent-%COMP%]:hover{color:rgba(0,0,0,.7)}.notification--deleting[_ngcontent-%COMP%]{opacity:.4;cursor:not-allowed}.notification--new[_ngcontent-%COMP%]{-webkit-animation:background 5s linear 1s 1 backwards;animation:background 5s linear 1s 1 backwards}.notification--new[_ngcontent-%COMP%]:hover{background:#fafafa}.notification__description[_ngcontent-%COMP%]{margin-top:5px;font-size:13px;color:rgba(0,0,0,.6)}.notification__select[_ngcontent-%COMP%]{position:relative;flex-shrink:0;width:47px;font-size:18px;color:rgba(0,0,0,.4);cursor:default}.notification__select[_ngcontent-%COMP%]:hover{color:rgba(0,0,0,.7);background:rgba(0,0,0,.03)}.notification__select__icon[_ngcontent-%COMP%]:hover{color:#157db9}.notification__button[_ngcontent-%COMP%]{position:relative;display:flex;align-items:center;justify-content:center;flex:0 0 51px;color:rgba(0,0,0,.4);cursor:pointer}@media screen and (max-width:33.125em){.notification__button[_ngcontent-%COMP%]{flex:1;flex-direction:column}}.notification__button[_ngcontent-%COMP%]:hover{background:rgba(0,0,0,.04)}.notification__button[_ngcontent-%COMP%]:hover   .notification__button__tooltip[_ngcontent-%COMP%]{opacity:1}.notification__button__tooltip[_ngcontent-%COMP%]{position:absolute;top:50%;right:50px;padding:5px 7px;-webkit-transform:translate3d(0,-50%,0);transform:translate3d(0,-50%,0);opacity:0;pointer-events:none;background:rgba(0,0,0,.8);border-radius:3px;color:#fff;white-space:nowrap;line-height:1;font-size:12px;z-index:100!important}@media screen and (max-width:59.3125em){.notification__button__tooltip[_ngcontent-%COMP%]{display:none!important}}.notification__button__tooltip[_ngcontent-%COMP%]:after{content:"";position:absolute;top:6px;right:-5px;width:0;height:0;border-color:transparent transparent transparent rgba(0,0,0,.8);border-style:solid;border-width:5px 0 5px 5px}.notification__button__icon[_ngcontent-%COMP%]{width:18px;height:18px}.notification__file-icon[_ngcontent-%COMP%]{position:relative;top:-1px;margin-left:5px;font-size:14px}.notification__file-icon[_ngcontent-%COMP%]   .fa-file-excel-o[_ngcontent-%COMP%]{color:#61943c}.notification__indicator[_ngcontent-%COMP%]{position:relative;flex:0 0 40px;color:rgba(0,0,0,.6)}.notification__indicator__icon[_ngcontent-%COMP%]{font-size:21px}.notification__info[_ngcontent-%COMP%]{flex-grow:1;margin-left:10px;padding:20px 0;overflow:hidden}.notification__info__title[_ngcontent-%COMP%]{width:100%;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;font-size:15px;font-weight:500;color:rgba(0,0,0,.8)}.notification__nice-time[_ngcontent-%COMP%]{display:none;margin-top:5px;font-size:13px;color:rgba(0,0,0,.6)}@media screen and (max-width:60em){.notification__nice-time[_ngcontent-%COMP%]{display:flex}}.notification__delete[_ngcontent-%COMP%]{position:absolute;top:0;right:0;bottom:0;width:50px;-webkit-transform:translate3d(25px,0,0);transform:translate3d(25px,0,0);opacity:0;transition:transform .2s ease-in,opacity .2s ease-in}.notification__delete[_ngcontent-%COMP%]   .sda-button[_ngcontent-%COMP%]{position:absolute;top:50%;right:27px;padding:2px;font-size:14px!important;-webkit-transform:translate3d(0,-50%,0);transform:translate3d(0,-50%,0)}@media screen and (max-width:59.3125em){.notification__delete[_ngcontent-%COMP%]   .sda-button[_ngcontent-%COMP%]{right:10px}}@media screen and (max-width:59.3125em){.notification__delete[_ngcontent-%COMP%]{-webkit-transform:translateZ(0);transform:translateZ(0);opacity:1}}.notification__type[_ngcontent-%COMP%]{position:relative;top:-1px;display:inline-flex;margin-right:6px;padding:2px 3px 1px;text-transform:uppercase;font-size:12px;color:#fff;font-weight:500;border-radius:3px;-webkit-user-select:none;-ms-user-select:none;user-select:none}.notification__type--updated[_ngcontent-%COMP%]{background:#eb4f83}.notification__type--terminated[_ngcontent-%COMP%]{background:#262626}.notification__type--created[_ngcontent-%COMP%]{color:#fff;background:#79b74c}.notification__type--copied[_ngcontent-%COMP%]{color:#fff;background:#1a98e1}']}),e})()},udmY:function(e,t,i){"use strict";i.d(t,"a",(function(){return n}));class n{constructor(e,t,i,n=!0){this.uid=e,this.displayName=t,this.params=i,this.chipRemovable=n}}},ue3H:function(e,t,i){"use strict";i.d(t,"a",(function(){return o}));var n=i("fXoL"),s=i("BLbD"),a=i("TLn4");let o=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=n.Mb({type:e,selectors:[["sda-loading-overlay"]],inputs:{message:"message"},decls:3,vars:3,consts:[[3,"toggle"],[1,"loading-overlay"],[3,"centered","message"]],template:function(e,t){1&e&&(n.Tb(0,"sda-blanket",0),n.Yb(1,"div",1),n.Tb(2,"sda-loading-indicator",2),n.Xb()),2&e&&(n.sc("toggle",!0),n.Eb(2),n.sc("centered",!0)("message",t.message))},directives:[s.a,a.a],styles:["[_nghost-%COMP%]{position:relative;z-index:1500!important}.loading-overlay[_ngcontent-%COMP%]{position:fixed;top:0;left:0;right:0;bottom:0}.loading-overlay[_ngcontent-%COMP%]     .loader__message{color:#fff}"]}),e})()},"v6r/":function(e,t,i){"use strict";i.d(t,"a",(function(){return o}));var n=i("Z9D8"),s=i("Ejbi"),a=i("fXoL");let o=(()=>{class e{constructor(e){this.sdaTranslateService=e,this.clientApis=[]}resetRegisteredClientApis(){this.clientApis.length=0}getAvailableClientApis(){return this.clientApis.map(e=>e.name)}getClientApi(e,t=!1){let i=this.clientApis.filter(t=>t.name===e);if(1!==i.length&&(i=this.clientApis.filter(i=>i.name===e&&i.options.isModal===t)),1!==i.length)throw new n.a(void 0,this.sdaTranslateService.getFormatted("CLIENT_API_SERVICE_NO_MATCHING_API-API_NAME","Unable to find matching client api {0}",[e]));return i[0]}hasClientApi(e){return this.clientApis.some(t=>t.name===e)}registerClientApi(e){if(e){if(this.clientApis.filter(t=>t.name===e.name&&e.options.isModal===t.options.isModal).length>0)throw new n.a(void 0,this.sdaTranslateService.getFormatted("CLIENT_API_SERVICE_ALREADY_REGISTERED-API_NAME","Unable to register client api {0}. The client api has already been registered.",[e.name]));this.clientApis.push(e)}}}return e.\u0275fac=function(t){return new(t||e)(a.dc(s.a))},e.\u0275prov=a.Ob({token:e,factory:e.\u0275fac}),e})()},vFAW:function(e,t,i){"use strict";i.d(t,"a",(function(){return a}));var n=i("ofXK"),s=i("fXoL");let a=(()=>{class e{}return e.\u0275mod=s.Qb({type:e}),e.\u0275inj=s.Pb({factory:function(t){return new(t||e)},imports:[[n.c]]}),e})()},vOvS:function(e,t,i){"use strict";i.d(t,"a",(function(){return n}));var n=function(e){return e[e.BUSINESSFILE=0]="BUSINESSFILE",e[e.ATTACHEDTO=1]="ATTACHEDTO",e[e.LSCANSITE=2]="LSCANSITE",e[e.LSCANSCAN=3]="LSCANSCAN",e[e.GDSCONNECTION=4]="GDSCONNECTION",e[e.GDSFILTER=5]="GDSFILTER",e[e.INVALID=6]="INVALID",e}({})},vyim:function(e,t,i){"use strict";i.d(t,"a",(function(){return h}));var n=i("2Vo4"),s=i("VRyK"),a=i("lJxs"),o=i("eruR"),r=i("yAwn"),c=i("izpr"),l=i("fXoL"),d=i("tk/3");let h=(()=>{class e{constructor(e,t,i,a){this.http=e,this.featureSetDataService=t,this.rolesRepository=i,this.configDataService=a,this.sharepointColumns=[],this.sharepointEnabled=!1,this.sharepointConfigExist=!1,this.sharepointDocumentSettings=void 0,this.sharepointEnabled$=new n.a(!1),this.searchRefinerUrl="sharepoint-configuration.json",Object(s.a)(this.configDataService.configs$,this.rolesRepository.roles$).subscribe(()=>this.refreshSharepointAccess())}init(){return this.getSharepointFile().pipe(Object(a.a)(e=>{try{JSON.parse(e)}catch(t){return void(this.sharepointConfigExist=!1)}return this.sharepointConfigExist=!0,this.refreshSharepointAccess(),this.extractSharepointSettings(e)}))}refreshSharepointAccess(){this.sharepointConfigExist&&this.canAccessSharepoint().subscribe(e=>{this.sharepointEnabled=e,this.sharepointEnabled$.next(e)})}getSharepointFile(){return this.http.get(this.searchRefinerUrl,{withCredentials:!0,responseType:"text"})}canAccessSharepoint(){return this.featureSetDataService.getClientApiMethods("SharePointSearchAccess").pipe(Object(a.a)(e=>{let t=!1;return e&&e.length&&(t=!0),t}))}extractSharepointSettings(e){const t=JSON.parse(e);return this.siteUrl=t.siteUrl,this.refiners=t.refiners,this.refinerFilters=t.refinerFilters,this.sharepointColumns=t.sharepointColumns,this.sharepointDocumentSettings=t.documentConfiguration,t}}return e.\u0275fac=function(t){return new(t||e)(l.dc(d.a),l.dc(o.a),l.dc(c.a),l.dc(r.a))},e.\u0275prov=l.Ob({token:e,factory:e.\u0275fac}),e})()},wKJe:function(e,t,i){"use strict";i.d(t,"a",(function(){return d}));var n=i("Ejbi"),s=i("Z9D8"),a=i("LUpO"),o=i("41Lq"),r=i("e8r8"),c=i("ESHU"),l=i("fXoL");let d=(()=>{class e{constructor(e,t,i,n,s){this.sdaTranslateService=e,this.urlValidateServices=t,this.fileDownloadService=i,this.uxtNotificationService=n,this.exceptionService=s,this.MAX_FILE_SIZE=209715200,this.idleTimeout=6e4,this.iFrameCollection=[],Settings.application&&void 0!==Settings.application.downloadFileSizeThreshold&&(Settings.application.downloadFileSizeThreshold<1&&(Settings.application.downloadFileSizeThreshold=200),this.MAX_FILE_SIZE=1024*Settings.application.downloadFileSizeThreshold*1024),Settings.application&&void 0!==Settings.application.downloadFileTimeout&&(Settings.application.downloadFileTimeout<1&&(Settings.application.downloadFileTimeout=1),this.idleTimeout=60*Settings.application.downloadFileTimeout*1e3)}downloadFile(e,t,i,n){const a=[];a.push({Name:"",URL:i,ContentLength:n}),this.urlValidateServices.validateFileURLs(a).subscribe(n=>{const a=n[0];if(200===a.StatusCode)0===a.ContentLength||a.ContentLength>=this.MAX_FILE_SIZE?this.fileDownloadService.selectFiles(e,t,n).subscribe(()=>{}):(this.uxtNotificationService.success(this.sdaTranslateService.get("DOWNLOAD_STARTED","Download started")),this.downloadFileStream(i));else{const e=this.sdaTranslateService.get("FILE_NOT_FOUND","File not found: ")+"'"+a.URL+"'";this.exceptionService.handleException(new s.a(e,void 0,"ExportFileReport","downloadFile"))}})}downloadFileStream(e){try{const t=Settings.odata.url+"/DownloadFile",i="{ 'URLList' : [ { 'Name' : 'File', 'URL' : '"+e+"' } ] }",n=$('<iframe style="visibility: collapse;"></iframe>');$("body").append(n),n[0].contentDocument.write(`<form action="${t}" method="POST"><input type="hidden" name="data" value="${i}" /></form>`),this.iFrameCollection.push(n),$("form",n[0].contentDocument).submit(),setTimeout(()=>{this.iFrameCollection.length>=2&&(this.iFrameCollection[0].remove(),this.iFrameCollection.splice(0,1))},this.idleTimeout)}catch(t){}}}return e.\u0275fac=function(t){return new(t||e)(l.dc(n.a),l.dc(c.a),l.dc(r.a),l.dc(o.a),l.dc(a.a))},e.\u0275prov=l.Ob({token:e,factory:e.\u0275fac}),e})()},wKWS:function(e,t,i){"use strict";i.d(t,"a",(function(){return h}));var n=i("A1MZ"),s=i("Ejbi"),a=i("osZK"),o=i("jNCI"),r=i("1Sfd"),c=i("2rZH"),l=i("XpAN"),d=i("fXoL");let h=(()=>{class e{constructor(e,t,i,n,s,a){this.urlService=e,this.fileUploader=t,this.guidService=i,this.sdaTranslateService=n,this.modalService=s,this.iconService=a}createFileQueue(){return new c.a(this.urlService,this.fileUploader,this.guidService,this.sdaTranslateService,this.modalService,this.iconService)}}return e.\u0275fac=function(t){return new(t||e)(d.dc(r.a),d.dc(a.a),d.dc(n.a),d.dc(s.a),d.dc(o.a),d.dc(l.a))},e.\u0275prov=d.Ob({token:e,factory:e.\u0275fac}),e})()},wN6G:function(e,t,i){"use strict";i.d(t,"a",(function(){return l}));var n=i("tk/3"),s=i("ONOH"),a=i("KrX4"),o=i("HLw3"),r=i("J7mc"),c=i("fXoL");let l=(()=>{class e{constructor(e,t,i,n){this.dataService=e,this.configService=t,this.batchRequestFactory=i,this.batchChangesetService=n,this.baseUrl=Settings.odata.url}create(e,t,i){const s=this.batchChangesetService.getRequestContent(e,!0);let a;return i&&(a=new n.d({SuppressENS:i.toString()})),this.dataService.post("Objects",JSON.stringify(s),this.configService.selectedCreateConfig,!0,"",a,t)}createMany(e,t,i){const s=this.batchRequestFactory.createBatchRequest(),a=s.createChangeset();let o;if(e.forEach(e=>{o=e.classDefUID,a.addCreateRequest(e)}),s.addChangeset(a),!i){i=!1;const e=s.createChangeset();e.addPostRequest("SetENSStartSequenceNumber",{ClassDefUID:o,StartSequenceNumber:"0"}),s.addChangeset(e)}const r=new n.d({prefer:"continue-on-error=true",SuppressENS:i.toString()});return s.execute(r)}update(e,t,i){const n=this.batchChangesetService.getRequestContent(t,!1);return this.dataService.patch("Objects('"+e+"')",JSON.stringify(n),this.configService.selectedCreateConfig,!0,"",void 0,i)}updateMany(e,t=[],i){const n=this.batchRequestFactory.createBatchRequest(),s=n.createChangeset(),a=i||this.configService.selectedCreateConfig;return e.forEach(e=>{s.addUpdateRequest(e.OBID,e,void 0,a),e.filesToCopy.length>0&&e.filesToCopy.forEach(t=>{s.addPostRequest("CopyAndRelateFilesToObject",{FileOBIDs:t.obidsOfOtherEndObject,RelDef:t.relDefUID,ObjectOBID:e.OBID},!0,a,!0)}),e.relationshipsToTerminate.length>0&&e.relationshipsToTerminate.forEach(t=>{t.obidsOfOtherEndObject.forEach(i=>{s.addUnrelate(e.OBID,i,t.relDefUID,t.direction12,!0,void 0,a)})})}),t.forEach(e=>{s.addTerminateRequest(e)}),n.addChangeset(s),n.execute()}delete(e){return this.dataService.delete("Objects('"+e+"')",!1,"",this.configService.selectedCreateConfig,!0)}terminate(e){return this.dataService.delete("Objects('"+e+"')",!0,"",this.configService.selectedCreateConfig,!0)}terminateMany(e){const t=this.batchRequestFactory.createBatchRequest(),i=t.createChangeset();return e.forEach(e=>i.addTerminateRequest(e)),t.addChangeset(i),t.execute()}terminateDelete(e,t){return t?this.terminate(e):this.delete(e)}relateMany(e){const t=this.batchRequestFactory.createBatchRequest(),i=t.createChangeset();return e.forEach(e=>i.addRelateRequest(e.thisEndObid,e.otherEndObid,e.relDefName,e.directionIs12)),t.addChangeset(i),t.execute()}relate(e,t,i,n,s){let a;a=n?"_12":"_21";const o={"@odata.id":Settings.odata.url+"/Objects('"+t+"')"};return s&&s.forEach((e,t)=>{o["@rel."+t]=e}),this.dataService.post("Objects('"+e+"')/"+i+a+"/$ref",JSON.stringify(o),this.configService.selectedCreateConfig,!0)}unrelate(e,t,i,n,s){let a;return a=n?"_12":"_21",this.dataService.delete("Objects('"+e+"')/"+i+a+"('"+t+"')/$ref",s,"",this.configService.selectedCreateConfig,!0)}}return e.\u0275fac=function(t){return new(t||e)(c.dc(r.a),c.dc(s.a),c.dc(o.a),c.dc(a.a))},e.\u0275prov=c.Ob({token:e,factory:e.\u0275fac}),e})()},wpY2:function(e,t,i){"use strict";i.d(t,"a",(function(){return o}));var n=i("jNCI"),s=i("Ejbi"),a=i("fXoL");let o=(()=>{class e{constructor(e,t){this.sdaTranslateService=e,this.modalService=t,this.YES_TEXT=this.sdaTranslateService.get("NOTIFICATIONS_YES","Yes"),this.NO_TEXT=this.sdaTranslateService.get("NOTIFICATIONS_NO","No")}showDialog(e,t){return e||(e=this.sdaTranslateService.get("CLOSE_CONFIRMATION","Are you sure you wish to leave this page? Any unsaved changes will be lost.")),void 0===t&&(t=this.sdaTranslateService.get("UNSAVED_CHANGES","Unsaved changes")),this.modalService.confirm(t,e,this.YES_TEXT,this.NO_TEXT)}}return e.\u0275fac=function(t){return new(t||e)(a.dc(s.a),a.dc(n.a))},e.\u0275prov=a.Ob({token:e,factory:e.\u0275fac}),e})()},xNYO:function(e,t,i){"use strict";i.d(t,"a",(function(){return o}));var n=i("ofXK"),s=i("mQCr"),a=i("fXoL");let o=(()=>{class e{}return e.\u0275mod=a.Qb({type:e}),e.\u0275inj=a.Pb({factory:function(t){return new(t||e)},imports:[[n.c,s.a]]}),e})()},"xc+7":function(e,t,i){"use strict";i.d(t,"a",(function(){return y}));var n=i("XIp8"),s=i("2Vo4"),a=i("LRne"),o=i("lJxs"),r=i("ONOH"),c=i("v6r/"),l=i("XpAN"),d=i("A3La"),h=i("Ejbi"),u=i("MAKR"),p=i("JrsU"),g=i("FedY"),f=function(e){return e.listview="listview",e.csvrepeated="csvrepeated",e.csv="csv",e.excelopenxml="excelopenxml",e.customreport="customreport",e.xhtml="xhtml",e}({}),m=i("OEdT"),b=i("lV1b"),S=i("swmP"),v=i("js/d"),_=i("5G0X");class O{constructor(e){this.feature=e}}class I{constructor(e,t,i,n){this.displayName=e,this.icon=t,this.tooltip=i,this.sequence=n}}var C=i("EbyY"),T=i("eruR"),E=i("fXoL");let y=(()=>{class e{constructor(e,t,i,n,a,o){this.featureSetDataService=e,this.odataService=t,this.clientApiService=i,this.configService=n,this.sdaTranslateService=a,this.iconService=o,this.selectedFeatureSetSubject=new s.a(void 0),this.getHomeFeatureSetsSubject=new s.a(void 0),this.featureSetsUpdatedSubject=new s.a(void 0)}getFeatureSetByName(e){const t=this.getFeatureSetFromAll(e);return t&&(t.searchOrder=this.allFeatureSets.indexOf(t)),t}getActionMenuItemsByObject(e,t=this.clientApiService.getAvailableClientApis()){return this.featureSetDataService.getFeatureSetsByObject(t,e).pipe(Object(o.a)(t=>({treeList:this.convertToFeatureSets(t,e),flatList:this.featureSetDataService.getFeaturesFromActionsMenus(t).map(t=>this.convertToFeature(t,e))})))}getFeatureSetsByObject(e){return this.featureSetDataService.getFeatureSetsByObject(this.clientApiService.getAvailableClientApis(),e).pipe(Object(o.a)(t=>this.convertToFeatureSets(t,e)))}getFeatureSetsByObjectByClientApi(e,t){return this.featureSetDataService.getFeatureSetsByObject(t,e).pipe(Object(o.a)(t=>this.convertToFeatureSets(t,e)))}getShortcutConditionResult(e){return this.featureSetDataService.getShortcutConditionResult(e)}getShortcutFeaturesByObject(e){return this.featureSetDataService.getShortcutFeaturesByObject(this.clientApiService.getAvailableClientApis(),e).pipe(Object(o.a)(t=>t.map(t=>this.convertToFeature(t,e))))}getFeatureByMethodRequest(e){return this.odataService.get(`GetMethodURLDetails(MethodName='${e}')`).pipe(Object(o.a)(e=>this.convertToMethodFeature(e.value)))}getClientApiMethods(e){return this.featureSetDataService.getClientApiMethods(e).pipe(Object(o.a)(e=>e.map(e=>this.convertToFeature(e))))}updateFeatureSets(){return this.featureSetsUpdatedSubject.next(!1),this.getAllFeatureSets().pipe(Object(o.a)(e=>{let t=[];return this.selectedFeatureSetSubject.value&&this.selectedFeatureSetSubject.value.key&&(t=e.filter(e=>e.name===this.selectedFeatureSetSubject.value.key.name),0===t.length&&this.selectFeatureSet(void 0)),e}))}getAllFeatureSets(){return this.featureSetDataService.getAllFeatureSets(this.clientApiService.getAvailableClientApis()).pipe(Object(o.a)(e=>{const t=e.map(e=>this.convertToFeatureSetWithGrouping(e));return this.allFeatureSets=this.computeHomeDisplayability(t),this.homeFeatureSets=void 0,this.featureSetsUpdatedSubject.next(!0),t}))}convertToMethodFeature(e){const t=new O(this.convertToFeature(e.feature));return t.methodRequiresContextObject=e.requiresContextObject,t.objectDocumentLevel=e.documentLevel,t}convertToFeature(e,t,i){const n=new _.a(e.DisplayName,e.Name,e.ClientAPI,e.NumberOfObjectsToRestrictTo);return n.methodOBID=e.MethodObid,n.contextObjectOBIDs=e.ContextObjectOBIDs,n.isACreateConfigurationApi=e.IsACreateConfigurationAPI,n.isAuditRequired=e.IsAuditRequired,n.orderValue=e.OrderValue,e.Arguments.map(e=>n[e.Name]=e.Value),t&&(n.objects=t),n.config=t&&t.length?[this.featureSetDataService.getConfigFromObjectItems(t)]:i&&i.length?i:this.configService.selectedQueryConfigs,e.Shortcut&&(n.shortcut=this.convertToShortcut(e.Shortcut)),n}convertToEntryPoint(e){const t=new S.a(e.DisplayName,e.Name,e.SetName,e.RedirectToSearch,e.EqualTo,e.HideFromHomePage,e.HideFromList);return t.orderValue=e.OrderValue,t.peekCount=e.PeekSearch,t.parentFeatureSetName=e.ParentFeatureSetName,t.parentFeatureSetDisplayName=e.ParentFeatureSetDisplayName,t}convertToSummaryReport(e){const t=new C.a(e.Name,e.Name,e.Obid,e.HasPrompt,m.a.Summary);return t.orderValue=e.OrderValue,t}getHomeFeatureSets(){this.setHomeFeatureSets().subscribe(e=>{this.getHomeFeatureSetsSubject.next(e)})}convertToAdhocReport(e){const t=new b.a(e.DisplayName,e.DisplayName,e.Obid,e.OutputType,e.HasPrompt,m.a.Adhoc,this.getIconForAdhocReport(e),e.RunInBackground);return t.orderValue=e.OrderValue,t}getIconForAdhocReport(e){return!0===e.RunInBackground?"scheduler":!0===e.HasPrompt?"adhoc-report-search":e.OutputType.toLowerCase()===f.listview&&!1===e.HasPrompt?"adhoc-report":e.OutputType.toLowerCase()!==f.csvrepeated&&e.OutputType.toLowerCase()!==f.csv&&e.OutputType.toLowerCase()!==f.excelopenxml&&e.OutputType.toLowerCase()!==f.customreport||!1!==e.HasPrompt?e.OutputType.toLowerCase()===f.xhtml&&!1===e.HasPrompt?"adhoc-report-new-tab":"adhoc-report":"adhoc-report-download"}getSearchFeatureSets(){const e=new Array;return this.allFeatureSets.forEach(t=>{const i=Object(n.a)(t);this.setFeatureSetDisplayItems(i,!1,!0),e.push(i)}),e}verifyHiddenFromHomeSet(e){let t=!0;const i=this.getFeatureSetFromAll(e);return i&&(t=i.hideFromHomePage),t}selectFeatureSetById(e){let t;const i=this.getFeatureSetFromAll(e);t=new p.a(i&&!i.hideFromHomePage?i:void 0,void 0),this.selectFeatureSet(t)}selectFeatureSet(e){this.selectedFeatureSetSubject.next(e)}getFeatureSetFromAll(e){return this.allFeatureSets.filter(t=>t.name===e)[0]}computeHomeDisplayability(e){return e.forEach(e=>{e.hideFromHomePage=!0,"SDAFSEverythingElse"===e.name?e.displayName=this.sdaTranslateService.get("OTHER_DATA_TYPES","Other Data Types"):e.groupedFeatures.forEach(t=>{e.hideFromHomePage&&((t.features.length>0||t.adhocReports.length>0||t.summaryReports.length>0)&&(e.hideFromHomePage=!1),t.entryPoints.forEach(t=>{t.hideFromHomePage||(e.hideFromHomePage=!1)}))})}),e}setHomeFeatureSets(){return this.homeFeatureSets||0===this.allFeatureSets.length||(this.homeFeatureSets=new Array,this.setupHomeFeatureSets()),Object(a.a)(this.homeFeatureSets)}setFeatureSetDisplayItems(e,t=!1,i=!1){e.groupedFeatures.forEach(e=>{t&&(e.entryPoints=e.entryPoints.filter(e=>!e.hideFromHomePage)),e.displayItems=[],i?(e.entryPoints=e.entryPoints.filter(e=>!e.hideFromSearch),e.displayItems=e.displayItems.concat(e.entryPoints)):e.displayItems=e.displayItems.concat(e.features,e.entryPoints,e.summaryReports,e.adhocReports),e.displayItems.sort((e,t)=>{let i=g.a.sortByNumber(e.orderValue,t.orderValue);return 0===i&&(i=g.a.sortByString(e.displayName,t.displayName)),i})}),e.groupedFeatures=e.groupedFeatures.filter(e=>e.displayItems.length>0)}setupHomeFeatureSets(){this.allFeatureSets.forEach(e=>{if("SDAFSEverythingElse"!==e.name){const t=Object(n.a)(e);this.setFeatureSetDisplayItems(t,!0),this.homeFeatureSets.push(t)}})}convertToFeatureSets(e,t){let i=[];if(e&&1===e.length){const n=e[0];i=n.Features.map(e=>new u.a(e.DisplayName,this.convertToFeature(e,t))),i=i.concat(n.FeatureSets.map(e=>new u.a(e.DisplayName,this.convertToFeatureSetNoGrouping(e,!1),e.Features.map(e=>new u.a(e.DisplayName,this.convertToFeature(e,t))))))}return i}convertToFeatureSet(e){const t=new v.a(e.Name,e.DisplayName,e.ImageUrl);return t.iconPath=this.iconService.icons.some(e=>e.Alias===t.iconPath)?e.ImageUrl:"unknown",t}convertToFeatureSetNoGrouping(e,t){const i=this.convertToFeatureSet(e);return t&&(i.features=e.Features.map(e=>this.convertToFeature(e)),i.entryPoints=e.EntryPoints.map(e=>this.convertToEntryPoint(e)),i.summaryReports=e.SummaryReports.map(e=>this.convertToSummaryReport(e)),i.adhocReports=e.AdhocReports.map(e=>this.convertToAdhocReport(e))),i}convertToFeatureSetWithGrouping(e){const t=this.convertToFeatureSet(e);let i=[];return e.FeatureSets&&e.FeatureSets.length>0&&(i=e.FeatureSets.map(e=>this.convertToFeatureSetNoGrouping(e,!0))),t.groupedFeatures=i,t}convertToShortcut(e){const t=new I(e.DisplayName,e.Icon,e.Tooltip,e.Sequence);return t.icon=this.iconService.images.some(e=>e.indexOf(`shortcuts/${t.icon}.svg`)>0)?this.iconService.images.filter(e=>e.indexOf(`shortcuts/${t.icon}.svg`)>0)[0]:this.iconService.images.filter(e=>e.indexOf("shortcuts/unknown.svg")>0)[0],t}}return e.\u0275fac=function(t){return new(t||e)(E.dc(T.a),E.dc(d.a),E.dc(c.a),E.dc(r.a),E.dc(h.a),E.dc(l.a))},e.\u0275prov=E.Ob({token:e,factory:e.\u0275fac}),e})()},"y+N1":function(e,t,i){"use strict";i.d(t,"a",(function(){return r}));var n=i("SXtU"),s=i("ac1k"),a=i("lycW"),o=i("fXoL");let r=(()=>{class e{constructor(e,t){this.odataService=e,this.fileUploadLoggerService=t}getProgressObject(e){return e.progress.moveToShareForSubmission}execute(e,t=!1){this.fileUploadLoggerService.logToConsole("Starting attach: "+e.file.name);const i=new s.a;return i.ClientFileName=e.file.name,i.DestinationDirectory=e.moveToShareFolderName,i.CleanupOnly=t,e.isRemovedFromQueue&&(i.CleanupOnly=!0),this.odataService.post("FileMgmt/Upload('"+e.uploadID+"')/Intergraph.SPF.Server.API.Model.Move",JSON.stringify(i)).toPromise()}}return e.\u0275fac=function(t){return new(t||e)(o.dc(n.a),o.dc(a.a))},e.\u0275prov=o.Ob({token:e,factory:e.\u0275fac}),e})()},yAwn:function(e,t,i){"use strict";i.d(t,"a",(function(){return m}));var n=i("fujP"),s=i("2Vo4"),a=i("XNiG"),o=i("LRne"),r=i("itXk"),c=i("vkgz"),l=i("lJxs"),d=i("eIep"),h=i("J7mc"),u=i("b/tf"),p=i("U7l/"),g=i("ONOH"),f=i("fXoL");let m=(()=>{class e{constructor(e,t,i){this.dataService=e,this.configService=t,this.preferencesService=i,this.configs$=new s.a([]),this.setConfigsSubject=new a.a}get setConfigChange$(){return this.setConfigsSubject.asObservable()}getStatuses(){return this.dataService.get("Objects?$filter=contains(Interfaces, 'ISPFConfigurationStatus')&$count=true")}getUserSelectedConfigStatuses(){let e;return e=this.configStatuses?Object(o.a)(this.configStatuses):this.getStatuses().pipe(Object(c.a)(e=>this.configStatuses=e)),Object(r.a)(e,this.preferencesService.preferencesChanged$).pipe(Object(l.a)(([e,t])=>{const i=t.SelectedStatusFilters,n=i&&i.length>0?i:["CS_Active"];return e.filter(e=>n.includes(e.UID))}))}getUserSelectableConfigs(){return this.getUserSelectedConfigStatuses().pipe(Object(l.a)(e=>this.configService.currentConfigs.filter(t=>t.CanUserSelectConfig&&!e.every(e=>e.UID!==t.ConfigStatus))))}setConfigs(e,t){return this.dataService.post("SetConfig",JSON.stringify({QueryConfigUIDs:e,CreateConfigUID:t})).pipe(Object(d.a)(()=>this.getConfigs()),Object(c.a)(()=>this.setConfigsSubject.next()))}getConfigs(){return this.dataService.get("User/Configs").pipe(Object(c.a)(e=>{this.updateConfigService(e),this.configs$.next(e)}))}updateConfigService(e){const t=e.find(e=>e.CreateSelected);this.configService.selectedCreateConfig=t?t.ConfigUID:p.b;const i=e.filter(e=>e.QuerySelected);this.configService.selectedQueryConfigs=Object(n.a)(i)?[p.b]:i.map(e=>e.ConfigUID),this.configService.currentConfigs=e}}return e.\u0275fac=function(t){return new(t||e)(f.dc(h.a),f.dc(g.a),f.dc(u.a))},e.\u0275prov=f.Ob({token:e,factory:e.\u0275fac}),e})()},yRyI:function(e,t,i){"use strict";i.d(t,"a",(function(){return o}));var n=i("2Vo4"),s=i("XNiG"),a=i("fXoL");let o=(()=>{class e{constructor(){this.isODataGridLoading=new n.a(!1),this.isODataGridPagerLoading=new s.a}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=a.Ob({token:e,factory:e.\u0275fac}),e})()},z0XX:function(e,t,i){"use strict";i.d(t,"a",(function(){return c}));var n=i("IzEk"),s=i("vkgz"),a=i("C4gn"),o=i("F8JD"),r=i("fXoL");let c=(()=>{class e{constructor(e,t){this.featureSetNavigationService=e,this.methodService=t}onExecuteMethod(e,t,i,n,s,a,o=!1,r,c,l=!1){if(e){const d=this.methodService.transformToFeature(e.DisplayName,e.DisplayName,e.ClientAPI,e);d.methodOBID=e.OBID,t&&(d.objects=[t]),d.contextObjectOBIDs=i,d.parentClientAPI=n,d.parentMethodOBID=s,d.parentObjects=a,c?d.config=c:a&&0!==a.length&&(d.config=[a[0].config]),r&&(d.data=r),d.showInModal=o,this.featureSetNavigationService.navigateToFeature(d,l)}}executeMethodByUID(e,t,i,a){return this.methodService.getMethodByUID(t).pipe(Object(n.a)(1),Object(s.a)(t=>{this.onExecuteMethod(t,void 0,[e.OBID],i,a,void 0,!1,void 0,[e.Config])}))}}return e.\u0275fac=function(t){return new(t||e)(r.dc(a.a),r.dc(o.a))},e.\u0275prov=r.Ob({token:e,factory:e.\u0275fac}),e})()},zCQ7:function(e,t,i){"use strict";i.d(t,"a",(function(){return u}));var n=i("m8I0"),s=i("9Vyx"),a=i("fXoL"),o=i("ofXK"),r=i("NFeN");function c(e,t){1&e&&(a.Yb(0,"span",5),a.Tb(1,"span",6),a.Tb(2,"span",6),a.Tb(3,"span",6),a.Xb())}function l(e,t){if(1&e&&a.Tb(0,"mat-icon",7),2&e){const e=a.lc();a.sc("svgIcon",e.matSvgIcon)}}function d(e,t){if(1&e&&a.Tb(0,"i",8),2&e){const e=a.lc();a.Ib("fa-fw",e.displayName),a.sc("ngClass",e.styleClassIcon)}}function h(e,t){if(1&e&&(a.Yb(0,"span",9),a.Uc(1),a.Xb()),2&e){const e=a.lc();a.Eb(1),a.Wc(" ",e.displayName," ")}}let u=(()=>{class e extends s.a{constructor(){super(...arguments),this.type=n.a.Default}}return e.\u0275fac=function(t){return p(t||e)},e.\u0275cmp=a.Mb({type:e,selectors:[["sda-button"]],features:[a.Bb],decls:5,vars:23,consts:[["type","button",1,"button",3,"ngClass","disabled","click"],["class","button-loader",4,"ngIf"],["class","button__mat-icon",3,"svgIcon",4,"ngIf"],["class","button__icon","role","icon","aria-hidden","true",3,"fa-fw","ngClass",4,"ngIf"],["class","button__name",4,"ngIf"],[1,"button-loader"],[1,"button-loader__bar"],[1,"button__mat-icon",3,"svgIcon"],["role","icon","aria-hidden","true",1,"button__icon",3,"ngClass"],[1,"button__name"]],template:function(e,t){1&e&&(a.Yb(0,"button",0),a.hc("click",(function(e){return t.onClick.emit(e)})),a.Sc(1,c,4,0,"span",1),a.Sc(2,l,1,1,"mat-icon",2),a.Sc(3,d,1,3,"i",3),a.Sc(4,h,2,1,"span",4),a.Xb()),2&e&&(a.Ib("button--compact",t.isCompact)("button--default","Default"===t.type)("button--primary","Primary"===t.type)("button--neutral","Neutral"===t.type)("button--success","Success"===t.type)("button--destroy","Destroy"===t.type)("button--abort","Abort"===t.type)("button--plain","Plain"===t.type),a.sc("ngClass",t.styleClassButton)("disabled",t.isDisabled),a.Fb("title",t.title),a.Eb(1),a.sc("ngIf",t.isLoading),a.Eb(1),a.sc("ngIf",t.matSvgIcon&&!t.isLoading),a.Eb(1),a.sc("ngIf",t.styleClassIcon&&!t.isLoading),a.Eb(1),a.sc("ngIf",t.displayName))},directives:[o.q,o.t,r.a],styles:[".button[_ngcontent-%COMP%]{display:flex;align-items:center;flex:1 1 auto;min-width:40px;height:34px;padding:0 12px;font-size:14px;transition:all 175ms cubic-bezier(.1,.65,.1,.65);box-shadow:none;text-shadow:none;border-radius:3px}.button--compact[_ngcontent-%COMP%]{min-width:30px;height:30px;padding-right:10px;padding-left:10px}.button[disabled][_ngcontent-%COMP%]   *[_ngcontent-%COMP%]{opacity:.4;pointer-events:none}.button[disabled][_ngcontent-%COMP%]:active{background-color:initial}.button__icon[_ngcontent-%COMP%]{flex-shrink:0;color:inherit}.button__icon[_ngcontent-%COMP%]:only-child{font-size:18px}.button__icon[_ngcontent-%COMP%]:not(:only-child){font-size:14px}.button__mat-icon[_ngcontent-%COMP%]{width:20px;height:20px}.button__name[_ngcontent-%COMP%]{color:inherit}.button__name[_ngcontent-%COMP%]:not(:only-child){margin-left:8px}.button[_ngcontent-%COMP%]     svg[role=icon]{color:inherit;width:20px;height:auto}.button-loader[_ngcontent-%COMP%]{display:flex;justify-content:space-between;flex-basis:18px}@-webkit-keyframes bars{0%,to{opacity:1;-webkit-transform:scaleY(1);transform:scaleY(1)}35%{opacity:.5}50%{-webkit-transform:scaleY(1.8);transform:scaleY(1.8)}65%{opacity:1}}@keyframes bars{0%,to{opacity:1;-webkit-transform:scaleY(1);transform:scaleY(1)}35%{opacity:.5}50%{-webkit-transform:scaleY(1.8);transform:scaleY(1.8)}65%{opacity:1}}.button-loader__bar[_ngcontent-%COMP%]{width:4px;height:10px;background-color:#fff;-webkit-animation:bars 1s ease-in-out infinite;animation:bars 1s ease-in-out infinite}.button-loader__bar[_ngcontent-%COMP%]:first-child{-webkit-animation-delay:.15s;animation-delay:.15s}.button-loader__bar[_ngcontent-%COMP%]:nth-child(2){-webkit-animation-delay:.3s;animation-delay:.3s}.button-loader__bar[_ngcontent-%COMP%]:nth-child(3){-webkit-animation-delay:.45s;animation-delay:.45s}",".button--default[_ngcontent-%COMP%]{color:#5c5c5c;border-color:#cacaca;background-color:#f1f1f1}.button--active[_ngcontent-%COMP%], .button--default[_ngcontent-%COMP%]:not([disabled]):hover{border-color:hsla(0,0%,62%,.8);background:#d0d0d0}"]}),e})();const p=a.ac(u)},zHoD:function(e,t,i){"use strict";i.d(t,"a",(function(){return n}));var n=function(e){return e[e.InLineVaulting=1]="InLineVaulting",e[e.InLineMoveToShare=2]="InLineMoveToShare",e[e.None=3]="None",e[e.OnlyAttach=4]="OnlyAttach",e}({})},zPje:function(e,t,i){"use strict";i.d(t,"a",(function(){return n}));let n=(()=>{class e{}return e.FILTER_OPERATORS={eq:"eq",neq:"neq",gt:"gt",gte:"gte",lt:"lt",lte:"lte",contains:"contains",doesnotcontain:"doesnotcontain",endswith:"endswith",startswith:"startswith"},e})()},zUnb:function(e,t,i){"use strict";i.r(t);var n=i("fXoL"),s=i("tk/3"),a=i("3Pt+"),o=i("FKr1"),r=i("jhN1"),c=i("R1ws"),l=i("tyNb"),d=i("sYmb"),h=i("C2rS"),u=i("7zfz"),p=i("ofXK"),g=i("9Abt");let f=(()=>{class e{}return e.\u0275mod=n.Qb({type:e}),e.\u0275inj=n.Pb({factory:function(t){return new(t||e)},imports:[[p.c,g.a]]}),e})();var m=i("YwUS");let b=(()=>{class e{constructor(e){if(e)throw new Error("ApplicationSettingsModule is already loaded. Import it in the AppModule only")}static forRoot(){return{ngModule:e,providers:[m.a]}}}return e.\u0275mod=n.Qb({type:e}),e.\u0275inj=n.Pb({factory:function(t){return new(t||e)(n.dc(e,12))}}),e})();var S=i("LRne"),v=i("eIep"),_=i("vkgz"),O=i("JIr8"),I=i("aT/X"),C=i("Z9D8"),T=i("FhAo"),E=i("tCxB"),y=i("Ejbi"),P=i("HDdC"),x=i("IzEk"),A=i("hqbt"),w=i("Yiju"),M=i("5Viu");let D=(()=>{class e{constructor(e,t,i,n,s,a){this.router=e,this.securityService=t,this.redirectAuthHandler=i,this.initializationStatusService=n,this.sdaTranslateService=s,this.localStorageService=a,this.AUTHENTICATING=this.sdaTranslateService.get("AUTHENTICATING","Authenticating...")}verifyUser(){return P.a.create(e=>{this.securityService.IsAuthorized?(e.next(!0),e.complete()):(this.initializationStatusService.updateStatus(!1,this.AUTHENTICATING),this.redirectAuthHandler.parsing?this.redirectAuthHandler.response$.subscribe(t=>{this.securityService.authorizedCallback(t),this.authSuccess(t,e)},t=>{e.error(new C.a(t))}):this.securityService.authorize().pipe(Object(x.a)(1)).subscribe(t=>{t?this.authSuccess(t,e):(e.next(!1),e.complete())},t=>{e.error(new C.a(t))}))})}authSuccess(e,t){if(e){const e=this.localStorageService.getItem("REDIRECT_URL");null!==e&&(this.router.navigateByUrl(e),this.localStorageService.removeItem("REDIRECT_URL")),t.next(!0),t.complete()}}}return e.\u0275fac=function(t){return new(t||e)(n.dc(l.g),n.dc(A.a),n.dc(h.d),n.dc(M.a),n.dc(y.a),n.dc(w.a))},e.\u0275prov=n.Ob({token:e,factory:e.\u0275fac}),e})();var N=i("orEM"),R=i("cp0P"),L=i("lJxs"),F=i("ch+g"),k=i("Kc8n"),U=i("yAwn"),j=i("izpr"),B=i("vyim"),G=i("xc+7"),V=i("8xM1"),X=i("FH9r"),H=i("DgwV"),Y=i("b/tf"),q=i("Qpiy"),W=i("VFM9"),z=i("k1up");let $=(()=>{class e{constructor(e){this.telemetryService=e,this.eventName="Initialization Time"}startInitializationEvent(){this.callback||(this.callback=this.telemetryService.startTrackEvent({eventName:this.eventName,eventType:z.a.Information,component:"Initialization"}))}endInitializationEvent(){this.callback&&(this.callback(),this.callback=void 0,this.telemetryService.stopTrackEvent(this.eventName))}}return e.\u0275fac=function(t){return new(t||e)(n.dc(W.a))},e.\u0275prov=n.Ob({token:e,factory:e.\u0275fac}),e})(),Q=(()=>{class e{constructor(e,t,i,n,s,a,o,r,c,l,d,h,u,p,g){this.configDataService=e,this.rolesRepository=t,this.featureSetService=i,this.clientDataService=n,this.metadataService=s,this.sdaTranslateService=a,this.initializationStatusService=o,this.sharepointSettingService=r,this.preferencesService=c,this.ftrService=l,this.serverInformationService=d,this.telemetryService=h,this.initializationTelemetryService=u,this.embeddedService=p,this.auditService=g,this.INITIALIZATION_CLIENT_DATA=this.sdaTranslateService.get("INITIALIZATION_CLIENT_DATA","Getting client data..."),this.INITIALIZATION_CLIENT_SERVICES=this.sdaTranslateService.get("INITIALIZATION_CLIENT_SERVICES","Getting available services..."),this.configDataService.setConfigChange$.pipe(Object(v.a)(()=>this.reinitializeOnConfigChange())).subscribe()}initializeApp(){return this.telemetryService.initialize().pipe(Object(_.a)(()=>this.initializationTelemetryService.startInitializationEvent()),Object(_.a)(()=>this.initializationStatusService.updateStatus(!1,this.INITIALIZATION_CLIENT_SERVICES)),Object(v.a)(()=>this.initializePrimaryServices()),Object(_.a)(()=>this.initializationStatusService.updateStatus(!1,this.INITIALIZATION_CLIENT_DATA)),Object(v.a)(()=>this.initializeSecondaryServices()),Object(v.a)(()=>this.ternaryServices()),Object(_.a)(()=>this.embeddedService.initialize()),Object(_.a)(()=>this.initializationTelemetryService.endInitializationEvent()),Object(L.a)(()=>!0))}initializePrimaryServices(){return Object(R.a)(this.metadataService.initializeMetadata(),this.configDataService.getConfigs(),this.preferencesService.getPreferences(),this.serverInformationService.getServerInformation(),this.clientDataService.cacheImages())}initializeSecondaryServices(){return Object(R.a)(this.rolesRepository.initializeRoles(),this.featureSetService.getAllFeatureSets())}ternaryServices(){return Object(R.a)(this.sharepointSettingService.init(),this.ftrService.initialize(),this.auditService.initialise())}reinitializeOnConfigChange(){return Object(R.a)(this.metadataService.initializeMetadata(),this.rolesRepository.initializeRoles(),this.featureSetService.updateFeatureSets())}}return e.\u0275fac=function(t){return new(t||e)(n.dc(U.a),n.dc(j.a),n.dc(G.a),n.dc(X.a),n.dc(H.a),n.dc(y.a),n.dc(M.a),n.dc(B.a),n.dc(Y.a),n.dc(k.a),n.dc(q.a),n.dc(W.a),n.dc($),n.dc(F.a),n.dc(V.a))},e.\u0275prov=n.Ob({token:e,factory:e.\u0275fac}),e})(),K=(()=>{class e{constructor(e,t,i,n,s,a,o){this.authenticationService=e,this.initializationService=t,this.initializationStatusService=i,this.loggingService=n,this.sdaTranslateService=s,this.appNameSerivce=a,this.activityService=o,this.INITIALIZATION_ERROR_MESSAGE=this.sdaTranslateService.getFormatted("INITIALIZATION_ERROR_MESSAGE","An error occurred initializing {0} Web Client",[this.appNameSerivce.applicationNameOverrides.APPLICATION_SHORT_NAME])}canActivate(){return this.authenticationService.verifyUser().pipe(Object(v.a)(e=>e&&!this.initializationStatusService.isInitializedState?this.initializationService.initializeApp().pipe(Object(_.a)(e=>{if(e)this.initializationStatusService.isInitializedState=!0,this.initializationStatusService.isInitialized.next(new N.a(e));else{const t=new C.a(this.INITIALIZATION_ERROR_MESSAGE,void 0,"AuthenticationGuard","canActivate");this.initializationStatusService.isInitialized.next(new N.a(e,void 0,t))}})):Object(S.a)(e&&this.initializationStatusService.isInitializedState)),Object(_.a)(e=>{e&&this.activityService.init()}),Object(O.a)(e=>(this.initializationStatusService.isInitialized.next(new N.a(!1,void 0,e)),this.loggingService.error(e),this.loggingService.debug("Initialization",e),Object(S.a)(!1))))}}return e.\u0275fac=function(t){return new(t||e)(n.dc(D),n.dc(Q),n.dc(M.a),n.dc(E.a),n.dc(y.a),n.dc(T.a),n.dc(I.a))},e.\u0275prov=n.Ob({token:e,factory:e.\u0275fac}),e})(),J=(()=>{class e{constructor(e){if(e)throw new Error("AuthenticationModule is already loaded. Import it in the AppModule only")}static forRoot(){return{ngModule:e,providers:[D,K,Q,M.a,$]}}}return e.\u0275mod=n.Qb({type:e}),e.\u0275inj=n.Pb({factory:function(t){return new(t||e)(n.dc(e,12))}}),e})();var Z=i("lcS2");let ee=(()=>{class e{constructor(e){if(e)throw new Error("CalendarModule is already loaded. Import it in the AppModule only")}static forRoot(){return{ngModule:e,providers:[Z.a]}}}return e.\u0275mod=n.Qb({type:e}),e.\u0275inj=n.Pb({factory:function(t){return new(t||e)(n.dc(e,12))}}),e})();var te=i("PqRi"),ie=i("wN6G"),ne=i("11V9"),se=i("UVhF"),ae=i("ml6x"),oe=i("KrX4");let re=(()=>{class e{constructor(e){if(e)throw new Error("CrudServicesModule is already loaded. Import it in the AppModule only")}static forRoot(){return{ngModule:e,providers:[ie.a,ne.a,se.a,ae.a,te.a,oe.a]}}}return e.\u0275mod=n.Qb({type:e}),e.\u0275inj=n.Pb({factory:function(t){return new(t||e)(n.dc(e,12))}}),e})();var ce=i("Gxio"),le=i("Wbmx"),de=i("LUpO");let he=(()=>{class e{constructor(e){this.exceptionService=e}handleError(e){console.group("Unhandled Exception"),console.error(this.writeError(e)),console.groupEnd(),this.exceptionService.onUnhandledExceptionCaught(e)}writeError(e){for(;e&&e.originalError;)e=e.originalError;return e}}return e.\u0275fac=function(t){return new(t||e)(n.dc(de.a))},e.\u0275prov=n.Ob({token:e,factory:e.\u0275fac}),e})(),ue=(()=>{class e{static forRoot(){return{ngModule:e,providers:[de.a,{provide:n.n,useClass:he}]}}}return e.\u0275mod=n.Qb({type:e}),e.\u0275inj=n.Pb({factory:function(t){return new(t||e)},imports:[[p.c,le.a,a.j,ce.b,g.a]]}),e})();var pe=i("shG1"),ge=i("lycW"),fe=i("osZK"),me=i("TH8o"),be=i("71wh"),Se=i("oJii"),ve=i("renH"),_e=i("3xPZ"),Oe=i("y+N1"),Ie=i("9JZq"),Ce=i("9v9d"),Te=i("wKWS"),Ee=i("1Sfd"),ye=i("nI0F"),Pe=i("I5FP"),xe=i("DxXH"),Ae=i("qXoz"),we=i("ESHU"),Me=i("tqyv");let De=(()=>{class e{constructor(e){if(e)throw new Error("FileServicesModule is already loaded. Import it in the AppModule only")}static forRoot(){return{ngModule:e,providers:[Ce.a,Te.a,Ee.a,we.a,Me.a,fe.a,Ie.a,ge.a,ve.a,me.a,Oe.a,Se.a,_e.a,be.a,xe.a,Ae.a,ye.a,Pe.a]}}}return e.\u0275mod=n.Qb({type:e}),e.\u0275inj=n.Pb({factory:function(t){return new(t||e)(n.dc(e,12))}}),e})();var Ne=i("QibW");let Re=(()=>{class e{}return e.\u0275mod=n.Qb({type:e}),e.\u0275inj=n.Pb({factory:function(t){return new(t||e)},imports:[[p.c,Ne.c,a.j]]}),e})();var Le=i("quZr"),Fe=i("5+tZ"),ke=i("ONOH"),Ue=i("eruR"),je=i("jNCI"),Be=i("A3La"),Ge=i("NEWU");let Ve=(()=>{class e{constructor(e,t,i,n,s,a,o,r,c){this.sdaTranslateService=e,this.appNameService=t,this.modalService=i,this.featureSetDataService=n,this.exceptionService=s,this.router=a,this.odataService=o,this.loggingService=r,this.configService=c,this.INITIALIZATION_ERROR_MESSAGE=this.sdaTranslateService.getFormatted("INITIALIZATION_ERROR_MESSAGE","An error occurred initializing {0} Web Client",[this.appNameService.applicationNameOverrides.APPLICATION_SHORT_NAME])}canActivateChild(e,t){try{if(e.parent&&e.parent.component){const t=e.params[Ge.s],n=e.params[Ge.y],s=e.params[Ge.u],a=e.params[Ge.C],o=e.params[Ge.B],r=e.params[Ge.A];let c=[];if(e.params[Ge.t])try{c=JSON.parse(e.params[Ge.t])}catch(i){c=[e.params[Ge.t]]}let l,d="",h="";return r?(h=r,d=o,l=(a?JSON.parse(a):[]).map(e=>e.obid)):(h=t,d=n,l=s?JSON.parse(s):[]),this.checkUserHasAccess(h,d,l,c)}return Object(S.a)(!0)}catch(n){return this.loggingService.error(new C.a(n,"Exception occurred in canActivateChild in ClientAPIGuard")),Object(S.a)(!0)}}checkUserHasAccess(e,t,i,n){let s;return n&&n.length&&(s=1===n.length?n[0]:this.configService.selectedCreateConfig),e&&t?this.featureSetDataService.validateUserHasAccessToMethod(e,t,i,s).pipe(Object(Fe.a)(e=>this.userDoesNotHaveAccess(e,t,i,s)),Object(O.a)(e=>this.userDoesNotHaveAccess(!1,t,i,s))):Object(S.a)(!0)}userDoesNotHaveAccess(e,t,i,n){if(e)return Object(S.a)(e);{const s=i.join("' or OBID eq '");let a=`Objects?$filter=(OBID eq '${t}' or OBID eq '${s}')`;return a+="&$select=OBID, Name",this.odataService.get(a,n).pipe(Object(L.a)(i=>{const n=i.value.filter(e=>e.OBID===t)[0].Name,s=i.value.filter(e=>e.OBID!==t).map(e=>e.Name).join(", ");let a="The URL you are navigating to is not valid. One or more of the target items may no longer exist, may have changed state, or may be inaccessible to your profile.<BR/><BR/>Method name:<BR/>{0}.";return""!==s&&(a+=" <BR/><BR/>Object(s):<BR/>{1}"),this.router.navigate(["/home"]).then(()=>{this.modalService.alert(this.sdaTranslateService.getFormatted(""!==s?"CLIENT_API_ACCESS_DENIED":"OBJECT_TERMINATED",a,""!==s?[n,s]:[n]),this.sdaTranslateService.get("WARNING","Warning"))}),e}),Object(O.a)(t=>(this.exceptionService.handleException(t),Object(S.a)(e))))}}}return e.\u0275fac=function(t){return new(t||e)(n.dc(y.a),n.dc(T.a),n.dc(je.a),n.dc(Ue.a),n.dc(de.a),n.dc(l.g),n.dc(Be.a),n.dc(E.a),n.dc(ke.a))},e.\u0275prov=n.Ob({token:e,factory:e.\u0275fac}),e})();var Xe=i("Cfvw"),He=i("8ihU"),Ye=i("IUya"),qe=function(e){return e[e.Ignore=0]="Ignore",e[e.Exclusive=1]="Exclusive",e[e.Extend=2]="Extend",e}({});function We(e,t){if(1&e&&(n.Yb(0,"mat-radio-button",3),n.Uc(1),n.Xb()),2&e){const e=t.$implicit;n.sc("value",e),n.Eb(1),n.Wc(" ",e.name," ")}}let ze=(()=>{class e extends He.a{constructor(e,t){super(e),this.modalService=e,this.sdaTranslateService=t,this.data=this.modalService.modalData}ngOnInit(){this.subTitle=this.sdaTranslateService.get("CONFIG_CHECK_SUBTITLE","Scopes provided in the requested link are currently not a selected Query Configuration. Do you want to:"),this.options=[],1===this.data.requestedConfigs.length&&this.options.push({id:qe.Exclusive,name:this.sdaTranslateService.getFormatted("CHANGE_CONFIG","Change your query and create scope to {0}",[this.data.unselectedConfigs[0].DisplayName])}),this.options.push({id:qe.Extend,name:this.sdaTranslateService.getFormatted("ADD_CONFIG","Add {0} to your query scopes",[this.data.unselectedConfigs.map(e=>e.DisplayName).join(", ")])}),this.selectedOption=this.options.find(e=>e.id===qe.Extend)}ok(){this.modalResult(this.selectedOption.id)}cancel(){this.modalResult(qe.Ignore)}modalResult(e){const t=new Ye.a(!0);t.setData(e),this.closeModal.next(t)}}return e.\u0275fac=function(t){return new(t||e)(n.Sb(je.a),n.Sb(y.a))},e.\u0275cmp=n.Mb({type:e,selectors:[["sda-config-check"]],features:[n.Bb],decls:4,vars:4,consts:[[1,"config-check-title"],[3,"required","ngModel","ngModelChange"],[3,"value",4,"ngFor","ngForOf"],[3,"value"]],template:function(e,t){1&e&&(n.Yb(0,"div",0),n.Uc(1),n.Xb(),n.Yb(2,"mat-radio-group",1),n.hc("ngModelChange",(function(e){return t.selectedOption=e})),n.Sc(3,We,2,2,"mat-radio-button",2),n.Xb()),2&e&&(n.Eb(1),n.Wc(" ",t.subTitle,"\n"),n.Eb(1),n.sc("required",!0)("ngModel",t.selectedOption),n.Eb(1),n.sc("ngForOf",t.options))},directives:[Ne.b,a.A,a.p,a.s,p.s,Ne.a],styles:["[_nghost-%COMP%]{padding:0 12px}.mat-radio-group[_ngcontent-%COMP%]{display:flex;flex-direction:column;padding:0 12px}.mat-radio-button[_ngcontent-%COMP%]{margin-bottom:5px}.config-check-title[_ngcontent-%COMP%]{margin-bottom:15px}"]}),e})();var $e=i("l0e4"),Qe=i("c+03"),Ke=i("+ooB");let Je=(()=>{class e{constructor(e,t,i,n,s,a,o,r,c){this.router=e,this.configService=t,this.configDataService=i,this.componentFactoryResolver=n,this.injector=s,this.modalService=a,this.sdaTranslateService=o,this.loadingOverlayService=r,this.exceptionPageService=c}canActivateChild(e,t){if(e.routeConfig&&e.routeConfig.path&&e.paramMap.has(Ge.t)){const i=this.getConfigArray(e),n=this.configService.currentConfigs.map(e=>e.ConfigUID);if(0===i.filter(e=>!n.includes(e)).length){let e=i.filter(e=>!this.configService.selectedQueryConfigs.includes(e));if(0===e.length||this.configService.queryBySelectedConfigs||this.configService.selectedQueryConfigs.forEach(t=>{e=this.checkParentConfigSelected(t,e)}),0!==e.length){const n=this.configService.currentConfigs.filter(t=>e.includes(t.ConfigUID));return this.showConfigSelectModal(i,n,t.url)}return!0}return this.exceptionPageService.showExceptionAsPage(new C.a(this.sdaTranslateService.get("CONFIG_DOES_NOT_EXIST","The requested configuration does not exist or you do not have access")),this.sdaTranslateService.get("CONFIG_CHANGE_FAILED","Configuration Change Failed")),this.router.getCurrentNavigation().initialUrl}return!0}checkParentConfigSelected(e,t){const i=this.configService.currentConfigs.find(t=>t.ConfigUID===e);return i.ParentUID?0===(t=t.filter(e=>e!==i.ParentUID)).length?t:this.checkParentConfigSelected(i.ParentUID,t):t}showConfigSelectModal(e,t,i){const n=new Ke.a(this.sdaTranslateService.get("CONFIG_CHECK","A configuration change is required"),ze,this.componentFactoryResolver,this.injector);return n.size="sm-md",n.data={requestedConfigs:e,unselectedConfigs:t},Object(Xe.a)(this.modalService.showModal(n)).pipe(Object(O.a)(e=>Object(S.a)(this.exceptionPageService.showExceptionAsPage(new C.a(e),this.sdaTranslateService.get("CONFIG_CHANGE_FAILED","Configuration Change Failed")))),Object(v.a)(e=>this.handleResponse(e.getData(),i,t)))}handleResponse(e,t,i){let n;switch(e){case qe.Ignore:n=this.ignoreRouteChange();break;case qe.Extend:n=this.extendConfigAndRoute(t,i);break;case qe.Exclusive:n=this.setExclusiveConfigAndRoute(t,i[0]);break;default:n=this.ignoreRouteChange()}return n}ignoreRouteChange(){return Object(Xe.a)(this.router.navigateByUrl(this.router.getCurrentNavigation().initialUrl.toString(),{skipLocationChange:!0}))}extendConfigAndRoute(e,t){return this.setConfigs([...this.configService.selectedQueryConfigs,...t.map(e=>e.ConfigUID)],this.configService.selectedCreateConfig,e)}setExclusiveConfigAndRoute(e,t){return this.setConfigs([t.ConfigUID],t.ConfigUID,e)}setConfigs(e,t,i){return this.loadingOverlayService.showLoadingOverlay(),this.configDataService.setConfigs(e,t).pipe(Object(O.a)(e=>(this.loadingOverlayService.hideLoadingOverlay(),Object(S.a)(this.exceptionPageService.showExceptionAsPage(new C.a(e),this.sdaTranslateService.get("CONFIG_CHANGE_FAILED","Configuration Change Failed"))))),Object(L.a)(()=>this.router.parseUrl(i)),Object(_.a)(()=>this.loadingOverlayService.hideLoadingOverlay()))}getConfigArray(e){let t;try{if(t=JSON.parse(e.paramMap.get(Ge.t)),"string"==typeof t)t=[t];else if(!Array.isArray(t))throw"not array"}catch(i){t=[e.paramMap.get(Ge.t)]}return t}}return e.\u0275fac=function(t){return new(t||e)(n.dc(l.g),n.dc(ke.a),n.dc(U.a),n.dc(n.j),n.dc(n.s),n.dc(je.a),n.dc(y.a),n.dc(Qe.a),n.dc($e.a))},e.\u0275prov=n.Ob({token:e,factory:e.\u0275fac}),e})();var Ze=i("J7mc");let et=(()=>{class e{constructor(e){this.dataService=e,this.flags={}}isFeatureAvailableByUrl(e,t){if(!t)return Object(S.a)(!1);const i=e?this.flags[e]:void 0;return void 0!==i?Object(S.a)(i):this.dataService.get(t).pipe(Object(L.a)(e=>e&&1===e.length),Object(_.a)(t=>this.flags[e]=t))}}return e.\u0275fac=function(t){return new(t||e)(n.dc(Ze.a))},e.\u0275prov=n.Ob({token:e,factory:e.\u0275fac}),e})(),tt=(()=>{class e{constructor(e,t){this.featureFlagService=e,this.loggingService=t}canActivate(e,t){const i=e.data?e.data.FeatureFlagValidationUrl:"",n=e.data?e.data.FeatureFlagAlias:"";return i&&i.length>0&&n&&n.length>0?this.featureFlagService.isFeatureAvailableByUrl(n,i).pipe(Object(L.a)(e=>(e||this.featureUnavailable(i,t.url,n),!0===e)),Object(O.a)(()=>(this.featureUnavailable(i,t.url,n),Object(S.a)(!1)))):Object(S.a)(!0)}featureUnavailable(e,t,i){this.loggingService.info(`Feature not available. Alias: ${i}. ValidationURL: ${e}. NavigationURL: ${t}`)}}return e.\u0275fac=function(t){return new(t||e)(n.dc(et),n.dc(E.a))},e.\u0275prov=n.Ob({token:e,factory:e.\u0275fac}),e})(),it=(()=>{class e{constructor(e){if(e)throw new Error("GuardsModule is already loaded. Import it in the AppModule only")}static forRoot(){return{ngModule:e,providers:[Je,Ve,Le.a,tt]}}}return e.\u0275mod=n.Qb({type:e}),e.\u0275inj=n.Pb({factory:function(t){return new(t||e)(n.dc(e,12))},imports:[[Re]]}),e})();var nt=i("F+hv"),st=i("UwO9");let at=(()=>{class e{constructor(e){if(e)throw new Error("LockModule is already loaded. Import it in the AppModule only")}static forRoot(){return{ngModule:e,providers:[st.a]}}}return e.\u0275mod=n.Qb({type:e}),e.\u0275inj=n.Pb({factory:function(t){return new(t||e)(n.dc(e,12))}}),e})(),ot=(()=>{class e{}return e.\u0275mod=n.Qb({type:e}),e.\u0275inj=n.Pb({factory:function(t){return new(t||e)},providers:[je.a],imports:[[g.a,p.c,nt.a]]}),e})();var rt=i("XpAN"),ct=i("fKP2"),lt=i("+Pa6"),dt=i("JVCe"),ht=i("N9DE"),ut=i("XROm"),pt=i("YQ+9"),gt=i("Y9Bn"),ft=i("Vwje"),mt=i("QtV5"),bt=i("08BJ"),St=i("yRyI"),vt=i("UDQN"),_t=i("d2KQ"),Ot=i("5vhC"),It=i("f38H"),Ct=i("Xfz+"),Tt=i("biIz"),Et=i("EiwA"),yt=i("iZyC"),Pt=i("4B5/"),xt=i("UETY"),At=i("YlGB"),wt=i("Yyug"),Mt=i("TQny"),Dt=i("pyKC"),Nt=i("S2YF"),Rt=i("zewe"),Lt=i("5iMO"),Ft=i("e8r8"),kt=i("oT+2"),Ut=i("wKJe"),jt=i("ayYE"),Bt=i("tce7"),Gt=i("I2fW"),Vt=i("JSP6"),Xt=i("Qi+w"),Ht=i("PEjJ"),Yt=i("wpY2"),qt=i("4ZEd"),Wt=i("XNiG");let zt=(()=>{class e{constructor(){this.toggleUserTray$=new Wt.a}get toggleUserTraySubject(){return this.toggleUserTray$.asObservable()}toggleUserTrayVisibility(e){this.toggleUserTray$.next(e)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=n.Ob({token:e,factory:e.\u0275fac}),e})();var $t=i("hGER"),Qt=i("d09n"),Kt=i("YsXg"),Jt=i("HLw3"),Zt=i("I9/b"),ei=i("2ufx"),ti=i("cee5"),ii=i("dEBh"),ni=i("v6r/"),si=i("LmdI"),ai=i("DJR3"),oi=i("PuHP"),ri=i("NYVZ"),ci=i("kx0E"),li=i("9LP0"),di=i("ey8P"),hi=i("A1MZ"),ui=i("iwlc");let pi=(()=>{class e{checkParentNode(e,t){for(;e&&e.classList&&!t.some(t=>e.classList.contains(t));)if(!(e=e.parentElement))return;return e}checkParentNodeId(e,t,i=!1){for(;e&&(i?!e.id.includes(t):e.id!==t);)if(!(e=e.parentElement))return;return e}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=n.Ob({token:e,factory:e.\u0275fac}),e})();var gi=i("/XUs"),fi=i("UPSG"),mi=i("emLD"),bi=i("F8JD"),Si=i("ExSe"),vi=i("8IK6"),_i=i("DG5G"),Oi=i("PoZZ"),Ii=i("fpIb"),Ci=i("SXtU"),Ti=i("P83J"),Ei=i("Xfrm");class yi{getClientApiRoutes(){return[new Ei.a("CreateObj","/createObj"),new Ei.a("ManageFiles","/filemanagement"),new Ei.a("CopyObj","/copyObj"),new Ei.a("CreateClassObj","/createClassObj"),new Ei.a("CreateClassObjAndRel","/createClassObjAndRel"),new Ei.a("CreateObjAndRel","/createObjAndRel"),new Ei.a("CreateClassObjAndLoad","/createClassObjAndLoad"),new Ei.a("SDxCreateClassObjAndLoad","/createClassObjAndLoad"),new Ei.a("CreateWizardClassObj","/createWizardClassObj"),new Ei.a("CreateObjectFromSelectedObjects","/createObjectFromSelectedObjects"),new Ei.a("EditObj","/edit-obj"),new Ei.a("EditWizardObj","/edit-wizard-obj"),new Ei.a("ShowInbox","/todo-list"),new Ei.a("ReplaceFiles","/replacefiles"),new Ei.a("CheckInFiles","/checkinFile"),new Ei.a("TaskReassignmentConfiguration","/taskreassignment/adminreassign"),new Ei.a("SDARelationshipBuilder","/relationshipBuilder"),new Ei.a("CreateEntryPointFromQFind","/createEntryPointFromQFind"),new Ei.a("AdminEntryPoints","/adminEntryPoints"),new Ei.a("ShowWorkflow","/workflow-viewer"),new Ei.a("ListEditContextMenu","/listEdit"),new Ei.a("FTRSearch","/ftr"),new Ei.a("AssignRecipients","/distribution-matix"),new Ei.a("Revise","/reviseObj"),new Ei.a("UploadDocument","/uploadDocument"),new Ei.a("SDAManageDataTree","/databookManagement"),new Ei.a("ShowInboxForObject","/showInboxForObject"),new Ei.a("SDACopyDataBookContent","/copydatabookcontent"),new Ei.a("ConfigRoleAssignment","/user-management"),new Ei.a("DashboardCreatePage","/enterprise-view-create",{skipLocationChange:!0}),new Ei.a("DashboardUpdatePage","/enterprise-view-update"),new Ei.a("InsertHistRev","/insert-historical-revision"),new Ei.a("CopyDistributionMatrix","/copymatrixcontent"),new Ei.a("MultiStepReAssign","/multi-step-reassign"),new Ei.a("AddRecipient","/add-recipient"),new Ei.a("ExpandDocNestedStructure","/expand-nested-structure"),new Ei.a("ExpandFileNestedStructure","/expand-nested-structure"),new Ei.a("TabOutletManagement","/tab-outlet")]}getClientApiActions(){return[new Ti.a("EditObjModal","src/app/core/crud/routes/update-modal/edit-obj-modal.api.module#EditObjModalApiModule"),new Ti.a("RegenerateMetadata","src/app/core/admin/apis/regenerate-metadata/regenerate-metadata.api.module#RegenerateMetadataApiModule"),new Ti.a("QueryEntity","src/app/core/query-entity/apis/query-entity/query-entity.api.module#QueryEntityApiModule",{canOpenInNewTab:!0}),new Ti.a("ShareUrl","src/app/core/shortcuts/apis/share-url/share-url.api.module#ShareUrlApiModule"),new Ti.a("ShowObj","src/app/core/crud/apis/details/details.api.module#DetailsApiModule",{canOpenInNewTab:!0}),new Ti.a("TerminateObj","src/app/core/crud/apis/delete-terminate-object/delete-terminate-object.api.module#DeleteTerminateObjectApiModule"),new Ti.a("DeleteObj","src/app/core/crud/apis/delete-terminate-object/delete-terminate-object.api.module#DeleteTerminateObjectApiModule"),new Ti.a("AttachWorkflow","src/app/core/workflow/apis/attach-workflow/attach-workflow.api.module#AttachWorkflowApiModule"),new Ti.a("CancelDocument","src/app/core/documents/apis/cancel-uncanceldoc/cancel-uncanceldoc.api.module#CancelUncancelDocApiModule"),new Ti.a("UnCancelDocument","src/app/core/documents/apis/cancel-uncanceldoc/cancel-uncanceldoc.api.module#CancelUncancelDocApiModule"),new Ti.a("ExecuteSavedReportFromObject","src/app/core/reports/apis/execute-saved-report/execute-saved-report.api.module#ExecuteSavedReportApiModule"),new Ti.a("UndoEditFiles","src/app/core/files/apis/edit-files/undo-edit-files.api.module#UndoEditFilesApiModule"),new Ti.a("EditFiles","src/app/core/files/apis/edit-files/edit-files.api.module#EditFilesApiModule"),new Ti.a("XmtlCancel","src/app/core/transmittals/api/cancel-uncanceltransmittal/cancel-uncanceltransmittal.api.module#CancelUncancelXmtlApiModule"),new Ti.a("XmtlUndoCancel","src/app/core/transmittals/api/cancel-uncanceltransmittal/cancel-uncanceltransmittal.api.module#CancelUncancelXmtlApiModule"),new Ti.a("StepRejectAction","src/app/core/todo-list/apis/reject-step/reject-step.api.module#RejectStepApiModule"),new Ti.a("StepAcceptAction","src/app/core/todo-list/apis/accept-step/accept-step.api.module#AcceptStepApiModule"),new Ti.a("StepClaim","src/app/core/todo-list/apis/claim-step/claim-step.api.module#ClaimStepApiModule"),new Ti.a("SharepointCreateDocument","src/app/core/sharepoint/apis/sharepoint-create-document.api/sharepoint-create-document.api.module#SharepointCreateDocumentApiModule"),new Ti.a("SharepointDownloadFile","src/app/core/sharepoint/apis/sharepoint-download-file.api/sharepoint-download-file.api.module#SharepointDownloadFileApiModule"),new Ti.a("SharepointViewNative","src/app/core/sharepoint/apis/sharepoint-view-native.api/sharepoint-view-native.api.module#SharepointViewNativeApiModule"),new Ti.a("GenerateAlternateRendition","src/app/core/files/apis/generate-rendition/generate-rendition.api.module#GenerateRenditionApiModule"),new Ti.a("OpenXMLWordReport","src/app/core/reports/apis/openxml-wordreport/openxml-wordreport.api.module#OpenxmlReportApiModule"),new Ti.a("SignOff","src/app/core/documents/apis/signoff-undosignoffdoc/signoff-undosignoffdoc.api.module#SignoffUndoSignOffDocApiModule"),new Ti.a("SignOffWithForm","src/app/core/documents/apis/signoff-with-form/signoff-with-form.api.module#SignoffWithFormApiModule"),new Ti.a("UndoSignOff","src/app/core/documents/apis/signoff-undosignoffdoc/signoff-undosignoffdoc.api.module#SignoffUndoSignOffDocApiModule"),new Ti.a("SPFExchangeData","src/app/core/reports/apis/exchange-data/exchange-data.api.module#ExchangeDataApiModule"),new Ti.a("LaunchURLWithDynamicArgs","src/app/core/launch-url/launch-url-with-dynamic-args/launch-url-with-dynamic-args.api.module#LaunchUrlWithDynamicArgsApiModule"),new Ti.a("SDARelationshipBuilder","src/app/core/crud/routes/relationship-builder/relationship-builder.routing.module#RelationshipBuilderRoutingModule"),new Ti.a("LaunchURLFromFeatureSet","src/app/core/launch-url/launch-url-from-fs/launch-url-from-fs.api.module#LaunchUrlFromFSApiModule"),new Ti.a("WebClientExtensibility","src/app/core/external/external.api.module#ExternalApiModule",{canOpenInNewTab:!0}),new Ti.a("GenerateMergedRendition","src/app/core/files/apis/generate-merged-rendition/generate-merged-rendition.api.module#GenerateMergedRenditionApiModule"),new Ti.a("ListEditUncontrolledItems","src/app/core/list-edit/apis/list-edit-uncontrolled-items/list-edit-uncontrolled-items.api.module#ListEditUncontrolledItemsApiModule",{canOpenInNewTab:!0}),new Ti.a("WorkflowDetailsReport","src/app/core/reports/apis/workflow-details-report/workflow-details-report.api.module#WorkflowDetailsReportApiModule",{canOpenInNewTab:!0}),new Ti.a("ShareFile","src/app/core/share-file/share-file.api.module#ShareFileApiModule"),new Ti.a("CopyToLocalFile","src/app/core/files/apis/copy-to-local-file/copy-to-local-file.api.module#CopyToLocalFileApiModule"),new Ti.a("UnlockUserAccount","src/app/core/admin/apis/admin-unlock-user/admin-unlock-user.api.module#UnlockUserAccountApiModule"),new Ti.a("StartScheduler","src/app/core/scheduler/scheduler.api.module#SchedulerApiModule"),new Ti.a("StopScheduler","src/app/core/scheduler/scheduler.api.module#SchedulerApiModule"),new Ti.a("SPFCopyConfigAccess","src/app/core/admin/apis/copy-access/copy-access.api.module#CopyAccessApiModule"),new Ti.a("Dashboard","src/app/core/enterprise-view/apis/view/modules/enterprise-view.api.module#EnterpriseViewApiModule"),new Ti.a("UpdateReferences","src/app/core/files/routes/update-references/update-references.api.module#UpdateReferencesApiModule"),new Ti.a("UpdateReferredBy","src/app/core/files/routes/update-references/update-references.api.module#UpdateReferencesApiModule"),new Ti.a("GenerateThumbnail","src/app/core/files/apis/generate-thumbnail/generate-thumbnail.api.module#GenerateThumbnailApiModule")]}}class Pi{getClientApiRoutes(){return[new Ei.a("SCLBQualityAssuranceReviewDetails","/review-details"),new Ei.a("SCLBManageQualityAssuranceReviewPlan","/manage-review-plan"),new Ei.a("SCLBQualityAssuranceReview","/review"),new Ei.a("SDAImpactAnalysis","/impact-analysis"),new Ei.a("ConflictResolution","/conflict-resolution"),new Ei.a("SCLBCommunicationManagementDetails","/response-management-details",{skipLocationChange:!0}),new Ei.a("SCLBCommunicationManagement","/response-management",{skipLocationChange:!0}),new Ei.a("SOPSCommunicationManagementDetails","/response-management-details",{skipLocationChange:!0}),new Ei.a("SOPSCommunicationManagement","/response-management",{skipLocationChange:!0}),new Ei.a("SOPSPABCommunicationManagement","/response-management",{skipLocationChange:!0}),new Ei.a("SOPSPABImpactAnalysis","/impact-analysis",{skipLocationChange:!0})]}getClientApiActions(){return[new Ti.a("SCLBQualityAssuranceRegister","src/app/modules/collaboration/client-apis/register-for-interest/register-for-interest.api.module#RegisterForInterestApiModule"),new Ti.a("SDAManageMarkupLayersForRendition","src/app/modules/collaboration/client-apis/manage-markup-layers/manage-markup-layers.api.module#ManageMarkupLayersApiModule"),new Ti.a("SOPSManageMarkupLayersForRendition","src/app/modules/collaboration/client-apis/manage-markup-layers/manage-markup-layers.api.module#ManageMarkupLayersApiModule"),new Ti.a("SDAImpactAnalysis","src/app/modules/collaboration/client-apis/moc/apis/impact-analysis/impact-analysis.api.module#ImpactAnalysisApiModule"),new Ti.a("SOPSPABCommunicationManagement","src/app/modules/collaboration/client-apis/manage-markup-layers/manage-markup-layers.api.module#ManageMarkupLayersApiModule"),new Ti.a("ConflictResolution","src/app/modules/collaboration/client-apis/moc/apis/conflict-resolution/conflict-resolution.api.module#ConflictResolutionApiModule"),new Ti.a("SOPSPABImpactAnalysis","src/app/modules/collaboration/client-apis/moc/apis/impact-analysis/impact-analysis.api.module#ImpactAnalysisApiModule"),new Ti.a("ProjectHandover","src/app/modules/collaboration/client-apis/handover-request/handover-request.api.module#HandoverRequestApiModule")]}}class xi{getClientApiRoutes(){return[new Ei.a("UnClaimObj","/unclaim-dependencies"),new Ei.a("ClaimObj","/claim-obj"),new Ei.a("MergeConfig","/merge-config"),new Ei.a("MergeObj","/merge-config"),new Ei.a("MergeStructure","/merge-config")]}getClientApiActions(){return[new Ti.a("CancelProject","src/app/modules/concurrent-engineering/apis/cancel-project/cancel-project.api.module#CancelProjectApiModule"),new Ti.a("ChangeConfigStatus","src/app/modules/concurrent-engineering/apis/change-config-status/change-config-status.api.module#ChangeConfigStatusApiModule"),new Ti.a("SyncObjects","src/app/modules/concurrent-engineering/sync/sync-obj.api.module#SyncObjApiModule")]}}class Ai{getClientApiRoutes(){return[]}getClientApiActions(){return[new Ti.a("SPFNContentExtraction","src/app/modules/datacapture/client-apis/content-extraction/content-extraction.api.module#ContentExtractionApiModule")]}}class wi{getClientApiRoutes(){return[new Ei.a("ViewConsolidatedDataForObject","/ViewConsolidatedData"),new Ei.a("ViewSharedData","/ViewConsolidatedData"),new Ei.a("CreateWorkAreaDefinition","/CreateWorkAreaDefinition"),new Ei.a("EditWorkAreaDefinition","/EditWorkAreaDefinition")]}getClientApiActions(){return[new Ti.a("RegisterAuthoringTool","src/app/modules/integration/apis/register-authoring-tool/register-authouring-tool.api.module#RegisterAuthoringToolApiModule"),new Ti.a("InconsistencyReportWithStartingObject","src/app/modules/integration/apis/inconsistency-report/inconsistency-report-document/inconsistency-report-document.api.module#InconsistencyReportOnDocumentApiModule"),new Ti.a("InconsistencyReportByQuery","src/app/modules/integration/apis/inconsistency-report/inconsistency-report-query/inconsistency-report-query.api.module#InconsistencyReportByQueryApiModule"),new Ti.a("InconsistencyReport","src/app/modules/integration/apis/inconsistency-report/inconsistency-report-shared-object/inconsistency-report-shared-object.api.module#InconsistencyReportOnSharedObjectApiModule"),new Ti.a("RegenerateCommonSchema","src/app/modules/integration/apis/regenerate-common-schema/regenerate-common-schema.api.module#RegenerateCommonSchemaApiModule"),new Ti.a("CancelChangeAction","src/app/modules/integration/apis/change-action/cancel-change-action/cancel-change-action.api.module#CancelChangeActionApiModule"),new Ti.a("SIOInconsistencyReportByQuery","src/app/modules/integration/apis/inconsistency-report/sio-inconsistency-report-query/sio-inconsistency-report-query.api.module#SIOInconsistencyReportQueryApiModule"),new Ti.a("RelateObjectsToWorkArea","src/app/modules/integration/apis/relate-objects-to-work-area/relate-objects-to-work-area.api.module#RelateObjectsToWorkAreaApiModule")]}}class Mi{getClientApiRoutes(){return[new Ei.a("SDAShowMySDVJobs","/sdv-job-management"),new Ei.a("SDxShowMySDVJobs","/sdv-job-management")]}getClientApiActions(){return[new Ti.a("SDAApproveSDVJob","src/app/modules/sdv/routes/job-management/apis/sdv-job-approve/sdv-job-approve.api.module#SDVJobApproveApiModule"),new Ti.a("SDAViewSDVJobSummary","src/app/modules/sdv/routes/job-management/apis/sdv-job-view-summary/sdv-job-view-summary.api.module#SDVJobViewSummaryApiModule"),new Ti.a("SDADeleteSDVJob","src/app/modules/sdv/routes/job-management/apis/sdv-job-delete/sdv-job-delete.api.module#SDVJobDeleteApiModule"),new Ti.a("SDASDVDownloadValidationReport","src/app/modules/sdv/routes/job-management/apis/sdv-job-download-validation/sdv-job-download-validation.api.module#SDVJobDownloadValidationApiModule")]}}class Di{getClientApiRoutes(){return[new Ei.a("LScanViewSite","/tvgSiteView"),new Ei.a("LScanViewScan","/tvgScanView")]}getClientApiActions(){return[new Ti.a("LScanSynchronizeSiteData","src/app/modules/truview/apis/tvg-synchronize/tvg-synchronize.api.module#TvgSynchronizeApiModule"),new Ti.a("LScanViewTagInScan","src/app/modules/truview/apis/tvg-view-tag-in-laserscan/tvg-view-tag-in-laserscan.api.module#TvgViewTagLaserScanApiModule",{canOpenInNewTab:!0})]}}class Ni{getClientApiRoutes(){return[new Ei.a("CompareDocuments","/compareDocuments"),new Ei.a("CreateWebGLSchedulerTask","/createWebGLSchedulerTask"),new Ei.a("SDACompareFiles","/compareFiles")]}getClientApiActions(){return[new Ti.a("Navigate","src/app/modules/view-and-navigation/apis/navigate/navigate.api.module#NavigateApiModule",{canOpenInNewTab:!0}),new Ti.a("ViewInDocument","src/app/modules/view-and-navigation/apis/view-in-document/view-in-document.api.module#ViewInDocumentApiModule",{canOpenInNewTab:!0}),new Ti.a("SmartPlantReview","src/app/modules/view-and-navigation/apis/view-in-smartreview/view-in-smartreview.api.module#ViewInSmartReviewApiModule"),new Ti.a("ViewBatchRenditionLog","src/app/modules/view-and-navigation/apis/view-batch-rendition-log/view-batch-rendition-log.api.module#ViewBatchRenditionLogApiModule"),new Ti.a("ClearBravaCache","src/app/modules/view-and-navigation/apis/clear-brava-cache/clear-brava-cache.api.module#ClearBravaCacheApiModule"),new Ti.a("ViewInVisualReport","src/app/modules/view-and-navigation/apis/view-in-visual-report/view-in-visual-report.api.module#ViewInVisualReportApiModule",{canOpenInNewTab:!0})]}}class Ri{getClientApiRoutes(){return[]}getClientApiActions(){return[new Ti.a("SPXSAPSync","src/app/modules/sap/apis/sapsync/sap-sync.api.module#SapSyncApiModule"),new Ti.a("SDxConnSync","src/app/modules/sap/apis/sapsync/sap-sync.api.module#SapSyncApiModule")]}}class Li{constructor(){this.manifestList=[],this.manifestList.push(new Ni),this.manifestList.push(new Pi),this.manifestList.push(new Mi),this.manifestList.push(new Di),this.manifestList.push(new wi),this.manifestList.push(new Ai),this.manifestList.push(new xi),this.manifestList.push(new Ri)}}let Fi=(()=>{class e{constructor(e){this.clientApiService=e}registerDependencies(){return new P.a(e=>{try{this.clientApiService.resetRegisteredClientApis(),this.registerModule(new yi),(new Li).manifestList.forEach(e=>{this.registerModule(e)}),e.next(!0),e.complete()}catch(t){e.error(t)}})}registerModule(e){[...e.getClientApiRoutes(),...e.getClientApiActions()].forEach(e=>{e.options.isEnabled&&this.clientApiService.registerClientApi(e)})}}return e.\u0275fac=function(t){return new(t||e)(n.dc(ni.a))},e.\u0275prov=n.Ob({token:e,factory:e.\u0275fac}),e})();var ki=i("Teex"),Ui=i("z0XX"),ji=i("nqum"),Bi=i("CymU");let Gi=(()=>{class e extends class{convertFromJSON(e){if("string"!=typeof e)return e;try{return JSON.parse(e)}catch(t){return e}}}{getItem(e){return this.convertFromJSON(sessionStorage.getItem(e))}setItem(e,t){const i="object"==typeof t?JSON.stringify(t):t.toString();sessionStorage.setItem(e,i)}clear(){sessionStorage.clear()}removeItem(e){sessionStorage.removeItem(e)}}return e.\u0275fac=function(t){return Vi(t||e)},e.\u0275prov=n.Ob({token:e,factory:e.\u0275fac}),e})();const Vi=n.ac(Gi);var Xi=i("AK/3"),Hi=i("8Bmj"),Yi=i("/6HS"),qi=i("iCYq");let Wi=(()=>{class e{constructor(e){if(e)throw new Error("SharedServicesModule is already loaded. This module can only be imported once")}}return e.\u0275mod=n.Qb({type:e}),e.\u0275inj=n.Pb({factory:function(t){return new(t||e)(n.dc(e,12))},providers:[Pt.a,xt.a,I.a,Xi.a,T.a,V.a,Jt.a,vt.a,ct.a,ni.a,X.a,si.a,Bt.a,jt.a,U.a,ke.a,At.a,ci.a,Ht.a,Ze.a,ai.a,Zt.a,wt.a,oi.a,Mt.a,Nt.a,ei.a,dt.a,ri.a,F.a,ht.a,pi,$e.a,et,Lt.a,Ut.a,Ft.a,kt.a,_i.a,Oi.a,k.a,qt.a,di.a,$t.a,hi.a,ui.a,gi.a,fi.a,w.a,E.a,H.a,bi.a,pt.a,gt.a,Si.a,St.a,Rt.a,Gt.a,vi.a,Be.a,li.a,Xt.a,Vt.a,Fi,Hi.a,Y.a,ft.a,mt.a,Ui.a,lt.a,Ii.a,Dt.a,ki.a,ji.a,ut.a,bt.a,Yi.a,_t.a,j.a,Ot.a,Ci.a,Bi.a,Yt.a,A.a,q.a,Gi,W.a,ti.a,Tt.a,It.a,Ct.a,d.d,Qt.a,Kt.a,qi.a,zt,yt.a,Et.a,ii.a,mi.a],imports:[[p.c]]}),e})();var zi=i("mqiu");class $i extends zi.a{getTranslation(e){return super.getTranslation(e).pipe(Object(O.a)(()=>(console.log("Unable to load translation file for language "+e),Object(S.a)(void 0))))}}var Qi=i("XwBL");class Ki{static encode(e){return void 0!==e?Qi.a.encodeBrackets(e):void 0}static decode(e){return void 0!==e?Qi.a.decodeBrackets(e):void 0}}let Ji=(()=>{class e{constructor(){this.defaultUrlSerializer=new l.b}parse(e){return this.defaultUrlSerializer.parse(Ki.encode(e))}serialize(e){return Ki.decode(this.defaultUrlSerializer.serialize(e))}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=n.Ob({token:e,factory:e.\u0275fac}),e})();var Zi=i("TU8p"),en=i("NFeN"),tn=i("ZQvh");let nn=(()=>{class e{}return e.\u0275mod=n.Qb({type:e}),e.\u0275inj=n.Pb({factory:function(t){return new(t||e)},imports:[[p.c,tn.a,nt.a]]}),e})();var sn=i("bv9b"),an=i("P/Za");let on=(()=>{class e{}return e.\u0275mod=n.Qb({type:e}),e.\u0275inj=n.Pb({factory:function(t){return new(t||e)},imports:[[p.c,an.a,en.b,sn.b]]}),e})();var rn=i("7LiV"),cn=i("I5S5"),ln=i("EVgl"),dn=i("xNYO"),hn=i("83Gb");let un=(()=>{class e{}return e.\u0275mod=n.Qb({type:e}),e.\u0275inj=n.Pb({factory:function(t){return new(t||e)},imports:[[dn.a,p.c,a.j,hn.a,cn.a,ln.d,rn.b,nt.a,en.b]]}),e})();var pn=i("Xys1"),gn=i("0IaG"),fn=i("wZkO"),mn=i("bSwM"),bn=i("MutI"),Sn=i("STbY"),vn=i("d3UM"),_n=i("mQCr");let On=(()=>{class e{}return e.\u0275mod=n.Qb({type:e}),e.\u0275inj=n.Pb({factory:function(t){return new(t||e)},imports:[[p.c,vn.b,mn.b,en.b,bn.d,Sn.c,_n.a,Zi.b]]}),e})();var In=i("K8SQ"),Cn=i("l3mi");let Tn=(()=>{class e{}return e.\u0275mod=n.Qb({type:e}),e.\u0275inj=n.Pb({factory:function(t){return new(t||e)},imports:[[p.c,nt.a,vn.b,gn.e,Cn.a]]}),e})();var En=i("+0xr"),yn=i("Qu3c");let Pn=(()=>{class e{}return e.\u0275mod=n.Qb({type:e}),e.\u0275inj=n.Pb({factory:function(t){return new(t||e)},imports:[[p.c,a.j,nt.a,en.b,bn.d,gn.e,Cn.a,En.l,yn.b]]}),e})(),xn=(()=>{class e{}return e.\u0275mod=n.Qb({type:e}),e.\u0275inj=n.Pb({factory:function(t){return new(t||e)},imports:[[p.c,a.j,nt.a,vn.b,mn.b,Ne.c,gn.e,Cn.a,In.a]]}),e})(),An=(()=>{class e{}return e.\u0275mod=n.Qb({type:e}),e.\u0275inj=n.Pb({factory:function(t){return new(t||e)},imports:[[p.c,fn.e,nt.a,en.b,On,gn.e,Tn,Pn,xn,In.a]]}),e})();var wn=i("bm9C");let Mn=(()=>{class e{}return e.\u0275mod=n.Qb({type:e}),e.\u0275inj=n.Pb({factory:function(t){return new(t||e)},providers:[wn.a],imports:[[fn.e,tn.a]]}),e})(),Dn=(()=>{class e{}return e.\u0275mod=n.Qb({type:e}),e.\u0275inj=n.Pb({factory:function(t){return new(t||e)},imports:[[p.c,pn.a,fn.e,nt.a]]}),e})();var Nn=i("6JPj");let Rn=(()=>{class e{}return e.\u0275mod=n.Qb({type:e}),e.\u0275inj=n.Pb({factory:function(t){return new(t||e)},providers:[Nn.a],imports:[[p.c,pn.a,An,on,pe.a,un,en.b,Mn,nn,Dn]]}),e})();var Ln=i("fdS2");let Fn=(()=>{class e{constructor(e){if(e)throw new Error("ShellModule is already loaded.")}}return e.\u0275mod=n.Qb({type:e}),e.\u0275inj=n.Pb({factory:function(t){return new(t||e)(n.dc(e,12))},imports:[[Rn,ue,pe.a,p.c,nt.a,l.k,g.a,Ln.a,en.b,Zi.b,le.a]]}),e})();var kn=i("EcfP"),Un=i("41Lq"),jn=i("GoKz"),Bn=i("tGjb"),Gn=i("rFDT"),Vn=i("gtQ4");let Xn=(()=>{class e{constructor(e){if(e)throw new Error("SharepointServicesModule is already loaded. Import it in the AppModule only")}static forRoot(){return{ngModule:e,providers:[jn.a,Bn.a,B.a,Gn.a,Vn.a]}}}return e.\u0275mod=n.Qb({type:e}),e.\u0275inj=n.Pb({factory:function(t){return new(t||e)(n.dc(e,12))}}),e})();var Hn=i("pLZG"),Yn=i("JrsU"),qn=i("BLbD");const Wn=["body"];let zn=(()=>{class e{constructor(e){this.dynamicLoaderService=e,this.close=new n.o,this.loading=new n.o,this.changeOkayButtonEnabledState=new n.o,this.changeThirdButtonEnabledState=new n.o,this.changeOkayButtonText=new n.o,this.emitClose=e=>{this.close.emit(e)},this.emitLoading=e=>{this.loading.emit(e)},this.emitDisableOkayButton=e=>{this.changeOkayButtonEnabledState.emit(e)},this.emitDisableThirdButton=e=>{this.changeThirdButtonEnabledState.emit(e)},this.emitChangeOkayButtonText=e=>{this.changeOkayButtonText.emit(e)}}ngOnInit(){this.modalClass=this.dynamicLoaderService.loadComponentForViewContainerRef(this.modalBody,this.modalOptions.component,this.modalOptions.componentFactoryResolver,this.modalOptions.injector).instance,this.closeModalSubscription=this.modalClass.closeModal.subscribe(e=>this.emitClose(e)),this.loadingSubscription=this.modalClass.loading.subscribe(e=>this.emitLoading(e)),this.changeOkayButtonEnabledStateSubscription=this.modalClass.changeOkayButtonEnabledState.subscribe(e=>this.emitDisableOkayButton(e)),this.changeThirdButtonEnabledStateSubscription=this.modalClass.changeThirdButtonEnabledState.subscribe(e=>this.emitDisableThirdButton(e)),this.changeOkayButtonTextSubscription=this.modalClass.changeOkayButtonText.subscribe(e=>this.emitChangeOkayButtonText(e))}ngOnDestroy(){this.closeModalSubscription.unsubscribe(),this.loadingSubscription.unsubscribe(),this.changeOkayButtonEnabledStateSubscription.unsubscribe(),this.changeThirdButtonEnabledStateSubscription.unsubscribe(),this.changeOkayButtonTextSubscription.unsubscribe()}ok(){this.modalClass.ok()}cancel(){this.modalClass.cancel()}thirdBtn(){this.modalClass.thirdBtn()}}return e.\u0275fac=function(t){return new(t||e)(n.Sb(ri.a))},e.\u0275cmp=n.Mb({type:e,selectors:[["sda-modal-body"]],viewQuery:function(e,t){var i;1&e&&n.Qc(Wn,!0,n.Q),2&e&&n.Gc(i=n.ic())&&(t.modalBody=i.first)},inputs:{modalOptions:"modalOptions"},outputs:{close:"close",loading:"loading",changeOkayButtonEnabledState:"changeOkayButtonEnabledState",changeThirdButtonEnabledState:"changeThirdButtonEnabledState",changeOkayButtonText:"changeOkayButtonText"},decls:2,vars:0,consts:[["body",""]],template:function(e,t){1&e&&n.Tb(0,"div",null,0)},encapsulation:2}),e})();function $n(e,t){if(1&e){const e=n.Zb();n.Yb(0,"button",11),n.hc("click",(function(){return n.Kc(e),n.lc(2),n.Hc(5).thirdBtn()})),n.Uc(1),n.Xb()}if(2&e){const e=n.lc(3);n.sc("disabled",e.disableThirdButton),n.Eb(1),n.Wc(" ",e.THIRDBTN," ")}}function Qn(e,t){if(1&e){const e=n.Zb();n.Yb(0,"button",12),n.hc("click",(function(){return n.Kc(e),n.lc(2),n.Hc(5).cancel()})),n.Uc(1),n.Xb()}if(2&e){const e=n.lc(3);n.Eb(1),n.Wc(" ",e.CANCEL," ")}}function Kn(e,t){if(1&e){const e=n.Zb();n.Yb(0,"button",11),n.hc("click",(function(){return n.Kc(e),n.lc(2),n.Hc(5).ok()})),n.Uc(1),n.Xb()}if(2&e){const e=n.lc(3);n.sc("disabled",e.disableOkayButton),n.Eb(1),n.Wc(" ",e.OK," ")}}function Jn(e,t){if(1&e&&(n.Yb(0,"div",8),n.Sc(1,$n,2,2,"button",9),n.Sc(2,Qn,2,1,"button",10),n.Sc(3,Kn,2,2,"button",9),n.Xb()),2&e){const e=n.lc(2);n.Eb(1),n.sc("ngIf",e.THIRDBTN),n.Eb(1),n.sc("ngIf",!e.hideCancel),n.Eb(1),n.sc("ngIf",!e.hideOk)}}function Zn(e,t){if(1&e){const e=n.Zb();n.Yb(0,"div",2),n.Yb(1,"div",3),n.Yb(2,"h1",4),n.Uc(3),n.Xb(),n.Yb(4,"sda-modal-body",5,6),n.hc("changeOkayButtonEnabledState",(function(t){return n.Kc(e),n.lc().changeOkayButtonEnabledState(t)}))("changeThirdButtonEnabledState",(function(t){return n.Kc(e),n.lc().changeThirdButtonEnabledState(t)}))("changeOkayButtonText",(function(t){return n.Kc(e),n.lc().changeOkayButtonText(t)}))("loading",(function(t){return n.Kc(e),n.lc().loading(t)}))("close",(function(t){return n.Kc(e),n.lc().closeModal(t)})),n.Xb(),n.Sc(6,Jn,4,3,"div",7),n.Xb(),n.Xb()}if(2&e){const e=n.lc();n.Eb(1),n.sc("ngClass",e.modalClass),n.Eb(1),n.sc("title",e.modalOptions.title),n.Eb(1),n.Vc(e.modalOptions.title),n.Eb(1),n.sc("modalOptions",e.modalOptions),n.Eb(2),n.sc("ngIf",e.showModalActions())}}let es=(()=>{class e{constructor(e,t,i,n){this.modalService=e,this.loadingOverlayService=t,this.sdaTranslateService=i,this.router=n,this.modalDisplayed=!1,this.modalClass="small",this.hideCancel=!1,this.hideOk=!1,this.disableOkayButton=!1,this.disableThirdButton=!1,this.showModal=e=>{this.modalOptions=e,this.modalClass=e.size?e.size:"small",this.OK=e.okBtnText?e.okBtnText:this.sdaTranslateService.get("OK","OK"),this.CANCEL=e.cancelBtnText?e.cancelBtnText:this.sdaTranslateService.get("CANCEL","Cancel"),this.THIRDBTN=e.thirdBtn?e.thirdBtn:void 0,this.hideCancel=e.hideCancel,this.hideOk=e.hideOk,this.modalDisplayed=!0,this.disableOkayButton=e.disableOk,this.disableThirdButton=e.disableThirdButton},this.routerEventSubscription=this.router.events.pipe(Object(Hn.a)(e=>e instanceof l.d),Object(Hn.a)(()=>this.modalDisplayed)).subscribe(()=>{this.closeModal(new Ye.a(!1))})}ngOnInit(){this.showModalSubscription=this.modalService.showModalEmitter.subscribe(this.showModal)}ngOnDestroy(){this.showModalSubscription&&this.showModalSubscription.unsubscribe(),this.routerEventSubscription&&this.routerEventSubscription.unsubscribe()}closeModal(e){this.modalDisplayed=!1,this.modalService.promiseResolved(e)}showModalActions(){return!!this.THIRDBTN||!this.hideCancel||!this.hideOk}loading(e){e?this.loadingOverlayService.showLoadingOverlay(this.modalOptions.loadingMessage):this.loadingOverlayService.hideLoadingOverlay()}changeOkayButtonEnabledState(e){setTimeout(()=>{this.disableOkayButton=e})}changeThirdButtonEnabledState(e){setTimeout(()=>{this.disableThirdButton=e})}changeOkayButtonText(e){setTimeout(()=>{this.OK=e})}}return e.\u0275fac=function(t){return new(t||e)(n.Sb(je.a),n.Sb(Qe.a),n.Sb(y.a),n.Sb(l.g))},e.\u0275cmp=n.Mb({type:e,selectors:[["sda-modal"]],decls:2,vars:2,consts:[[3,"toggle"],["class","modal",4,"ngIf"],[1,"modal"],[1,"modal-container",3,"ngClass"],[1,"modal-container__title",3,"title"],[3,"modalOptions","changeOkayButtonEnabledState","changeThirdButtonEnabledState","changeOkayButtonText","loading","close"],["modalBody",""],["class","modal-actions",4,"ngIf"],[1,"modal-actions"],["type","button","class","modal-actions__button",3,"disabled","click",4,"ngIf"],["type","button","class","modal-actions__button",3,"click",4,"ngIf"],["type","button",1,"modal-actions__button",3,"disabled","click"],["type","button",1,"modal-actions__button",3,"click"]],template:function(e,t){1&e&&(n.Tb(0,"sda-blanket",0),n.Sc(1,Zn,7,5,"div",1)),2&e&&(n.sc("toggle",t.modalDisplayed),n.Eb(1),n.sc("ngIf",t.modalDisplayed))},directives:[qn.a,p.t,p.q,zn],styles:[".modal-container.small[_ngcontent-%COMP%], sda-modal-body[_ngcontent-%COMP%]{overflow-x:hidden;overflow-y:auto}.modal-container__title[_ngcontent-%COMP%]{overflow:hidden;white-space:nowrap;text-overflow:ellipsis}@-webkit-keyframes slideIn{0%{margin-top:200px}to{margin-top:0}}@keyframes slideIn{0%{margin-top:200px}to{margin-top:0}}[_nghost-%COMP%]{position:relative;z-index:1000!important}[_nghost-%COMP%]     ng-component{display:flex;flex-grow:1;flex-direction:column;height:100%}sda-modal-body[_ngcontent-%COMP%]{display:flex;flex:1 1 auto;flex-direction:column;min-height:40px;color:#000}.modal[_ngcontent-%COMP%]{justify-content:center;align-items:center;position:fixed;top:0;left:0;right:0;bottom:0;display:flex}.modal-container[_ngcontent-%COMP%]{position:relative;display:flex;flex-shrink:0;flex-direction:column;min-width:420px;min-height:150px;border-radius:2px;background:#fff;overflow:hidden;-webkit-animation:slideIn .3s;animation:slideIn .3s}.modal-container.small[_ngcontent-%COMP%]{max-width:768px;max-height:400px}.modal-container.sm-md[_ngcontent-%COMP%]{width:40vw;height:40%}.modal-container.med[_ngcontent-%COMP%]{width:60vw;height:60%}.modal-container.large[_ngcontent-%COMP%]{width:80vw;height:80%}.modal-container.xlarge[_ngcontent-%COMP%]{width:95vw;height:95%}.modal-container.full[_ngcontent-%COMP%]{width:100vw;height:100%}.modal-container.tall[_ngcontent-%COMP%]{height:80%}.modal-container__cover[_ngcontent-%COMP%]{position:absolute;top:0;left:0;right:0;bottom:0}.modal-container__title[_ngcontent-%COMP%]{min-height:56px;margin:0;padding:16px 12px;font-size:20px;font-weight:500;color:#000}.modal-actions[_ngcontent-%COMP%]{display:flex;align-items:center;min-height:52px;padding:0 8px;text-align:right;justify-content:flex-end}.modal-actions__button[_ngcontent-%COMP%]{min-width:64px;margin-left:5px;border:1px solid #fff;text-transform:uppercase;color:#009eff;background-color:initial;font-weight:500;font-size:16px}.modal-actions__button[_ngcontent-%COMP%]:disabled{color:#666;cursor:not-allowed}.modal-actions__button[_ngcontent-%COMP%]:focus{border-color:#009eff}"]}),e})();function ts(e,t){if(1&e){const e=n.Zb();n.Yb(0,"div",2),n.hc("click",(function(){n.Kc(e);const i=t.$implicit;return n.lc().showExceptionDetails(i)})),n.Yb(1,"div",3),n.Uc(2),n.Xb(),n.Yb(3,"div",4),n.Uc(4),n.Xb(),n.Xb()}if(2&e){const e=t.$implicit;n.Eb(2),n.Vc(e.summary),n.Eb(2),n.Vc(e.detail)}}let is=(()=>{class e{constructor(e,t,i){this.messageService=e,this.exceptionService=t,this.sdaTranslateService=i,this.ERROR=this.sdaTranslateService.get("ERROR","Error"),this.MAINTENANCE_MODE=this.sdaTranslateService.get("MAINTENANCE_MODE","System Maintenance")}ngOnInit(){this.exceptionService.exceptionsUpdated.subscribe(e=>{this.messageService.clear(),e.forEach((e,t)=>{const i={id:t,sticky:!0,detail:e.message};503===e.statusCode?(i.severity="warn",i.summary=this.MAINTENANCE_MODE,this.messageService.add(i)):(i.severity="error",i.summary=this.ERROR,this.messageService.add(i))})})}handleClose(e){this.exceptionService.dismissException(e.id)}showExceptionDetails(e){this.exceptionService.showExceptionDetail.next(e.id)}}return e.\u0275fac=function(t){return new(t||e)(n.Sb(u.c),n.Sb(de.a),n.Sb(y.a))},e.\u0275cmp=n.Mb({type:e,selectors:[["sda-exception-stack"]],decls:2,vars:0,consts:[["showTransitionOptions","0ms","hideTransitionOptions","0ms",3,"onClose"],["pTemplate","message"],[1,"ui-toast-message-text-content",3,"click"],[1,"ui-toast-summary"],[1,"ui-toast-detail"]],template:function(e,t){1&e&&(n.Yb(0,"p-toast",0),n.hc("onClose",(function(e){return t.handleClose(e)})),n.Sc(1,ts,5,2,"ng-template",1),n.Xb())},directives:[ce.a,u.d],styles:["[_nghost-%COMP%]{z-index:1200!important}[_nghost-%COMP%], p-toast[_ngcontent-%COMP%]{position:relative}p-toast[_ngcontent-%COMP%]{cursor:pointer}p-toast[_ngcontent-%COMP%]     .ui-toast{top:70px;right:20px;width:450px;z-index:inherit!important}p-toast[_ngcontent-%COMP%]     .ui-toast-message-error{border-left:8px solid #d7142c;border-radius:2px;background-color:#3a050c;color:#fff;box-shadow:0 4px 8px rgba(0,0,0,.4)!important}p-toast[_ngcontent-%COMP%]     .ui-toast-message-warn{border-left:8px solid #f2bf25;border-radius:2px;background-color:#2f2403;color:#fff;box-shadow:0 4px 8px rgba(0,0,0,.4)!important}p-toast[_ngcontent-%COMP%]     .ui-toast-message-content{padding-right:30px}p-toast[_ngcontent-%COMP%]     .ui-toast-close-icon{top:8px;right:8px;color:#fff}p-toast[_ngcontent-%COMP%]     .ui-toast-icon{display:none}p-toast[_ngcontent-%COMP%]     .ui-toast-message-text-content{margin-left:0}"]}),e})();var ns=i("dO6S");function ss(e,t){if(1&e&&(n.Yb(0,"li",16),n.Yb(1,"span",17),n.Uc(2),n.Xb(),n.Yb(3,"span",18),n.Uc(4),n.Xb(),n.Xb()),2&e){const e=t.$implicit;n.Eb(2),n.Vc(e.key),n.Eb(2),n.Vc(e.value)}}function as(e,t){if(1&e&&(n.Yb(0,"ul",14),n.Sc(1,ss,5,2,"li",15),n.Xb()),2&e){const e=n.lc(3);n.Eb(1),n.sc("ngForOf",e.details)}}function os(e,t){if(1&e&&(n.Yb(0,"div",11),n.Tb(1,"p",12),n.Sc(2,as,2,1,"ul",13),n.Xb()),2&e){const e=n.lc(2);n.Eb(1),n.sc("innerHTML",e.currentException.message,n.Lc),n.Eb(1),n.sc("ngIf",0!==(null==e.details?null:e.details.length))}}function rs(e,t){if(1&e){const e=n.Zb();n.Yb(0,"div",19),n.Yb(1,"p",20),n.Uc(2),n.Xb(),n.Yb(3,"textarea",21,22),n.hc("ngModelChange",(function(t){return n.Kc(e),n.lc(2).manualErrorCopyText=t}))("focus",(function(){n.Kc(e);const t=n.Hc(4);return n.lc(2).selectManualBoxContents(t)})),n.Xb(),n.Xb()}if(2&e){const e=n.lc(2);n.Eb(2),n.Vc(e.ERROR_COPY_INSTRUCTIONS),n.Eb(1),n.sc("ngModel",e.manualErrorCopyText)("sdaFocus",e.loadManualCopy)}}function cs(e,t){if(1&e){const e=n.Zb();n.Yb(0,"div",23),n.Yb(1,"span",24),n.hc("click",(function(){return n.Kc(e),n.lc(2).previousException()})),n.Xb(),n.Yb(2,"span",25),n.Uc(3),n.Xb(),n.Yb(4,"span",26),n.Uc(5,"/"),n.Xb(),n.Yb(6,"span",27),n.Uc(7),n.Xb(),n.Yb(8,"span",28),n.hc("click",(function(){return n.Kc(e),n.lc(2).nextException()})),n.Xb(),n.Xb()}if(2&e){const e=n.lc(2);n.Eb(3),n.Vc(e.currentIndex+1),n.Eb(4),n.Vc(e.numberOfExceptions)}}function ls(e,t){if(1&e){const e=n.Zb();n.Yb(0,"div",2),n.Yb(1,"div",3),n.Yb(2,"h1",4),n.Uc(3),n.Xb(),n.Sc(4,os,3,2,"div",5),n.Sc(5,rs,5,3,"div",6),n.Sc(6,cs,9,2,"div",7),n.Yb(7,"div",8),n.Yb(8,"button",9),n.hc("click",(function(){return n.Kc(e),n.lc().copyToClipboard()})),n.Uc(9),n.Xb(),n.Yb(10,"button",10),n.hc("click",(function(){return n.Kc(e),n.lc().dismiss()})),n.Uc(11),n.Xb(),n.Xb(),n.Xb(),n.Xb()}if(2&e){const e=n.lc();n.Eb(1),n.Ib("small",!0),n.Eb(2),n.Vc(e.EXCEPTION_AN_ERROR_OCCURRED),n.Eb(1),n.sc("ngIf",!e.loadManualCopy),n.Eb(1),n.sc("ngIf",e.loadManualCopy),n.Eb(1),n.sc("ngIf",e.numberOfExceptions>1),n.Eb(2),n.sc("disabled",e.loadManualCopy),n.Eb(1),n.Wc(" ",e.COPY_TO_CLIPBOARD," "),n.Eb(2),n.Wc(" ",e.DISMISS," ")}}let ds=(()=>{class e{constructor(e,t,i,n,s){this.clipboardService=e,this.exceptionService=t,this.notificationService=i,this.sdaTranslateService=n,this.router=s,this.currentIndex=0,this.details=[],this.numberOfExceptions=0,this.ERROR_COPIED_TO_CLIPBOARD=this.sdaTranslateService.get("ERROR_COPIED_TO_CLIPBOARD","The error has been copied to the clipboard"),this.ERROR_COPY_INSTRUCTIONS=this.sdaTranslateService.get("ERROR_COPY_INSTRUCTIONS","Please manually copy the text below to report the exception"),this.EXCEPTION_AN_ERROR_OCCURRED=this.sdaTranslateService.get("EXCEPTION_AN_ERROR_OCCURRED","An error occurred"),this.COPY_TO_CLIPBOARD=this.sdaTranslateService.get("COPY_TO_CLIPBOARD","Copy to clipboard"),this.DISMISS=this.sdaTranslateService.get("DISMISS","Dismiss"),this.exceptionService.showExceptionDetail.subscribe(e=>this.initializeValues(e)),this.routerEventSubscription=this.router.events.pipe(Object(Hn.a)(e=>e instanceof l.d),Object(Hn.a)(()=>this.modalDisplayed)).subscribe(()=>{this.modalDisplayed=!1})}ngOnDestroy(){this.routerEventSubscription&&this.routerEventSubscription.unsubscribe()}copyToClipboard(){this.manualErrorCopyText=this.currentException.message.replace(/(<([^>]+)>)/gi,""),this.details&&this.details.forEach(e=>{this.manualErrorCopyText+="\n"+e.key,this.manualErrorCopyText+="\n"+e.value}),this.clipboardService.set(this.manualErrorCopyText)?this.notificationService.success(this.ERROR_COPIED_TO_CLIPBOARD):this.loadManualCopy=!0}dismiss(){this.exceptionService.dismissException(this.currentIndex),this.loadManualCopy=!1,0===this.exceptionService.exceptions.length?this.modalDisplayed=!1:this.initializeValues(this.exceptionService.exceptions[this.currentIndex]?this.currentIndex:this.currentIndex-1)}selectManualBoxContents(e){setTimeout(()=>{e.select()})}nextException(){this.numberOfExceptions>1&&this.currentIndex+1<this.numberOfExceptions&&(this.currentIndex+=1,this.loadManualCopy=!1,this.setException())}previousException(){this.currentIndex>0&&(this.currentIndex-=1,this.loadManualCopy=!1,this.setException())}setException(){this.currentException=this.exceptionService.exceptions[this.currentIndex],this.details=this.currentException.userDetails}initializeValues(e){this.modalDisplayed=!0,this.currentIndex=e,this.numberOfExceptions=this.exceptionService.exceptions.length,this.setException()}}return e.\u0275fac=function(t){return new(t||e)(n.Sb(si.a),n.Sb(de.a),n.Sb(Un.a),n.Sb(y.a),n.Sb(l.g))},e.\u0275cmp=n.Mb({type:e,selectors:[["sda-exception-details-modal"]],decls:2,vars:2,consts:[[3,"toggle"],["class","modal",4,"ngIf"],[1,"modal"],[1,"modal-container"],[1,"modal-container__title"],["class","exception-details",4,"ngIf"],["class","exception-copy",4,"ngIf"],["class","exception-count",4,"ngIf"],[1,"modal-actions"],["type","button",1,"modal-actions__button",3,"disabled","click"],["type","button",1,"modal-actions__button",3,"click"],[1,"exception-details"],[1,"exception-details__message",3,"innerHTML"],["class","exception-details__list",4,"ngIf"],[1,"exception-details__list"],["class","exception-errors",4,"ngFor","ngForOf"],[1,"exception-errors"],[1,"exception-errors__key"],[1,"exception-errors__value"],[1,"exception-copy"],[1,"exception-copy__info"],["readonly","readonly",1,"exception-copy__content",3,"ngModel","sdaFocus","ngModelChange","focus"],["errorText",""],[1,"exception-count"],["aria-hidden","true",1,"exception-count__pager","fa","fa-lg","fa-caret-left",3,"click"],[1,"exception-count__current"],[1,"exception-count__divider"],[1,"exception-count__max"],["aria-hidden","true",1,"exception-count__pager","fa","fa-lg","fa-caret-right",3,"click"]],template:function(e,t){1&e&&(n.Tb(0,"sda-blanket",0),n.Sc(1,ls,12,9,"div",1)),2&e&&(n.sc("toggle",t.modalDisplayed),n.Eb(1),n.sc("ngIf",t.modalDisplayed))},directives:[qn.a,p.t,p.s,a.c,a.p,a.s,ns.a],styles:[".modal-container.small[_ngcontent-%COMP%], sda-modal-body[_ngcontent-%COMP%]{overflow-x:hidden;overflow-y:auto}.modal-container__title[_ngcontent-%COMP%]{overflow:hidden;white-space:nowrap;text-overflow:ellipsis}@-webkit-keyframes slideIn{0%{margin-top:200px}to{margin-top:0}}@keyframes slideIn{0%{margin-top:200px}to{margin-top:0}}[_nghost-%COMP%]{position:relative;z-index:1000!important}[_nghost-%COMP%]     ng-component{display:flex;flex-grow:1;flex-direction:column;height:100%}sda-modal-body[_ngcontent-%COMP%]{display:flex;flex:1 1 auto;flex-direction:column;min-height:40px;color:#000}.modal[_ngcontent-%COMP%]{justify-content:center;align-items:center;position:fixed;top:0;left:0;right:0;bottom:0;display:flex}.modal-container[_ngcontent-%COMP%]{position:relative;display:flex;flex-shrink:0;flex-direction:column;min-width:420px;min-height:150px;border-radius:2px;background:#fff;overflow:hidden;-webkit-animation:slideIn .3s;animation:slideIn .3s}.modal-container.small[_ngcontent-%COMP%]{max-width:768px;max-height:400px}.modal-container.sm-md[_ngcontent-%COMP%]{width:40vw;height:40%}.modal-container.med[_ngcontent-%COMP%]{width:60vw;height:60%}.modal-container.large[_ngcontent-%COMP%]{width:80vw;height:80%}.modal-container.xlarge[_ngcontent-%COMP%]{width:95vw;height:95%}.modal-container.full[_ngcontent-%COMP%]{width:100vw;height:100%}.modal-container.tall[_ngcontent-%COMP%]{height:80%}.modal-container__cover[_ngcontent-%COMP%]{position:absolute;top:0;left:0;right:0;bottom:0}.modal-container__title[_ngcontent-%COMP%]{min-height:56px;margin:0;padding:16px 12px;font-size:20px;font-weight:500;color:#000}.modal-actions[_ngcontent-%COMP%]{display:flex;align-items:center;min-height:52px;padding:0 8px;text-align:right;justify-content:flex-end}.modal-actions__button[_ngcontent-%COMP%]{min-width:64px;margin-left:5px;border:1px solid #fff;text-transform:uppercase;color:#009eff;background-color:initial;font-weight:500;font-size:16px}.modal-actions__button[_ngcontent-%COMP%]:disabled{color:#666;cursor:not-allowed}.modal-actions__button[_ngcontent-%COMP%]:focus{border-color:#009eff}",".exception-details[_ngcontent-%COMP%]{overflow-wrap:break-word;word-wrap:break-word;word-break:break-word;overflow-x:hidden;overflow-y:auto}[_nghost-%COMP%]{position:relative;z-index:1300!important}.exception-details[_ngcontent-%COMP%]{display:flex;flex:1 1 auto;flex-direction:column;min-height:40px;max-height:250px;padding:12px;color:#000}.exception-details__message[_ngcontent-%COMP%]{flex-shrink:0}.exception-copy[_ngcontent-%COMP%]{display:flex;flex-direction:column;padding:12px}@media screen and (min-width:31.25em){.exception-copy[_ngcontent-%COMP%]{max-width:540px}}.exception-copy__info[_ngcontent-%COMP%]{margin-bottom:15px}.exception-copy__content[_ngcontent-%COMP%]{min-height:200px;font-family:consolas}.exception-count[_ngcontent-%COMP%]{position:absolute;top:16px;right:12px;text-align:center;font-size:20px}.exception-count__pager[_ngcontent-%COMP%]{display:inline-block;width:24px;height:24px;margin:0 5px;cursor:pointer}.exception-errors[_ngcontent-%COMP%]{margin-top:15px;margin-bottom:5px}.exception-errors[_ngcontent-%COMP%]:not(:first-child){margin-bottom:12px}.exception-errors__key[_ngcontent-%COMP%]{display:block;margin-bottom:5px;font-weight:500}.modal-blanket[_ngcontent-%COMP%]{position:fixed;top:0;left:0;right:0;bottom:0;background-color:rgba(0,0,0,.6)}"]}),e})();function hs(e,t){if(1&e){const e=n.Zb();n.Yb(0,"div",2),n.Yb(1,"div",3),n.Yb(2,"h1",4),n.Uc(3),n.Xb(),n.Yb(4,"div",5),n.Uc(5),n.Xb(),n.Yb(6,"div",6),n.Yb(7,"button",7),n.hc("click",(function(){return n.Kc(e),n.lc().logout()})),n.Uc(8),n.Xb(),n.Yb(9,"button",7),n.hc("click",(function(){return n.Kc(e),n.lc().resume()})),n.Uc(10),n.Xb(),n.Xb(),n.Xb(),n.Xb()}if(2&e){const e=n.lc();n.Eb(1),n.Ib("small",!0),n.Eb(2),n.Vc(e.TIMED_OUT_ERROR_TITLE),n.Eb(2),n.Vc(e.TIMED_OUT_MESSAGE),n.Eb(2),n.sc("disabled",e.interactionDisabled),n.Eb(1),n.Wc(" ",e.LOGOUT," "),n.Eb(1),n.sc("disabled",e.interactionDisabled),n.Eb(1),n.Wc(" ",e.RESUME," ")}}let us=(()=>{class e{constructor(e,t){this.sdaTranslateService=e,this.activityService=t,this.countDown=60,this.TIMED_OUT_ERROR_MESSAGE=this.sdaTranslateService.get("TIMED_OUT_ERROR_MESSAGE","You will be automatically logged out in {0} seconds."),this.TIMED_OUT_ERROR_TITLE=this.sdaTranslateService.get("TIMED_OUT_ERROR_TITLE","Your session is about to expire"),this.RESUME=this.sdaTranslateService.get("RESUME","Resume"),this.LOGOUT=this.sdaTranslateService.get("LOGOUT","Logout"),this.TIMED_OUT_MESSAGE=this.sdaTranslateService.getFormattedByString(this.TIMED_OUT_ERROR_MESSAGE,[this.countDown.toLocaleString()]),this.timedOutSubscription=this.activityService.onTimedOut.subscribe(e=>e?this.show():this.hide()),this.hide()}ngOnInit(){this.countdownSubscription=this.activityService.onTimedOutCountdown.subscribe(e=>{this.countDown=e,this.TIMED_OUT_MESSAGE=this.sdaTranslateService.getFormattedByString(this.TIMED_OUT_ERROR_MESSAGE,[this.countDown.toLocaleString()]),0===this.countDown&&this.logout()})}ngOnDestroy(){this.countdownSubscription&&this.countdownSubscription.unsubscribe(),this.timedOutSubscription&&this.timedOutSubscription.unsubscribe()}resume(){this.hide(),this.activityService.onResume()}logout(){this.hide(),this.activityService.onLogOff()}show(){this.interactionDisabled=!1,this.modalDisplayed=!0}hide(){this.interactionDisabled=!0,this.modalDisplayed=!1}}return e.\u0275fac=function(t){return new(t||e)(n.Sb(y.a),n.Sb(I.a))},e.\u0275cmp=n.Mb({type:e,selectors:[["sda-timed-out-modal"]],decls:2,vars:2,consts:[[3,"toggle"],["class","modal",4,"ngIf"],[1,"modal"],[1,"modal-container"],[1,"modal-container__title"],[1,"timed-out"],[1,"modal-actions"],["type","button",1,"modal-actions__button",3,"disabled","click"]],template:function(e,t){1&e&&(n.Tb(0,"sda-blanket",0),n.Sc(1,hs,11,8,"div",1)),2&e&&(n.sc("toggle",t.modalDisplayed),n.Eb(1),n.sc("ngIf",t.modalDisplayed))},directives:[qn.a,p.t],styles:[".modal-container.small[_ngcontent-%COMP%], sda-modal-body[_ngcontent-%COMP%]{overflow-x:hidden;overflow-y:auto}.modal-container__title[_ngcontent-%COMP%]{overflow:hidden;white-space:nowrap;text-overflow:ellipsis}@-webkit-keyframes slideIn{0%{margin-top:200px}to{margin-top:0}}@keyframes slideIn{0%{margin-top:200px}to{margin-top:0}}[_nghost-%COMP%]{position:relative;z-index:1000!important}[_nghost-%COMP%]     ng-component{display:flex;flex-grow:1;flex-direction:column;height:100%}sda-modal-body[_ngcontent-%COMP%]{display:flex;flex:1 1 auto;flex-direction:column;min-height:40px;color:#000}.modal[_ngcontent-%COMP%]{justify-content:center;align-items:center;position:fixed;top:0;left:0;right:0;bottom:0;display:flex}.modal-container[_ngcontent-%COMP%]{position:relative;display:flex;flex-shrink:0;flex-direction:column;min-width:420px;min-height:150px;border-radius:2px;background:#fff;overflow:hidden;-webkit-animation:slideIn .3s;animation:slideIn .3s}.modal-container.small[_ngcontent-%COMP%]{max-width:768px;max-height:400px}.modal-container.sm-md[_ngcontent-%COMP%]{width:40vw;height:40%}.modal-container.med[_ngcontent-%COMP%]{width:60vw;height:60%}.modal-container.large[_ngcontent-%COMP%]{width:80vw;height:80%}.modal-container.xlarge[_ngcontent-%COMP%]{width:95vw;height:95%}.modal-container.full[_ngcontent-%COMP%]{width:100vw;height:100%}.modal-container.tall[_ngcontent-%COMP%]{height:80%}.modal-container__cover[_ngcontent-%COMP%]{position:absolute;top:0;left:0;right:0;bottom:0}.modal-container__title[_ngcontent-%COMP%]{min-height:56px;margin:0;padding:16px 12px;font-size:20px;font-weight:500;color:#000}.modal-actions[_ngcontent-%COMP%]{display:flex;align-items:center;min-height:52px;padding:0 8px;text-align:right;justify-content:flex-end}.modal-actions__button[_ngcontent-%COMP%]{min-width:64px;margin-left:5px;border:1px solid #fff;text-transform:uppercase;color:#009eff;background-color:initial;font-weight:500;font-size:16px}.modal-actions__button[_ngcontent-%COMP%]:disabled{color:#666;cursor:not-allowed}.modal-actions__button[_ngcontent-%COMP%]:focus{border-color:#009eff}",".timed-out[_ngcontent-%COMP%]{overflow-wrap:break-word;word-wrap:break-word;word-break:break-word;overflow-x:hidden;overflow-y:auto}[_nghost-%COMP%]{position:relative;z-index:1400!important}.modal[_ngcontent-%COMP%], [_nghost-%COMP%]     .blanket, [_nghost-%COMP%]     sda-blanket{z-index:inherit!important}.timed-out[_ngcontent-%COMP%]{display:flex;flex:1 1 auto;flex-direction:column;min-height:40px;padding:12px;color:#000}"]}),e})();var ps=i("TLn4"),gs=i("ue3H");function fs(e,t){if(1&e&&n.Tb(0,"sda-loading-indicator",5),2&e){const e=n.lc(2);n.sc("centered",!0)("message",e.loadingMessage)}}function ms(e,t){if(1&e){const e=n.Zb();n.Yb(0,"div",6),n.Yb(1,"h4"),n.Uc(2),n.Xb(),n.Tb(3,"br"),n.Yb(4,"h5"),n.Uc(5),n.Xb(),n.Tb(6,"br"),n.Yb(7,"button",7),n.Uc(8),n.Xb(),n.Tb(9,"br"),n.Yb(10,"button",8),n.hc("click",(function(){return n.Kc(e),n.lc(2).logout()})),n.Uc(11),n.Xb(),n.Xb()}if(2&e){const e=n.lc(2);n.Eb(2),n.Vc(e.INITIALIZATION_ERROR_TITLE),n.Eb(3),n.Vc(e.INITIALIZATION_ERROR_MESSAGE),n.Eb(3),n.Wc(" ",e.RELOAD," "),n.Eb(3),n.Wc(" ",e.RETURN_TO_LOGIN," ")}}function bs(e,t){if(1&e&&(n.Yb(0,"div",2),n.Sc(1,fs,1,2,"sda-loading-indicator",3),n.Sc(2,ms,12,4,"div",4),n.Xb()),2&e){const e=n.lc();n.Eb(1),n.sc("ngIf",!e.errorInitializing),n.Eb(1),n.sc("ngIf",e.errorInitializing)}}function Ss(e,t){if(1&e&&n.Tb(0,"sda-loading-overlay",10),2&e){const e=n.lc().ngIf;n.sc("message",e.message)}}function vs(e,t){if(1&e&&(n.Wb(0),n.Sc(1,Ss,1,1,"sda-loading-overlay",9),n.Vb()),2&e){const e=t.ngIf;n.Eb(1),n.sc("ngIf",e.isLoading)}}let _s=(()=>{class e{constructor(e,t,i,n,a,o,r,c,d){this.router=e,this.securityService=t,this.initializationStatusService=i,this.exceptionService=n,this.sdaTranslateService=a,this.appNameService=o,this.windowService=r,this.httpClient=c,this.loadingOverlayService=d,this.initialized=!1,this.errorInitializing=!1,this.loadingMessage="",this.RELOAD=this.sdaTranslateService.get("RELOAD","Reload"),this.RETURN_TO_LOGIN=this.sdaTranslateService.get("RETURN_TO_LOGIN","Return to Login"),this.INITIALIZATION_CLIENT_DATA=this.sdaTranslateService.get("INITIALIZATION_CLIENT_DATA","Getting client data..."),this.INITIALIZATION_CLIENT_SERVICES=this.sdaTranslateService.get("INITIALIZATION_CLIENT_SERVICES","Getting available services..."),"undefined"!=typeof dT_&&dT_.initAngularNg&&dT_.initAngularNg(c,s.d),this.routerEventsSubscription=this.router.events.pipe(Object(Hn.a)(e=>e instanceof l.e)).subscribe(e=>{this.router.navigated?this.router.navigateByUrl(this.router.url,{replaceUrl:!0}).then(t=>{this.handleNavigationException(e,t)}):this.router.navigate(["/"]).then(t=>{this.handleNavigationException(e,t)})}),this.initializationStatusService.isInitialized.subscribe(e=>{setTimeout(()=>{this.initialized=e.isInitialized,e.isInitialized||!e.initializationMessage&&!e.exception||(this.initialiseTranslations(),e.exception?(this.errorInitializing=!0,e.exception.message&&(this.INITIALIZATION_ERROR_MESSAGE=this.INITIALIZATION_ERROR_MESSAGE_DEFAULT,e.exception.message!==this.INITIALIZATION_CLIENT_DATA&&e.exception.message!==this.INITIALIZATION_CLIENT_SERVICES&&(this.INITIALIZATION_ERROR_MESSAGE=this.checkIfLicenseError(e.exception.message)?e.exception.message:this.sdaTranslateService.getFormatted("INITIALIZATION_ERROR_MESSAGE","Run {0} Web Client diagnostics in SPF Server Manager to identify possible configuration issues. Check the browser console, client trace logs and server trace logs for more information.",[""])))):this.loadingMessage=e.initializationMessage)})})}logout(){this.securityService.logoff()}handleNavigationException(e,t){t?this.showNavigationException(e):this.routerEventsSubscription.closed||(this.routerEventsSubscription.unsubscribe(),this.showNavigationException(e),this.checkIeUrlLength(e),this.showFatalApplicationException(e))}showNavigationException(e){if(e.error.hasOwnProperty("message")&&e.error.hasOwnProperty("stack")){const t=new C.a(e.error.message);t.stack=e.error.stack,this.exceptionService.handleException(t)}else this.exceptionService.handleException(new C.a(e.error))}checkIeUrlLength(e){if(this.windowService.isBrowserIE()&&(window.location.href.split("/").slice(0,4).join("/")+"/"+e.url).length>=2048){const e=new C.a(void 0,this.sdaTranslateService.get("ROUTING_EXCEPTION_URL_LENGTH","The URL you are trying to reach is too long. Please limit your selection and try again."));this.exceptionService.handleException(e)}}showFatalApplicationException(e){const t=new C.a(void 0,this.sdaTranslateService.get("ROUTING_EXCEPTION_FATAL_APPLICATION","The previous action has caused a fatal application routing exception. Please refresh your browser to recover your session."));t.debugDetails.push(new Yn.a("attempted url",e.url)),t.debugDetails.push(new Yn.a("inner exception",e.error.toString())),this.exceptionService.handleException(t)}initialiseTranslations(){this.appNameService.applicationNameOverrides?(this.INITIALIZATION_ERROR_MESSAGE_DEFAULT=this.sdaTranslateService.getFormatted("INITIALIZATION_ERROR_MESSAGE","Run {0} Web Client diagnostics in SPF Server Manager to identify possible configuration issues. Check the browser console, client trace logs and server trace logs for more information.",[this.appNameService.applicationNameOverrides.APPLICATION_SHORT_NAME]),this.INITIALIZATION_ERROR_TITLE=this.sdaTranslateService.getFormatted("INITIALIZATION_ERROR_TITLE","An error occurred while initializing {0} Web Client",[this.appNameService.applicationNameOverrides.APPLICATION_LONG_NAME]),this.INITIALIZATION_ERROR_MESSAGE=this.INITIALIZATION_ERROR_MESSAGE_DEFAULT):(this.INITIALIZATION_ERROR_MESSAGE_DEFAULT=this.sdaTranslateService.get("INITIALIZATION_ERROR_MESSAGE_NO_INFO","An unexpected error occurred"),this.INITIALIZATION_ERROR_TITLE=this.sdaTranslateService.get("INITIALIZATION_ERROR_TITLE_NO_INFO","An Error Occurred"),this.INITIALIZATION_ERROR_MESSAGE=this.INITIALIZATION_ERROR_MESSAGE_DEFAULT)}checkIfLicenseError(e){let t=!1;return e.startsWith("License error:")&&(t=!0),t}}return e.\u0275fac=function(t){return new(t||e)(n.Sb(l.g),n.Sb(A.a),n.Sb(M.a),n.Sb(de.a),n.Sb(y.a),n.Sb(T.a),n.Sb(ii.a),n.Sb(s.a),n.Sb(Qe.a))},e.\u0275cmp=n.Mb({type:e,selectors:[["sda-app"]],decls:8,vars:4,consts:[["class","app wc-background",4,"ngIf"],[4,"ngIf"],[1,"app","wc-background"],[3,"centered","message",4,"ngIf"],["class","pre-loader",4,"ngIf"],[3,"centered","message"],[1,"pre-loader"],["type","button","onClick","window.location.reload(true)",1,"pre-loader__button"],["type","button",1,"pre-loader__button",3,"click"],[3,"message",4,"ngIf"],[3,"message"]],template:function(e,t){1&e&&(n.Tb(0,"router-outlet"),n.Sc(1,bs,3,2,"div",0),n.Tb(2,"sda-modal"),n.Tb(3,"sda-exception-stack"),n.Tb(4,"sda-exception-details-modal"),n.Tb(5,"sda-timed-out-modal"),n.Sc(6,vs,2,1,"ng-container",1),n.mc(7,"async")),2&e&&(n.Eb(1),n.sc("ngIf",!t.initialized),n.Eb(5),n.sc("ngIf",n.nc(7,2,t.loadingOverlayService.loadingOverlayChanged$)))},directives:[l.l,p.t,es,is,ds,us,ps.a,gs.a],pipes:[p.b],styles:["[_nghost-%COMP%]{position:absolute;top:0;left:0;right:0;bottom:0;overflow:hidden}.app[_ngcontent-%COMP%], [_nghost-%COMP%]{display:block}.app[_ngcontent-%COMP%]{position:relative;width:100%;height:100%;min-height:100vmin}.pre-loader[_ngcontent-%COMP%]{position:absolute;top:50%;left:50%;display:table;width:360px;height:auto;padding:30px;border-radius:25px;-webkit-transform:translate3d(-50%,-50%,0);transform:translate3d(-50%,-50%,0);background-color:hsla(0,0%,100%,.58);text-align:center}.pre-loader__button[_ngcontent-%COMP%]{margin:0 auto}  .ui-dialog{z-index:1100!important}@media screen and (max-width:59.3125em){  .ui-dialog{width:90vw!important;height:90vh!important}}@media screen and (min-width:59.375em){  .ui-dialog{width:80vw;max-width:1600px;height:85vh;max-height:1000px}}  .ui-dialog-content{height:calc(100% - 48px)}  .ui-dialog-content sda-create-class-obj-and-rel-view,   .ui-dialog-content sda-create-obj-and-rel-modal-view,   .ui-dialog-content sda-create-obj-view{height:100%}  .ui-dialog-content .form-actions{padding:0}  .ui-dialog-content sda-create-obj-and-rel-modal-view .uxt-wizard__content,   .ui-dialog-content sda-create-obj-view .uxt-wizard__content{border:1px solid #e0e0e0;border-bottom:none}  .ui-dialog-content sda-create-obj-and-rel-modal-view .uxt-wizard__footer,   .ui-dialog-content sda-create-obj-view .uxt-wizard__footer{padding:0}  .ui-dialog-content sda-form-step-view .ui-accordion{border:0!important}"]}),e})();var Os=i("swmP"),Is=i("C4gn"),Cs=i("XiP7");let Ts=(()=>{class e{constructor(e,t,i,s,a,o,r,c,l,d,h,u){this.featureSearchProvider=e,this.ftrService=t,this.exceptionService=i,this.featureSetService=s,this.featureSetNavigationService=a,this.dataRefreshService=o,this.router=r,this.configService=c,this.actionMenuProvider=l,this.sdaTranslateService=d,this.sharepointSettingService=h,this.changeDetectorRef=u,this.searchFocused=!1,this.searchFocusedChange=new n.o,this.entityTypeSelected=new n.o,this.searchProperties=[],this.ftrAvailable=!1,this.isLoading=!0,this.sharepointAvailable=!1,this.ftrOn=!1,this.SEARCH_ERROR=this.sdaTranslateService.get("SEARCH_ERROR","An error occurred performing the search")}ngOnInit(){this.enableFtrSubscription=this.ftrService.ftrEnabled$.subscribe(e=>{this.ftrAvailable=e}),this.focusSearchSubscription=this.featureSetNavigationService.focusSearchBar.subscribe(()=>{this.onSearchFocus(!0)}),this.clearSearchSubscription=this.featureSearchProvider.clearTopBarSearch.subscribe(()=>this.clearCurrentSearch()),this.selectedFeatureSetSubscription=this.featureSetService.selectedFeatureSetSubject.subscribe(e=>this.changeEntityType(e)),this.featureSetsUpdatingSubscription=this.featureSearchProvider.featureSetsUpdating.subscribe(e=>{this.setLoading(e)}),this.enableSharepointSubscription=this.sharepointSettingService.sharepointEnabled$.subscribe(e=>{this.sharepointAvailable=e})}ngOnDestroy(){this.enableFtrSubscription&&this.enableFtrSubscription.unsubscribe(),this.focusSearchSubscription&&this.focusSearchSubscription.unsubscribe(),this.clearSearchSubscription&&this.clearSearchSubscription.unsubscribe(),this.selectedFeatureSetSubscription&&this.selectedFeatureSetSubscription.unsubscribe(),this.featureSetsUpdatingSubscription&&this.featureSetsUpdatingSubscription.unsubscribe(),this.enableSharepointSubscription&&this.enableSharepointSubscription.unsubscribe()}onSearchFocus(e){this.searchFocused=e,this.searchFocusedChange.emit(e)}selectedEntityTypeChange(e){e!==this.searchEntityType&&(this.searchEntityType=e,this.populateSearchProperties()),setTimeout(()=>{this.updateEntityTypeSelected()})}populateSearchProperties(){this.searchProperties=this.searchEntityType?this.featureSearchProvider.getSearchPropertiesDefaultName(this.searchEntityType.id):[]}ftrModeChange(e){e!==this.ftrOn&&(this.ftrOn=e,this.updateEntityTypeSelected(),this.changeDetectorRef.detectChanges())}clearCurrentSearch(){this.searchProperties=[],this.searchEntityType=void 0}onSearch(e){const t=this.featureSearchProvider.featureSearchToOdataSettings(e),i=e.activeChips[0].displayName;this.router.navigate(["/results",{queryFilter:JSON.stringify(t),config:JSON.stringify(this.configService.selectedQueryConfigs),title:i}]).catch(e=>{const t=new C.a(e,this.SEARCH_ERROR,"global-search.provider","search");return this.exceptionService.handleException(t),!1}).then(e=>{null===e&&this.dataRefreshService.refreshData()}),this.featureSetService.selectFeatureSetById(this.searchEntityType.parentGroupId),this.actionMenuProvider.closeActionMenu()}changeEntityType(e){e?e.value&&e.value instanceof Os.a&&(this.searchEntityType&&e.key.name===this.searchEntityType.parentGroupId&&e.value.setName===this.searchEntityType.id||this.featureSearchProvider.featureSets.forEach(t=>{t.childFlatList.forEach(i=>{i.id===e.value.setName&&e.key.name===t.id&&(this.searchEntityType=i,this.populateSearchProperties())})})):this.clearCurrentSearch(),this.ftrModeChange(!1)}updateEntityTypeSelected(){this.isLoading||this.entityTypeSelected.emit(this.ftrOn||!!this.searchEntityType)}setLoading(e){this.isLoading=e,this.searchEntityType=void 0,this.updateEntityTypeSelected()}}return e.\u0275fac=function(t){return new(t||e)(n.Sb(qt.a),n.Sb(k.a),n.Sb(de.a),n.Sb(G.a),n.Sb(Is.a),n.Sb(Ht.a),n.Sb(l.g),n.Sb(ke.a),n.Sb(Pt.a),n.Sb(y.a),n.Sb(B.a),n.Sb(n.h))},e.\u0275cmp=n.Mb({type:e,selectors:[["sda-global-search"]],inputs:{searchFocused:"searchFocused"},outputs:{searchFocusedChange:"searchFocusedChange",entityTypeSelected:"entityTypeSelected"},decls:1,vars:10,consts:[[3,"displayFTR","displayAdvancedSearchLink","displayUseIsEqualTo","displayIncludeSharepoint","searchFocused","features","filters","selectedDataType","setIsLoading","isFtrMode","searchFocusedChange","onSearch","selectedDataTypeChange","isFtrModeChange"]],template:function(e,t){1&e&&(n.Yb(0,"sda-feature-search",0),n.hc("searchFocusedChange",(function(e){return t.onSearchFocus(e)}))("onSearch",(function(e){return t.onSearch(e)}))("selectedDataTypeChange",(function(e){return t.selectedEntityTypeChange(e)}))("isFtrModeChange",(function(e){return t.ftrModeChange(e)})),n.Xb()),2&e&&n.sc("displayFTR",t.ftrAvailable)("displayAdvancedSearchLink",!0)("displayUseIsEqualTo",!0)("displayIncludeSharepoint",t.sharepointAvailable)("searchFocused",t.searchFocused)("features",t.featureSearchProvider.featureSets)("filters",t.searchProperties)("selectedDataType",t.searchEntityType)("setIsLoading",t.isLoading)("isFtrMode",t.ftrOn)},directives:[Cs.a],encapsulation:2}),e})();var Es=i("U7l/");let ys=(()=>{class e{constructor(e,t,i,n,s,a){this.securityService=e,this.userTrayService=t,this.sdaTranslateService=i,this.helpService=n,this.router=s,this.changePasswordService=a,this.changePasswordEnabled=!1,this.USERNAME=this.securityService.getUserName(),this.LOGGED_IN_AS=this.sdaTranslateService.get("LOGGED_IN_AS","Logged in as:"),this.HELP_DISPLAY=this.sdaTranslateService.get("SIDE_MENU_HELP_DISPLAY","Help"),this.ABOUT_DISPLAY=this.sdaTranslateService.get("SIDE_MENU_ABOUT_DISPLAY","About"),this.LOGOUT_DISPLAY=this.sdaTranslateService.get("SIDE_MENU_LOGOUT_DISPLAY","Log out"),this.CHANGE_PASSWORD=this.sdaTranslateService.get("CHANGE_PASSWORD","Change Password")}ngOnInit(){this.changePasswordService.isChangePasswordEnabled().subscribe(e=>this.changePasswordEnabled=e)}showHelp(){this.helpService.showHelp(this.helpService.contextHelpId),this.userTrayService.toggleUserTrayVisibility(!1)}changePassword(){this.changePasswordEnabled&&this.router.navigate(["/settings/changepassword"])}logOut(){this.securityService.logoff(),this.userTrayService.toggleUserTrayVisibility(!1)}}return e.\u0275fac=function(t){return new(t||e)(n.Sb(A.a),n.Sb(zt),n.Sb(y.a),n.Sb(ui.a),n.Sb(l.g),n.Sb(vt.a))},e.\u0275cmp=n.Mb({type:e,selectors:[["sda-user-tray"]],decls:18,vars:7,consts:[[1,"user-tray"],[1,"welcome-message"],[1,"welcome-message__user"],[1,"user-tray__nav"],[1,"user-tray__item",3,"click"],["svgIcon","help",1,"user-tray__icon"],[1,"user-tray__data"],["svgIcon","lock",1,"user-tray__icon"],["id","logout",1,"user-tray__item",3,"click"],["svgIcon","export",1,"user-tray__icon"]],template:function(e,t){1&e&&(n.Yb(0,"div",0),n.Yb(1,"p",1),n.Uc(2),n.Yb(3,"span",2),n.Uc(4),n.Xb(),n.Xb(),n.Yb(5,"nav",3),n.Yb(6,"a",4),n.hc("click",(function(){return t.showHelp()})),n.Tb(7,"mat-icon",5),n.Yb(8,"span",6),n.Uc(9),n.Xb(),n.Xb(),n.Yb(10,"a",4),n.hc("click",(function(){return t.changePassword()})),n.Tb(11,"mat-icon",7),n.Yb(12,"span",6),n.Uc(13),n.Xb(),n.Xb(),n.Yb(14,"a",8),n.hc("click",(function(){return t.logOut()})),n.Tb(15,"mat-icon",9),n.Yb(16,"span",6),n.Uc(17),n.Xb(),n.Xb(),n.Xb(),n.Xb()),2&e&&(n.Eb(2),n.Wc(" ",t.LOGGED_IN_AS," "),n.Eb(2),n.Vc(t.USERNAME),n.Eb(5),n.Vc(t.HELP_DISPLAY),n.Eb(1),n.Ib("user-tray__item--disabled",!t.changePasswordEnabled),n.Eb(3),n.Vc(t.CHANGE_PASSWORD),n.Eb(4),n.Vc(t.LOGOUT_DISPLAY))},directives:[en.a],styles:["[_nghost-%COMP%]{display:flex;flex-direction:column;width:200px;border-radius:5px 0 5px 5px;overflow:hidden}.user-tray__item[_ngcontent-%COMP%]{display:flex;align-items:center;height:42px;padding:0 10px;color:#222;font-size:14px;cursor:pointer;transition:background .35s}.user-tray__item--disabled[_ngcontent-%COMP%]{pointer-events:none}.user-tray__item--disabled[_ngcontent-%COMP%]   .user-tray__data[_ngcontent-%COMP%], .user-tray__item--disabled[_ngcontent-%COMP%]   .user-tray__icon[_ngcontent-%COMP%]{opacity:.5}.user-tray__item[_ngcontent-%COMP%]:hover{background:#f5f5f5}.user-tray__item[_ngcontent-%COMP%]:not(:only-child){border-top:1px solid #cad0d7}.user-tray__icon[_ngcontent-%COMP%]{width:14px;height:14px;margin-right:8px}.user-tray__data[_ngcontent-%COMP%]{white-space:nowrap}.user-tray__data[_ngcontent-%COMP%], .welcome-message[_ngcontent-%COMP%]{overflow:hidden;text-overflow:ellipsis}.welcome-message[_ngcontent-%COMP%]{padding:10px;color:#222}.welcome-message__user[_ngcontent-%COMP%]{font-weight:500}"]}),e})();function Ps(e,t){1&e&&(n.kc(),n.Yb(0,"svg",19),n.Tb(1,"path",20),n.Xb())}function xs(e,t){1&e&&(n.kc(),n.Yb(0,"svg",21),n.Tb(1,"path",22),n.Xb())}function As(e,t){1&e&&(n.kc(),n.Yb(0,"svg",23),n.Tb(1,"path",24),n.Xb())}let ws=(()=>{class e{constructor(e,t,i,n,s,a,o,r,c,l){this.rolesService=e,this.securityService=t,this.userTrayService=i,this.sdaTranslateService=n,this.exceptionService=s,this.router=a,this.eventHelpersService=o,this.windowService=r,this.configDataService=c,this.rolesRespository=l,this.NOT_SET=this.sdaTranslateService.get("NOT_SET","Not Set"),this.RESETTING_CONFIGS_ERROR_MESSAGE=this.sdaTranslateService.get("RESETTING_CONFIGS_ERROR_MESSAGE","An error occurred resetting the configs"),this.RESETTING_ROLES_ERROR_MESSAGE=this.sdaTranslateService.get("RESETTING_ROLES_ERROR_MESSAGE","An error occurred resetting roles"),this.ON_CONFIG_UPDATE_INFO_MESSAGE=this.sdaTranslateService.get("ON_CONFIG_UPDATE_INFO_MESSAGE","Configurations and feature sets have updated"),this.QUERY_LABEL=this.sdaTranslateService.get("QUERY_LABEL","QUERY SCOPE"),this.CREATE_LABEL=this.sdaTranslateService.get("CREATE_LABEL","CREATE SCOPE"),this.ROLE_LABEL=this.sdaTranslateService.get("ROLE_LABEL","ACTIVE ROLE"),this.queryConfigLabel=this.NOT_SET,this.queryConfigTitle=this.NOT_SET,this.createConfigLabel=this.NOT_SET,this.createConfigTitle=this.NOT_SET,this.rolesLabel=this.NOT_SET,this.openDropdown="",this.queryScopes=[],this.userNameLabel=this.securityService.getUserName(),this.configDataService.configs$.subscribe(e=>{this.updateScopes(e)},e=>{const t=new C.a(e,this.RESETTING_CONFIGS_ERROR_MESSAGE,"topbar.component","constructor");this.exceptionService.handleException(t)}),this.rolesRespository.roles$.subscribe(()=>{this.updateForChangedRoles()},e=>{const t=new C.a(e,this.RESETTING_ROLES_ERROR_MESSAGE,"topbar.component","constructor");this.exceptionService.handleException(t)}),this.toggleUserTraySubscription=this.userTrayService.toggleUserTraySubject.subscribe(()=>this.toggleUserTray()),this.windowService.Window.addEventListener("click",e=>{this.openDropdown&&!this.eventHelpersService.checkParentNode(e.target,["topbar__item"])&&(this.openDropdown="")})}ngOnDestroy(){this.toggleUserTraySubscription.unsubscribe()}navigateToSettings(){this.router.navigate(["/settings"])}navigateToRoles(){this.router.navigate(["/settings/roles"])}toggleDropdown(e){this.openDropdown=this.openDropdown!==e?e:""}toggleUserTray(){"user"===this.openDropdown&&(this.openDropdown="")}showUserIcon(){return 1===this.rolesService.selectedRoles.length}showUsersIcon(){return this.rolesService.selectedRoles.length>1}showUserPlusIcon(){return 0===this.rolesService.selectedRoles.length}updateScopes(e){e&&(this.setCreateConfig(e),this.setQueryConfig(e))}setCreateConfig(e){this.createConfigLabel=this.NOT_SET,this.createConfigTitle=this.NOT_SET,this.createScope=e.find(e=>e.CreateSelected&&e.CanUserSetCreateConfig),this.createScope&&this.createScope.ConfigUID!==Es.b&&(this.createConfigLabel=this.createScope.DisplayName,this.createConfigTitle=this.createConfigLabel,this.createScope.Description&&(this.createConfigTitle+="\n"+this.createScope.Description))}setQueryConfig(e){this.queryConfigLabel=this.NOT_SET,this.queryConfigTitle=this.NOT_SET,this.queryScopes=e.filter(e=>e.QuerySelected&&e.CanUserSelectConfig),this.queryScopes&&1===this.queryScopes.length&&this.queryScopes[0].ConfigUID!==Es.b?(this.queryConfigLabel=this.queryScopes[0].DisplayName,this.queryConfigTitle=this.queryConfigLabel,this.queryScopes[0].Description&&(this.queryConfigTitle+="\n"+this.queryScopes[0].Description)):this.queryScopes.length>1&&(this.queryConfigLabel=this.sdaTranslateService.getFormatted("SELECTED-COUNT","{0} Selected",[this.queryScopes.length.toString()]),this.queryConfigTitle=this.queryConfigLabel)}updateForChangedRoles(){this.rolesLabel=this.rolesService.selectedRoles&&this.rolesService.selectedRoles.length>0?1===this.rolesService.selectedRoles.length?this.rolesService.selectedRoles[0].DisplayName:this.sdaTranslateService.getFormatted("SELECTED-COUNT","{0} Selected",[this.rolesService.selectedRoles.length.toString()]):this.NOT_SET}}return e.\u0275fac=function(t){return new(t||e)(n.Sb(Ot.a),n.Sb(A.a),n.Sb(zt),n.Sb(y.a),n.Sb(de.a),n.Sb(l.g),n.Sb(pi),n.Sb(ii.a),n.Sb(U.a),n.Sb(j.a))},e.\u0275cmp=n.Mb({type:e,selectors:[["sda-topbar-info"]],decls:31,vars:16,consts:[[1,"topbar"],["id","query-config",1,"topbar__info",3,"title","click"],["width","22","height","22","xmlns","http://www.w3.org/2000/svg","viewBox","0 0 24 24",1,"topbar-icon"],["d","M11,3.5a1.5,1.5,0,0,0-3,0V8l3,2.25V3.5Z"],["d","M15,3.5a1.5,1.5,0,0,0-3,0V8l3,2.25V3.5Z"],["d","M20,13l-4-3v3l-4-3v3L8,10v3L4,10v3a2,2,0,0,0-2,2v5a2,2,0,0,0,2,2H20a2,2,0,0,0,2-2V15A2,2,0,0,0,20,13Z"],[1,"topbar-label"],[1,"topbar-content"],["id","create-config",1,"topbar__info",3,"title","click"],["width","22","height","22","viewBox","0 0 1792 1792","xmlns","http://www.w3.org/2000/svg",1,"topbar-icon"],["d","M1600 736v192q0 40-28 68t-68 28h-416v416q0 40-28 68t-68 28h-192q-40 0-68-28t-28-68v-416h-416q-40 0-68-28t-28-68v-192q0-40 28-68t68-28h416v-416q0-40 28-68t68-28h192q40 0 68 28t28 68v416h416q40 0 68 28t28 68z"],[1,"topbar__info",3,"title","click"],["class","topbar-icon topbar-icon--user","width","22","height","22","viewBox","0 0 1792 1792","xmlns","http://www.w3.org/2000/svg",4,"ngIf"],["class","topbar-icon topbar-icon--users","width","22","height","22","viewBox","0 0 2048 1792","xmlns","http://www.w3.org/2000/svg",4,"ngIf"],["class","topbar-icon topbar-icon--user-plus","width","22","height","22","viewBox","0 0 2048 1792","xmlns","http://www.w3.org/2000/svg",4,"ngIf"],[1,"topbar__item","topbar__item--user",3,"title"],[1,"topbar__button",3,"click"],[1,"topbar__text"],[1,"topbar__dropdown"],["width","22","height","22","viewBox","0 0 1792 1792","xmlns","http://www.w3.org/2000/svg",1,"topbar-icon","topbar-icon--user"],["d","M1536 1399q0 109-62.5 187t-150.5 78h-854q-88 0-150.5-78t-62.5-187q0-85 8.5-160.5t31.5-152 58.5-131 94-89 134.5-34.5q131 128 313 128t313-128q76 0 134.5 34.5t94 89 58.5 131 31.5 152 8.5 160.5zm-256-887q0 159-112.5 271.5t-271.5 112.5-271.5-112.5-112.5-271.5 112.5-271.5 271.5-112.5 271.5 112.5 112.5 271.5z"],["width","22","height","22","viewBox","0 0 2048 1792","xmlns","http://www.w3.org/2000/svg",1,"topbar-icon","topbar-icon--users"],["d","M657 896q-162 5-265 128h-134q-82 0-138-40.5t-56-118.5q0-353 124-353 6 0 43.5 21t97.5 42.5 119 21.5q67 0 133-23-5 37-5 66 0 139 81 256zm1071 637q0 120-73 189.5t-194 69.5h-874q-121 0-194-69.5t-73-189.5q0-53 3.5-103.5t14-109 26.5-108.5 43-97.5 62-81 85.5-53.5 111.5-20q10 0 43 21.5t73 48 107 48 135 21.5 135-21.5 107-48 73-48 43-21.5q61 0 111.5 20t85.5 53.5 62 81 43 97.5 26.5 108.5 14 109 3.5 103.5zm-1024-1277q0 106-75 181t-181 75-181-75-75-181 75-181 181-75 181 75 75 181zm704 384q0 159-112.5 271.5t-271.5 112.5-271.5-112.5-112.5-271.5 112.5-271.5 271.5-112.5 271.5 112.5 112.5 271.5zm576 225q0 78-56 118.5t-138 40.5h-134q-103-123-265-128 81-117 81-256 0-29-5-66 66 23 133 23 59 0 119-21.5t97.5-42.5 43.5-21q124 0 124 353zm-128-609q0 106-75 181t-181 75-181-75-75-181 75-181 181-75 181 75 75 181z"],["width","22","height","22","viewBox","0 0 2048 1792","xmlns","http://www.w3.org/2000/svg",1,"topbar-icon","topbar-icon--user-plus"],["d","M704 896q-159 0-271.5-112.5t-112.5-271.5 112.5-271.5 271.5-112.5 271.5 112.5 112.5 271.5-112.5 271.5-271.5 112.5zm960 128h352q13 0 22.5 9.5t9.5 22.5v192q0 13-9.5 22.5t-22.5 9.5h-352v352q0 13-9.5 22.5t-22.5 9.5h-192q-13 0-22.5-9.5t-9.5-22.5v-352h-352q-13 0-22.5-9.5t-9.5-22.5v-192q0-13 9.5-22.5t22.5-9.5h352v-352q0-13 9.5-22.5t22.5-9.5h192q13 0 22.5 9.5t9.5 22.5v352zm-736 224q0 52 38 90t90 38h256v238q-68 50-171 50h-874q-121 0-194-69t-73-190q0-53 3.5-103.5t14-109 26.5-108.5 43-97.5 62-81 85.5-53.5 111.5-20q19 0 39 17 79 61 154.5 91.5t164.5 30.5 164.5-30.5 154.5-91.5q20-17 39-17 132 0 217 96h-223q-52 0-90 38t-38 90v192z"]],template:function(e,t){1&e&&(n.Yb(0,"div",0),n.Yb(1,"div",1),n.hc("click",(function(){return t.navigateToSettings()})),n.kc(),n.Yb(2,"svg",2),n.Tb(3,"path",3),n.Tb(4,"path",4),n.Tb(5,"path",5),n.Xb(),n.jc(),n.Yb(6,"label",6),n.Uc(7),n.Xb(),n.Yb(8,"span",7),n.Uc(9),n.Xb(),n.Xb(),n.Yb(10,"div",8),n.hc("click",(function(){return t.navigateToSettings()})),n.kc(),n.Yb(11,"svg",9),n.Tb(12,"path",10),n.Xb(),n.jc(),n.Yb(13,"label",6),n.Uc(14),n.Xb(),n.Yb(15,"span",7),n.Uc(16),n.Xb(),n.Xb(),n.Yb(17,"div",11),n.hc("click",(function(){return t.navigateToRoles()})),n.Sc(18,Ps,2,0,"svg",12),n.Sc(19,xs,2,0,"svg",13),n.Sc(20,As,2,0,"svg",14),n.Yb(21,"label",6),n.Uc(22),n.Xb(),n.Yb(23,"span",7),n.Uc(24),n.Xb(),n.Xb(),n.Yb(25,"div",15),n.Yb(26,"div",16),n.hc("click",(function(){return t.toggleDropdown("user")})),n.Yb(27,"div",17),n.Uc(28),n.Xb(),n.Xb(),n.Yb(29,"div",18),n.Tb(30,"sda-user-tray"),n.Xb(),n.Xb(),n.Xb()),2&e&&(n.Eb(1),n.sc("title",t.queryConfigTitle),n.Eb(6),n.Vc(t.QUERY_LABEL),n.Eb(2),n.Wc(" ",t.queryConfigLabel," "),n.Eb(1),n.sc("title",t.createConfigTitle),n.Eb(4),n.Vc(t.CREATE_LABEL),n.Eb(2),n.Wc(" ",t.createConfigLabel," "),n.Eb(1),n.sc("title",t.rolesLabel),n.Eb(1),n.sc("ngIf",t.showUserIcon()),n.Eb(1),n.sc("ngIf",t.showUsersIcon()),n.Eb(1),n.sc("ngIf",t.showUserPlusIcon()),n.Eb(2),n.Vc(t.ROLE_LABEL),n.Eb(2),n.Vc(t.rolesLabel),n.Eb(1),n.Ib("topbar__item--active","user"===t.openDropdown),n.sc("title",t.userNameLabel),n.Eb(3),n.Vc(t.userNameLabel))},directives:[p.t,ys],styles:['.topbar-content[_ngcontent-%COMP%], .topbar-label[_ngcontent-%COMP%], .topbar__text[_ngcontent-%COMP%]{overflow:hidden;white-space:nowrap;text-overflow:ellipsis}.topbar__button[_ngcontent-%COMP%]:before, .topbar__info[_ngcontent-%COMP%]:not(:first-of-type):before{content:"";position:absolute;top:50%;left:-10px;width:1px;height:20px;background:rgba(0,0,0,.4);-webkit-transform:translate3d(0,-50%,0);transform:translate3d(0,-50%,0)}@media screen and (max-width:75em){.topbar__button[_ngcontent-%COMP%]:before, .topbar__info[_ngcontent-%COMP%]:not(:first-of-type):before{height:12px}}.topbar[_ngcontent-%COMP%]{display:flex;align-items:center;flex:0 0 auto}.topbar__item[_ngcontent-%COMP%]{position:relative}@media screen and (min-width:87.5625em){.topbar__item[_ngcontent-%COMP%]{max-width:186px}}@media screen and (max-width:87.5em){.topbar__item[_ngcontent-%COMP%]{max-width:155px}}.topbar__item--user[_ngcontent-%COMP%]   .topbar__button[_ngcontent-%COMP%]{-webkit-user-select:none;-ms-user-select:none;user-select:none}.topbar__item--user[_ngcontent-%COMP%]   .topbar__dropdown[_ngcontent-%COMP%]{top:34px}.topbar__item--active[_ngcontent-%COMP%]   .topbar__button[_ngcontent-%COMP%]{color:rgba(0,0,0,.5);text-shadow:none;background:#fff;border-radius:5px 5px 0 0}.topbar__item--active[_ngcontent-%COMP%]   .topbar__dropdown[_ngcontent-%COMP%]{display:block}.topbar__item--active[_ngcontent-%COMP%]   .topbar__text[_ngcontent-%COMP%]{color:#1f2429}.topbar__info[_ngcontent-%COMP%]{position:relative;display:flex;flex-direction:column;max-height:42px;margin-right:20px;padding:6px 8px;cursor:pointer;border-radius:5px}@media screen and (min-width:87.5625em){.topbar__info[_ngcontent-%COMP%]{max-width:186px}}@media screen and (max-width:87.5em){.topbar__info[_ngcontent-%COMP%]{max-width:155px}}@media screen and (min-width:75.0625em){.topbar__info[_ngcontent-%COMP%]{width:100%;padding-left:36px}}.topbar__info[_ngcontent-%COMP%]:hover{background:rgba(0,0,0,.4)}.topbar__button[_ngcontent-%COMP%]{position:relative;padding:8px 10px 9px;border-radius:5px;font-size:21px;cursor:pointer;text-shadow:0 1px 0 rgba(0,0,0,.4)}.topbar__button[_ngcontent-%COMP%]:hover{background:rgba(0,0,0,.4)}.topbar__button--first[_ngcontent-%COMP%]:before{display:none}.topbar__button--disabled[_ngcontent-%COMP%]{cursor:default}.topbar__button--disabled[_ngcontent-%COMP%]:hover{background:transparent}.topbar__dropdown[_ngcontent-%COMP%]{position:absolute;top:42px;right:0;display:none;background:#fff;border-radius:5px 0 5px 5px;box-shadow:0 3px 7px rgba(0,0,0,.1);z-index:100!important}.topbar__text[_ngcontent-%COMP%]{max-width:60px;font-size:14px;font-weight:500;color:#fff}.topbar-icon[_ngcontent-%COMP%]{width:20px;height:20px;text-shadow:0 1px 0 rgba(0,0,0,.4)}@media screen and (min-width:75.0625em){.topbar-icon[_ngcontent-%COMP%]{position:absolute;top:50%;left:6px;width:24px;height:24px;-webkit-transform:translateY(-50%);transform:translateY(-50%)}}.topbar-icon[_ngcontent-%COMP%]   path[_ngcontent-%COMP%]{fill:#fff}.topbar-label[_ngcontent-%COMP%]{display:block;text-transform:uppercase;cursor:inherit;font-size:11px;color:hsla(0,0%,100%,.5)}@media screen and (max-width:75em){.topbar-label[_ngcontent-%COMP%]{display:none}}.topbar-content[_ngcontent-%COMP%]{display:block;color:hsla(0,0%,100%,.9);font-size:14px;font-weight:500;text-shadow:0 1px 0 rgba(0,0,0,.4)}@media screen and (max-width:75em){.topbar-content[_ngcontent-%COMP%]{display:none}}']}),e})();var Ms=i("itXk"),Ds=i("Kj3r");function Ns(e,t){if(1&e){const e=n.Zb();n.Yb(0,"button",23),n.hc("click",(function(){return n.Kc(e),n.lc().navigateToAlternativeHome()})),n.Tb(1,"mat-icon",24),n.Xb()}if(2&e){const e=n.lc();n.sc("title",e.alternativeHomeTitle),n.Eb(1),n.sc("svgIcon",e.alternativeHomeIcon)}}function Rs(e,t){if(1&e){const e=n.Zb();n.Yb(0,"button",25),n.hc("click",(function(){return n.Kc(e),n.lc().toggleClaimboardMenu()})),n.Tb(1,"mat-icon",26),n.Xb()}if(2&e){const e=n.lc();n.Ib("side-bar__button--active","Claimboard"===e.currentSelectedIconName()),n.sc("title",e.getClaimTitle()),n.Eb(1),n.sc("matBadge",e.claimCount)("matBadgeHidden",0===e.claimCount)}}function Ls(e,t){if(1&e){const e=n.Zb();n.Yb(0,"button",27),n.hc("click",(function(){return n.Kc(e),n.lc().toggleToDoListMenu()})),n.Tb(1,"mat-icon",28),n.Xb()}if(2&e){const e=n.lc();n.Ib("side-bar__button--active","TODOListItem"===e.currentSelectedIconName()),n.sc("title",e.SIDE_MENU_TODOS_DISPLAY),n.Eb(1),n.sc("matBadge",e.todoListItemsCount)("matBadgeHidden",e.todoListItemsCount<1)}}let Fs=(()=>{class e{constructor(e,t,i,n,s,a,o,r,c,l,d,h,u,p,g,f){this.router=e,this.sdaTranslateService=t,this.location=i,this.contentMenuService=n,this.pinsMenuService=s,this.notificationsService=a,this.featureSetService=o,this.actionsMenuService=r,this.actionsMenuProvider=c,this.featureSearchProvider=l,this.helpService=d,this.todoListService=h,this.claimboardService=u,this.preferencesService=p,this.serverInformationService=g,this.changeDetectorRef=f,this.enableActions=!1,this.displayClaimboardMenu=!1,this.displayPinsBadge=!1,this.claimCount=0,this.unreadNotificationCount=0,this.todoListItemsCount=0,this.isSdx=!1,this.alternativeHomeIcon="dashboard",this.alternativeHomeTitle=this.sdaTranslateService.get("SIDE_MENU_DASHBOARD_DISPLAY","Dashboards"),this.SIDE_MENU_HOME_DISPLAY=this.sdaTranslateService.get("SIDE_MENU_HOME_DISPLAY","Home"),this.SIDE_MENU_BACK_DISPLAY=this.sdaTranslateService.get("SIDE_MENU_BACK_DISPLAY","Back"),this.SIDE_MENU_TODOS_DISPLAY=this.sdaTranslateService.get("SIDE_MENU_TODOLIST_DISPLAY","To Do List: Scope"),this.SIDE_MENU_QUERY_DISPLAY=this.sdaTranslateService.get("SIDE_MENU_QUERY_DISPLAY","Advanced Search"),this.SIDE_MENU_SETTINGS_DISPLAY=this.sdaTranslateService.get("SIDE_MENU_SETTINGS_DISPLAY","Settings"),this.SIDE_MENU_HELP_DISPLAY=this.sdaTranslateService.get("SIDE_MENU_HELP_DISPLAY","Help"),this.SIDE_MENU_DASHBOARD_DISPLAY=this.sdaTranslateService.get("SIDE_MENU_DASHBOARD_DISPLAY","Dashboards"),this.SIDE_MENU_FEATURE_SETS_DISPLAY=this.sdaTranslateService.get("SIDE_MENU_FEATURE_SETS_DISPLAY","Feature Sets"),this.PINBOARD_TEXT=this.sdaTranslateService.get("PINS_PINBOARD","Pinboard"),this.SIDE_MENU_ACTIONS_DISPLAY=this.sdaTranslateService.get("ACTIONS_MENU_TITLE","Actions"),this.SIDE_MENU_NOTIFICATIONS_DISPLAY=this.sdaTranslateService.get("NOTIFICATIONS","Notifications"),this.SIDE_MENU_ALLFEATURESETS_DISPLAY=this.sdaTranslateService.get("SIDE_MENU_ALLFEATURESETS_DISPLAY","All feature sets"),this.SIDE_MENU_DASHBOARD_ICON="dashboard",this.SIDE_MENU_FEATURE_SETS_ICON="feature-set",this.dashboardIsDefaultHomePage=!1,this.currentSelectedButton="",this.showToDoActionsMenuSubject=new Wt.a,this.newPinsCount=0,this.pinboardPinsCount=0}ngOnInit(){this.actionsMenuProvider.hasItemsSubject.subscribe(e=>this.changeActionsButtonState(e)),this.featureSetService.selectedFeatureSetSubject.subscribe(e=>{this.activeFeatureSetName=e&&e.key&&!this.featureSetService.verifyHiddenFromHomeSet(e.key.name)?e.key.displayName:this.SIDE_MENU_ALLFEATURESETS_DISPLAY}),this.notificationsService.notificationsSubscription.subscribe(e=>{e.length&&("Notifications"===this.currentSelectedButton?this.notificationsService.markAsRead():"/notifications"!==this.router.url&&(this.unreadNotificationCount=this.notificationsService.getUnreadCount(e)))}),this.notificationsService.readSubscription.subscribe(()=>this.unreadNotificationCount=0),this.serverInformationSubscription=this.serverInformationService.isDatabaseSDX().pipe(Object(_.a)(e=>this.isSdx=e),Object(v.a)(e=>e?this.preferencesService.preferencesChanged$:Object(S.a)(void 0))).subscribe(e=>{e&&this.configureAlternativeHomeAction(e)}),this.showToDoActionsMenuSubjectSubscription=this.showToDoActionsMenuSubject.pipe(Object(Ds.a)(250),Object(_.a)(()=>{this.contentMenuService.showToDoActionsMenu(!0)})).subscribe(),this.todoListService.toDoListStepsCount$.subscribe(e=>{this.todoListItemsCount=e}),this.updatePinsTitle(),Object(Ms.a)(this.pinsMenuService.selectedPinGroupPinsChanges$,this.pinsMenuService.newItemPinsChanges$).subscribe(e=>{this.pinboardPinsCount=e[0].length,this.newPinsCount=e[1].length,this.updatePinsTitle()}),this.pinsMenuService.newItemsAdded$.subscribe(e=>{this.displayPinsBadge=e,this.changeDetectorRef.detectChanges()}),this.pinsMenuService.initialize(),this.initializeClaimboardMenu()}ngOnDestroy(){this.showToDoActionsMenuSubject.unsubscribe(),this.showToDoActionsMenuSubjectSubscription.unsubscribe(),this.serverInformationSubscription.unsubscribe()}toggleActionsMenu(){this.actionsMenuService.canShowToDoActionsMenu()?this.contentMenuService.isToDoActionsMenuOpen()?this.contentMenuService.showToDoActionsMenu(!0):this.showToDoActionsMenuSubject.next():this.contentMenuService.showActionsMenu(!0)}toggleFeatureSetMenu(){this.contentMenuService.toggleFeatureSetMenu()}togglePinsMenu(){this.contentMenuService.togglePinsMenu()}toggleClaimboardMenu(){this.contentMenuService.toggleClaimboardMenu()}toggleNotificationsMenu(){this.contentMenuService.toggleNotificationsMenu(),this.currentSelectedButton!==this.contentMenuService.notificationsMenu.id&&(this.notificationsService.getNotifications(Settings.application.defaultPageSize,0),this.notificationsService.markAsRead())}toggleToDoListMenu(){this.contentMenuService.showTodoListMenu()}goToQueryForm(){this.contentMenuService.toggleQueriesMenu()}navigateHome(){this.prepareForNavigation(),this.router.navigate(["/home"])}navigateToAlternativeHome(){this.prepareForNavigation(),this.router.navigate(this.dashboardIsDefaultHomePage?["/feature-sets"]:["/dashboards"])}navigateBack(){this.actionsMenuProvider.clearAndCloseActionsMenu(),this.location.back()}currentSelectedIconName(){return this.currentSelectedButton=this.contentMenuService.currentContentMenuItem&&this.contentMenuService.currentContentMenuItem.id?this.contentMenuService.currentContentMenuItem.id:"",this.currentSelectedButton}navigateSettings(){this.router.navigate(["/settings"])}navigateHelp(){this.helpService.showHelp(this.helpService.contextHelpId)}getActionsTitle(){if(this.enableActions&&this.actionsMenuProvider.length()){const e=this.actionsMenuProvider.length().toString();return"1"===e?this.sdaTranslateService.getFormatted("ONLY_ITEM_SELECTED","{0} item selected",[e]):this.sdaTranslateService.getFormatted("NUMBER_OF_ITEMS_SELECTED","{0} items selected",[e])}return this.SIDE_MENU_ACTIONS_DISPLAY}getClaimTitle(){return this.claimCount<1?this.sdaTranslateService.get("CLAIMBOARD_NO_ITEMS_READY","Items to claim"):1===this.claimCount?this.sdaTranslateService.get("CLAIMBOARD_ONE_ITEM_READY","1 item ready to be claimed"):this.sdaTranslateService.getFormatted("CLAIMBOARD_MULTI_ITEMS_READY","{0} items ready to be claimed",[this.claimCount.toString()])}getNotificationsTitle(){if(this.unreadNotificationCount>=1){const e=this.unreadNotificationCount.toString();return"1"===e?this.sdaTranslateService.getFormatted("NEW_NOTIFICATION","{0} new notification",[e]):this.sdaTranslateService.getFormatted("NEW_NOTIFICATIONS","{0} new notifications",[e])}return this.SIDE_MENU_NOTIFICATIONS_DISPLAY}updatePinsTitle(){const e=this.pinsMenuService.selectedPinGroupValue?this.pinsMenuService.selectedPinGroupValue.name:this.PINBOARD_TEXT,t=1===this.newPinsCount?this.sdaTranslateService.getFormatted("PINS_NEW_ITEMS_COUNT","{0} new item",[this.newPinsCount.toString()]):this.sdaTranslateService.getFormatted("PINS_NEW_ITEMS_COUNTS","{0} new items",[this.newPinsCount.toString()]),i=1===this.pinboardPinsCount?this.sdaTranslateService.getFormatted("PINS_PINBOARD_COUNT","{0} '{1}' pin",[this.pinboardPinsCount.toString(),e]):this.sdaTranslateService.getFormatted("PINS_PINBOARD_COUNTS","{0} '{1}' pins",[this.pinboardPinsCount.toString(),e]);this.pinsTitle=t+"\n"+i}prepareForNavigation(){this.featureSetService.allFeatureSets.length>1&&this.featureSetService.selectFeatureSet(void 0),this.featureSearchProvider.clearTopBarSearch.next()}changeActionsButtonState(e){setTimeout(()=>this.enableActions=e)}initializeClaimboardMenu(){this.claimboardService.claimItemsChange$.subscribe(e=>{this.claimCount=e.length}),this.claimboardService.claimEnabledChange$.subscribe(e=>this.displayClaimboardMenu=e)}configureAlternativeHomeAction(e){e&&(e.DashboardIsDefaultHomePage?(this.alternativeHomeIcon=this.SIDE_MENU_FEATURE_SETS_ICON,this.alternativeHomeTitle=this.SIDE_MENU_FEATURE_SETS_DISPLAY):(this.alternativeHomeIcon=this.SIDE_MENU_DASHBOARD_ICON,this.alternativeHomeTitle=this.SIDE_MENU_DASHBOARD_DISPLAY),this.dashboardIsDefaultHomePage=e.DashboardIsDefaultHomePage)}}return e.\u0275fac=function(t){return new(t||e)(n.Sb(l.g),n.Sb(y.a),n.Sb(p.n),n.Sb(Nn.a),n.Sb(Xt.a),n.Sb(gt.a),n.Sb(G.a),n.Sb(xt.a),n.Sb(Pt.a),n.Sb(qt.a),n.Sb(ui.a),n.Sb(Tt.a),n.Sb(ct.a),n.Sb(Y.a),n.Sb(q.a),n.Sb(n.h))},e.\u0275cmp=n.Mb({type:e,selectors:[["sda-side-bar"]],decls:28,vars:28,consts:[[1,"side-bar"],[1,"side-bar__group"],["id","side_bar_home_btn",1,"side-bar__button",3,"title","click"],["svgIcon","home"],["id","side_bar_home-alt_btn","class","side-bar__button",3,"title","click",4,"ngIf"],["id","side_bar_back_btn",1,"side-bar__button",3,"title","click"],["svgIcon","arrow-left"],["id","side_bar_actions_btn",1,"side-bar__button",3,"disabled","title","click"],["svgIcon","list","matBadgeSize","small",3,"matBadge","matBadgeHidden"],["id","side_bar_pins_btn",1,"side-bar__button",3,"title","click"],["svgIcon","pin","matBadge","-","matBadgeSize","small",1,"side-bar-button-hidden-content",3,"matBadgeHidden"],["id","side_bar_claims_btn","class","side-bar__button",3,"side-bar__button--active","title","click",4,"ngIf"],["id","side_bar_notifications_btn",1,"side-bar__button",3,"title","click"],["svgIcon","inbox","matBadgeSize","small",3,"matBadge","matBadgeHidden"],["id","side_bar_featureset-btn",1,"side-bar__button",3,"title","click"],["svgIcon","feature-set-search"],["id","side_bar_todolist-btn","class","side-bar__button",3,"side-bar__button--active","title","click",4,"ngIf"],["id","side_bar_query-btn",1,"side-bar__button",3,"title","click"],["svgIcon","advanced-search"],["id","side_bar_settings_btn",1,"side-bar__button",3,"title","click"],["svgIcon","gear"],["id","side_bar_help_btn",1,"side-bar__button",3,"title","click"],["svgIcon","help"],["id","side_bar_home-alt_btn",1,"side-bar__button",3,"title","click"],[3,"svgIcon"],["id","side_bar_claims_btn",1,"side-bar__button",3,"title","click"],["svgIcon","open_claim","matBadgeSize","small",3,"matBadge","matBadgeHidden"],["id","side_bar_todolist-btn",1,"side-bar__button",3,"title","click"],["svgIcon","numbered-list","matBadgeSize","small",3,"matBadge","matBadgeHidden"]],template:function(e,t){1&e&&(n.Yb(0,"nav",0),n.Yb(1,"section",1),n.Yb(2,"button",2),n.hc("click",(function(){return t.navigateHome()})),n.Tb(3,"mat-icon",3),n.Xb(),n.Sc(4,Ns,2,2,"button",4),n.Yb(5,"button",5),n.hc("click",(function(){return t.navigateBack()})),n.Tb(6,"mat-icon",6),n.Xb(),n.Xb(),n.Yb(7,"section",1),n.Yb(8,"button",7),n.hc("click",(function(){return t.toggleActionsMenu()})),n.Tb(9,"mat-icon",8),n.Xb(),n.Xb(),n.Yb(10,"section",1),n.Yb(11,"button",9),n.hc("click",(function(){return t.togglePinsMenu()})),n.Tb(12,"mat-icon",10),n.Xb(),n.Sc(13,Rs,2,5,"button",11),n.Yb(14,"button",12),n.hc("click",(function(){return t.toggleNotificationsMenu()})),n.Tb(15,"mat-icon",13),n.Xb(),n.Xb(),n.Yb(16,"section",1),n.Yb(17,"button",14),n.hc("click",(function(){return t.toggleFeatureSetMenu()})),n.Tb(18,"mat-icon",15),n.Xb(),n.Xb(),n.Yb(19,"section",1),n.Sc(20,Ls,2,5,"button",16),n.Yb(21,"button",17),n.hc("click",(function(){return t.goToQueryForm()})),n.Tb(22,"mat-icon",18),n.Xb(),n.Xb(),n.Yb(23,"section",1),n.Yb(24,"button",19),n.hc("click",(function(){return t.navigateSettings()})),n.Tb(25,"mat-icon",20),n.Xb(),n.Yb(26,"button",21),n.hc("click",(function(){return t.navigateHelp()})),n.Tb(27,"mat-icon",22),n.Xb(),n.Xb(),n.Xb()),2&e&&(n.Eb(2),n.sc("title",t.SIDE_MENU_HOME_DISPLAY),n.Eb(2),n.sc("ngIf",t.isSdx),n.Eb(1),n.sc("title",t.SIDE_MENU_BACK_DISPLAY),n.Eb(3),n.Ib("side-bar__button--active","Actions"===t.currentSelectedIconName()||"ToDoActions"===t.currentSelectedIconName()),n.sc("disabled",!t.enableActions)("title",t.getActionsTitle()),n.Eb(1),n.sc("matBadge",t.actionsMenuProvider.length())("matBadgeHidden",!t.enableActions||!t.actionsMenuProvider.length()),n.Eb(2),n.Ib("side-bar__button--active","Pins"===t.currentSelectedIconName()),n.sc("title",t.pinsTitle),n.Eb(1),n.sc("matBadgeHidden",!t.displayPinsBadge),n.Eb(1),n.sc("ngIf",t.displayClaimboardMenu),n.Eb(1),n.Ib("side-bar__button--active","Notifications"===t.currentSelectedIconName()),n.sc("title",t.getNotificationsTitle()),n.Eb(1),n.sc("matBadge",t.unreadNotificationCount)("matBadgeHidden",t.unreadNotificationCount<1),n.Eb(2),n.Ib("side-bar__button--active","featureset"===t.currentSelectedIconName()),n.sc("title",t.activeFeatureSetName),n.Eb(3),n.sc("ngIf",t.todoListService.doesUserHasAccessToTodoList),n.Eb(1),n.Ib("side-bar__button--active","QUERYListItem"===t.currentSelectedIconName()),n.sc("title",t.SIDE_MENU_QUERY_DISPLAY),n.Eb(3),n.sc("title",t.SIDE_MENU_SETTINGS_DISPLAY),n.Eb(2),n.sc("title",t.SIDE_MENU_HELP_DISPLAY))},directives:[en.a,p.t,Zi.a],styles:['.side-bar[_ngcontent-%COMP%]{overflow-x:hidden;overflow-y:auto}[_nghost-%COMP%]{display:flex;flex-direction:column;width:44px;height:100%;overflow:hidden}@media screen and (max-width:1199px){[_nghost-%COMP%]{z-index:900!important}}[_nghost-%COMP%]   .mat-badge.side-bar-button-hidden-content[_ngcontent-%COMP%]     .mat-badge-content{top:-6px;right:-6px;width:10px;height:10px;color:transparent}[_nghost-%COMP%]   .mat-badge.mat-badge-small[_ngcontent-%COMP%]     .mat-badge-content{font-size:8px}.side-bar[_ngcontent-%COMP%]{display:flex;flex:1 0 100%;flex-direction:column;background-color:#2c3e50;margin-right:-17px}.side-bar__group[_ngcontent-%COMP%]{display:flex;flex-shrink:0;flex-direction:column;width:44px}.side-bar__group[_ngcontent-%COMP%]:not(:first-child){position:relative;margin-top:30px}.side-bar__group[_ngcontent-%COMP%]:not(:first-child):before{content:"";position:absolute;top:-15px;left:50%;width:22px;height:3px;border-radius:2px;-webkit-transform:translate3d(-50%,0,0);transform:translate3d(-50%,0,0);background:linear-gradient(rgba(0,0,0,.33),hsla(0,0%,100%,.05) 66.666%)}@media screen and (min-height:504px){.side-bar__group[_ngcontent-%COMP%]:last-child{position:relative;margin-top:auto;padding-top:10px}}@media screen and (min-height:504px){.side-bar__group[_ngcontent-%COMP%]:last-child:before{top:0}}.side-bar__button[_ngcontent-%COMP%]{display:flex;flex-shrink:0;width:100%;min-width:0;height:44px;padding:0;background:none;outline:0;border:0;color:#fff;transition:background-color .15s;-webkit-appearance:none;-webkit-user-select:none;-ms-user-select:none;user-select:none}.side-bar__button[_ngcontent-%COMP%]:not(:first-child):not(:only-child){margin-top:6px}.side-bar__button[_ngcontent-%COMP%]:not(.side-bar__button--active):hover{background:rgba(0,0,0,.3)}.side-bar__button[_ngcontent-%COMP%]:after{content:"";border-top:6px solid transparent;border-bottom:6px solid transparent;border-right:6px solid #fff;position:absolute;top:50%;right:0;width:0;height:0;-webkit-transform:translate3d(0,-50%,0);transform:translate3d(0,-50%,0);opacity:0}.side-bar__button--active[_ngcontent-%COMP%]{background:rgba(0,0,0,.3)}.side-bar__button--active[_ngcontent-%COMP%]:after{opacity:1}']}),e})();var ks=i("xgIS");const Us=["content"];function js(e,t){if(1&e){const e=n.Zb();n.Yb(0,"header",8),n.Yb(1,"h2",9),n.Uc(2),n.Xb(),n.Yb(3,"mat-icon",10),n.hc("click",(function(){return n.Kc(e),n.lc().closeMenu()})),n.Xb(),n.Xb()}if(2&e){const e=n.lc();n.sc("title",e.contentMenuHeader.title),n.Eb(2),n.Vc(e.contentMenuHeader.title),n.Eb(1),n.sc("title",e.CLOSE_TEXT)}}let Bs=(()=>{class e{constructor(e,t,i,s){this.contentMenuService=e,this.componentFactoryResolver=t,this.sdaTranslateService=i,this.documentService=s,this.isTabletModeChange=new n.o(!1),this.menuState=!1,this.CLOSE_TEXT=this.sdaTranslateService.get("CLOSE","Close"),this.contentMenuWidth=286,this.contentMenuMinWidth=0,this.contentMenuMaxWidth=0,this.latestXPosition=0,this.isGrabbed=!1,this.sideBarWidth=0,this.contentMenuProviderSubscription=this.contentMenuService.contentMenuChanges$.subscribe(e=>this.showContentMenu(e))}onWindowResize(){this.updateIsTabletMode()}ngOnDestroy(){this.contentMenuProviderSubscription&&this.contentMenuProviderSubscription.unsubscribe(),this.unsubscribeMouseEvents()}closeMenu(){this.menuState=!1,this.updateIsTabletMode(),this.clearContentMenu()}autoResize(){this.contentMenuWidth=this.contentMenuWidth<this.contentMenuMaxWidth?this.contentMenuMaxWidth:this.contentMenuMinWidth}startResize(e){e.preventDefault(),this.isGrabbed=!0,this.latestXPosition=e.clientX,this.mouseMoveSubscription$=Object(ks.a)(this.documentService.Document,"mousemove").subscribe(e=>this.widthResizing(e)),this.mouseUpSubscription$=Object(ks.a)(this.documentService.Document,"mouseup").subscribe(e=>this.blockResize(e))}widthResizing(e){e.preventDefault(),this.isGrabbed&&(e.clientX<this.contentMenuMinPossibleWidth?this.contentMenuWidth=this.contentMenuMinWidth:e.clientX>=this.contentMenuMinPossibleWidth&&e.clientX<=this.contentMenuMaxAllowedWidth?(this.onResize(e.clientX-this.latestXPosition),this.latestXPosition=e.clientX):e.clientX>this.contentMenuMaxAllowedWidth&&(this.contentMenuWidth=this.contentMenuMaxWidth))}onResize(e){this.contentMenuWidth+=e}blockResize(e){this.isGrabbed=!1,this.unsubscribeMouseEvents(),this.loadedComponent&&this.loadedComponent.onResize()}unsubscribeMouseEvents(){this.mouseMoveSubscription$&&this.mouseMoveSubscription$.unsubscribe(),this.mouseUpSubscription$&&this.mouseUpSubscription$.unsubscribe()}showContentMenu(e){!e||e.toggleMenu&&this.isMenuCurrentlyLoaded(e)?this.closeMenu():this.isMenuCurrentlyLoaded(e)||this.showMenu(e)}showMenu(e){this.clearContentMenu(),this.menuState=!0,this.updateIsTabletMode();const t=this.componentFactoryResolver.resolveComponentFactory(e.component);this.loadedComponent=this.dynamicContent.createComponent(t).instance,this.contentMenuService.currentContentMenuItem=e,this.loadedComponent.contentMenuService=this.contentMenuService,this.getComparisonWidths(),this.loadedComponent.closeMenuEmitter.subscribe(()=>this.closeMenu()),this.loadedComponent.useDefaultHeader&&this.loadedComponent.menuHeaderEmitter.subscribe(e=>this.setContentTitle(e))}updateIsTabletMode(){this.documentService.isTabletView()?this.isTabletModeChange.emit(this.menuState):this.isTabletModeChange.emit(!1)}getComparisonWidths(){setTimeout(()=>{if(this.contentMenuEl=this.documentService.Document.querySelector(".content-menu--open"),this.contentMenuEl){this.contentMenuStyles=getComputedStyle(this.contentMenuEl),this.contentMenuMinWidth=parseInt(this.contentMenuStyles.minWidth,10),this.contentMenuMaxWidth=parseInt(this.contentMenuStyles.maxWidth,10);const e=this.documentService.Document.querySelector("sda-side-bar");e?(this.sideBarStyles=getComputedStyle(e),this.sideBarWidth=parseInt(this.sideBarStyles.width,10),this.contentMenuMinPossibleWidth=this.contentMenuMinWidth+this.sideBarWidth,this.contentMenuMaxAllowedWidth=this.contentMenuMaxWidth+this.sideBarWidth):(this.contentMenuMinPossibleWidth=this.contentMenuMinWidth,this.contentMenuMaxAllowedWidth=this.contentMenuMaxWidth)}})}isMenuCurrentlyLoaded(e){return this.contentMenuService.currentContentMenuItem&&e.id===this.contentMenuService.currentContentMenuItem.id}setContentTitle(e){setTimeout(()=>this.contentMenuHeader=e)}clearContentMenu(){this.contentMenuHeader=void 0,this.loadedComponent=void 0,this.contentMenuService.currentContentMenuItem=void 0,this.dynamicContent.clear()}}return e.\u0275fac=function(t){return new(t||e)(n.Sb(Nn.a),n.Sb(n.j),n.Sb(y.a),n.Sb(ei.a))},e.\u0275cmp=n.Mb({type:e,selectors:[["sda-content-menu"]],viewQuery:function(e,t){var i;1&e&&n.bd(Us,!0,n.Q),2&e&&n.Gc(i=n.ic())&&(t.dynamicContent=i.first)},hostBindings:function(e,t){1&e&&n.hc("resize",(function(){return t.onWindowResize()}),!1,n.Jc)},outputs:{isTabletModeChange:"isTabletModeChange"},decls:8,vars:7,consts:[[1,"content-menu"],["class","content-header",3,"title",4,"ngIf"],[1,"content-body"],["hidden",""],["content",""],[1,"content-menu-resize-handle",3,"mousedown","dblclick"],[1,"content-menu-icon-container"],["svgIcon","overflow",1,"content-menu-icon-container__resizing-icon"],[1,"content-header",3,"title"],[1,"content-header__title"],["svgIcon","close",1,"content-header__icon",3,"title","click"]],template:function(e,t){1&e&&(n.Yb(0,"div",0),n.Sc(1,js,4,3,"header",1),n.Yb(2,"div",2),n.Tb(3,"div",3,4),n.Xb(),n.Yb(5,"div",5),n.hc("mousedown",(function(e){return t.startResize(e)}))("dblclick",(function(){return t.autoResize()})),n.Yb(6,"div",6),n.Tb(7,"mat-icon",7),n.Xb(),n.Xb(),n.Xb()),2&e&&(n.Rc("width",t.contentMenuWidth,"px"),n.Ib("content-menu--open",t.menuState)("content-menu--closed",!t.menuState),n.Eb(1),n.sc("ngIf",(null==t.loadedComponent?null:t.loadedComponent.useDefaultHeader)&&(null==t.contentMenuHeader?null:t.contentMenuHeader.title)))},directives:[p.t,en.a],styles:[".content-body[_ngcontent-%COMP%]{overflow-x:hidden;overflow-y:auto}.content-header__title[_ngcontent-%COMP%]{overflow:hidden;white-space:nowrap;text-overflow:ellipsis}[_nghost-%COMP%]{position:relative;height:100%;z-index:200!important}@media screen and (max-width:1199px){[_nghost-%COMP%]{z-index:900!important}}.content-menu[_ngcontent-%COMP%]{position:relative;display:flex;flex:1 0 100%;flex-direction:column;overflow:hidden}.k-safari.k-mobile[_nghost-%COMP%]   .content-menu[_ngcontent-%COMP%], .k-safari.k-mobile   [_nghost-%COMP%]   .content-menu[_ngcontent-%COMP%]{transition:none}.content-menu--open[_ngcontent-%COMP%]{position:absolute;max-width:286px;height:100%;background-color:#fff}@media screen and (min-width:1200px){.content-menu--open[_ngcontent-%COMP%]{position:relative;min-width:286px;max-width:33.33333vw;padding-right:10px;box-shadow:0 3px 5px -1px rgba(0,0,0,.2),0 6px 10px 0 rgba(0,0,0,.14),0 1px 18px 0 rgba(0,0,0,.12)}}.content-menu--closed[_ngcontent-%COMP%]{max-width:0!important}.content-header[_ngcontent-%COMP%]{display:flex;flex-shrink:0;align-items:center;justify-content:space-between;width:100%;height:48px;background-color:#6b8cad;color:#fff;padding:0 10px;border-bottom:1px solid rgba(0,58,85,.5)}.content-header__icon[_ngcontent-%COMP%]{flex-shrink:0;cursor:pointer}.content-header__icon[_ngcontent-%COMP%]:not(:only-of-type):first-of-type{margin-right:5px}.content-header__title[_ngcontent-%COMP%]{width:100%;color:#fff;font-size:16px;font-weight:500;line-height:1.2}.content-body[_ngcontent-%COMP%]{height:100%}.content-menu-resize-handle[_ngcontent-%COMP%]{display:none}@media screen and (min-width:1200px){.content-menu-resize-handle[_ngcontent-%COMP%]{position:absolute;top:0;right:0;display:flex;align-items:center;justify-content:center;width:10px;height:100%;background-color:#fff;border-left:1px solid #cad0d7;cursor:col-resize}}.content-menu-icon-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;width:inherit;color:#515e6b}.content-menu-icon-container__resizing-icon[_ngcontent-%COMP%]{width:20px;height:20px}"]}),e})(),Gs=(()=>{class e{constructor(e,t,i,n,s,a,o){this.activityService=e,this.applicationSettingsService=t,this.preferencesService=i,this.configService=n,this.sdaTranslateService=s,this.serverInfoService=a,this.contentMenuService=o,this.SHELL_COMPONENT_PAGE_TITLE=this.sdaTranslateService.get("SHELL_COMPONENT_PAGE_TITLE","Home"),this.AUTHENTICATION_ROLES_ERROR_MESSAGE=this.sdaTranslateService.get("AUTHENTICATION_ROLES_ERROR_MESSAGE","An error occurred initializing roles service"),this.searchActive=!1,this.searchEntityTypeSelected=!1,this.displayMenuBlanket=!1,this.preferenceQueryBySelectedConfigsKey="QueryBySelectedConfigsOnly"}ngOnInit(){this.setPreferences(),this.setClassName(),this.applicationSettingsService.pageTitleSubject.subscribe(e=>this.selectedPageTitleChanged(e))}ngOnDestroy(){this.activityService.stop()}closeSearch(){this.searchActive=!1}closeContentMenu(){this.contentMenuService.closeContentMenu()}setClassName(){this.className=this.serverInfoService.ServerInformation.WebClientApplicationShortName?this.serverInfoService.ServerInformation.WebClientApplicationShortName.toLowerCase():""}selectedPageTitleChanged(e){this.SHELL_COMPONENT_PAGE_TITLE=e}setPreferences(){this.preferencesService.preferencesChanged$.subscribe(e=>{this.setConfigPreferences(e)})}setConfigPreferences(e){const t=e[this.preferenceQueryBySelectedConfigsKey];this.configService.queryBySelectedConfigs=t&&"true"===t.toLowerCase()}}return e.\u0275fac=function(t){return new(t||e)(n.Sb(I.a),n.Sb(m.a),n.Sb(Y.a),n.Sb(ke.a),n.Sb(y.a),n.Sb(q.a),n.Sb(Nn.a))},e.\u0275cmp=n.Mb({type:e,selectors:[["sda-shell"]],hostVars:2,hostBindings:function(e,t){2&e&&n.Gb(t.className)},decls:13,vars:9,consts:[[1,"shell-topbar"],[1,"shell-topbar__title",3,"title"],[1,"shell-topbar__content"],[1,"global-search",3,"searchFocused","searchFocusedChange","entityTypeSelected"],[1,"shell-main"],[1,"shell-main__content"],[1,"left-panel-blanket",3,"toggle","click"],[3,"isTabletModeChange"],[3,"toggle","click"]],template:function(e,t){1&e&&(n.Yb(0,"header",0),n.Yb(1,"h1",1),n.Uc(2),n.Xb(),n.Yb(3,"div",2),n.Yb(4,"sda-global-search",3),n.hc("searchFocusedChange",(function(e){return t.searchActive=e}))("entityTypeSelected",(function(e){return t.searchEntityTypeSelected=e})),n.Xb(),n.Tb(5,"sda-topbar-info"),n.Xb(),n.Xb(),n.Yb(6,"div",4),n.Tb(7,"sda-side-bar"),n.Yb(8,"div",5),n.Yb(9,"sda-blanket",6),n.hc("click",(function(){return t.closeContentMenu()})),n.Xb(),n.Yb(10,"sda-content-menu",7),n.hc("isTabletModeChange",(function(e){return t.displayMenuBlanket=e})),n.Xb(),n.Tb(11,"router-outlet"),n.Xb(),n.Yb(12,"sda-blanket",8),n.hc("click",(function(){return t.closeSearch()})),n.Xb(),n.Xb()),2&e&&(n.Ib("shell-topbar--searching",t.searchActive)("shell-topbar--querying",t.searchEntityTypeSelected),n.Eb(1),n.sc("title",t.SHELL_COMPONENT_PAGE_TITLE),n.Eb(1),n.Vc(t.SHELL_COMPONENT_PAGE_TITLE),n.Eb(2),n.sc("searchFocused",t.searchActive),n.Eb(5),n.sc("toggle",t.displayMenuBlanket),n.Eb(3),n.sc("toggle",t.searchActive))},directives:[Ts,ws,Fs,qn.a,Bs,l.l],styles:[".shell-topbar__title[_ngcontent-%COMP%]{overflow:hidden;white-space:nowrap;text-overflow:ellipsis}@-webkit-keyframes search-panel{0%{opacity:0}to{opacity:1}}@keyframes search-panel{0%{opacity:0}to{opacity:1}}[_nghost-%COMP%]{position:relative;display:flex;flex:1;flex-direction:column;height:100%;z-index:0!important}.sdx[_nghost-%COMP%]     .feature-item--large{background-color:#00608f!important}.sdx[_nghost-%COMP%]     .feature-item--large:hover{background-color:#007cb7!important}sda-global-search[_ngcontent-%COMP%]{width:220px;max-width:100%;transition:width .2s linear}sda-global-search[_ngcontent-%COMP%]     .search{padding:6px 0}sda-global-search[_ngcontent-%COMP%]     .search-query{position:relative;border-color:#02adff;transition:background-color 75ms cubic-bezier(.03,1.07,.13,.35),border-color 75ms cubic-bezier(.03,1.07,.13,.35)}sda-global-search[_ngcontent-%COMP%]     .search-input__data::-webkit-input-placeholder{color:#e7e8e8}sda-global-search[_ngcontent-%COMP%]     .search-input__data:-ms-input-placeholder{color:#e7e8e8}sda-global-search[_ngcontent-%COMP%]     .search-input__data::-ms-input-placeholder{color:#e7e8e8}sda-global-search[_ngcontent-%COMP%]     .search-input__data::placeholder{color:#e7e8e8}sda-global-search[_ngcontent-%COMP%]     .search-panel{top:48px;opacity:0;-webkit-animation:search-panel .1s cubic-bezier(.26,1.06,.14,.71) .2s 1 forwards;animation:search-panel .1s cubic-bezier(.26,1.06,.14,.71) .2s 1 forwards}sda-topbar-info[_ngcontent-%COMP%]{margin-left:25px}sda-topbar-info[_ngcontent-%COMP%]   .topbar[_ngcontent-%COMP%]{width:100%}.shell-topbar[_ngcontent-%COMP%]{position:relative;display:flex;justify-content:space-between;flex:0 0 auto;flex-direction:row;align-items:center;height:56px;padding:0 16px;background-color:#00608f;border-bottom:1px solid #003a55;z-index:1100!important}.shell-topbar[_ngcontent-%COMP%]:not(.shell-topbar--searching)     .search-query{border-color:#0075ad;background-color:#0071a8}.shell-topbar[_ngcontent-%COMP%]:not(.shell-topbar--searching)     .search-query:hover{background-color:#007cb7}.shell-topbar[_ngcontent-%COMP%]:not(.shell-topbar--searching)     .search-input__data, .shell-topbar[_ngcontent-%COMP%]:not(.shell-topbar--searching)     .search-query__icon{color:#e7e8e8}.shell-topbar[_ngcontent-%COMP%]:not(.shell-topbar--searching).shell-topbar--querying     .search-input__data{color:#fff}@media screen and (max-width:50em){.shell-topbar--searching[_ngcontent-%COMP%]   .shell-topbar__title[_ngcontent-%COMP%]{display:none}.shell-topbar--searching[_ngcontent-%COMP%]   .shell-topbar__content[_ngcontent-%COMP%]{max-width:none}}@media screen and (max-width:43.6875em){.shell-topbar--searching[_ngcontent-%COMP%]   sda-topbar-info[_ngcontent-%COMP%]{flex:0 0 auto;width:0;margin:0;overflow:hidden;visibility:hidden}}.shell-topbar--searching[_ngcontent-%COMP%]   sda-global-search[_ngcontent-%COMP%]{width:100%}@media screen and (min-width:50.0625em){.shell-topbar--searching[_ngcontent-%COMP%]   sda-global-search[_ngcontent-%COMP%]{width:660px}}.shell-topbar--searching[_ngcontent-%COMP%]     .search-query{width:100%}.shell-topbar--searching[_ngcontent-%COMP%]     .search-input__data::-webkit-input-placeholder{color:#8c9dad}.shell-topbar--searching[_ngcontent-%COMP%]     .search-input__data:-ms-input-placeholder{color:#8c9dad}.shell-topbar--searching[_ngcontent-%COMP%]     .search-input__data::-ms-input-placeholder{color:#8c9dad}.shell-topbar--searching[_ngcontent-%COMP%]     .search-input__data::placeholder{color:#8c9dad}@media screen and (min-width:84.375em){.shell-topbar--querying[_ngcontent-%COMP%]   sda-global-search[_ngcontent-%COMP%]{min-width:540px}}@media (min-width:59.4375em) and (max-width:84.3125em){.shell-topbar--querying[_ngcontent-%COMP%]   sda-global-search[_ngcontent-%COMP%]{min-width:360px}}@media screen and (max-width:59.375em){.shell-topbar--querying[_ngcontent-%COMP%]   sda-global-search[_ngcontent-%COMP%]{flex-grow:1}}.shell-topbar--querying[_ngcontent-%COMP%]   sda-global-search[_ngcontent-%COMP%]     .blue--button{background-color:initial}.shell-topbar__title[_ngcontent-%COMP%]{flex:1;margin-right:20px;color:#fff;font-size:20px}@media screen and (max-width:47.9375em){.shell-topbar__title[_ngcontent-%COMP%]{display:none}}.shell-topbar__content[_ngcontent-%COMP%]{display:flex;flex:1;align-items:center;justify-content:space-between;max-width:none}@media screen and (min-width:48em){.shell-topbar__content[_ngcontent-%COMP%]{justify-content:flex-end;max-width:80%}}.shell-main[_ngcontent-%COMP%], .shell-main__content[_ngcontent-%COMP%]{display:flex;flex:1;flex-direction:row;overflow:hidden}.shell-main__content[_ngcontent-%COMP%]   .left-panel-blanket[_ngcontent-%COMP%]     .blanket{z-index:800!important}.shell-main[_ngcontent-%COMP%]   sda-blanket[_ngcontent-%COMP%]     .blanket{top:56px;z-index:1000!important}[_nghost-%COMP%]     .prime-calendar--not-empty .ui-inputtext{padding-right:32px!important}[_nghost-%COMP%]     .prime-calendar .ui-inputtext{height:34px!important;line-height:1!important;color:currentColor!important;background-color:#fff!important}[_nghost-%COMP%]     .prime-calendar .ui-inputtext.ui-state-hover{color:inherit!important}[_nghost-%COMP%]     .prime-calendar .ui-inputtext.ui-state-focus{color:inherit!important;border-color:#cad0d7!important}"]}),e})();const Vs=[{path:"diagnostics",loadChildren:()=>i.e(181).then(i.bind(null,"HkXY")).then(e=>e.DiagnosticsRoutingModule)}];var Xs=i("Cun8"),Hs=i("PqYM");let Ys=(()=>{class e{constructor(){this.timer=1e3}preload(e,t){return Settings.application.disablePreloading?Object(S.a)(void 0):(this.timer+=150,Object(Hs.a)(this.timer).pipe(Object(Fe.a)(t)))}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=n.Ob({token:e,factory:e.\u0275fac}),e})();function qs(){return!1}const Ws=[{path:"",component:Gs,canActivate:[K],canActivateChild:[Je,Ve],children:[{path:"",redirectTo:"home",pathMatch:"full"},{path:"home",loadChildren:()=>i.e(119).then(i.bind(null,"Chhq")).then(e=>e.HomeRoutingModule)},...Xs.a]},...Vs,{path:"**",redirectTo:"home"}];let zs=(()=>{class e{constructor(e,t,i,n,s){this.router=e,this.pluginRegistrationService=t,this.sdaTranslateService=i,this.appNameService=n,this.initializationStatusService=s,Object(R.a)(this.sdaTranslateService.setClientTranslationLanguage(),this.pluginRegistrationService.registerDependencies(),this.appNameService.init()).subscribe(()=>{this.router.initialNavigation()},e=>{const t=new C.a(e);this.initializationStatusService.isInitialized.next(new N.a(!1,void 0,t))})}}return e.\u0275mod=n.Qb({type:e}),e.\u0275inj=n.Pb({factory:function(t){return new(t||e)(n.dc(l.g),n.dc(Fi),n.dc(y.a),n.dc(T.a),n.dc(M.a))},providers:[Ys],imports:[[l.k.forRoot(Ws,{useHash:!0,initialNavigation:!1,errorHandler:qs,preloadingStrategy:Ys})],l.k]}),e})();function $s(e){return new $i(e,"content/lang/core/",".json")}function Qs(){return Settings.authorization.clientId}function Ks(){return window.location.origin+window.location.pathname}function Js(){return Settings.authorization.postLogoutRedirectUri}function Zs(){return Settings.authorization.usePKCE}function ea(){return Settings.authorization.dummyClientSecret}let ta=(()=>{class e{constructor(e){if(e)throw new Error("AppModule is already loaded")}}return e.\u0275mod=n.Qb({type:e,bootstrap:[_s]}),e.\u0275inj=n.Pb({factory:function(t){return new(t||e)(n.dc(e,12))},providers:[Un.a,kn.a,n.M,y.a,{provide:l.m,useClass:Ji},{provide:o.d,useValue:{disabled:!0}},r.f,rt.a,u.c],imports:[[r.a,c.b,a.j,s.b,h.c.provideAuthServices({client:Qs,redirectUri:Ks,sessionFramePath:"_session.html",postLogoutRedirectUri:Js,dummyClientSecret:ea,usePKCE:Zs}),d.b.forRoot({loader:{provide:d.a,useFactory:$s,deps:[s.a]}}),Wi,J.forRoot(),b.forRoot(),ee.forRoot(),re.forRoot(),ue.forRoot(),pe.a.forRoot(),De.forRoot(),it.forRoot(),nt.a.forRoot(),Fn,f,ot,Xn.forRoot(),at.forRoot(),zs,r.d]]}),e})();Object(n.V)(),r.g().bootstrapModule(ta).catch(e=>console.error(e))},zewe:function(e,t,i){"use strict";i.d(t,"a",(function(){return p}));var n=i("IzEk"),s=i("+ooB"),a=i("jNCI"),o=i("dEBh"),r=i("ExSe"),c=i("Ejbi"),l=i("YsXg"),d=i("BLqR"),h=i("fXoL"),u=i("tyNb");let p=(()=>{class e{constructor(e,t,i,n,s,a){this.objectAccessService=e,this.modalService=t,this.router=i,this.sdaTranslateService=n,this.urlFilterFactory=s,this.windowService=a}showObjectDetailsModal(e,t,i){this.objectAccessService.userCanAccessObject(i.obid,i.config).pipe(Object(n.a)(1)).subscribe(n=>{if(n){const n=new s.a(i.name?this.sdaTranslateService.getFormatted("OBJECTS_VIEW_TITLE-TITLE","Object Details: {0}",[i.name]):this.sdaTranslateService.get("OBJECTS_VIEW_TITLE","Object Details"),d.a,e,t);n.data=i,n.okBtnText=this.sdaTranslateService.get("CLOSE","Close"),n.hideCancel=!0,n.size="large",this.modalService.showModal(n)}else this.modalService.alert(this.sdaTranslateService.get("NO_ACCESS_TO_OBJECT","You do not have access to this object. Please contact your system administrator."),this.sdaTranslateService.get("TODO_ACTIONS_ACCESS_DENIED","Access Denied"))})}showObjectDetailsForm(e,t,i,n){e.columnSet=n,this.router.navigate(["/objects",{queryFilter:JSON.stringify(e),config:JSON.stringify(i),fromGrid:!0},"detail",t])}showObjectDetailsFormInNewTab(e,t){const i=JSON.stringify(this.urlFilterFactory.createLinkFilterSettings(e));this.windowService.Window.open(`${this.windowService.Window.location.origin+this.windowService.Window.location.pathname}#/objects;queryFilter=${i};config=["${t}"]/detail/${e}`)}}return e.\u0275fac=function(t){return new(t||e)(h.dc(r.a),h.dc(a.a),h.dc(u.g),h.dc(c.a),h.dc(l.a),h.dc(o.a))},e.\u0275prov=h.Ob({token:e,factory:e.\u0275fac}),e})()}},[[0,52,217]]]);