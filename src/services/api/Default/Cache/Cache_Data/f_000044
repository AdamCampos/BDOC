(window.webpackJsonp=window.webpackJsonp||[]).push([[153],{"8Vnw":function(e,s,t){"use strict";t.d(s,"a",(function(){return a}));var i=t("ofXK"),n=t("fXoL");let a=(()=>{class e{}return e.\u0275mod=n.Qb({type:e}),e.\u0275inj=n.Pb({factory:function(s){return new(s||e)},imports:[[i.c]]}),e})()},LvQU:function(e,s,t){"use strict";t.d(s,"a",(function(){return u}));var i=t("ofXK"),n=t("3Pt+"),a=t("l3mi"),r=t("sh/L"),o=t("LI1j"),c=t("giKh"),l=t("fXoL");let d=(()=>{class e{}return e.\u0275mod=l.Qb({type:e}),e.\u0275inj=l.Pb({factory:function(s){return new(s||e)},imports:[[i.c,n.j,o.a,c.a,r.a,a.a]]}),e})();var g=t("Vpc6");let h=(()=>{class e{}return e.\u0275mod=l.Qb({type:e}),e.\u0275inj=l.Pb({factory:function(s){return new(s||e)},imports:[[i.c,a.a]]}),e})(),u=(()=>{class e{}return e.\u0275mod=l.Qb({type:e}),e.\u0275inj=l.Pb({factory:function(s){return new(s||e)},imports:[[i.c,n.j,c.a,g.a,r.a,d,h]]}),e})()},Qcck:function(e,s,t){"use strict";t.d(s,"a",(function(){return a}));var i=t("fXoL"),n=t("Ejbi");let a=(()=>{class e{constructor(e){this.sdaTranslateService=e,this.changePage=new i.o,this.OF=this.sdaTranslateService.get("OF","of")}changePageNumber(e){e<0||this.changePage.emit(e)}}return e.\u0275fac=function(s){return new(s||e)(i.Sb(n.a))},e.\u0275cmp=i.Mb({type:e,selectors:[["sda-pagination"]],inputs:{totalPages:"totalPages",currentPage:"currentPage"},outputs:{changePage:"changePage"},decls:13,vars:11,consts:[[1,"pagination"],[1,"pagination__item","pagination__item--prev",3,"click"],[1,"fa","fa-fw","fa-angle-double-left"],[1,"fa","fa-fw","fa-angle-left"],[1,"pagination__item","pagination__item--current"],[1,"pagination__item"],[1,"pagination__item","pagination__item--next",3,"click"],[1,"fa","fa-fw","fa-angle-right"],[1,"fa","fa-fw","fa-angle-double-right"]],template:function(e,s){1&e&&(i.Yb(0,"div",0),i.Yb(1,"span",1),i.hc("click",(function(){return s.changePageNumber(0)})),i.Tb(2,"i",2),i.Xb(),i.Yb(3,"span",1),i.hc("click",(function(){return s.changePageNumber(s.currentPage-1)})),i.Tb(4,"i",3),i.Xb(),i.Yb(5,"span",4),i.Uc(6),i.Xb(),i.Yb(7,"span",5),i.Uc(8),i.Xb(),i.Yb(9,"span",6),i.hc("click",(function(){return s.changePageNumber(s.currentPage+1)})),i.Tb(10,"i",7),i.Xb(),i.Yb(11,"span",6),i.hc("click",(function(){return s.changePageNumber(s.totalPages-1)})),i.Tb(12,"i",8),i.Xb(),i.Xb()),2&e&&(i.Eb(1),i.Ib("pagination__item--disabled",0==s.currentPage),i.Eb(2),i.Ib("pagination__item--disabled",0==s.currentPage),i.Eb(3),i.Wc(" ",s.currentPage+1," "),i.Eb(2),i.Xc(" ",s.OF," ",s.totalPages," "),i.Eb(1),i.Ib("pagination__item--disabled",s.currentPage==s.totalPages-1),i.Eb(2),i.Ib("pagination__item--disabled",s.currentPage==s.totalPages-1))},styles:["[_nghost-%COMP%]{position:relative;align-items:center;justify-content:center;height:47px}.pagination[_ngcontent-%COMP%], [_nghost-%COMP%]{display:flex}.pagination__item[_ngcontent-%COMP%]{font-size:14px;color:rgba(0,0,0,.7);font-weight:500;line-height:1;border-radius:3px;margin:10px 2px;padding:6px 8px;cursor:pointer;text-align:center;-webkit-user-select:none;-ms-user-select:none;user-select:none}.pagination__item--next[_ngcontent-%COMP%], .pagination__item--prev[_ngcontent-%COMP%]{width:28px;margin:0;padding:16px 0}.pagination__item--next[_ngcontent-%COMP%]:hover, .pagination__item--prev[_ngcontent-%COMP%]:hover{background:rgba(0,0,0,.03)}.pagination__item--current[_ngcontent-%COMP%]{background:#e8444b;color:#fff;margin-left:10px}.pagination__item--disabled[_ngcontent-%COMP%]{pointer-events:none;opacity:.8}"]}),e})()},acjg:function(e,s,t){"use strict";t.r(s),t.d(s,"TaskReassignmentRoutingModule",(function(){return Ie}));var i=t("ofXK"),n=t("3Pt+"),a=t("bSwM"),r=t("NFeN"),o=t("QibW"),c=t("1jcm"),l=t("eO1q"),d=t("+07z"),g=t("z8Lm"),h=t("F+hv"),u=t("8Vnw"),p=t("txXS"),_=t("LvQU"),f=t("lJxs"),b=t("A3La"),S=t("fXoL");let m=(()=>{class e{constructor(e){this.oDataService=e}getUsersWithConfigs(e,s){return this.oDataService.post("GetUserConfigsAndRoles",JSON.stringify({UserUID:e.UserUID,IsPermanentReassignment:e.IsPermanentReassignment,ConfigUIDs:s})).pipe(Object(f.a)(e=>e.value))}GetUserAccessibleConfigsAndUsers(e){return this.oDataService.post("GetAccessibleConfigsAndUsersForReassignment",JSON.stringify({MethodOBID:e})).pipe(Object(f.a)(e=>e.value))}getDeputiesOfUser(e){return this.oDataService.post("FindDeputy",JSON.stringify(e)).pipe(Object(f.a)(e=>e.value))}assignDeputies(e){return this.oDataService.post("AssignDeputy",JSON.stringify(e))}reassignObjectsToDeputy(e){return this.oDataService.post("ReassignObjectsToDeputy",JSON.stringify(e))}getRelDefsForReassignment(){return this.oDataService.post("GetRelDefsForReassignment","").pipe(Object(f.a)(e=>e.value))}}return e.\u0275fac=function(s){return new(s||e)(S.dc(b.a))},e.\u0275prov=S.Ob({token:e,factory:e.\u0275fac}),e})();var E=t("tyNb"),O=t("YwUS"),T=t("Z9D8"),D=t("LUpO"),R=t("c+03"),I=t("KIpx"),U=t("Sj5/"),C=t("4ZEd"),y=t("iwlc"),A=t("Ejbi"),v=t("NEWU"),N=t("4x+t"),P=t("YsXg"),M=t("yzqN"),x=t("YVwg"),w=t("7zfz"),F=t("Qcck"),L=t("XNiG"),k=t("LRne"),G=t("eIep"),X=t("Kj3r"),Y=t("lcS2"),K=t("jNCI"),j=t("DJR3"),V=t("hqbt"),B=t("41Lq");class H{}class z{}var q=function(e){return e[e.TEMPORARY=0]="TEMPORARY",e[e.PERMANENT=1]="PERMANENT",e}({});let W=(()=>{class e{}return e.SAMEROLE="SAMEROLE",e.MANAGEDBYROLE="MANAGEDBYROLE",e.MANAGEROLE="MANAGEROLE",e.ANYROLE="ANYROLE",e})();class ${constructor(){this.Configs=[],this.Roles=[]}}var J=t("TLn4"),Z=t("ltBE");const Q=["fromdate"],ee=["todate"];function se(e,s){if(1&e){const e=S.Zb();S.Yb(0,"div",4),S.Yb(1,"button",5),S.hc("click",(function(){return S.Kc(e),S.lc().onSubmit()})),S.Uc(2),S.Xb(),S.Xb()}if(2&e){const e=S.lc();S.Eb(1),S.sc("disabled",!e.userHasAccessToConfigs),S.Eb(1),S.Wc(" ",e.FINISH_BUTTON_TEXT," ")}}function te(e,s){if(1&e&&S.Tb(0,"sda-loading-indicator",6),2&e){const e=S.lc();S.sc("centered",!0)("message",e.userLoadingMessage)}}function ie(e,s){if(1&e&&(S.Yb(0,"h1",44),S.Uc(1),S.Xb()),2&e){const e=S.lc(2);S.Eb(1),S.Wc(" ",e.TASK_REASSIGNMENT_TITLE," ")}}function ne(e,s){if(1&e){const e=S.Zb();S.Yb(0,"mat-radio-button",45),S.Yb(1,"div",46),S.Uc(2),S.Tb(3,"mat-icon",47),S.Xb(),S.Yb(4,"div",48),S.Yb(5,"mat-checkbox",49),S.hc("ngModelChange",(function(s){return S.Kc(e),S.lc(2).disableUser=s}))("change",(function(){return S.Kc(e),S.lc(2).onDisableUser()})),S.Uc(6),S.Xb(),S.Xb(),S.Xb()}if(2&e){const e=S.lc(2);S.sc("value",e.permanentOption),S.Eb(2),S.Wc(" ",e.TASK_REASSIGNMENT_PERMANENT," "),S.Eb(1),S.sc("title",e.userRelationsToolTip),S.Eb(2),S.sc("disabled",!e.enableDisableUser)("ngModel",e.disableUser),S.Eb(1),S.Vc(e.TASK_REASSIGNMENT_DISABLE_TITLE)}}function ae(e,s){if(1&e&&S.Tb(0,"sda-loading-indicator",6),2&e){const e=S.lc(2);S.sc("centered",!0)("message",e.asigneeLoadingMessage)}}function re(e,s){if(1&e){const e=S.Zb();S.Yb(0,"mat-checkbox",50),S.hc("change",(function(t){S.Kc(e);const i=s.$implicit;return S.lc(2).filterCheckboxChanged(t,i)})),S.Uc(1),S.Xb()}if(2&e){const e=s.$implicit;S.sc("checked",e.Selected)("disabled",e.DirtyFlag),S.Eb(1),S.Vc(e.Name)}}function oe(e,s){if(1&e){const e=S.Zb();S.Yb(0,"li",51),S.hc("mousedown",(function(s){return S.Kc(e),s.preventDefault()}))("click",(function(){S.Kc(e),S.lc();const s=S.Hc(55),t=S.lc();return s.value="",t.useSameDeputy(void 0)})),S.Xb()}}function ce(e,s){if(1&e){const e=S.Zb();S.Yb(0,"li",52),S.hc("click",(function(){S.Kc(e);const t=s.$implicit;return S.lc(2).useSameDeputy(t)})),S.Yb(1,"div",53),S.Uc(2),S.Xb(),S.Yb(3,"div",54),S.Uc(4),S.Xb(),S.Xb()}if(2&e){const e=s.$implicit,t=S.lc(2);S.tc("title",t.getOutofOfficeUsersToolTip(e)),S.Eb(1),S.Ib("deputy-user__name--outofoffice",t.hilightOutOfOfficeUser(void 0,e,!0,!1)),S.Eb(1),S.Wc(" ",t.getDisplayName(e)," "),S.Eb(2),S.Vc(t.convertRolesToString(void 0,e,!0))}}function le(e,s){if(1&e&&(S.Yb(0,"div",61),S.Uc(1),S.Yb(2,"span",62),S.Uc(3),S.Xb(),S.Xb()),2&e){const e=S.lc().$implicit,s=S.lc(2);S.Eb(1),S.Wc(" ",s.getOutofOfficeUsersDescription(e.ConfigDeputy)," "),S.Eb(2),S.Wc(" ",e.ConfigDeputy.DeputyIfOutOfOffice," ")}}function de(e,s){if(1&e){const e=S.Zb();S.Yb(0,"li",63),S.hc("mousedown",(function(s){return S.Kc(e),s.preventDefault()}))("click",(function(){S.Kc(e);const s=S.lc().$implicit,t=S.Hc(10),i=S.lc(2);return t.value="",i.selectedItemChange(s,void 0)})),S.Xb()}}function ge(e,s){if(1&e){const e=S.Zb();S.Yb(0,"li",64),S.hc("mousedown",(function(s){return S.Kc(e),s.preventDefault()}))("click",(function(){S.Kc(e);const t=s.$implicit,i=S.lc().$implicit;return S.lc(2).selectedItemChange(i,t)})),S.Yb(1,"div",53),S.Uc(2),S.Xb(),S.Yb(3,"div",54),S.Uc(4),S.Xb(),S.Xb()}if(2&e){const e=s.$implicit,t=S.lc(3);S.tc("title",t.getOutofOfficeUsersToolTip(e)),S.Eb(1),S.Ib("deputy-user__name--outofoffice",t.hilightOutOfOfficeUser(void 0,e,!0,!1)),S.Eb(1),S.Wc(" ",t.getDisplayName(e)," "),S.Eb(2),S.Vc(t.convertRolesToString(void 0,e,!0))}}function he(e,s){if(1&e){const e=S.Zb();S.Yb(0,"div",29),S.Yb(1,"div",55),S.Yb(2,"p",56),S.Uc(3),S.Xb(),S.Xb(),S.Yb(4,"div",55),S.Yb(5,"p",56),S.Uc(6),S.Xb(),S.Xb(),S.Yb(7,"div",55),S.Yb(8,"div",37),S.Yb(9,"input",38,57),S.hc("keyup",(function(){return s.$implicit.IsOpenDropdown=!0}))("click",(function(){S.Kc(e);const t=s.$implicit;return S.lc(2).closeDropDown=!0,t.IsOpenDropdown=!t.IsOpenDropdown}))("input",(function(t){S.Kc(e);const i=s.$implicit;return S.lc(2).searchAsignee(t.target.value,i,!1)}))("blur",(function(){S.Kc(e);const t=s.$implicit,i=S.Hc(10),n=S.lc(2);return 1==n.closeDropDown?n.closeDropDownMenu(t,i,!1):""})),S.Xb(),S.Sc(11,le,4,2,"div",58),S.Yb(12,"ul",40),S.hc("mouseover",(function(){return S.Kc(e),S.lc(2).closeDropDown=!1}))("mouseleave",(function(){S.Kc(e);const t=s.$implicit,i=S.Hc(10);return S.lc(2).closeDropDownMenu(t,i,!1)})),S.Sc(13,de,1,0,"li",59),S.Sc(14,ge,5,5,"li",60),S.mc(15,"sdaFilter"),S.Xb(),S.Xb(),S.Xb(),S.Xb()}if(2&e){const e=s.$implicit,t=S.lc(2);S.Eb(3),S.Vc(e.DisplayName),S.Eb(3),S.Vc(t.convertRolesToString(e,void 0,!1)),S.Eb(3),S.Ib("deputies-dropdown__input--outofoffice",t.hilightOutOfOfficeUser(e,void 0,!1,!1)),S.tc("value",t.getDisplayName(e.ConfigDeputy)),S.tc("placeholder",t.ASSIGNEE_PLACE_HOLDER),S.tc("title",t.getOutofOfficeUsersToolTip(e.ConfigDeputy)),S.Eb(2),S.sc("ngIf",t.hilightOutOfOfficeUser(e,void 0,!1,!1)),S.Eb(1),S.Ib("deputies--open",1==e.IsOpenDropdown),S.Eb(1),S.sc("ngIf",e.Deputies),S.Eb(1),S.sc("ngForOf",S.pc(15,12,e.Deputies,"DisplayName",e.SearchTerm))}}function ue(e,s){if(1&e){const e=S.Zb();S.Yb(0,"div",7),S.Sc(1,ie,2,1,"h1",8),S.Yb(2,"div",9),S.Uc(3),S.Xb(),S.Yb(4,"div",10),S.Yb(5,"div",11),S.Yb(6,"label",12),S.Uc(7),S.Xb(),S.Yb(8,"label",13),S.Uc(9),S.Xb(),S.Xb(),S.Yb(10,"fieldset",14),S.Yb(11,"legend",15),S.Uc(12),S.Xb(),S.Yb(13,"div",16),S.Yb(14,"mat-radio-group",17),S.hc("ngModelChange",(function(s){return S.Kc(e),S.lc().selectedOption=s}))("change",(function(){return S.Kc(e),S.lc().onOptionChange()})),S.Yb(15,"mat-radio-button",18),S.Yb(16,"label"),S.Uc(17),S.Xb(),S.Yb(18,"div",19),S.hc("click",(function(s){return S.Kc(e),s.preventDefault()})),S.Yb(19,"span",20),S.Yb(20,"label",21),S.Uc(21),S.Xb(),S.Yb(22,"p-calendar",22,23),S.hc("ngModelChange",(function(s){return S.Kc(e),S.lc().selectedUser.SPFReassignFromDate=s}))("onSelect",(function(){return S.Kc(e),S.lc().validateReassignDates()})),S.Xb(),S.Xb(),S.Yb(24,"span",20),S.Yb(25,"label",21),S.Uc(26),S.Xb(),S.Yb(27,"p-calendar",24,25),S.hc("ngModelChange",(function(s){return S.Kc(e),S.lc().selectedUser.SPFReassignToDate=s}))("onSelect",(function(){return S.Kc(e),S.lc().validateReassignDates()})),S.Xb(),S.Xb(),S.Xb(),S.Xb(),S.Sc(29,ne,7,6,"mat-radio-button",26),S.Xb(),S.Yb(30,"div",27),S.Yb(31,"mat-checkbox",28),S.hc("ngModelChange",(function(s){return S.Kc(e),S.lc().clearReassignment=s}))("change",(function(){return S.Kc(e),S.lc().onClearReassignmentChange()})),S.Uc(32),S.Xb(),S.Xb(),S.Xb(),S.Xb(),S.Xb(),S.Sc(33,ae,1,2,"sda-loading-indicator",1),S.Yb(34,"div",29),S.Yb(35,"div",9),S.Uc(36),S.Xb(),S.Yb(37,"div",30),S.Sc(38,re,2,3,"mat-checkbox",31),S.Xb(),S.Yb(39,"div",9),S.Uc(40),S.Xb(),S.Yb(41,"div",29),S.Yb(42,"div",32),S.Yb(43,"span",33),S.Uc(44),S.Xb(),S.Yb(45,"span",33),S.Uc(46),S.Xb(),S.Yb(47,"div",33),S.Uc(48),S.Yb(49,"mat-icon",34),S.hc("click",(function(){S.Kc(e);const s=S.lc();return s.commomDeputyDropDown=!s.commomDeputyDropDown})),S.Xb(),S.Yb(50,"div",35),S.Yb(51,"div",36),S.hc("mouseleave",(function(){return S.Kc(e),S.lc().commomDeputyDropDown=!1})),S.Uc(52),S.Yb(53,"div",37),S.Yb(54,"input",38,39),S.hc("keyup",(function(){return S.Kc(e),S.lc().selectedUser.IsOpenDropdown=!0}))("click",(function(){S.Kc(e);const s=S.lc();return s.closeDropDown=!0,s.selectedUser.IsOpenDropdown=!s.selectedUser.IsOpenDropdown}))("input",(function(s){return S.Kc(e),S.lc().searchAsignee(s.target.value,void 0,!0)}))("blur",(function(){S.Kc(e);const s=S.Hc(55),t=S.lc();return 1==t.closeDropDown?t.closeDropDownMenu(void 0,s,!0):""})),S.Xb(),S.Yb(56,"ul",40),S.hc("mouseover",(function(){return S.Kc(e),S.lc().closeDropDown=!1}))("mouseleave",(function(){S.Kc(e);const s=S.Hc(55);return S.lc().closeDropDownMenu(void 0,s,!0)})),S.Sc(57,oe,1,0,"li",41),S.Sc(58,ce,5,5,"li",42),S.mc(59,"sdaFilter"),S.Xb(),S.Xb(),S.Xb(),S.Xb(),S.Xb(),S.Xb(),S.Sc(60,he,16,16,"div",43),S.Xb(),S.Xb(),S.Xb()}if(2&e){const e=S.lc();S.Ib("reassign-user--content",!e.isAdmin)("reassign-user--disabled",!e.userHasAccessToConfigs||e.showUserLoadingIndicator),S.Eb(1),S.sc("ngIf",!e.isAdmin),S.Eb(1),S.Ib("reassign-user__section--user",!e.isAdmin),S.Eb(1),S.Wc(" ",e.REASSIGN_USER_INFORMATION," "),S.Eb(4),S.Wc(" ",e.selectedUser.DisplayName," "),S.Eb(2),S.Wc(" ",e.selectedUser.UserName," "),S.Eb(3),S.Vc(e.REASSIGN_GROUP),S.Eb(2),S.sc("required",!0)("ngModel",e.selectedOption),S.Eb(1),S.sc("disabled",e.isUserDisabled)("value",e.temporaryOption),S.Eb(2),S.Vc(e.TASK_REASSIGNMENT_TEMPORARY),S.Eb(1),S.Ib("reassign-type__content--disabled",e.selectedUser.SPFDisableUser||e.isPermanentReassignmentSelected||e.clearReassignment),S.Eb(1),S.Ib("reassign-user__dates--required",e.fromDateRequired),S.Eb(2),S.Vc(e.FROM_DATE),S.Eb(1),S.sc("ngModel",e.selectedUser.SPFReassignFromDate)("locale",e.locale)("dateFormat",e.dateFormat)("required",!0)("disabled",e.selectedUser.SPFDisableUser||e.isPermanentReassignmentSelected)("minDate",e.minimumDate)("monthNavigator",!0)("yearNavigator",!0)("readonlyInput",!0),S.Eb(2),S.Ib("reassign-user__dates--required",e.toDateRequired),S.Eb(2),S.Wc(" ",e.TO_DATE," "),S.Eb(1),S.sc("ngModel",e.selectedUser.SPFReassignToDate)("locale",e.locale)("dateFormat",e.dateFormat)("monthNavigator",!0)("yearNavigator",!0)("required",!0)("disabled",e.selectedUser.SPFDisableUser||e.isPermanentReassignmentSelected)("minDate",null!=e.selectedUser.SPFReassignFromDate?e.selectedUser.SPFReassignFromDate:e.minimumDate)("readonlyInput",!0),S.Eb(2),S.sc("ngIf",e.isAdmin),S.Eb(2),S.sc("disabled",!e.enableClearReassignment)("ngModel",e.clearReassignment),S.Eb(1),S.Vc(e.TASK_REASSIGNMENT_CANCEL_TITLE),S.Eb(1),S.sc("ngIf",e.showAsigneeLoadingIndicator),S.Eb(1),S.Ib("reassign-header--disable",!e.reassignmentDatesSet||e.clearReassignment),S.Eb(2),S.Vc(e.FILTER_TITLE),S.Eb(2),S.sc("ngForOf",e.deputyFilters),S.Eb(1),S.Ib("reassign-user__section--disable",e.showAsigneeLoadingIndicator),S.Eb(1),S.Wc(" ",e.SELECT_ASSIGNEE_TEXT," "),S.Eb(1),S.Ib("reassign-header--disable",e.showAsigneeLoadingIndicator),S.Eb(3),S.Vc(e.PROJECT_TEXT),S.Eb(2),S.Vc(e.ROLES_TEXT),S.Eb(2),S.Wc(" ",e.ASSIGNEE_TEXT," "),S.Eb(2),S.Ib("common-deputy--open",e.commomDeputyDropDown),S.Eb(1),S.Ib("common-deputy__pop-up--open",e.commomDeputyDropDown),S.Eb(1),S.Wc(" ",e.COMMON_ASSIGNEE_TEXT," "),S.Eb(2),S.Ib("deputies-dropdown__input--outofoffice",e.hilightOutOfOfficeUser(void 0,e.selectedUser,!0,!0)),S.tc("value",e.getDisplayName(e.selectedUser.CommonDeputy)),S.tc("placeholder",e.ASSIGNEE_PLACE_HOLDER),S.tc("title",e.getOutofOfficeUsersToolTip(e.selectedUser.CommonDeputy)),S.Eb(2),S.Ib("deputies--open",1==e.selectedUser.IsOpenDropdown),S.Eb(1),S.sc("ngIf",e.selectedUser.CommonDeputies),S.Eb(1),S.sc("ngForOf",S.pc(59,74,e.selectedUser.CommonDeputies,"DisplayName",e.selectedUser.SearchTerm)),S.Eb(2),S.sc("ngForOf",e.selectedUser.Configs)}}function pe(e,s){if(1&e){const e=S.Zb();S.Yb(0,"div",65),S.Yb(1,"button",5),S.hc("click",(function(){return S.Kc(e),S.lc().onSubmit()})),S.Uc(2),S.Xb(),S.Xb()}if(2&e){const e=S.lc();S.Eb(1),S.sc("disabled",e.disableReassign),S.Eb(1),S.Wc(" ",e.FINISH_BUTTON_TEXT," ")}}let _e=(()=>{class e{constructor(e,s,t,i,n,a,r,o,c,l){this.notificationService=e,this.exceptionService=s,this.sdaTranslateService=t,this.modalService=i,this.securityService=n,this.taskReassignmentService=a,this.helpService=r,this.calendarTranslationService=o,this.dateFormatService=c,this.loadingOverlayService=l,this.isAdmin=!1,this.updateUserStatus=new S.o,this.minimumDate=new Date,this.disableReassign=!1,this.deputyFilters=[],this.isPermanentReassignmentSelected=!1,this.selectedUser=new $,this.closeDropDown=!1,this.FROM_DATE=this.sdaTranslateService.get("FROM_DATE","From Date"),this.TO_DATE=this.sdaTranslateService.get("TO_DATE","To Date"),this.SELECT_ASSIGNEE_TEXT=this.sdaTranslateService.get("SELECT_ASSIGNEE_TEXT","Assignee Selection"),this.COMMON_ASSIGNEE_TEXT=this.sdaTranslateService.get("COMMON_ASSIGNEE_TEXT","Common Assignee"),this.PROJECT_TEXT=this.sdaTranslateService.get("PROJECT_TEXT","Project"),this.ROLES_TEXT=this.sdaTranslateService.get("SETTINGS_ROLES","Roles"),this.ASSIGNEE_TEXT=this.sdaTranslateService.get("ASSIGNEE_TEXT","Assignee"),this.FINISH_BUTTON_TEXT=this.sdaTranslateService.get("FINISH","Finish"),this.FIND_ASSIGNEE_BUTTON_TEXT=this.sdaTranslateService.get("FIND_ASSIGNEE_BUTTON_TEXT","Find Assignee"),this.TASK_REASSIGNMENT_TITLE=this.sdaTranslateService.get("TASK_REASSIGNMENT_TITLE","Task Reassignment"),this.FILTER_TITLE=this.sdaTranslateService.get("TASK_REASSIGNMENT_USER_FILTER_TITLE","Assignee Filters"),this.SAMEROLE_TEXT=this.sdaTranslateService.get("TASK_REASSIGNMENT_USER_FILTER_SAME_ROLE","Same Role"),this.MANAGEDBYROLE_TEXT=this.sdaTranslateService.get("TASK_REASSIGNMENT_USER_FILTER_MANAGED_BY_ROLE","Managed by Role"),this.MANAGEROLE_TEXT=this.sdaTranslateService.get("TASK_REASSIGNMENT_USER_FILTER_MANAGE_ROLE","Manage Role"),this.ANYROLE_TEXT=this.sdaTranslateService.get("TASK_REASSIGNMENT_USER_FILTER_ANY_ROLE","Any Role"),this.SUCCESS=this.sdaTranslateService.get("TASK_REASSIGNMENT_SUCCESS","Assignee related to the user sucessfully"),this.ERROR=this.sdaTranslateService.get("TASK_REASSIGNMENT_ERROR","An error occurred while reassigning"),this.TASK_REASSIGNMENT_DISABLE_TITLE=this.sdaTranslateService.get("TASK_REASSIGNMENT_DISABLE_TITLE","Disable User"),this.TASK_REASSIGNMENT_CANCEL_TITLE=this.sdaTranslateService.get("TASK_REASSIGNMENT_CANCEL_TITLE","Clear Reassignment"),this.TASK_REASSIGNMENT_FIND_ASSIGNEE_INFO=this.sdaTranslateService.get("TASK_REASSIGNMENT_FIND_ASSIGNEE_INFO","Assignees fetched successfully"),this.TASK_REASSIGNMENT_FIND_ASSIGNEE_ERROR=this.sdaTranslateService.get("TASK_REASSIGNMENT_FIND_ASSIGNEE_ERROR","Error occurred while fetching assignees"),this.TASK_REASSIGNMENT__CANCEL_SUCCESS=this.sdaTranslateService.get("TASK_REASSIGNMENT__CANCEL_SUCCESS","Successfully cleared the reassignment"),this.TASK_REASSIGNMENT__CANCEL_ERROR=this.sdaTranslateService.get("TASK_REASSIGNMENT__CANCEL_ERROR","An error occurred while clearing the reassignment"),this.TASK_REASSIGNMENT_USER_DISABLE_STATUS=this.sdaTranslateService.get("TASK_REASSIGNMENT_USER_DISABLE_STATUS","User is disabled"),this.OUT_OF_OFFICE_USERS_TITLE=this.sdaTranslateService.get("OUT_OF_OFFICE_USERS_TITLE","Assignee is currently out of office"),this.OUT_OF_OFFICE_USERS_DESCRIPTION=this.sdaTranslateService.get("OUT_OF_OFFICE_USERS_DESCRIPTION","Currently out of office,\n     permanent reassignment relations can be transferred to assignee but workflow steps will be sent to assignee's deputy:"),this.INVALID_RECURSIVE_SELECTION=this.sdaTranslateService.get("INVALID_RECURSIVE_SELECTION","Selected assignee\n    leads to cyclic reassignment : "),this.PERMANENT_REASSIGNMENT_TOOLTIP_TITLE=this.sdaTranslateService.get("PERMANENT_REASSIGNMENT_TOOLTIP_TITLE","User relations that will be reassigned to new user"),this.REASSIGN_OBJECTS_STATUS=this.sdaTranslateService.get("REASSIGN_OBJECTS_STATUS","Task reassignment inititated, look for notification"),this.REASSIGN_USER_INFORMATION=this.sdaTranslateService.get("TASK_REASSIGNMENT_USER_INFORMATION_HEADER","User Information"),this.REASSIGN_GROUP=this.sdaTranslateService.get("TASK_REASSIGNMENT_USER_REASSIGNMENT","Reassignment"),this.TASK_REASSIGNMENT_NO_ASSIGNEE=this.sdaTranslateService.get("TASK_REASSIGNMENT_NO_ASSIGNEE","An assignee must be selected for at least one project"),this.TASK_REASSIGNMENT_NO_CONFIGS_ERROR=this.sdaTranslateService.get("TASK_REASSIGNMENT_NO_CONFIGS_ERROR","No accessible configs found for reassignment"),this.userLoadingMessage=this.sdaTranslateService.get("TASK_REASSIGNMENT_USER_LOADING_MESSAGE","Loading user information..."),this.TASK_REASSIGNMENT_USER_DETAILS_ERROR=this.sdaTranslateService.get("TASK_REASSIGNMENT_USER_DETAILS_ERROR","Error occurred while fetching user details"),this.TASK_REASSIGNMENT_TEMPORARY=this.sdaTranslateService.get("TASK_REASSIGNMENT_TEMPORARY","Temporary Reassignment"),this.TASK_REASSIGNMENT_PERMANENT=this.sdaTranslateService.get("TASK_REASSIGNMENT_PERMANENT","Permanent Reassignment"),this.findAssigneeSubscription=new L.a,this.showAsigneeLoadingIndicator=!1,this.showUserLoadingIndicator=!1,this.asigneeLoadingMessage=this.sdaTranslateService.get("TASK_REASSIGNMENT_ASIGNEE_LOADING_MESSAGE","Loading assignees..."),this.reassignmentDatesSet=!0,this.deputiesSelected=!1,this.fromDateRequired=!1,this.toDateRequired=!1,this.commomDeputyDropDown=!1,this.userHasAccessToConfigs=!0,this.temporaryOption=q.TEMPORARY,this.permanentOption=q.PERMANENT,this.isTempararlyReassigned=!1,this.ispermanentlyReassigned=!1,this.isUserDisabled=!1,this.clearReassignment=!1,this.disableUser=!1,this.enableClearReassignment=!1,this.enableDisableUser=!1,this.helpService.setHandlers(M.E)}ngOnInit(){this.deputyFilters.push({Name:this.SAMEROLE_TEXT,UID:W.SAMEROLE,Selected:!0,DirtyFlag:!1}),this.deputyFilters.push({Name:this.MANAGEDBYROLE_TEXT,UID:W.MANAGEDBYROLE,Selected:!1,DirtyFlag:!1}),this.deputyFilters.push({Name:this.MANAGEROLE_TEXT,UID:W.MANAGEROLE,Selected:!1,DirtyFlag:!1}),this.deputyFilters.push({Name:this.ANYROLE_TEXT,UID:W.ANYROLE,Selected:!1,DirtyFlag:!1}),this.deputyFilter=this.deputyFilters.filter(e=>e.Selected)[0].UID,this.subscribeToFindAssignee();let e=this.selectedUserID;this.isAdmin||(e=this.securityService.getUserId()),this.setUserDefaultValues(),this.getUser(e,!1,!0),this.getPermanentReassignmentRelsInfo(),this.locale=this.calendarTranslationService.calendarTranslations,this.dateFormat=this.calendarTranslationService.dateFormat}ngOnChanges(e){e.selectedUserID&&this.deputyFilters.length>0&&(this.setUserDefaultValues(),this.getUser(this.selectedUserID,!1,!0))}ngOnDestroy(){this.findAssigneeSubscription.unsubscribe()}showCalendar(e){e.showOverlay()}setUserDefaultValues(){this.selectedOption=void 0,this.clearReassignment=!1,this.isTempararlyReassigned=!1,this.ispermanentlyReassigned=!1,this.isPermanentReassignmentSelected=!1,this.disableUser=!1,this.isUserDisabled=!1,this.reassignmentDatesSet=!1,this.fromDateRequired=!1,this.toDateRequired=!1,this.disableReassign=!1,this.deputiesSelected=!1,this.deputyFilters.map(e=>{e.UID!==W.SAMEROLE?(e.Selected=!1,e.DirtyFlag=!1):(e.Selected=!0,e.DirtyFlag=!1,this.deputyFilter=e.UID)})}onOptionChange(){this.selectedUser.UID&&(this.isPermanentReassignmentSelected=this.selectedOption===q.PERMANENT,this.getUser(this.selectedUser.UID,this.isPermanentReassignmentSelected,!1),this.setReassignActionsState())}onClearReassignmentChange(){this.disableUser=this.isUserDisabled,this.enableDisableUser=this.selectedOption!==q.PERMANENT||!this.clearReassignment}onDisableUser(){this.selectedUser.SPFDisableUser=this.disableUser}setReassignActionsState(){this.selectedOption===q.TEMPORARY&&this.isTempararlyReassigned||this.selectedOption===q.PERMANENT&&this.ispermanentlyReassigned?this.enableClearReassignment=!0:(this.enableClearReassignment=!1,this.clearReassignment=!1),this.selectedOption===q.PERMANENT?this.enableDisableUser=!0:(this.enableDisableUser=!1,this.disableUser=!1)}getUser(e,s,t){this.selectedUser=new $;const i=new H;i.UserUID=e,i.IsPermanentReassignment=s,this.showUserLoadingIndicator=!0,this.taskReassignmentService.getUsersWithConfigs(i,this.accessibleConfigUIDs).subscribe(e=>{const s=JSON.parse(e.value);s&&(s.Configs&&0!==s.Configs.length?this.updateUserInfo(s,t):(this.userHasAccessToConfigs=!1,this.exceptionService.handleException(new T.a(this.TASK_REASSIGNMENT_NO_CONFIGS_ERROR,void 0,"user-reassignment.component","getUser")))),this.showUserLoadingIndicator=!1},e=>{this.exceptionService.handleException(new T.a(e,this.TASK_REASSIGNMENT_USER_DETAILS_ERROR+" :"+e.message,"TaskRessignmentComponent","getUser")),this.showUserLoadingIndicator=!1})}updateUserInfo(e,s){e.SPFReassignFromDate&&e.SPFReassignToDate&&(e.SPFReassignFromDate=new Date(e.SPFReassignFromDate.toLocaleString()),e.SPFReassignToDate=new Date(e.SPFReassignToDate.toLocaleString()),e.IsUserOutOfOffice=!0,this.selectedOption=q.TEMPORARY,this.reassignmentDatesSet=!0,this.isTempararlyReassigned=!0,this.ASSIGNEE_PLACE_HOLDER=this.sdaTranslateService.get("TASK_REASSIGNMENT_ASSIGNEE_PLACE_HOLDER","Select assignee")),e.SPFDisableUser?(this.disableUser=!0,this.isUserDisabled=!0,e.IsUserDisabled=e.SPFDisableUser,this.reassignmentDatesSet=!0):this.selectedUser.SPFDisableUser?e.SPFDisableUser=!0:e.IsUserDisabled=!1,this.selectedUser=e,s&&this.selectedUser.Configs.map(e=>{!this.isPermanentReassignmentSelected&&e.IsPermanentReassignment&&(this.isPermanentReassignmentSelected=!0,this.ispermanentlyReassigned=!0)}),this.selectedUser.Configs.map(e=>{e.Deputies&&1===e.Deputies.length&&this.isPermanentReassignmentSelected===e.IsPermanentReassignment&&(this.deputiesSelected=!1,e.ConfigDeputy=e.Deputies[0],e.OriginalDeputy=e.ConfigDeputy)}),this.isPermanentReassignmentSelected&&(e.SPFReassignFromDate=void 0,e.SPFReassignToDate=void 0,this.reassignmentDatesSet=!0,this.selectedOption=q.PERMANENT),void 0!==this.selectedOption&&this.isAdmin||(this.selectedOption=q.TEMPORARY),this.isUserDisabled&&(this.selectedOption=q.PERMANENT,this.isPermanentReassignmentSelected=!0),this.setReassignActionsState(),s||this.findAssigneeSubscription.next()}filterCheckboxChanged(e,s){s.Selected=e.checked;const t=[];this.disableReassign=!1;const i=this.deputyFilters.filter(e=>e.UID===W.ANYROLE&&e.Selected).length>0;this.deputyFilters.map(e=>{i&&e.UID!==W.ANYROLE?(e.Selected=!0,e.DirtyFlag=!0):e.Selected&&(t.push(e.UID),e.DirtyFlag=!1)}),t.length>0?(this.deputyFilter=t.join(","),this.findAssigneeSubscription.next()):(this.deputyFilter=void 0,this.disableReassign=!0)}findDeputy(){const e=[];this.deputiesSelected=!1,this.selectedUser.CommonDeputy=void 0,this.selectedUser.Configs.map(s=>{e.push(s.ConfigUID)});const s=new H;s.UserUID=this.selectedUser.UID,s.ConfigUIDs=e,s.DisableUser=this.selectedUser.SPFDisableUser,s.DeputyFilter=this.deputyFilter,s.IsPermanentReassignment=this.isPermanentReassignmentSelected,this.selectedUser.SPFReassignFromDate&&this.selectedUser.SPFReassignToDate?(s.UserReassignFromDate=this.dateFormatService.convertToNonUTCSPFDateString(this.selectedUser.SPFReassignFromDate),s.UserReassignToDate=this.dateFormatService.convertToNonUTCSPFDateString(this.selectedUser.SPFReassignToDate)):(s.UserReassignFromDate="",s.UserReassignToDate=""),this.taskReassignmentService.getDeputiesOfUser(s).subscribe(e=>{this.showAsigneeLoadingIndicator=!1;const s=JSON.parse(e.value);this.setUserWithDropdownValues(s),this.notificationService.info(this.TASK_REASSIGNMENT_FIND_ASSIGNEE_INFO)},e=>{this.showAsigneeLoadingIndicator=!1,this.exceptionService.handleException(new T.a(e,this.TASK_REASSIGNMENT_FIND_ASSIGNEE_ERROR+" :"+e.message,"TaskRessignmentComponent","findDeputy"))})}onSubmit(){this.userHasAccessToConfigs&&this.reassignmentDatesSet?this.clearReassignment?this.onClearReassignment():this.isValidReassignment()||(this.selectedUser.SPFDisableUser&&!this.selectedUser.IsUserDisabled?this.modalService.confirm(this.sdaTranslateService.get("TASK_REASSIGNMENT_DISABLE_TITLE","Disable User"),this.sdaTranslateService.get("TASK_REASSIGNMENT_DISABLE_USER_DIALOG","Do you want to disable the user and reassign?")).then(e=>{e&&this.reassignUser(!1)}):this.reassignUser(!1)):this.findAssigneeSubscription.next()}reassignUser(e){this.loadingOverlayService.showLoadingOverlay();const s=this.setUpReassignUserArgs(e);this.taskReassignmentService.assignDeputies(s).pipe(Object(G.a)(()=>this.isPermanentReassignmentSelected?this.taskReassignmentService.reassignObjectsToDeputy(s):Object(k.a)(void 0))).subscribe(()=>{this.updateUserAfterReassignment(e)},s=>{this.loadingOverlayService.hideLoadingOverlay(),this.exceptionService.handleException(new T.a(s,e?this.TASK_REASSIGNMENT__CANCEL_ERROR+": "+s.message:this.ERROR+": "+s.message,"TaskRessignmentComponent","reassignUser"))})}updateUserAfterReassignment(e){this.loadingOverlayService.hideLoadingOverlay(),e?(this.clearReassignment=!1,this.isTempararlyReassigned=!1,this.ispermanentlyReassigned=!1,this.selectedUser.SPFReassignFromDate=void 0,this.selectedUser.SPFReassignToDate=void 0,this.selectedUser.IsUserOutOfOffice=!1,this.notificationService.success(this.TASK_REASSIGNMENT__CANCEL_SUCCESS),this.reassignmentDatesSet=this.selectedOption===q.PERMANENT,this.selectedUser.Configs.map(e=>{e.OriginalDeputy=void 0,e.ConfigDeputy=void 0}),this.selectedUser.DynReassignment=void 0):(this.selectedUser.SPFDisableUser&&!this.selectedUser.IsUserDisabled?(this.selectedUser.IsUserDisabled=!0,this.selectedUser.SPFReassignFromDate=void 0,this.selectedUser.SPFReassignToDate=void 0,this.selectedUser.IsUserOutOfOffice=!1,this.ispermanentlyReassigned=this.isPermanentReassignmentSelected,this.isUserDisabled=!0,this.notificationService.success(this.TASK_REASSIGNMENT_USER_DISABLE_STATUS),this.selectedUser.DynReassignment="disabled"):this.selectedUser.IsUserDisabled?this.selectedUser.IsUserOutOfOffice=!1:this.isPermanentReassignmentSelected?(this.selectedUser.IsUserOutOfOffice=!1,this.ispermanentlyReassigned=!0,this.selectedUser.DynReassignment="permanent"):(this.selectedUser.IsUserOutOfOffice=!0,this.isTempararlyReassigned=!0,this.selectedUser.DynReassignment="temporary"),this.notificationService.success(this.SUCCESS)),this.isPermanentReassignmentSelected&&!e&&(this.selectedUser.Configs.map(e=>{e.OriginalDeputy=e.ConfigDeputy?e.ConfigDeputy:void 0}),this.notificationService.success(this.REASSIGN_OBJECTS_STATUS)),this.setReassignActionsState(),this.updateUserStatus.emit(this.selectedUser)}setUpReassignUserArgs(e){const s=new z;s.UserUID=this.selectedUser.UID,s.DisableTheUser=this.selectedUser.SPFDisableUser,s.IsPermanentReassignment=this.isPermanentReassignmentSelected,this.selectedUser.SPFReassignFromDate&&this.selectedUser.SPFReassignToDate?(s.UserReassignFromDate=this.dateFormatService.convertToNonUTCSPFDateString(this.selectedUser.SPFReassignFromDate),s.UserReassignToDate=this.dateFormatService.convertToNonUTCSPFDateString(this.selectedUser.SPFReassignToDate)):(s.UserReassignFromDate="",s.UserReassignToDate=""),s.CancelReassignment=!0===e;const t={};return this.selectedUser.Configs.map(e=>{t[e.ConfigUID]=e.ConfigDeputy?e.ConfigDeputy.UID:""}),s.ConfigDeputy=t,s.DeputyFilter=this.deputyFilter,s}useSameDeputy(e){this.selectedUser.Configs.map(s=>{if(s.ConfigDeputy=e,e){const t=s.Deputies.filter(s=>s.UID===e.UID);t&&t.length>0&&(s.ConfigDeputy=t[0])}}),this.selectedUser.CommonDeputy=e,this.selectedUser.IsOpenDropdown=!this.selectedUser.IsOpenDropdown}convertRolesToString(e,s,t){const i=[];return t&&s?s.Roles.map(e=>{i.push(e.DisplayName)}):e&&e.Roles.map(e=>{i.push(e.DisplayName)}),i.join(", ")}hilightOutOfOfficeUser(e,s,t,i){let n=!1;return this.isPermanentReassignmentSelected&&(t?(i&&s.CommonDeputy&&""!==s.CommonDeputy.DeputyIfOutOfOffice||!i&&s&&""!==s.DeputyIfOutOfOffice)&&(n=!0):e.ConfigDeputy&&""!==e.ConfigDeputy.DeputyIfOutOfOffice&&(n=!0)),n}isValidReassignment(){return this.deputiesSelected=!1,this.deputiesSelected=!(this.selectedUser&&this.selectedUser.Configs.length>0&&this.selectedUser.Configs.filter(e=>e.ConfigDeputy&&void 0!==e.ConfigDeputy.UID).length>0),this.deputiesSelected&&this.modalService.alert(this.TASK_REASSIGNMENT_NO_ASSIGNEE),this.deputiesSelected}setUserWithDropdownValues(e){e.Configs&&e.Configs.map(e=>{const s=this.selectedUser.Configs.filter(s=>s.ConfigUID===e.ConfigUID)[0];s&&(s.Deputies=e.Deputies,s.ConfigDeputy=void 0,e.Deputies.length>0&&s.OriginalDeputy&&e.Deputies.filter(e=>e.UID===s.OriginalDeputy.UID).length>0&&(s.ConfigDeputy=s.OriginalDeputy))}),this.selectedUser.CommonDeputies=e.CommonDeputies}searchAsignee(e,s,t){t?(this.selectedUser.SearchTerm=e,this.selectedUser.CommonDeputy=void 0):s&&(s.SearchTerm=e,s.ConfigDeputy=void 0)}validateReassignDates(){this.selectedUser.SPFReassignFromDate>this.selectedUser.SPFReassignToDate&&(this.selectedUser.SPFReassignToDate=void 0),this.fromDateRequired=!this.selectedUser.SPFReassignFromDate,this.toDateRequired=!this.selectedUser.SPFReassignToDate,this.findAssigneeSubscription.next()}validateRequiredFields(e){let s=!0;return this.fromDateRequired=!1,this.toDateRequired=!1,this.selectedUser.SPFDisableUser||this.isPermanentReassignmentSelected||this.clearReassignment?(this.fromDateCalendar.overlayVisible=!1,this.toDateCalendar.overlayVisible=!1):this.selectedUser.SPFReassignFromDate?this.selectedUser.SPFReassignToDate||(s=!1,e&&(this.toDateRequired=!0,this.showCalendar(this.toDateCalendar))):(s=!1,e&&(this.fromDateRequired=!0,this.showCalendar(this.fromDateCalendar))),this.reassignmentDatesSet=s,this.ASSIGNEE_PLACE_HOLDER=this.reassignmentDatesSet?this.sdaTranslateService.get("TASK_REASSIGNMENT_ASSIGNEE_PLACE_HOLDER","Select assignee"):void 0,this.deputyFilter||(s=!1,this.disableReassign=!0),s}closeDropDownMenu(e,s,t){this.disableReassign=!1,t?(this.selectedUser.IsOpenDropdown=!1,this.selectedUser.CommonDeputy?this.isPermanentReassignmentSelected&&(this.disableReassign=this.selectedUser.CommonDeputy.IsCyclicReassignment):(s.value="",this.selectedUser.SearchTerm=void 0),this.commomDeputyDropDown=!1):(e.IsOpenDropdown=!1,e.ConfigDeputy||(s.value="",e.SearchTerm=void 0)),this.checkAnySelectedDeputyIsCyclic(),this.deputyFilter||(this.disableReassign=!0)}checkAnySelectedDeputyIsCyclic(){this.isPermanentReassignmentSelected&&this.selectedUser.Configs.map(e=>{e.ConfigDeputy&&e.ConfigDeputy.IsCyclicReassignment&&(this.disableReassign=e.ConfigDeputy.IsCyclicReassignment)})}selectedItemChange(e,s){e.ConfigDeputy=s,e.IsOpenDropdown=!e.IsOpenDropdown}getOutofOfficeUsersToolTip(e){let s;return e&&e.DeputyIfOutOfOffice&&""!==e.DeputyIfOutOfOffice&&(s=this.OUT_OF_OFFICE_USERS_TITLE),s}getOutofOfficeUsersDescription(e){let s;return e&&e.DeputyIfOutOfOffice&&""!==e.DeputyIfOutOfOffice&&(s=e.IsCyclicReassignment?this.INVALID_RECURSIVE_SELECTION:this.OUT_OF_OFFICE_USERS_DESCRIPTION),s}getDisplayName(e){let s;return e&&(s=e.DisplayName),s}getPermanentReassignmentRelsInfo(){this.userRelationsToolTip=void 0,this.taskReassignmentService.getRelDefsForReassignment().subscribe(e=>{e&&(this.userRelationsToolTip=this.PERMANENT_REASSIGNMENT_TOOLTIP_TITLE+" : \n"+e.join("\n"))},e=>{this.exceptionService.handleException(e)})}subscribeToFindAssignee(){this.findAssigneeSubscription.pipe(Object(X.a)(500),Object(G.a)(()=>(this.validateRequiredFields(!0)&&(this.showAsigneeLoadingIndicator=!0,this.findDeputy()),Object(k.a)({})))).subscribe()}onClearReassignment(){this.modalService.confirm(this.sdaTranslateService.get("TASK_REASSIGNMENT_CANCEL_TITLE","Clear Reassignment"),this.sdaTranslateService.get("TASK_REASSIGNMENT__CANCEL_DIALOG","Do you want to clear the reassignment?")).then(e=>{e&&this.reassignUser(!0)})}}return e.\u0275fac=function(s){return new(s||e)(S.Sb(B.a),S.Sb(D.a),S.Sb(A.a),S.Sb(K.a),S.Sb(V.a),S.Sb(m),S.Sb(y.a),S.Sb(Y.a),S.Sb(j.a),S.Sb(R.a))},e.\u0275cmp=S.Mb({type:e,selectors:[["sda-user-reassignment"]],viewQuery:function(e,s){var t;1&e&&(S.bd(Q,!0),S.bd(ee,!0)),2&e&&(S.Gc(t=S.ic())&&(s.fromDateCalendar=t.first),S.Gc(t=S.ic())&&(s.toDateCalendar=t.first))},inputs:{selectedUserID:"selectedUserID",isAdmin:"isAdmin",accessibleConfigUIDs:"accessibleConfigUIDs"},outputs:{updateUserStatus:"updateUserStatus"},features:[S.Cb],decls:4,vars:4,consts:[["class","reassign-user-toolbar",4,"ngIf"],[3,"centered","message",4,"ngIf"],["class","reassign-user",3,"reassign-user--content","reassign-user--disabled",4,"ngIf"],["class","reassign-user-toolbar reassign-user-toolbar--bottom",4,"ngIf"],[1,"reassign-user-toolbar"],[1,"reassign-user-toolbar__save-button",3,"disabled","click"],[3,"centered","message"],[1,"reassign-user"],["class","reassign-user__header",4,"ngIf"],[1,"reassign-user__section"],[1,"reassign-user__info"],[1,"reassign-user__details"],[1,"reassign-user__name"],[1,"reassign-user__logon-name"],[1,"reassign-options"],[1,"reassign-options__legend"],[1,"reassign-options__content"],[1,"reassign-type",3,"required","ngModel","ngModelChange","change"],[1,"reassign-type__temporary",3,"disabled","value"],[1,"reassign-type__content",3,"click"],[1,"reassign-user__dates"],[1,"reassign-user__dates-label"],["yearRange","1900:2100","appendTo","body",3,"ngModel","locale","dateFormat","required","disabled","minDate","monthNavigator","yearNavigator","readonlyInput","ngModelChange","onSelect"],["fromdate",""],["yearRange","1900:2100","appendTo","body",3,"ngModel","locale","dateFormat","monthNavigator","yearNavigator","required","disabled","minDate","readonlyInput","ngModelChange","onSelect"],["todate",""],["class","reassign-type__permanent",3,"value",4,"ngIf"],[1,"reassign-actions"],[1,"reassign-actions__clear",3,"disabled","ngModel","ngModelChange","change"],[1,"reassign-header"],[1,"deputy-filter-list"],["class","filter-item",3,"checked","disabled","change",4,"ngFor","ngForOf"],[1,"reassign-header","reassign-header--title"],[1,"reassign-header__column"],["svgIcon","overflow",1,"reassign-header__icon",3,"click"],[1,"common-deputy"],[1,"common-deputy__pop-up",3,"mouseleave"],[1,"deputies-dropdown"],["type","text","name","configDeputy","autocomplete","off",1,"deputies-dropdown__input",3,"value","placeholder","title","keyup","click","input","blur"],["commonDeputy",""],[1,"deputies",3,"mouseover","mouseleave"],["class","deputy-user deputy-user--empty",3,"mousedown","click",4,"ngIf"],["class","deputy-user",3,"title","click",4,"ngFor","ngForOf"],["class","reassign-header",4,"ngFor","ngForOf"],[1,"reassign-user__header"],[1,"reassign-type__permanent",3,"value"],[1,"reassign-type__title"],["svgIcon","info",1,"reassign-type__permanent-icon",3,"title"],[1,"reassign-type__content"],[1,"reassign-type__disable",3,"disabled","ngModel","ngModelChange","change"],[1,"filter-item",3,"checked","disabled","change"],[1,"deputy-user","deputy-user--empty",3,"mousedown","click"],[1,"deputy-user",3,"title","click"],[1,"deputy-user__name"],[1,"deputy-user__role"],[1,"reassign-header__item"],[1,"reassign-header__item__text"],["configDeputy",""],["class","reassign-user__outofoffice",4,"ngIf"],["class","deputy-user",3,"mousedown","click",4,"ngIf"],["class","deputy-user",3,"title","mousedown","click",4,"ngFor","ngForOf"],[1,"reassign-user__outofoffice"],[1,"reassign-user__outofoffice","reassign-user__outofoffice--name"],[1,"deputy-user",3,"mousedown","click"],[1,"deputy-user",3,"title","mousedown","click"],[1,"reassign-user-toolbar","reassign-user-toolbar--bottom"]],template:function(e,s){1&e&&(S.Sc(0,se,3,2,"div",0),S.Sc(1,te,1,2,"sda-loading-indicator",1),S.Sc(2,ue,61,78,"div",2),S.Sc(3,pe,3,2,"div",3)),2&e&&(S.sc("ngIf",!s.isAdmin),S.Eb(1),S.sc("ngIf",s.showUserLoadingIndicator),S.Eb(1),S.sc("ngIf",s.selectedUser),S.Eb(1),S.sc("ngIf",s.isAdmin))},directives:[i.t,J.a,o.b,n.A,n.p,n.s,o.a,l.a,a.a,i.s,r.a],pipes:[Z.a],styles:['.deputy-user__role[_ngcontent-%COMP%], .reassign-header__item[_ngcontent-%COMP%], .reassign-user__outofoffice[_ngcontent-%COMP%]{overflow-wrap:break-word;word-wrap:break-word;word-break:break-word}.deputies[_ngcontent-%COMP%], .reassign-user[_ngcontent-%COMP%]{overflow-x:hidden;overflow-y:auto}[_nghost-%COMP%]{display:flex;flex-direction:column;height:100%}.reassign-user-toolbar[_ngcontent-%COMP%]{display:flex;flex-shrink:0;align-items:center;justify-content:flex-end;width:100%;height:56px;padding:0 8px;background-color:#ebedf0;border-bottom:1px solid #cad0d7}.reassign-user-toolbar--bottom[_ngcontent-%COMP%]{height:48px;background:none;border:none}.reassign-user-toolbar__save-button[_ngcontent-%COMP%]{padding:0 8px;color:#fff;background-color:#02adff}.reassign-user-toolbar__save-button[_ngcontent-%COMP%]:hover{background-color:#3cc0ff}.reassign-user-toolbar__save-button[_ngcontent-%COMP%]:active{background-color:#0087c8}.reassign-user-toolbar__save-button[_ngcontent-%COMP%]:disabled{background-color:#a9b4be;cursor:not-allowed}.reassign-user[_ngcontent-%COMP%]{height:100%}.reassign-user--content[_ngcontent-%COMP%]{width:100%;max-width:768px;height:100%;margin:0 auto;border-left:1px solid #cad0d7;border-right:1px solid #cad0d7}.reassign-user--disabled[_ngcontent-%COMP%]{color:#b4bdc6!important;pointer-events:none;opacity:.6}.reassign-user__header[_ngcontent-%COMP%]{display:flex;flex-shrink:0;align-items:center;height:48px;padding:0 16px;background-color:#acdfff;border-bottom:1px solid #cad0d7;font-size:16px}.reassign-user__info[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;align-items:center;padding:10px}.reassign-user__details[_ngcontent-%COMP%]{display:flex;flex-basis:230px;flex-direction:column}.reassign-user__section[_ngcontent-%COMP%]{display:flex;flex:1 1 100%;border-bottom:1px solid #cad0d7;align-items:center;min-height:50px;padding:0 10px;font-weight:500;background-color:#afe5ff}.reassign-user__section--user[_ngcontent-%COMP%]{background-color:initial}.reassign-user__section--disable[_ngcontent-%COMP%]{color:#b4bdc6!important;pointer-events:none}.reassign-user__section--disable[_ngcontent-%COMP%]     .uxt-icon-button svg *{fill:#b4bdc6!important}.reassign-user__name[_ngcontent-%COMP%]{color:#0087c8;font-size:18px;font-weight:500!important;line-height:16px}.reassign-user__logon-name[_ngcontent-%COMP%]{font-size:16px;line-height:15px;color:#666;padding-top:5px}.reassign-user__dates[_ngcontent-%COMP%]{display:flex;flex:1;align-items:center;padding:10px}.reassign-user__dates-label[_ngcontent-%COMP%]{display:flex;align-items:center;min-width:100px}.reassign-user__dates-label[_ngcontent-%COMP%]:after{content:"*";display:inline-block;padding-right:10px;color:#d7142c;font-size:18px;-webkit-transform:translate3d(4px,-4px,0);transform:translate3d(4px,-4px,0)}.reassign-user__dates[_ngcontent-%COMP%]     p-calendar input{min-width:200px!important}.reassign-user__dates--required[_ngcontent-%COMP%]     p-calendar input{border:2px solid #ba4957!important}.reassign-user__dates--disabled[_ngcontent-%COMP%]{color:#b4bdc6!important;pointer-events:none}.reassign-user__outofoffice[_ngcontent-%COMP%]{color:#000;font-size:12px;max-width:100%;line-height:1.2;border-radius:5px;margin-top:5px;margin-bottom:5px;text-align:justify}.reassign-user__outofoffice--name[_ngcontent-%COMP%]{font-weight:700}.reassign-user__actions[_ngcontent-%COMP%]{display:flex;flex-direction:column}.reassign-header[_ngcontent-%COMP%]{display:flex;flex:1 1 100%;flex-wrap:wrap;min-height:50px;border-bottom:1px solid #cad0d7}.reassign-header--disable[_ngcontent-%COMP%]{color:#b4bdc6!important;pointer-events:none;-webkit-user-select:none;-ms-user-select:none;user-select:none}.reassign-header--disable[_ngcontent-%COMP%]     .uxt-checkbox--active{background-color:inherit}.reassign-header--disable[_ngcontent-%COMP%]     .uxt-checkbox .uxt-checkbox-core{border-color:#cad0d7}.reassign-header--disable[_ngcontent-%COMP%]     .uxt-checkbox .uxt-checkbox-core__check{background-color:#cad0d7}.reassign-header--disable[_ngcontent-%COMP%]   .reassign-header__icon[_ngcontent-%COMP%]{color:#b4bdc6}.reassign-header--title[_ngcontent-%COMP%]{background-color:#afe5ff}.reassign-header__column[_ngcontent-%COMP%]{display:flex;align-items:center;width:25%;min-height:50px;padding:5px 10px;font-weight:500;border-right:1px solid #c3c4c4;background-color:#f5f5f5}.reassign-header__column[_ngcontent-%COMP%]:nth-child(2n){width:50%}.reassign-header__icon[_ngcontent-%COMP%]{width:40px;height:40px;margin-left:auto;padding:8px;color:#697a8b;cursor:pointer}.reassign-header__item[_ngcontent-%COMP%]{display:flex;align-items:center;width:25%;padding:5px 10px}.reassign-header__item[_ngcontent-%COMP%]:nth-child(2n){width:50%}.reassign-header__item__text[_ngcontent-%COMP%]{flex-basis:100%}.reassign-header[_ngcontent-%COMP%]:nth-child(2n){background-color:#ebedf0}.reassign-header[_ngcontent-%COMP%]:nth-child(odd){background-color:#fff}.reassign-header__commondeputy[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:flex-end;width:33.333332%}.reassign-header[_ngcontent-%COMP%]     sda-loading-indicator{top:60%}.reassign-header[_ngcontent-%COMP%]     sda-loading-indicator .loader__message{width:250px;font-size:19px;font-weight:500}.deputies[_ngcontent-%COMP%]{position:absolute;top:47px;display:none;min-width:100%;max-height:200px;font-size:14px;background-color:#f5f5f5;z-index:100!important}.deputies--open[_ngcontent-%COMP%]{display:block;opacity:1}.deputies-dropdown[_ngcontent-%COMP%]{position:relative;width:100%}.deputies-dropdown__input[_ngcontent-%COMP%]{cursor:pointer;width:100%}.deputies-dropdown__input--outofoffice[_ngcontent-%COMP%]{color:#ec384e}.deputy-user[_ngcontent-%COMP%]{min-height:25px;padding:6px 10px;cursor:pointer}.deputy-user[_ngcontent-%COMP%]:hover{background-color:#afe5ff}.deputy-user__name[_ngcontent-%COMP%]{font-size:13px;font-weight:700;line-height:1.2;white-space:nowrap;color:#0087c8}.deputy-user__name--outofoffice[_ngcontent-%COMP%]{color:#ec384e}.deputy-user__role[_ngcontent-%COMP%]{font-size:11px;line-height:1.2;color:#000}.deputy-filter-list[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;padding-top:8px;padding-bottom:8px}.deputy-filter-list[_ngcontent-%COMP%]     .uxt-checkbox__text{color:inherit}.deputy-filter-list[_ngcontent-%COMP%]   .filter-item[_ngcontent-%COMP%]{padding-right:16px;padding-left:16px}@media screen and (max-width:33.0625em){.deputy-filter-list[_ngcontent-%COMP%]   .filter-item[_ngcontent-%COMP%]{flex-basis:100%}}@media screen and (min-width:33.125em) and (max-width:59.3125em){.deputy-filter-list[_ngcontent-%COMP%]   .filter-item[_ngcontent-%COMP%]{flex-basis:50%}}@media screen and (min-width:59.375em) and (max-width:74.9375em){.deputy-filter-list[_ngcontent-%COMP%]   .filter-item[_ngcontent-%COMP%]{flex-basis:33.333%}}.common-deputy[_ngcontent-%COMP%]{position:relative;display:block;width:0;height:0;padding-bottom:10px;z-index:200!important}.common-deputy--open[_ngcontent-%COMP%], .common-deputy[_ngcontent-%COMP%]   .deputies[_ngcontent-%COMP%]{position:relative;top:0}.common-deputy__pop-up[_ngcontent-%COMP%]{position:absolute;right:30px;display:none;border:1px solid #add8e6;min-width:256px;height:auto;margin-top:0;padding:5px;background-color:#fff;box-shadow:0 2px 5px rgba(0,0,0,.25)}.common-deputy__pop-up--open[_ngcontent-%COMP%]{display:block}.reassign-options[_ngcontent-%COMP%]{display:flex;flex:1;align-items:center;border:1px solid #cad0d7;margin-right:20px;padding:20px}.reassign-options__legend[_ngcontent-%COMP%]{color:#515e6b;font-size:16px;padding:0 10px}.reassign-options__content[_ngcontent-%COMP%]{display:flex;flex:1;flex-wrap:wrap}.reassign-type[_ngcontent-%COMP%]{display:flex;flex-basis:50%;flex-direction:column}.reassign-type[_ngcontent-%COMP%]     .mat-radio-label{align-items:flex-start}.reassign-type[_ngcontent-%COMP%]     .mat-radio-label-content{display:flex;flex:1;flex-direction:column}.reassign-type__content[_ngcontent-%COMP%]{display:flex;flex:1;flex-wrap:wrap;align-self:flex-start;padding-top:20px;padding-bottom:20px}.reassign-type__content--disabled[_ngcontent-%COMP%]{color:#b4bdc6!important;pointer-events:none;opacity:.6}.reassign-type__permanent[_ngcontent-%COMP%], .reassign-type__temporary[_ngcontent-%COMP%]{padding-left:10px}.reassign-type__permanent-icon[_ngcontent-%COMP%]{width:22px;height:22px;color:#697a8b}.reassign-type__title[_ngcontent-%COMP%]{display:flex;flex:1;align-items:center}.reassign-type__disable[_ngcontent-%COMP%]{padding:10px}.reassign-type__disable[_ngcontent-%COMP%]  .mat-checkbox-layout{align-items:center}.reassign-type__disable[_ngcontent-%COMP%]  .mat-checkbox-inner-container{width:18px;height:18px}.reassign-actions[_ngcontent-%COMP%]{display:flex;flex:1;flex-direction:column;justify-content:space-between}.reassign-actions__clear[_ngcontent-%COMP%]{padding:10px}.reassign-actions__clear[_ngcontent-%COMP%]     .mat-checkbox-layout{align-items:center}.reassign-actions__clear[_ngcontent-%COMP%]     .mat-checkbox-inner-container{width:18px;height:18px}.reassign-footer[_ngcontent-%COMP%]{position:fixed;right:20px;bottom:10px;display:flex;justify-content:flex-end;align-items:center}.reassign-save-button[_ngcontent-%COMP%]{margin-left:auto;background-color:#02adff;color:#fff}.reassign-save-button[_ngcontent-%COMP%]:hover{background-color:#3cc0ff}.reassign-save-button[_ngcontent-%COMP%]:active{background-color:#0087c8}.reassign-save-button[_ngcontent-%COMP%]:disabled{background-color:#a9b4be;cursor:not-allowed}']}),e})();var fe=t("7Ihv");function be(e,s){if(1&e&&(S.Yb(0,"dd",16),S.Uc(1),S.mc(2,"sdaTruncate"),S.Xb()),2&e){const e=s.$implicit;S.Eb(1),S.Wc(" ",null==e?"":S.oc(2,1,e,26)," ")}}function Se(e,s){if(1&e&&S.Tb(0,"mat-icon",17),2&e){const e=S.lc().$implicit,s=S.lc(2);S.Ib("user-info__icon--selected",e.label===s.selectedUserID),S.sc("svgIcon",e.icon)}}function me(e,s){if(1&e){const e=S.Zb();S.Yb(0,"div",10),S.hc("click",(function(){S.Kc(e);const t=s.$implicit;return S.lc(2).setUser(t.label)})),S.Yb(1,"div",11),S.Yb(2,"dl",12),S.Yb(3,"dt",13),S.Uc(4),S.mc(5,"sdaTruncate"),S.Xb(),S.Sc(6,be,3,4,"dd",14),S.mc(7,"slice"),S.Xb(),S.Xb(),S.Sc(8,Se,1,3,"mat-icon",15),S.Xb()}if(2&e){const e=s.$implicit;S.Eb(2),S.sc("title",e.value[0]),S.Eb(2),S.Vc(S.oc(5,4,e.value[0],30)),S.Eb(2),S.sc("ngForOf",S.oc(7,7,e.value,1)),S.Eb(2),S.sc("ngIf",e.icon)}}function Ee(e,s){if(1&e){const e=S.Zb();S.Yb(0,"sda-pagination",18),S.hc("changePage",(function(s){return S.Kc(e),S.lc(2).changePageNumber(s)})),S.Xb()}if(2&e){const e=S.lc(2);S.sc("totalPages",e.totalPages)("currentPage",e.pageNumber)}}function Oe(e,s){if(1&e){const e=S.Zb();S.Yb(0,"sda-user-reassignment",19),S.hc("updateUserStatus",(function(s){return S.Kc(e),S.lc(2).onUpdateUserStatus(s)})),S.Xb()}if(2&e){const e=S.lc(2);S.Ib("reassign-panel__user-info",!0),S.sc("selectedUserID",e.selectedUserID)("accessibleConfigUIDs",e.accessibleConfigDetails.ConfigUIDs)("isAdmin",!0)}}function Te(e,s){if(1&e){const e=S.Zb();S.Yb(0,"section",4),S.Yb(1,"div",5),S.Yb(2,"p-listbox",6),S.hc("ngModelChange",(function(s){return S.Kc(e),S.lc().selectedUserValue=s})),S.Sc(3,me,9,10,"ng-template",7),S.Xb(),S.Sc(4,Ee,1,2,"sda-pagination",8),S.Xb(),S.Sc(5,Oe,1,5,"sda-user-reassignment",9),S.Xb()}if(2&e){const e=S.lc();S.Eb(2),S.sc("options",e.displayDetails)("ngModel",e.selectedUserValue),S.Eb(2),S.sc("ngIf",e.totalPages>1),S.Eb(1),S.sc("ngIf",e.selectedUserID)}}const De=[{path:"adminreassign",component:(()=>{class e{constructor(e,s,t,i,n,a,r,o,c,l){this.route=e,this.urlFilterFactory=s,this.odataService=t,this.sdaTranslateService=i,this.applicationSettingsService=n,this.helpService=a,this.exceptionService=r,this.taskReassignmentService=o,this.loadingOverlayService=c,this.featureSearchProvider=l,this.displayDetails=[],this.pageNumber=0,this.peekResults=[],this.peekCount=0,this.isSearchLoading=!0,this.searchDisabled=!1,this.TASK_REASSIGNMENT_SEARCH_TEXT=this.sdaTranslateService.get("TASK_REASSIGNMENT_SEARCH_TEXT","Search User"),this.TASK_REASSIGNMENT_TITLE=this.sdaTranslateService.get("TASK_REASSIGNMENT_TITLE","Task Reassignment"),this.userDetails=[],this.isPageSearch=!1,this.onlyOutOfOfficeUsers=!1,this.onlyDisabledUsers=!1,this.datatype="GetPagedUsersForReassignment",this.searchFilter="Name",this.outOfOfficeID="OutOfOfficeID",this.disabledUsersID="DisabledUsersID",this.pageSize=Settings.application.defaultPageSize,this.totalRecords=this.pageSize,this.applicationSettingsService.setPageTitle(this.TASK_REASSIGNMENT_TITLE),this.helpService.setHandlers(M.b),this.route.params.subscribe(e=>{this.methodOBID=e[v.y],this.columnset=e[v.a],this.loadingOverlayService.showLoadingOverlay(),this.getUserAccessibleConfigsAndUsers()}),this.searchPlaceholder=this.sdaTranslateService.getFormatted("SEARCH_BAR_SEARCH_BY_PLACEHOLDER","Search {0}...",[this.datatype]),this.searchOptions=[new U.a(this.outOfOfficeID,this.sdaTranslateService.get("TASK_REASSIGNMENT_SEARCH_OUTOF_OFFICE_TEXT","Out Of Office")),new U.a(this.disabledUsersID,this.sdaTranslateService.get("TASK_REASSIGNMENT_SEARCH_DISABLED_TEXT","Disabled Users"))],this.peekFunction=e=>{const s=Object(I.b)(e.searchTerm,this.datatype,[this.searchFilter],void 0,this.getPeekParams(e.selectedOptions));return this.featureSearchProvider.oDataPeekFunction(s,!1)}}search(e){const s=this.urlFilterFactory.createFilterSetting(["Name"],N.a.CONTAINS,e.searchTerm);s.entityType=this.datatype,s.pageSize=this.pageSize,this.query=s,this.updateSelectedOptions(e.selectedOptions),this.searchUsers()}changePageNumber(e){e>=this.totalPages&&(e=0),this.pageNumber=e,this.isPageSearch=!0,this.searchUsers()}setUser(e){this.selectedUserID=e}onUpdateUserStatus(e){var s;if(null===(s=this.displayDetails)||void 0===s?void 0:s.length){const s=this.displayDetails.find(s=>s.label===e.UID);s&&(s.icon=this.getReassignmentTypeIcon(e))}}searchUsers(){this.selectedUserID=void 0,this.totalRecords=0,this.isPageSearch?this.isPageSearch=!1:this.pageNumber=0,this.userDetails.splice(0,this.userDetails.length),this.getUserDetails()}getUserDetails(){const e=this.getODataUrl(this.query);this.odataService.post(e,this.getPostContent(),void 0,void 0,this.columnset).subscribe(e=>{this.userDetails=e.value,this.totalRecords=e.count,this.totalPages=Math.ceil((this.totalRecords-1)/this.pageSize),this.displayDetails.splice(0,this.displayDetails.length),this.userDetails.length>0&&(this.selectedUserID=this.userDetails[0].UID,this.setDisplayValuesOfUser(),this.selectedUserValue=this.displayDetails[0].value)})}getODataUrl(e){let s=e.entityType+"?$filter=";return s+="(contains("+e.filters[0].field+",'"+encodeURIComponent(e.filters[0].value)+"'))",s+="&$skip="+this.pageNumber*this.pageSize+"&$top="+this.pageSize+"&$orderby=Name&$count=true",s}setDisplayValuesOfUser(){this.userDetails.forEach(e=>{const s=[];Object.keys(e).map(t=>{t.startsWith("CI_")&&e[t]&&"string"==typeof e[t]&&("CI_Name"===t?s.unshift(e[t]):s.push(e[t]))}),this.displayDetails.push({label:e.UID,value:s,icon:this.getReassignmentTypeIcon(e)})})}getReassignmentTypeIcon(e){let s;return e.DynReassignment&&("temporary"===e.DynReassignment.toLowerCase()?s="out-of-office":"permanent"===e.DynReassignment.toLowerCase()?s="out-of-organization":"disabled"===e.DynReassignment.toLowerCase()&&(s="cancel")),s}getUserAccessibleConfigsAndUsers(){this.taskReassignmentService.GetUserAccessibleConfigsAndUsers(this.methodOBID).subscribe(e=>{this.accessibleConfigDetails=e,this.loadingOverlayService.hideLoadingOverlay(),this.isSearchLoading=!1,this.searchDisabled=!1},e=>{this.loadingOverlayService.hideLoadingOverlay(),this.isSearchLoading=!1,this.searchDisabled=!0,this.exceptionService.handleException(new T.a(e,e.message,"AdminReassignmentComponent","getUserAccessibleConfigsAndUsers"))})}getPeekParams(e){return this.updateSelectedOptions(e),this.getPostContent()}getPostContent(){return JSON.stringify({UserOBIDs:this.accessibleConfigDetails.UserOBIDs,IsDisabledUser:this.onlyDisabledUsers,IsOutOfOfficeUser:this.onlyOutOfOfficeUsers})}updateSelectedOptions(e){this.onlyOutOfOfficeUsers=!1,this.onlyDisabledUsers=!1,e&&e.forEach(e=>{e.name===this.outOfOfficeID?this.onlyOutOfOfficeUsers=e.selected:e.name===this.disabledUsersID&&(this.onlyDisabledUsers=e.selected)})}}return e.\u0275fac=function(s){return new(s||e)(S.Sb(E.a),S.Sb(P.a),S.Sb(b.a),S.Sb(A.a),S.Sb(O.a),S.Sb(y.a),S.Sb(D.a),S.Sb(m),S.Sb(R.a),S.Sb(C.a))},e.\u0275cmp=S.Mb({type:e,selectors:[["sda-admin-reassignment"]],decls:5,vars:10,consts:[[1,"reassign-header"],[1,"reassign-header__search-text"],[3,"searchTerm","displayFiltersReset","options","placeholder","peekFunction","allowMultipleConfigs","isLoading","isDisabled","onSearch"],["class","reassign-panel",4,"ngIf"],[1,"reassign-panel"],[1,"reassign-panel__users"],[1,"user-info__list",3,"options","ngModel","ngModelChange"],["pTemplate","item"],[3,"totalPages","currentPage","changePage",4,"ngIf"],[3,"reassign-panel__user-info","selectedUserID","accessibleConfigUIDs","isAdmin","updateUserStatus",4,"ngIf"],[1,"user-info__item",3,"click"],[1,"user-info__content"],[1,"user-info__info",3,"title"],[1,"user-info__name"],["class","user-info__data",4,"ngFor","ngForOf"],["class","user-info__icon",3,"user-info__icon--selected","svgIcon",4,"ngIf"],[1,"user-info__data"],[1,"user-info__icon",3,"svgIcon"],[3,"totalPages","currentPage","changePage"],[3,"selectedUserID","accessibleConfigUIDs","isAdmin","updateUserStatus"]],template:function(e,s){1&e&&(S.Yb(0,"header",0),S.Yb(1,"h4",1),S.Uc(2),S.Xb(),S.Yb(3,"sda-peek-and-filters-search",2),S.hc("onSearch",(function(e){return s.search(e)})),S.Xb(),S.Xb(),S.Sc(4,Te,6,4,"section",3)),2&e&&(S.Eb(2),S.Vc(s.TASK_REASSIGNMENT_SEARCH_TEXT),S.Eb(1),S.sc("searchTerm","*")("displayFiltersReset",!1)("options",s.searchOptions)("placeholder",s.searchPlaceholder)("peekFunction",s.peekFunction)("allowMultipleConfigs",!1)("isLoading",s.isSearchLoading)("isDisabled",s.searchDisabled),S.Eb(1),S.sc("ngIf",s.displayDetails.length>0))},directives:[x.a,i.t,d.a,n.p,n.s,w.d,i.s,r.a,F.a,_e],pipes:[fe.a,i.E],styles:[".reassign-panel__user-info[_ngcontent-%COMP%], [_nghost-%COMP%]     .user-info__list .ui-listbox-list{overflow-x:hidden;overflow-y:auto}[_nghost-%COMP%]     .user-info__list .ui-listbox-item.ui-state-highlight .user-info__name, [_nghost-%COMP%]     .user-info__name{overflow:hidden;white-space:nowrap;text-overflow:ellipsis}[_nghost-%COMP%]     .ui-overlaypanel{left:auto!important;right:0!important}[_nghost-%COMP%]{display:flex;flex:1;flex-flow:column nowrap;height:100%}[_nghost-%COMP%]     .user-info__list{min-height:0}[_nghost-%COMP%]     .user-info__list .ui-listbox{padding:0!important}[_nghost-%COMP%]     .user-info__list .ui-listbox-list-wrapper{height:100%}[_nghost-%COMP%]     .user-info__list .ui-listbox-item{padding:0;color:#546e7a;background-color:#ebedf0;border-radius:0!important;transition:background-color .2s ease}[_nghost-%COMP%]     .user-info__list .ui-listbox-item:not(:first-of-type){border-top:1px solid #e0e0e0!important}[_nghost-%COMP%]     .user-info__list .ui-listbox-item.ui-state-highlight .user-info__data, [_nghost-%COMP%]     .user-info__list .ui-listbox-item.ui-state-highlight .user-info__name{color:#fff}[_nghost-%COMP%]     .user-info__list .ui-listbox-item:not(.ui-state-highlight).ui-state-hover{background:#cad0d7!important}[_nghost-%COMP%]     .user-info__list .ui-listbox-item.ui-state-highlight{background:#0087c8!important}[_nghost-%COMP%]     .user-info__item{display:flex;flex:1;align-items:center;justify-content:space-between;margin:0;padding:0}[_nghost-%COMP%]     .user-info__icon{flex-shrink:0;margin:5px;color:#0087c8}[_nghost-%COMP%]     .user-info__icon--selected{color:#fff}[_nghost-%COMP%]     .user-info__info{flex:1;padding:10px 8px}[_nghost-%COMP%]     .user-info__name{color:#0087c8;font-size:13px;font-weight:500;line-height:16px}[_nghost-%COMP%]     .user-info__data{font-size:11px;line-height:15px;color:#666}[_nghost-%COMP%]     .user-info__content{display:flex;flex:1}[_nghost-%COMP%]     .ui-overlaypanel{top:40px!important;min-width:260px;border-top-left-radius:0;border-top-right-radius:0}[_nghost-%COMP%]     sda-peek-search{width:100%}.reassign-header[_ngcontent-%COMP%]{display:flex;flex-shrink:0;align-items:center;width:100%;max-width:700px;margin:0 auto;padding:20px 15px}.reassign-header__search-text[_ngcontent-%COMP%]{flex-basis:115px;padding-right:10px}.reassign-header[_ngcontent-%COMP%]   sda-peek-and-filters-search[_ngcontent-%COMP%]{width:100%}.reassign-panel[_ngcontent-%COMP%]{display:flex;height:100%;min-height:0}.reassign-panel__users[_ngcontent-%COMP%]{display:flex;flex:0 0 270px;flex-direction:column}.reassign-panel__user-info[_ngcontent-%COMP%]{display:flex;flex-direction:column;width:100%}.reassign-panel__user-info--disable[_ngcontent-%COMP%]{color:#b4bdc6!important;pointer-events:none}.reassign-panel[_ngcontent-%COMP%]     sda-loading-indicator{top:60%}.reassign-panel[_ngcontent-%COMP%]     sda-loading-indicator .loader__message{width:250px;font-size:19px;font-weight:500}[_nghost-%COMP%]     .user-info__list, [_nghost-%COMP%]     .user-info__list .ui-listbox{display:block;width:100%;height:100%}"]}),e})()},{path:"userreassign",component:_e}];let Re=(()=>{class e{}return e.\u0275mod=S.Qb({type:e}),e.\u0275inj=S.Pb({factory:function(s){return new(s||e)},imports:[[E.k.forChild(De)],E.k]}),e})(),Ie=(()=>{class e{}return e.\u0275mod=S.Qb({type:e}),e.\u0275inj=S.Pb({factory:function(s){return new(s||e)},providers:[m],imports:[[i.c,n.j,_.a,g.b,l.b,d.b,p.a,u.a,h.a,c.b,r.b,o.c,a.b,Re]]}),e})()},ltBE:function(e,s,t){"use strict";t.d(s,"a",(function(){return n}));var i=t("fXoL");let n=(()=>{class e{transform(e,s,t){return e?t?e.filter(e=>e[s].toLowerCase().includes(t.toLowerCase())):e:[]}}return e.\u0275fac=function(s){return new(s||e)},e.\u0275pipe=i.Rb({name:"sdaFilter",type:e,pure:!0}),e})()}}]);