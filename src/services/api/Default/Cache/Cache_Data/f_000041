(window.webpackJsonp=window.webpackJsonp||[]).push([[116],{"/Hch":function(e,t,i){"use strict";i.d(t,"a",(function(){return h}));var n=i("tk/3"),s=i("lJxs"),a=i("ZW2Q"),r=i("DG5G"),o=i("4vCl"),c=i("A3La"),l=i("ONOH"),u=i("fXoL");let h=(()=>{class e{constructor(e,t,i){this.odataService=e,this.configService=t,this.filterQueryService=i}getDependentItems(e,t,i,r=!0,c){const l=this.filterQueryService.getOBIDURL(e.relObjectObids,e.pathDefinition,i,t,c);return this.odataService.get(l,this.configService.selectedCreateConfig).pipe(Object(s.a)(t=>{const i=[],s=new o.a(new n.e);if(t&&t.value&&t.value.length>0&&""!==e.pathDefinition){const n=t.value[0][e.pathDefinition];s.count=t.value[0][e.pathDefinition+"@odata.count"],n&&n.length>0&&n.forEach(e=>{i.push(new a.a(e.OBID,e.Name,e.Name,!1,"",!1))})}return s.value=i,s}))}getDependentObjects(e,t,i=[],n="*"){const s=this.filterQueryService.getOBIDURL(e,t,i,n);return this.odataService.get(s,this.configService.selectedCreateConfig)}}return e.\u0275fac=function(t){return new(t||e)(u.dc(c.a),u.dc(l.a),u.dc(r.a))},e.\u0275prov=u.Ob({token:e,factory:e.\u0275fac}),e})()},"0GHy":function(e,t,i){"use strict";i.d(t,"a",(function(){return O}));var n=i("3Ucw"),s=i("ofXK"),a=i("3Pt+"),r=i("fXoL");let o=(()=>{class e{}return e.\u0275mod=r.Qb({type:e}),e.\u0275inj=r.Pb({factory:function(t){return new(t||e)},imports:[[s.c,a.j]]}),e})();var c=i("M+Z9"),l=i("fdCq"),u=i("6Qg8"),h=i("1SkA"),d=i("MX5F"),f=i("YsCO"),p=i("YvlZ");let b=(()=>{class e{}return e.\u0275mod=r.Qb({type:e}),e.\u0275inj=r.Pb({factory:function(t){return new(t||e)},imports:[[s.c,a.j,f.a,d.a,p.a]]}),e})(),m=(()=>{class e{}return e.\u0275mod=r.Qb({type:e}),e.\u0275inj=r.Pb({factory:function(t){return new(t||e)},imports:[[s.c,f.a,d.a,p.a]]}),e})(),g=(()=>{class e{}return e.\u0275mod=r.Qb({type:e}),e.\u0275inj=r.Pb({factory:function(t){return new(t||e)},imports:[[s.c,a.j,p.a,d.a]]}),e})(),v=(()=>{class e{}return e.\u0275mod=r.Qb({type:e}),e.\u0275inj=r.Pb({factory:function(t){return new(t||e)},imports:[[s.c,a.j]]}),e})(),C=(()=>{class e{}return e.\u0275mod=r.Qb({type:e}),e.\u0275inj=r.Pb({factory:function(t){return new(t||e)},imports:[[s.c,a.j]]}),e})();var y=i("SHTa"),S=i("uinc"),F=i("LUJG");let O=(()=>{class e{}return e.\u0275mod=r.Qb({type:e}),e.\u0275inj=r.Pb({factory:function(t){return new(t||e)},providers:[n.a],imports:[h.a,l.a,c.a,F.a,u.a,S.a,y.a,m,b,v,g,C,o]}),e})()},"1SkA":function(e,t,i){"use strict";i.d(t,"a",(function(){return a}));var n=i("8YAH"),s=i("fXoL");let a=(()=>{class e{}return e.\u0275mod=s.Qb({type:e}),e.\u0275inj=s.Pb({factory:function(t){return new(t||e)},imports:[[n.a]]}),e})()},"1eVd":function(e,t,i){"use strict";i.d(t,"a",(function(){return b}));var n=i("fXoL"),s=i("XNiG"),a=i("Kj3r"),r=i("Ejbi"),o=i("ofXK"),c=i("3Pt+"),l=i("NFeN"),u=i("4CIq"),h=i("FcA5");function d(e,t){1&e&&n.Tb(0,"mat-icon",6)}function f(e,t){if(1&e){const e=n.Zb();n.Yb(0,"sda-button-plain",7),n.hc("click",(function(){return n.Kc(e),n.lc().onClear()})),n.Xb()}2&e&&n.sc("isCompact",!0)("matSvgIcon","close")}function p(e,t){if(1&e){const e=n.Zb();n.Yb(0,"sda-button-primary",8),n.hc("click",(function(){return n.Kc(e),n.lc().search()})),n.Xb()}2&e&&n.sc("matSvgIcon","search")}let b=(()=>{class e{constructor(e){this.sdaTranslateService=e,this.useFilterMode=!0,this.useDebounce=!1,this.showClearIcon=!1,this.searchTerm="",this.placeholder="",this.searchTermChange=new n.o,this.onSearch=new n.o,this.SEARCH_BAR_PLACEHOLDER=this.sdaTranslateService.get("SEARCH_BAR_PLACEHOLDER","Search..."),this.onChangeDebounce=new s.a,this.placeholder=this.SEARCH_BAR_PLACEHOLDER,this.onChangeDebounceSubscription=this.onChangeDebounce.pipe(Object(a.a)(500)).subscribe(()=>{this.searchTermChange.emit(this.searchTerm)})}ngOnChanges(e){e.placeholder&&""===this.placeholder&&(this.placeholder=this.SEARCH_BAR_PLACEHOLDER)}ngOnDestroy(){this.onChangeDebounceSubscription&&this.onChangeDebounceSubscription.unsubscribe()}get searchQuery(){return this.searchTerm}set searchQuery(e){e!==this.searchTerm&&(this.searchTerm=e,this.searchTermUpdated())}search(){this.useFilterMode||this.onSearch.emit(this.searchTerm)}onClear(){this.searchTerm="",this.searchTermChange.emit(this.searchTerm)}searchTermUpdated(){this.useDebounce?this.onChangeDebounce.next():this.searchTermChange.emit(this.searchTerm)}}return e.\u0275fac=function(t){return new(t||e)(n.Sb(r.a))},e.\u0275cmp=n.Mb({type:e,selectors:[["sda-simple-search"]],inputs:{useFilterMode:"useFilterMode",useDebounce:"useDebounce",showClearIcon:"showClearIcon",searchTerm:"searchTerm",placeholder:"placeholder"},outputs:{searchTermChange:"searchTermChange",onSearch:"onSearch"},features:[n.Cb],decls:6,vars:6,consts:[[1,"simple-search"],["svgIcon","search","class","simple-search__icon",4,"ngIf"],["type","text",1,"simple-search__input",3,"ngModel","placeholder","spellcheck","ngModelChange","keyup.enter"],["Search",""],["class","simple-search__button simple-search__button--clear",3,"isCompact","matSvgIcon","click",4,"ngIf"],["class","simple-search__button",3,"matSvgIcon","click",4,"ngIf"],["svgIcon","search",1,"simple-search__icon"],[1,"simple-search__button","simple-search__button--clear",3,"isCompact","matSvgIcon","click"],[1,"simple-search__button",3,"matSvgIcon","click"]],template:function(e,t){1&e&&(n.Yb(0,"div",0),n.Sc(1,d,1,0,"mat-icon",1),n.Yb(2,"input",2,3),n.hc("ngModelChange",(function(e){return t.searchQuery=e}))("keyup.enter",(function(){return t.search()})),n.Xb(),n.Sc(4,f,1,2,"sda-button-plain",4),n.Sc(5,p,1,1,"sda-button-primary",5),n.Xb()),2&e&&(n.Eb(1),n.sc("ngIf",t.useFilterMode),n.Eb(1),n.sc("ngModel",t.searchQuery)("placeholder",t.placeholder)("spellcheck",!1),n.Eb(2),n.sc("ngIf",t.showClearIcon&&(null==t.searchTerm?null:t.searchTerm.length)>0),n.Eb(1),n.sc("ngIf",!t.useFilterMode))},directives:[o.t,c.c,c.p,c.s,l.a,u.a,h.a],styles:[".simple-search__input[_ngcontent-%COMP%]{overflow:hidden;white-space:nowrap;text-overflow:ellipsis}[_nghost-%COMP%]{width:100%}.simple-search[_ngcontent-%COMP%]{display:flex;flex:1;align-items:center;height:34px;border:1px solid #dce0e5;background-color:#fff;color:#8997a5}.simple-search__icon[_ngcontent-%COMP%]{width:20px;height:20px;margin-left:5px}.simple-search__input[_ngcontent-%COMP%]{flex:1;min-width:0!important;height:34px;line-height:1;border:none;background-color:initial}.simple-search__button[_ngcontent-%COMP%]  .button{border-radius:0}.simple-search__button--clear[_ngcontent-%COMP%] {margin-right:1px}.simple-search__button--clear[_ngcontent-%COMP%]  .button__mat-icon{width:16px;height:16px}"]}),e})()},"3Ucw":function(e,t,i){"use strict";i.d(t,"a",(function(){return a}));var n=i("JrsU"),s=i("fXoL");let a=(()=>{class e{constructor(){this.cachedDataList=[]}getCachedData(e){let t;const i=this.cachedDataList.filter(t=>t.key===e);return i&&i.length>0&&(t=i[0].value),t}cacheData(e,t){const i=this.cachedDataList.filter(t=>t.key===e)[0];i?i.value=t:this.cachedDataList.push(new n.a(e,t))}clear(){this.cachedDataList=[]}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=s.Ob({token:e,factory:e.\u0275fac}),e})()},"4BcJ":function(e,t,i){"use strict";i.d(t,"a",(function(){return n}));class n{constructor(){this.loadMore=!1,this.isValid=!0}}},"6Qg8":function(e,t,i){"use strict";i.d(t,"a",(function(){return o}));var n=i("ofXK"),s=i("3Pt+"),a=i("F+hv"),r=i("fXoL");let o=(()=>{class e{}return e.\u0275mod=r.Qb({type:e}),e.\u0275inj=r.Pb({factory:function(t){return new(t||e)},imports:[[n.c,s.j,a.a]]}),e})()},"7CaW":function(e,t,i){"use strict";i.d(t,"a",(function(){return r}));var n=i("fXoL"),s=i("ofXK"),a=i("7zfz");i("R0Ic");let r=(()=>{let e=class{};return e.\u0275mod=n.Qb({type:e}),e.\u0275inj=n.Pb({factory:function(t){return new(t||e)},imports:[[s.c],a.e]}),e})()},"8HKr":function(e,t,i){"use strict";i.r(t),i.d(t,"ReplaceFilesRoutingModule",(function(){return V}));var n=i("ofXK"),s=i("3Pt+"),a=i("bSwM"),r=i("vZO+"),o=i("CakU"),c=i("noLC"),l=i("z+VC"),u=i("inpI"),h=i("fXoL");let d=(()=>{class e{}return e.\u0275mod=h.Qb({type:e}),e.\u0275inj=h.Pb({factory:function(t){return new(t||e)},providers:[l.a],imports:[[n.c,u.a,r.a,c.a,o.a,s.j,a.b]]}),e})();var f=i("tyNb"),p=i("5iMO"),b=i("quZr"),m=i("itXk"),g=i("LRne"),v=i("eIep"),C=i("lJxs"),y=i("JIr8"),S=i("hoCq"),F=i("iwlc"),O=i("YwUS"),w=i("m8I0"),P=i("Z9D8"),j=i("LUpO"),L=i("C4gn"),D=i("Z2of"),M=i("zHoD"),E=i("osZK"),T=i("c+03"),_=i("Qi+w"),R=i("PEjJ"),B=i("wpY2"),I=i("SXtU"),N=i("Ejbi"),A=i("+eYH"),x=i("NEWU"),X=i("41Lq"),k=i("niUd"),Q=i("ME6W"),U=i("tqjF"),K=i("pQW9");const Y=[{path:"",component:(()=>{class e{constructor(e,t,i,n,s,a,r,o,c,l,u,h,d,f){this.route=e,this.rootDataService=t,this.exceptionService=i,this.dataRefreshService=n,this.notificationService=s,this.applicationSettingsService=a,this.sdaTranslateService=r,this.pinsMenuService=o,this.helpService=c,this.featureSetNavigationService=l,this.saveChangesDialogService=u,this.loadingOverlayService=h,this.fileUploaderService=d,this.referenceFileHandlingService=f,this.uploadMode=M.a.None,this.finishButtonType=w.a.Primary,this.attachedFiles=[],this.commonFiles=[],this.filesPending=!1,this.disableFinishButton=!0,this.restrictedFileTypeExtensions=[],this.REPLACE_FILES_NOTICE_DESCRIPTION=this.sdaTranslateService.get("REPLACE_FILES_NOTICE_DESCRIPTION","Marked files will be replaced"),this.CANCEL=this.sdaTranslateService.get("CANCEL","Cancel"),this.COPY_MARKUPS=this.sdaTranslateService.get("COPY_MARKUPS","Copy Markups"),this.copyMarkups=!1,this.REPLACE_FILES_ERROR=this.sdaTranslateService.get("REPLACE_FILES_ERROR","An error occurred while replacing the files"),this.uploadedFiles=[],this.selectedFilesToUpload=[],this.replaceFilesData={ClientFilePathAndUploadIDs:void 0,TargetObjectOBID:"",GetNextMajor:"",SignOffNewRevision:"",FileClassDef:"",FileCompositionRelDef:"",ResolvedRefFileDetails:void 0,RestrictedFileTypes:"",CopyMarkups:this.copyMarkups},this.allFiles=[],Object(m.a)(this.route.paramMap,this.route.data).subscribe(([e,t])=>{this.objects=t[x.z],this.objects&&(this.objectName=this.objects[0].name,this.replaceFilesData.TargetObjectOBID=this.objects[0].obid);let i="true";if(this.methodColumnSet=e.get(x.m),e.has(x.a)&&e.get(x.a)&&(i=e.get(x.a)),this.replaceFilesData.GetNextMajor=i,this.replaceFilesData.SignOffNewRevision=e.get(x.l),this.replaceFilesData.RestrictedFileTypes=e.get(x.n),this.replaceFilesData.RestrictedFileTypes&&(this.restrictedFileTypeExtensions=this.replaceFilesData.RestrictedFileTypes.split(",").map(e=>e.trim())),e.has(x.k)&&e.get(x.k)){const t=e.get(x.k).split("~");this.replaceFilesData.FileClassDef=t[0],this.fileUploaderService.fileClass=this.replaceFilesData.FileClassDef,this.replaceFilesData.FileCompositionRelDef=t[1],this.refNotFoundAction=t[2]}});const p=this.sdaTranslateService.getFormatted("REPLACE_FILES_PAGE_TITLE-NAME","Replace Files for '{0}' object",[this.objectName]);this.applicationSettingsService.setPageTitle(p),this.helpService.setHandlers(S.c)}getAttachedFiles(e){this.attachedFiles=e}canDeactivate(){let e=Promise.resolve(!0);return this.filesPending&&(e=this.saveChangesDialogService.showDialog()),e}filesUploaded(e){this.uploadedFiles=e,this.disableFinishButton=this.selectedFilesToUpload.length!==this.uploadedFiles.length}onFinish(){this.resolveReferencesAndReplace().subscribe()}uploadFileSelected(e){const t=this.attachedFiles.map(e=>e.name.toUpperCase()),i=e.map(e=>e.file.name.toUpperCase());this.commonFiles=t.filter(e=>-1!==i.indexOf(e)),this.selectedFilesToUpload=e,this.filesPending=e.length>0}resolveReferencesAndReplace(){this.allFiles=[];const e=[];this.allFiles.push(...this.uploadedFiles);const t=this.attachedFiles.filter(e=>-1===this.commonFiles.indexOf(e.name.toUpperCase()));return t&&t.length>0&&t.forEach(t=>{const i=new D.a("","",{name:t.name},void 0,M.a.None,{inLineVirusScanIsAvailable:!0,inlineCSVFileValidationAvailable:!1});this.allFiles.push(i),e.push(t.obid)}),this.loadingOverlayService.showLoadingOverlay(),this.referenceFileHandlingService.resolveReferencesAndShowDuplicates(this.uploadedFiles,this.refNotFoundAction,void 0,!1,e,this.allFiles).pipe(Object(v.a)(e=>e?(this.loadingOverlayService.hideLoadingOverlay(),this.replaceDocFiles()):(this.loadingOverlayService.hideLoadingOverlay(),Object(g.a)(void 0))))}replaceDocFiles(){this.loadingOverlayService.showLoadingOverlay();const e=[];return this.uploadedFiles.forEach(t=>{e.push([t.file.path+t.file.name,t.uploadID])}),this.replaceFilesData.ClientFilePathAndUploadIDs=e,this.replaceFilesData.ResolvedRefFileDetails=this.getResolvedRefFileDetails(),this.replaceFilesData.CopyMarkups=this.copyMarkups,this.rootDataService.post("FileMgmt/ReplaceAndAttach",JSON.stringify(this.replaceFilesData)).pipe(Object(C.a)(e=>{const t=this.sdaTranslateService.getFormatted("REPLACE_FILES_SUCCESS-NAME","Successfully replaced/attached file(s) for '{0}' object",[this.objectName]);return this.loadingOverlayService.hideLoadingOverlay(),this.handleSuccess(t),this.pinNewItem(e),this.featureSetNavigationService.navigateBack(),!0}),Object(y.a)(e=>(e.message=this.sdaTranslateService.getFormatted("REPLACE_FILES_ERROR-EXCEPTION","An error occurred while replacing the files: {0}",[e.message]),this.loadingOverlayService.hideLoadingOverlay(),this.exceptionService.handleException(new P.a(e,this.REPLACE_FILES_ERROR,"replace-files-feature.component","ReplaceFiles")),Object(g.a)(!1))))}getResolvedRefFileDetails(){return this.allFiles.map(e=>({Name:e.file.name,NewReferenceRelations:e.referenceFilesInfo.newReferenceFiles,ResolvedDuplicateReferenceOBIDs:e.referenceFilesInfo.resolvedDuplicateReferenceOBIDs}))}handleSuccess(e){this.dataRefreshService.refreshData(),this.notificationService.success(e),this.filesPending=!1}pinNewItem(e){this.pinsMenuService.addToNewItems(new A.a(e.OBID,e.Name,e.Config,void 0,void 0))}}return e.\u0275fac=function(t){return new(t||e)(h.Sb(f.a),h.Sb(I.a),h.Sb(j.a),h.Sb(R.a),h.Sb(X.a),h.Sb(O.a),h.Sb(N.a),h.Sb(_.a),h.Sb(F.a),h.Sb(L.a),h.Sb(B.a),h.Sb(T.a),h.Sb(E.a),h.Sb(l.a))},e.\u0275cmp=h.Mb({type:e,selectors:[["sda-replace-files"]],decls:9,vars:15,consts:[[1,"sda-card-body"],[3,"objects","uploadMode","commonFiles","infoMessage","filesUploaded","filesSelected"],[1,"replace-files__markups"],[3,"ngModel","ngModelChange"],[3,"objects","restrictedExtensionUIDs","columnSet","getAllAttachedFiles","updateAttachedFiles"],[1,"sda-card-footer"],[3,"displayFinishButton","displayCloseButton","disableFinishButton","finishButtonType","closeButtonText","onClose","onFinish"]],template:function(e,t){1&e&&(h.Yb(0,"sda-card-view"),h.Yb(1,"div",0),h.Yb(2,"sda-file-upload",1),h.hc("filesUploaded",(function(e){return t.filesUploaded(e)}))("filesSelected",(function(e){return t.uploadFileSelected(e)})),h.Xb(),h.Yb(3,"div",2),h.Yb(4,"mat-checkbox",3),h.hc("ngModelChange",(function(e){return t.copyMarkups=e})),h.Uc(5),h.Xb(),h.Xb(),h.Yb(6,"sda-attached-files",4),h.hc("updateAttachedFiles",(function(e){return t.getAttachedFiles(e)})),h.Xb(),h.Xb(),h.Yb(7,"div",5),h.Yb(8,"sda-close-and-finish-bar",6),h.hc("onClose",(function(){return t.featureSetNavigationService.navigateBack()}))("onFinish",(function(){return t.onFinish()})),h.Xb(),h.Xb(),h.Xb()),2&e&&(h.Eb(2),h.sc("objects",t.objects)("uploadMode",t.uploadMode)("commonFiles",t.commonFiles)("infoMessage",t.REPLACE_FILES_NOTICE_DESCRIPTION),h.Eb(2),h.sc("ngModel",t.copyMarkups),h.Eb(1),h.Vc(t.COPY_MARKUPS),h.Eb(1),h.sc("objects",t.objects)("restrictedExtensionUIDs",t.restrictedFileTypeExtensions)("columnSet",t.methodColumnSet)("getAllAttachedFiles",!0),h.Eb(2),h.sc("displayFinishButton",!0)("displayCloseButton",!0)("disableFinishButton",t.disableFinishButton)("finishButtonType",t.finishButtonType)("closeButtonText",t.CANCEL))},directives:[k.a,Q.a,a.a,s.p,s.s,U.a,K.a],styles:["[_nghost-%COMP%]{display:flex;flex:1}[_nghost-%COMP%], [_nghost-%COMP%]   sda-card-view[_ngcontent-%COMP%]{overflow:hidden}[_nghost-%COMP%]   sda-card-view[_ngcontent-%COMP%]     .card{flex:1;border:none;margin:0;padding:0;overflow:hidden}[_nghost-%COMP%]   sda-card-view[_ngcontent-%COMP%]     .card-body{flex:1;overflow:auto}[_nghost-%COMP%]   sda-card-view[_ngcontent-%COMP%]     .sda-card-footer{border-top:1px solid #cad0d7}[_nghost-%COMP%]   sda-card-view[_ngcontent-%COMP%]     .mat-checkbox-layout{align-items:center}.replace-files__markups[_ngcontent-%COMP%]{margin:40px auto 0}@media screen and (min-width:75em){.replace-files__markups[_ngcontent-%COMP%]{max-width:1300px}}"]}),e})(),resolve:{objects:p.a},canDeactivate:[b.a]}];let H=(()=>{class e{}return e.\u0275mod=h.Qb({type:e}),e.\u0275inj=h.Pb({factory:function(t){return new(t||e)},imports:[[f.k.forChild(Y)],f.k]}),e})(),V=(()=>{class e{}return e.\u0275mod=h.Qb({type:e}),e.\u0275inj=h.Pb({factory:function(t){return new(t||e)},imports:[[d,H]]}),e})()},"8YAH":function(e,t,i){"use strict";i.d(t,"a",(function(){return o}));var n=i("ofXK"),s=i("3Pt+"),a=i("txXS"),r=i("fXoL");let o=(()=>{class e{}return e.\u0275mod=r.Qb({type:e}),e.\u0275inj=r.Pb({factory:function(t){return new(t||e)},imports:[[n.c,s.j,a.a]]}),e})()},"9X43":function(e,t,i){"use strict";i.d(t,"a",(function(){return a}));var n=i("WG3B"),s=i("fXoL");let a=(()=>{class e{}return e.\u0275mod=s.Qb({type:e}),e.\u0275inj=s.Pb({factory:function(t){return new(t||e)},imports:[[n.o]]}),e})()},BMkO:function(e,t,i){"use strict";i.d(t,"a",(function(){return a}));var n=i("uxyQ"),s=i("fXoL");let a=(()=>{class e{}return e.\u0275mod=s.Qb({type:e}),e.\u0275inj=s.Pb({factory:function(t){return new(t||e)},providers:[n.a]}),e})()},"HPu/":function(e,t,i){"use strict";i.d(t,"a",(function(){return C}));var n=i("ofXK"),s=i("3Pt+"),a=i("bTqV"),r=i("bSwM"),o=i("NFeN"),c=i("STbY"),l=i("Qu3c"),u=i("8yBR"),h=i("BMkO"),d=i("l3mi"),f=i("mQCr"),p=i("wA8e"),b=i("2wiT"),m=i("mZKE"),g=i("VL22"),v=i("fXoL");let C=(()=>{class e{}return e.\u0275mod=v.Qb({type:e}),e.\u0275inj=v.Pb({factory:function(t){return new(t||e)},providers:[g.a,m.a],imports:[[r.b,u.e,r.b,n.c,s.j,b.a,a.b,p.a,f.a,d.a,o.b,h.a,c.c,l.b]]}),e})()},J0As:function(e,t,i){"use strict";i.d(t,"a",(function(){return b}));var n=i("ofXK"),s=i("3Pt+"),a=i("bSwM"),r=i("NFeN"),o=i("eO1q"),c=i("l3mi"),l=i("iVUw"),u=i("F+hv"),h=i("txXS"),d=i("LvQU"),f=i("/Hch"),p=i("fXoL");let b=(()=>{class e{}return e.\u0275mod=p.Qb({type:e}),e.\u0275inj=p.Pb({factory:function(t){return new(t||e)},providers:[f.a],imports:[[n.c,s.j,r.b,a.b,u.a,h.a,o.b,d.a,l.a,c.a]]}),e})()},LUJG:function(e,t,i){"use strict";i.d(t,"a",(function(){return u}));var n=i("ofXK"),s=i("3Pt+"),a=i("eO1q"),r=i("MX5F"),o=i("txXS"),c=i("YvlZ"),l=i("fXoL");let u=(()=>{class e{}return e.\u0275mod=l.Qb({type:e}),e.\u0275inj=l.Pb({factory:function(t){return new(t||e)},imports:[[n.c,s.j,a.b,r.a,o.a,c.a]]}),e})()},LvQU:function(e,t,i){"use strict";i.d(t,"a",(function(){return f}));var n=i("ofXK"),s=i("3Pt+"),a=i("l3mi"),r=i("sh/L"),o=i("LI1j"),c=i("giKh"),l=i("fXoL");let u=(()=>{class e{}return e.\u0275mod=l.Qb({type:e}),e.\u0275inj=l.Pb({factory:function(t){return new(t||e)},imports:[[n.c,s.j,o.a,c.a,r.a,a.a]]}),e})();var h=i("Vpc6");let d=(()=>{class e{}return e.\u0275mod=l.Qb({type:e}),e.\u0275inj=l.Pb({factory:function(t){return new(t||e)},imports:[[n.c,a.a]]}),e})(),f=(()=>{class e{}return e.\u0275mod=l.Qb({type:e}),e.\u0275inj=l.Pb({factory:function(t){return new(t||e)},imports:[[n.c,s.j,c.a,h.a,r.a,u,d]]}),e})()},"M+Z9":function(e,t,i){"use strict";i.d(t,"a",(function(){return u}));var n=i("ofXK"),s=i("3Pt+"),a=i("eO1q"),r=i("MX5F"),o=i("txXS"),c=i("YvlZ"),l=i("fXoL");let u=(()=>{class e{}return e.\u0275mod=l.Qb({type:e}),e.\u0275inj=l.Pb({factory:function(t){return new(t||e)},imports:[[n.c,s.j,a.b,r.a,o.a,c.a]]}),e})()},MfSp:function(e,t,i){"use strict";i.d(t,"a",(function(){return a}));var n=i("2Vo4"),s=i("4BcJ");class a extends s.a{constructor(e,t,i,s,a,r=new Array,o=0,c,l=!1,u=!0,h){super(),this.obid=e,this.uid=t,this.name=i,this.classdef=s,this.iconName=a,this.count=o,this.parentObid=c,this.loadMore=l,this.isValid=u,this.parentNode=h,this.state={count:o,skip:0},this.childrenChange=new n.a(r)}get children(){return this.childrenChange.value}}},SHTa:function(e,t,i){"use strict";i.d(t,"a",(function(){return l}));var n=i("ofXK"),s=i("3Pt+"),a=i("jw+j"),r=i("MX5F"),o=i("YvlZ"),c=i("fXoL");let l=(()=>{class e{}return e.\u0275mod=c.Qb({type:e}),e.\u0275inj=c.Pb({factory:function(t){return new(t||e)},imports:[[n.c,s.j,r.a,o.a,a.a]]}),e})()},VL22:function(e,t,i){"use strict";i.d(t,"a",(function(){return r}));var n=i("Ejbi"),s=i("MfSp"),a=i("fXoL");let r=(()=>{class e{constructor(e){this.sdaTranslateService=e,this.LOAD_MORE=this.sdaTranslateService.get("LOAD_MORE_LABEL","Load More")}transformNodes(e,t=[],i,n,s){const a=this.detectNestedNodeProperty(i),r=this.transform(e,a,n);if(r&&r.length>0)if(n){const e=t?this.findNode(t,n):void 0;this.appendLoadMoreNode(e.children,r,n,e.state),e.childrenChange.next(e.children)}else this.appendLoadMoreNode(t,r,void 0,s);return t}findNode(e,t){if(e.every(e=>e.obid!==t)){let i,n;return e.forEach(e=>{e.children.length>0&&!i&&(i=this.findNode(e.children,t),i&&(n=i))}),n}return e.find(e=>e.obid===t)}detectNestedNodeProperty(e){let t="Children";if(e&&!e.Children){const i=Object.getOwnPropertyNames(e).filter(t=>Array.isArray(e[t]));i.length>0&&(t=i[0])}return t}appendLoadMoreNode(e,t,i,n){e&&e.length>0&&e[e.length-1].name===this.LOAD_MORE&&e.pop(),e.push(...t),this.createLoadMoreTreeNode(n,e,i)}createLoadMoreTreeNode(e,t,i){t&&e.count>t.length&&(e.skip=t.length,t.push(new s.a("","",this.LOAD_MORE,"","",[],0,i,!0)))}transform(e,t,i,n){const a=[];return e&&e.forEach(e=>{const r=new s.a(e.OBID,e.UID,e.Name,this.getClassDef(e),e.IconName,[],this.detectChildCount(e,t),i,!1,e.IsValid,n);if(r.apiContextMenu=e.apiContextMenu,r.isLazy=e.isLazy,r.rawResult=e,r.tooltip=e.toolTip,e[t]&&e[t].length>0){const i=this.transform(e[t],t,e.OBID,r);this.createLoadMoreTreeNode(r.state,i,e.OBID),r.childrenChange.next(i)}a.push(r)}),a}detectChildCount(e,t){if(e.ChildrenCount>0)return e.ChildrenCount;const i=t.concat("@odata.count");return e[i]?e[i]:void 0}getClassDef(e){return e.ClassDef?e.ClassDef:e.Class?e.Class:void 0}}return e.\u0275fac=function(t){return new(t||e)(a.dc(n.a))},e.\u0275prov=a.Ob({token:e,factory:e.\u0275fac}),e})()},VoKn:function(e,t,i){"use strict";i.d(t,"a",(function(){return a}));var n=i("l3mi"),s=i("fXoL");let a=(()=>{class e{}return e.\u0275mod=s.Qb({type:e}),e.\u0275inj=s.Pb({factory:function(t){return new(t||e)},imports:[[n.a]]}),e})()},YvlZ:function(e,t,i){"use strict";i.d(t,"a",(function(){return a}));var n=i("NFeN"),s=i("fXoL");let a=(()=>{class e{}return e.\u0275mod=s.Qb({type:e}),e.\u0275inj=s.Pb({factory:function(t){return new(t||e)},imports:[[n.b]]}),e})()},dNA2:function(e,t,i){"use strict";i.d(t,"a",(function(){return r}));var n=i("Qu3c"),s=i("l3mi"),a=i("fXoL");let r=(()=>{class e{}return e.\u0275mod=a.Qb({type:e}),e.\u0275inj=a.Pb({factory:function(t){return new(t||e)},imports:[[s.a,n.b]]}),e})()},fdCq:function(e,t,i){"use strict";i.d(t,"a",(function(){return a}));var n=i("jw+j"),s=i("fXoL");let a=(()=>{class e{}return e.\u0275mod=s.Qb({type:e}),e.\u0275inj=s.Pb({factory:function(t){return new(t||e)},imports:[[n.a]]}),e})()},"jw+j":function(e,t,i){"use strict";i.d(t,"a",(function(){return r}));var n=i("ofXK"),s=i("3Pt+"),a=i("fXoL");let r=(()=>{class e{}return e.\u0275mod=a.Qb({type:e}),e.\u0275inj=a.Pb({factory:function(t){return new(t||e)},imports:[[n.c,s.j]]}),e})()},mZKE:function(e,t,i){"use strict";i.d(t,"a",(function(){return s}));var n=i("fXoL");let s=(()=>{class e{convertFlatListToTree(e){const t={},i=[];let n,s;for(n=0;n<e.length;n+=1)t[e[n].OBID]=n,e[n].Children=[];for(n=0;n<e.length;n+=1)s=e[n],s.parentNodeObid&&void 0!==t[s.parentNodeObid]&&e[t[s.parentNodeObid]]?e[t[s.parentNodeObid]].Children.push(s):i.push(s);return i}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=n.Ob({token:e,factory:e.\u0275fac}),e})()},pQW9:function(e,t,i){"use strict";i.d(t,"a",(function(){return l}));var n=i("fXoL"),s=i("m8I0"),a=i("QkNQ"),r=i("ti2P"),o=i("Ejbi"),c=i("lUp+");let l=(()=>{class e{constructor(e){this.sdaTranslateService=e,this.displayFinishButton=!0,this.disableFinishButton=!1,this.finishButtonType=s.a.Default,this.finishButtonText=this.sdaTranslateService.get("FINISH","Finish"),this.displayCloseButton=!0,this.closeButtonText=this.sdaTranslateService.get("CLOSE","Close"),this.onFinish=new n.o,this.onClose=new n.o,this.rightPowerBarControls=[],this.backgroundStyle=a.a.Transparent}ngOnInit(){this.initialisePowerBar()}ngOnChanges(e){this.finishButton&&(e.disableFinishButton&&(this.finishButton.isDisabled=e.disableFinishButton.currentValue),e.finishButtonText&&(this.finishButton.displayName=e.finishButtonText.currentValue),e.finishButtonType&&(this.finishButton.type=e.finishButtonType.currentValue))}initialisePowerBar(){this.displayCloseButton&&this.rightPowerBarControls.push(new r.a(()=>{this.onClose.emit(void 0)},this.closeButtonText,"",void 0,s.a.Abort)),this.displayFinishButton&&(this.finishButton=new r.a(()=>{this.onFinish.emit(void 0)},this.finishButtonText,"",void 0,this.finishButtonType,this.disableFinishButton),this.rightPowerBarControls.push(this.finishButton))}}return e.\u0275fac=function(t){return new(t||e)(n.Sb(o.a))},e.\u0275cmp=n.Mb({type:e,selectors:[["sda-close-and-finish-bar"]],inputs:{displayFinishButton:"displayFinishButton",disableFinishButton:"disableFinishButton",finishButtonType:"finishButtonType",finishButtonText:"finishButtonText",displayCloseButton:"displayCloseButton",closeButtonText:"closeButtonText"},outputs:{onFinish:"onFinish",onClose:"onClose"},features:[n.Cb],decls:1,vars:3,consts:[[1,"power-bar",3,"rightControls","background","disableOverflow"]],template:function(e,t){1&e&&n.Tb(0,"sda-power-bar-view",0),2&e&&n.sc("rightControls",t.rightPowerBarControls)("background",t.backgroundStyle)("disableOverflow",!0)},directives:[c.a],styles:["[_nghost-%COMP%]     sda-power-bar-view .power-bar{justify-content:flex-end;margin-right:10px}"]}),e})()},uJvP:function(e,t,i){"use strict";i.d(t,"a",(function(){return _}));var n=i("rDax"),s=i("+rOU"),a=i("ofXK"),r=i("3Pt+"),o=i("bSwM"),c=i("NFeN"),l=i("qFsG"),u=i("wZkO"),h=i("Qu3c"),d=i("WG3B"),f=i("7CaW"),p=i("BMkO"),b=i("9Abt"),m=i("l3mi"),g=i("ILbM"),v=i("0GHy"),C=i("VtiV"),y=i("F+hv"),S=i("wA8e"),F=i("MX5F"),O=i("GDd0"),w=i("2wiT"),P=i("HPu/"),j=i("dNA2"),L=i("fXoL");let D=(()=>{class e{}return e.\u0275mod=L.Qb({type:e}),e.\u0275inj=L.Pb({factory:function(t){return new(t||e)},imports:[[a.c,d.o]]}),e})();var M=i("9X43"),E=i("VoKn");let T=(()=>{class e{}return e.\u0275mod=L.Qb({type:e}),e.\u0275inj=L.Pb({factory:function(t){return new(t||e)},imports:[[m.a,c.b,l.b,h.b,o.b,a.c,r.j,d.o,y.a,v.a,S.a,F.a,C.a,M.a,p.a,E.a,j.a,D]]}),e})(),_=(()=>{class e{}return e.\u0275mod=L.Qb({type:e}),e.\u0275inj=L.Pb({factory:function(t){return new(t||e)},imports:[[b.a,m.a,u.e,c.b,l.b,h.b,o.b,a.c,r.j,y.a,d.o,f.a,v.a,O.a,s.g,n.f,S.a,w.a,F.a,P.a,g.a,C.a,M.a,p.a,E.a,j.a,T,D]]}),e})()},uinc:function(e,t,i){"use strict";i.d(t,"a",(function(){return o}));var n=i("ofXK"),s=i("3Pt+"),a=i("txXS"),r=i("fXoL");let o=(()=>{class e{}return e.\u0275mod=r.Qb({type:e}),e.\u0275inj=r.Pb({factory:function(t){return new(t||e)},imports:[[n.c,s.j,a.a]]}),e})()},uxyQ:function(e,t,i){"use strict";i.d(t,"a",(function(){return p}));var n=i("LRne"),s=i("eIep"),a=i("lJxs"),r=i("JIr8"),o=i("Z9D8"),c=i("LUpO"),l=i("eruR"),u=i("J7mc"),h=i("Ejbi"),d=i("+eYH"),f=i("fXoL");let p=(()=>{class e{constructor(e,t,i,n){this.dataService=e,this.featureSetService=t,this.sdaTranslateService=i,this.exceptionService=n}loadMethodsByClientAPI(e,t,i){return this.menu=e,this.getActualObject(t,i).pipe(Object(s.a)(e=>e&&e.length>0?(i=e[0].queryContextConfig?e[0].queryContextConfig:e[0].Config,this.featureSetService.getFeatureSetsByObject(this.menu.menuOptionAPIs.map(e=>e.apiName),[new d.a(e[0].OBID,"",i)])):Object(n.a)([])),Object(a.a)(e=>{let t=[];return e.map(e=>{e.FeatureSets.forEach(e=>t.push(...e.Features)),t.push(...e.Features)}),this.menu.menuOptionAPIs.length>0&&(t=this.filterMethods(t)),t}),Object(r.a)(e=>(this.exceptionService.handleException(new o.a(e,this.sdaTranslateService.get("TABBED_GRID_CONTEXT_MENU_ERROR","Failed to load context menu"))),Object(n.a)(void 0))))}filterMethods(e){return this.menu.menuOptionAPIs.forEach(t=>{t.excludeAllMethods?e=e.filter(e=>e.ClientAPI!==t.apiName):t.argFilters&&t.argFilters.length>0&&e.filter(e=>e.ClientAPI===t.apiName).forEach(i=>{t.argFilters.forEach(t=>{const n=i.Arguments.find(e=>e.Name===t.key);n&&n.Value===t.value||(e=e.filter(e=>e.UID!==i.UID))})})}),e}getActualObject(e,t){return this.menu&&this.menu.menuOptionURL?this.dataService.get(this.menu.menuOptionURL.replace("{0}",e)):Object(n.a)([{OBID:e,Config:t}])}}return e.\u0275fac=function(t){return new(t||e)(f.dc(u.a),f.dc(l.a),f.dc(h.a),f.dc(c.a))},e.\u0275prov=f.Ob({token:e,factory:e.\u0275fac}),e})()},wA8e:function(e,t,i){"use strict";i.d(t,"a",(function(){return d}));var n=i("ofXK"),s=i("NFeN"),a=i("qFsG"),r=i("STbY"),o=i("d3UM"),c=i("Qu3c"),l=i("l3mi"),u=i("2wiT"),h=i("fXoL");let d=(()=>{class e{}return e.\u0275mod=h.Qb({type:e}),e.\u0275inj=h.Pb({factory:function(t){return new(t||e)},imports:[[n.c,u.a,o.b,r.c,s.b,l.a,a.b,c.b]]}),e})()}}]);